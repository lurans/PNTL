/*!
 * tiny 1.39.0
 */
//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */

/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */

/**
 * @license AngularJS v1.3.0
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */

/*! jQuery UI - v1.10.3 - 2013-09-11
 * http://jqueryui.com
 * Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
 * Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */

/**
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 */

/**
 * Implementing Drag and Drop functionality in AngularJS is easier than ever.
 * Demo: http://codef0rmer.github.com/angular-dragdrop/
 *
 * @version 1.0.11
 *
 * (c) 2013 Amit Gharat a.k.a codef0rmer <amit.2006.it@gmail.com> - amitgharat.wordpress.com
 */

// The MIT License
//
// Copyright (c) 2012 Christopher Garvis, LLC. https://github.com/cgarvis/angular-toggle-switch
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

/*
 * Copyright (c) 2010 - The OWASP Foundation
 *
 * The jquery-encoder is published by OWASP under the MIT license. You should read and accept the
 * LICENSE before you use, modify, and/or redistribute this software.
 */

/* 169  : copyright sign */

// ┌────────────────────────────────────────────────────────────────────┐ \\
// │ Raphaël 2.1.0 - JavaScript Vector Library                          │ \\
// ├────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright © 2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)    │ \\
// │ Copyright © 2008-2012 Sencha Labs (http://sencha.com)              │ \\
// ├────────────────────────────────────────────────────────────────────┤ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license.│ \\
// └────────────────────────────────────────────────────────────────────┘ \\

/*

 Protocol Buffer 2 Copyright 2008 Google Inc.
 All other code copyright its respective owners.
 Copyright (C) 2010 The Libphonenumber Authors

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */

/*

 Copyright (C) 2010 The Libphonenumber Authors

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */

/*

 Copyright (C) 2010 The Libphonenumber Authors.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */

/*! jQuery UI - v1.10.3 - 2013-07-24
 * http://jqueryui.com
 * Includes: jquery.ui.core.js, jquery.ui.datepicker.js
 * Copyright 2013 jQuery Foundation and other contributors Licensed MIT */

/* Javascript plotting library for jQuery, version 0.8.3.

 Copyright (c) 2007-2014 IOLA and Ole Laursen.
 Licensed under the MIT license.

 */

/* Plugin for jQuery for working with colors.
 *
 * Version 1.1.
 *
 * Inspiration from jQuery color animation plugin by John Resig.
 *
 * Released under the MIT license by Ole Laursen, October 2009.
 *
 * Examples:
 *
 *   $.color.parse("#fff").scale('rgb', 0.25).add('a', -0.5).toString()
 *   var c = $.color.extract($("#mydiv"), 'background-color');
 *   console.log(c.r, c.g, c.b, c.a);
 *   $.color.make(100, 50, 25, 0.4).toString() // returns "rgba(100,50,25,0.4)"
 *
 * Note that .scale() and .add() return the same modified object
 * instead of making a new one.
 *
 * V. 1.1: Fix error handling so e.g. parsing an empty string does
 * produce a color rather than just crashing.
 */

/* Flot plugin that adds some extra symbols for plotting points.

 Copyright (c) 2007-2014 IOLA and Ole Laursen.
 Licensed under the MIT license.

 The symbols are accessed as strings through the standard symbol options:

 series: {
 points: {
 symbol: "square" // or "diamond", "triangle", "cross"
 }
 }

 */

/* Pretty handling of time axes.

 Copyright (c) 2007-2014 IOLA and Ole Laursen.
 Licensed under the MIT license.

 Set axis.mode to "time" to enable. See the section "Time series data" in
 API.txt for details.

 */

/* Flot plugin for stacking data sets rather than overlyaing them.

 Copyright (c) 2007-2014 IOLA and Ole Laursen.
 Licensed under the MIT license.

 The plugin assumes the data is sorted on x (or y if stacking horizontally).
 For line charts, it is assumed that if a line has an undefined gap (from a
 null point), then the line above it should have the same gap - insert zeros
 instead of "null" if you want another behaviour. This also holds for the start
 and end of the chart. Note that stacking a mix of positive and negative values
 in most instances doesn't make sense (so it looks weird).

 Two or more series are stacked when their "stack" attribute is set to the same
 key (which can be any number or string or just "true"). To specify the default
 stack, you can set the stack option like this:

 series: {
 stack: null/false, true, or a key (number/string)
 }

 You can also specify it for a single series, like this:

 $.plot( $("#placeholder"), [{
 data: [ ... ],
 stack: true
 }])

 The stacking order is determined by the order of the data series in the array
 (later series end up on top of the previous).

 Internally, the plugin modifies the datapoints in each series, adding an
 offset to the y value. For line series, extra data points are inserted through
 interpolation. If there's a second y value, it's also adjusted (e.g for bar
 charts or filled areas).

 */

/* Flot plugin for rendering pie charts.

 Copyright (c) 2007-2014 IOLA and Ole Laursen.
 Licensed under the MIT license.

 The plugin assumes that each series has a single data value, and that each
 value is a positive integer or zero.  Negative numbers don't make sense for a
 pie chart, and have unpredictable results.  The values do NOT need to be
 passed in as percentages; the plugin will calculate the total and per-slice
 percentages internally.

 * Created by Brian Medendorp

 * Updated with contributions from btburnett3, Anthony Aragues and Xavi Ivars

 The plugin supports these options:

 series: {
 pie: {
 show: true/false
 radius: 0-1 for percentage of fullsize, or a specified pixel length, or 'auto'
 innerRadius: 0-1 for percentage of fullsize or a specified pixel length, for creating a donut effect
 startAngle: 0-2 factor of PI used for starting angle (in radians) i.e 3/2 starts at the top, 0 and 2 have the same result
 tilt: 0-1 for percentage to tilt the pie, where 1 is no tilt, and 0 is completely flat (nothing will show)
 offset: {
 top: integer value to move the pie up or down
 left: integer value to move the pie left or right, or 'auto'
 },
 stroke: {
 color: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#FFF')
 width: integer pixel width of the stroke
 },
 label: {
 show: true/false, or 'auto'
 formatter:  a user-defined function that modifies the text/style of the label text
 radius: 0-1 for percentage of fullsize, or a specified pixel length
 background: {
 color: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#000')
 opacity: 0-1
 },
 threshold: 0-1 for the percentage value at which to hide labels (if they're too small)
 },
 combine: {
 threshold: 0-1 for the percentage value at which to combine slices (if they're too small)
 color: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#CCC'), if null, the plugin will automatically use the color of the first slice to be combined
 label: any text value of what the combined slice should be labeled
 }
 highlight: {
 opacity: 0-1
 }
 }
 }

 More detail and specific examples can be found in the included HTML file.

 */

/**
 * Copyright 2010 Tim Down.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * jquery.numberformatter - Formatting/Parsing Numbers in jQuery
 *
 * Written by
 * Michael Abernethy (mike@abernethysoft.com),
 * Andrew Parry (aparry0@gmail.com)
 *
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * @author Michael Abernethy, Andrew Parry
 * @version 1.2.3-SNAPSHOT ($Id$)
 *
 * Dependencies
 *
 * jQuery (http://jquery.com)
 * jshashtable (http://www.timdown.co.uk/jshashtable)
 *
 * Notes & Thanks
 *
 * many thanks to advweb.nanasi.jp for his bug fixes
 * jsHashtable is now used also, so thanks to the author for that excellent little class.
 *
 * This plugin can be used to format numbers as text and parse text as Numbers
 * Because we live in an international world, we cannot assume that everyone
 * uses "," to divide thousands, and "." as a decimal point.
 *
 * As of 1.2 the way this plugin works has changed slightly, parsing text to a number
 * has 1 set of functions, formatting a number to text has it's own. Before things
 * were a little confusing, so I wanted to separate the 2 out more.
 *
 *
 * jQuery extension functions:
 *
 * formatNumber(options, writeBack, giveReturnValue) - Reads the value from the subject, parses to
 * a Javascript Number object, then formats back to text using the passed options and write back to
 * the subject.
 *
 * parseNumber(options) - Parses the value in the subject to a Number object using the passed options
 * to decipher the actual number from the text, then writes the value as text back to the subject.
 *
 *
 * Generic functions:
 *
 * formatNumber(numberString, options) - Takes a plain number as a string (e.g. '1002.0123') and returns
 * a string of the given format options.
 *
 * parseNumber(numberString, options) - Takes a number as text that is formatted the same as the given
 * options then and returns it as a plain Number object.
 *
 * To achieve the old way of combining parsing and formatting to keep say a input field always formatted
 * to a given format after it has lost focus you'd simply use a combination of the functions.
 *
 * e.g.
 * $("#salary").blur(function(){
 * 		$(this).parseNumber({format:"#,###.00", locale:"us"});
 * 		$(this).formatNumber({format:"#,###.00", locale:"us"});
 * });
 *
 * The syntax for the formatting is:
 * 0 = Digit
 * # = Digit, zero shows as absent
 * . = Decimal separator
 * - = Negative sign
 * , = Grouping Separator
 * % = Percent (multiplies the number by 100)
 *
 * For example, a format of "#,###.00" and text of 4500.20 will
 * display as "4.500,20" with a locale of "de", and "4,500.20" with a locale of "us"
 *
 *
 * As of now, the only acceptable locales are
 * Arab Emirates -> "ae"
 * Australia -> "au"
 * Austria -> "at"
 * Brazil -> "br"
 * Canada -> "ca"
 * China -> "cn"
 * Czech -> "cz"
 * Denmark -> "dk"
 * Egypt -> "eg"
 * Finland -> "fi"
 * France  -> "fr"
 * Germany -> "de"
 * Greece -> "gr"
 * Great Britain -> "gb"
 * Hong Kong -> "hk"
 * India -> "in"
 * Israel -> "il"
 * Japan -> "jp"
 * Russia -> "ru"
 * South Korea -> "kr"
 * Spain -> "es"
 * Sweden -> "se"
 * Switzerland -> "ch"
 * Taiwan -> "tw"
 * Thailand -> "th"
 * United States -> "us"
 * Vietnam -> "vn"
 **/

// tipsy, facebook style tooltips for jquery
// version 1.0.0a
// (c) 2008-2010 jason frame [jason@onehackoranother.com]
// released under the MIT license

/**
 * @summary     DataTables
 * @description Paginate, search and sort HTML tables
 * @version     1.9.4
 * @file        jquery.dataTables.js
 * @author      Allan Jardine (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 *
 * @copyright Copyright 2008-2012 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *   http://datatables.net/license_gpl2
 *   http://datatables.net/license_bsd
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

/*
 * File:        ColReorderWithResize.js
 * Version:     1.0.7
 * CVS:         $Id$
 * Description: Allow columns to be reordered in a DataTable
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * Author:      Christophe Battarel (www.altairis.fr)
 * Created:     Wed Sep 15 18:23:29 BST 2010
 * Modified:    July 2011 by Christophe Battarel - christophe.battarel@altairis.fr (columns resizable)
 * Modified:    February 2012 by Martin Marchetta - martin.marchetta@gmail.com
 *  1. Made the "hot area" for resizing a little wider (it was a little difficult to hit the exact border of a column for resizing)
 *  2. Resizing didn't work at all when using scroller (that plugin splits the table into 2 different tables: one for the header and another one for the body, so when you resized the header, the data columns didn't follow)
 *  3. Fixed collateral effects of sorting feature
 *  4. If sScrollX is enabled (i.e. horizontal scrolling), when resizing a column the width of the other columns is not changed, but the whole
 *     table is resized to give an Excel-like behavior (good suggestion by Allan)
 * Modified:    February 2012 by Christophe Battarel - christophe.battarel@altairis.fr (ColReorder v1.0.5 adaptation)
 * Modified:    September 16th 2012 by Hassan Kamara - h@phrmc.com
 * Language:    Javascript
 * License:     GPL v2 or BSD 3 point style
 * Project:     DataTables
 * Contact:
 *
 * Copyright 2010-2011 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *
 */

/*
 * File:        ColVis.js
 * Version:     1.0.8
 * CVS:         $Id$
 * Description: Controls for column visiblity in DataTables
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * Created:     Wed Sep 15 18:23:29 BST 2010
 * Modified:    $Date$ by $Author$
 * Language:    Javascript
 * License:     GPL v2 or BSD 3 point style
 * Project:     Just a little bit of fun :-)
 * Contact:     www.sprymedia.co.uk/contact
 *
 * Copyright 2010-2011 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *   http://datatables.net/license_gpl2
 *   http://datatables.net/license_bsd
 */

/*! http://mths.be/placeholder v2.0.8 by @mathias */

/*
 * JQuery zTree core v3.5.17
 * http://zTree.me/
 *
 * Copyright (c) 2010 Hunter.z
 *
 * Licensed same as jquery - MIT License
 * http://www.opensource.org/licenses/mit-license.php
 *
 * email: hunter.z@263.net
 * Date: 2014-05-08
 */

/*
 * JQuery zTree excheck v3.5.17
 * http://zTree.me/
 *
 * Copyright (c) 2010 Hunter.z
 *
 * Licensed same as jquery - MIT License
 * http://www.opensource.org/licenses/mit-license.php
 *
 * email: hunter.z@263.net
 * Date: 2014-05-08
 */

/*
 * JQuery zTree exedit v3.5.17
 * http://zTree.me/
 *
 * Copyright (c) 2010 Hunter.z
 *
 * Licensed same as jquery - MIT License
 * http://www.opensource.org/licenses/mit-license.php
 *
 * email: hunter.z@263.net
 * Date: 2014-05-08
 */

/*
 * JQuery zTree exHideNodes v3.5.17
 * http://zTree.me/
 *
 * Copyright (c) 2010 Hunter.z
 *
 * Licensed same as jquery - MIT License
 * http://www.opensource.org/licenses/mit-license.php
 *
 * email: hunter.z@263.net
 * Date: 2014-05-08
 */
define("tiny-lib/Class",[],function(){function mixin(type){var p,srcProto=type.prototype,destProto=this.prototype;for(p in srcProto)"init"!==p&&(destProto[p]=srcProto[p])}var initializing=!1,fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,Class=function(){};Class.extend=function(prop){function Class(){!initializing&&this.init&&this.init.apply(this,arguments)}var prototype,name,_super=this.prototype;initializing=!0;prototype=new this;initializing=!1;for(name in prop)prototype[name]="function"==typeof prop[name]&&"function"==typeof _super[name]&&fnTest.test(prop[name])?function(name,fn){return function(){var ret,tmp=this._super;this._super=_super[name];ret=fn.apply(this,arguments);this._super=tmp;return ret}}(name,prop[name]):prop[name];Class.prototype=prototype;Class.prototype.constructor=Class;Class.extend=arguments.callee;Class.mixin=mixin;return Class};return Class});(function(){var each,reduceError,any,lookupIterator,group,flatten,ctor,eq,entityMap,entityRegexes,idCounter,noMatch,escapes,escaper,result,root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj};if("undefined"!=typeof exports){"undefined"!=typeof module&&module.exports&&(exports=module.exports=_);exports._=_}else root._=_;_.VERSION="1.6.0";each=_.each=_.forEach=function(obj,iterator,context){var i,length,keys;if(null==obj)return obj;if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(i=0,length=obj.length;length>i;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else{keys=_.keys(obj);for(i=0,length=keys.length;length>i;i++)if(iterator.call(context,obj[keys[i]],keys[i],obj)===breaker)return}return obj};_.map=_.collect=function(obj,iterator,context){var results=[];if(null==obj)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);each(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))});return results};reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;null==obj&&(obj=[]);if(nativeReduce&&obj.reduce===nativeReduce){context&&(iterator=_.bind(iterator,context));return initial?obj.reduce(iterator,memo):obj.reduce(iterator)}each(obj,function(value,index,list){if(initial)memo=iterator.call(context,memo,value,index,list);else{memo=value;initial=!0}});if(!initial)throw new TypeError(reduceError);return memo};_.reduceRight=_.foldr=function(obj,iterator,memo,context){var length,keys,initial=arguments.length>2;null==obj&&(obj=[]);if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){context&&(iterator=_.bind(iterator,context));return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator)}length=obj.length;if(length!==+length){keys=_.keys(obj);length=keys.length}each(obj,function(value,index,list){index=keys?keys[--length]:--length;if(initial)memo=iterator.call(context,memo,obj[index],index,list);else{memo=obj[index];initial=!0}});if(!initial)throw new TypeError(reduceError);return memo};_.find=_.detect=function(obj,predicate,context){var result;any(obj,function(value,index,list){if(predicate.call(context,value,index,list)){result=value;return!0}});return result};_.filter=_.select=function(obj,predicate,context){var results=[];if(null==obj)return results;if(nativeFilter&&obj.filter===nativeFilter)return obj.filter(predicate,context);each(obj,function(value,index,list){predicate.call(context,value,index,list)&&results.push(value)});return results};_.reject=function(obj,predicate,context){return _.filter(obj,function(value,index,list){return!predicate.call(context,value,index,list)},context)};_.every=_.all=function(obj,predicate,context){predicate||(predicate=_.identity);var result=!0;if(null==obj)return result;if(nativeEvery&&obj.every===nativeEvery)return obj.every(predicate,context);each(obj,function(value,index,list){if(!(result=result&&predicate.call(context,value,index,list)))return breaker});return!!result};any=_.some=_.any=function(obj,predicate,context){predicate||(predicate=_.identity);var result=!1;if(null==obj)return result;if(nativeSome&&obj.some===nativeSome)return obj.some(predicate,context);each(obj,function(value,index,list){if(result||(result=predicate.call(context,value,index,list)))return breaker});return!!result};_.contains=_.include=function(obj,target){if(null==obj)return!1;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return-1!=obj.indexOf(target);return any(obj,function(value){return value===target})};_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,_.property(key))};_.where=function(obj,attrs){return _.filter(obj,_.matches(attrs))};_.findWhere=function(obj,attrs){return _.find(obj,_.matches(attrs))};_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.max.apply(Math,obj);var result=-(1/0),lastComputed=-(1/0);each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;if(computed>lastComputed){result=value;lastComputed=computed}});return result};_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535)return Math.min.apply(Math,obj);var result=1/0,lastComputed=1/0;each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;if(lastComputed>computed){result=value;lastComputed=computed}});return result};_.shuffle=function(obj){var rand,index=0,shuffled=[];each(obj,function(value){rand=_.random(index++);shuffled[index-1]=shuffled[rand];shuffled[rand]=value});return shuffled};_.sample=function(obj,n,guard){if(null==n||guard){obj.length!==+obj.length&&(obj=_.values(obj));return obj[_.random(obj.length-1)]}return _.shuffle(obj).slice(0,Math.max(0,n))};lookupIterator=function(value){if(null==value)return _.identity;if(_.isFunction(value))return value;return _.property(value)};_.sortBy=function(obj,iterator,context){iterator=lookupIterator(iterator);return _.pluck(_.map(obj,function(value,index,list){return{"value":value,"index":index,"criteria":iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(b>a||void 0===b)return-1}return left.index-right.index}),"value")};group=function(behavior){return function(obj,iterator,context){var result={};iterator=lookupIterator(iterator);each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)});return result}};_.groupBy=group(function(result,key,value){_.has(result,key)?result[key].push(value):result[key]=[value]});_.indexBy=group(function(result,key,value){result[key]=value});_.countBy=group(function(result,key){_.has(result,key)?result[key]++:result[key]=1});_.sortedIndex=function(array,obj,iterator,context){var value,low,high,mid;iterator=lookupIterator(iterator);value=iterator.call(context,obj);low=0,high=array.length;for(;high>low;){mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low};_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(obj.length===+obj.length)return _.map(obj,_.identity);return _.values(obj)};_.size=function(obj){if(null==obj)return 0;return obj.length===+obj.length?obj.length:_.keys(obj).length};_.first=_.head=_.take=function(array,n,guard){if(null==array)return void 0;if(null==n||guard)return array[0];if(0>n)return[];return slice.call(array,0,n)};_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))};_.last=function(array,n,guard){if(null==array)return void 0;if(null==n||guard)return array[array.length-1];return slice.call(array,Math.max(array.length-n,0))};_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)};_.compact=function(array){return _.filter(array,_.identity)};flatten=function(input,shallow,output){if(shallow&&_.every(input,_.isArray))return concat.apply(output,input);each(input,function(value){_.isArray(value)||_.isArguments(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)});return output};_.flatten=function(array,shallow){return flatten(array,shallow,[])};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.partition=function(array,predicate){var pass=[],fail=[];each(array,function(elem){(predicate(elem)?pass:fail).push(elem)});return[pass,fail]};_.uniq=_.unique=function(array,isSorted,iterator,context){var initial,results,seen;if(_.isFunction(isSorted)){context=iterator;iterator=isSorted;isSorted=!1}initial=iterator?_.map(array,iterator,context):array;results=[];seen=[];each(initial,function(value,index){if(isSorted?!index||seen[seen.length-1]!==value:!_.contains(seen,value)){seen.push(value);results.push(array[index])}});return results};_.union=function(){return _.uniq(_.flatten(arguments,!0))};_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.contains(other,item)})})};_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})};_.zip=function(){var i,length=_.max(_.pluck(arguments,"length").concat(0)),results=new Array(length);for(i=0;length>i;i++)results[i]=_.pluck(arguments,""+i);return results};_.object=function(list,values){var result,i,length;if(null==list)return{};result={};for(i=0,length=list.length;length>i;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result};_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i=0,length=array.length;if(isSorted){if("number"!=typeof isSorted){i=_.sortedIndex(array,item);return array[i]===item?i:-1}i=0>isSorted?Math.max(0,length+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;length>i;i++)if(array[i]===item)return i;return-1};_.lastIndexOf=function(array,item,from){var hasIndex,i;if(null==array)return-1;hasIndex=null!=from;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);i=hasIndex?from:array.length;for(;i--;)if(array[i]===item)return i;return-1};_.range=function(start,stop,step){var length,idx,range;if(arguments.length<=1){stop=start||0;start=0}step=arguments[2]||1;length=Math.max(Math.ceil((stop-start)/step),0);idx=0;range=new Array(length);for(;length>idx;){range[idx++]=start;start+=step}return range};ctor=function(){};_.bind=function(func,context){var args,bound;if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;args=slice.call(arguments,2);return bound=function(){var self,result;if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;self=new ctor;ctor.prototype=null;result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result)return result;return self}};_.partial=function(func){var boundArgs=slice.call(arguments,1);return function(){var i,length,position=0,args=boundArgs.slice();for(i=0,length=args.length;length>i;i++)args[i]===_&&(args[i]=arguments[position++]);for(;position<arguments.length;)args.push(arguments[position++]);return func.apply(this,args)}};_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(0===funcs.length)throw new Error("bindAll must be passed function names");each(funcs,function(f){obj[f]=_.bind(obj[f],obj)});return obj};_.memoize=function(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))};_.throttle=function(func,wait,options){var context,args,result,later,timeout=null,previous=0;options||(options={});later=function(){previous=options.leading===!1?0:_.now();timeout=null;result=func.apply(context,args);context=args=null};return function(){var remaining,now=_.now();previous||options.leading!==!1||(previous=now);remaining=wait-(now-previous);context=this;args=arguments;if(0>=remaining){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args);context=args=null}else timeout||options.trailing===!1||(timeout=setTimeout(later,remaining));return result}};_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result,later=function(){var last=_.now()-timestamp;if(wait>last)timeout=setTimeout(later,wait-last);else{timeout=null;if(!immediate){result=func.apply(context,args);context=args=null}}};return function(){context=this;args=arguments;timestamp=_.now();var callNow=immediate&&!timeout;timeout||(timeout=setTimeout(later,wait));if(callNow){result=func.apply(context,args);context=args=null}return result}};_.once=function(func){var memo,ran=!1;return function(){if(ran)return memo;ran=!0;memo=func.apply(this,arguments);func=null;return memo}};_.wrap=function(func,wrapper){return _.partial(wrapper,func)};_.compose=function(){var funcs=arguments;return function(){var i,args=arguments;for(i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}};_.after=function(times,func){return function(){if(--times<1)return func.apply(this,arguments)}};_.keys=function(obj){var keys,key;if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);keys=[];for(key in obj)_.has(obj,key)&&keys.push(key);return keys};_.values=function(obj){var i,keys=_.keys(obj),length=keys.length,values=new Array(length);for(i=0;length>i;i++)values[i]=obj[keys[i]];return values};_.pairs=function(obj){var i,keys=_.keys(obj),length=keys.length,pairs=new Array(length);for(i=0;length>i;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs};_.invert=function(obj){var i,length,result={},keys=_.keys(obj);for(i=0,length=keys.length;length>i;i++)result[obj[keys[i]]]=keys[i];return result};_.functions=_.methods=function(obj){var key,names=[];for(key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()};_.extend=function(obj){each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]});return obj};_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));each(keys,function(key){key in obj&&(copy[key]=obj[key])});return copy};_.omit=function(obj){var key,copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy};_.defaults=function(obj){each(slice.call(arguments,1),function(source){if(source)for(var prop in source)void 0===obj[prop]&&(obj[prop]=source[prop])});return obj};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};eq=function(a,b,aStack,bStack){var className,length,aCtor,bCtor,size,result,key;if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped);b instanceof _&&(b=b._wrapped);className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;length=aStack.length;for(;length--;)if(aStack[length]==a)return bStack[length]==b;aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1;aStack.push(a);bStack.push(b);size=0,result=!0;if("[object Array]"==className){size=a.length;result=size==b.length;if(result)for(;size--&&(result=eq(a[size],b[size],aStack,bStack)););}else{for(key in a)if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack)))break}if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}aStack.pop();bStack.pop();return result};_.isEqual=function(a,b){return eq(a,b,[],[])};_.isEmpty=function(obj){if(null==obj)return!0;if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0};_.isElement=function(obj){return!(!obj||1!==obj.nodeType)};_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)};_.isObject=function(obj){return obj===Object(obj)};each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}});_.isArguments(arguments)||(_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))});"function"!=typeof/./&&(_.isFunction=function(obj){return"function"==typeof obj});_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))};_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj};_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)};_.isNull=function(obj){return null===obj};_.isUndefined=function(obj){return void 0===obj};_.has=function(obj,key){return hasOwnProperty.call(obj,key)};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.constant=function(value){return function(){return value}};_.property=function(key){return function(obj){return obj[key]}};_.matches=function(attrs){return function(obj){if(obj===attrs)return!0;for(var key in attrs)if(attrs[key]!==obj[key])return!1;return!0}};_.times=function(n,iterator,context){var i,accum=Array(Math.max(0,n));for(i=0;n>i;i++)accum[i]=iterator.call(context,i);return accum};_.random=function(min,max){if(null==max){max=min;min=0}return min+Math.floor(Math.random()*(max-min+1))};_.now=Date.now||function(){return(new Date).getTime()};entityMap={"escape":{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};entityMap.unescape=_.invert(entityMap.escape);entityRegexes={"escape":new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),"unescape":new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){if(null==string)return"";return(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}});_.result=function(object,property){if(null==object)return void 0;var value=object[property];return _.isFunction(value)?value.call(object):value};_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return result.call(this,func.apply(_,args))}})};idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id};_.templateSettings={"evaluate":/<%([\s\S]+?)%>/g,"interpolate":/<%=([\s\S]+?)%>/g,"escape":/<%-([\s\S]+?)%>/g};noMatch=/(.)^/;escapes={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"};escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render,matcher,index,source,template;settings=_.defaults({},settings,_.templateSettings);matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g");index=0;source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]});escape&&(source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'");interpolate&&(source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'");evaluate&&(source+="';\n"+evaluate+"\n__p+='");index=offset+match.length;return match});source+="';\n";settings.variable||(source="with(obj||{}){\n"+source+"}\n");source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){e.source=source;throw e}if(data)return render(data,_);template=function(data){return render.call(this,data,_)};template.source="function("+(settings.variable||"obj")+"){\n"+source+"}";return template};_.chain=function(obj){return _(obj).chain()};result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_);each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;method.apply(obj,arguments);"shift"!=name&&"splice"!=name||0!==obj.length||delete obj[0];return result.call(this,obj)}});each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}});_.extend(_.prototype,{"chain":function(){this._chain=!0;return this},"value":function(){return this._wrapped}});"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}).call(this);define("tiny-lib/underscore",function(global){return function(){var ret;return ret||global._}}(this));(function(window,undefined){function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);if(jQuery.isWindow(obj))return!1;if(1===obj.nodeType&&length)return!0;return"array"===type||"function"!==type&&(0===length||"number"==typeof length&&length>0&&length-1 in obj)}function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(core_rnotwhite)||[],function(_,flag){object[flag]=!0});return object}function internalData(elem,name,data,pvt){if(!jQuery.acceptData(elem))return;var thisCache,ret,internalKey=jQuery.expando,getByName="string"==typeof name,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||!pvt&&!cache[id].data)&&getByName&&data===undefined)return;id||(isNode?elem[internalKey]=id=core_deletedIds.pop()||jQuery.guid++:id=internalKey);if(!cache[id]){cache[id]={};isNode||(cache[id].toJSON=jQuery.noop)}("object"==typeof name||"function"==typeof name)&&(pvt?cache[id]=jQuery.extend(cache[id],name):cache[id].data=jQuery.extend(cache[id].data,name));thisCache=cache[id];if(!pvt){thisCache.data||(thisCache.data={});thisCache=thisCache.data}data!==undefined&&(thisCache[jQuery.camelCase(name)]=data);if(getByName){ret=thisCache[name];null==ret&&(ret=thisCache[jQuery.camelCase(name)])}else ret=thisCache;return ret}function internalRemoveData(elem,name,pvt){if(!jQuery.acceptData(elem))return;var i,l,thisCache,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id])return;if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(jQuery.isArray(name))name=name.concat(jQuery.map(name,jQuery.camelCase));else if(name in thisCache)name=[name];else{name=jQuery.camelCase(name);name=name in thisCache?[name]:name.split(" ")}for(i=0,l=name.length;l>i;i++)delete thisCache[name[i]];if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache))return}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id]))return}isNode?jQuery.cleanData([elem],!0):jQuery.support.deleteExpando||cache!=cache.window?delete cache[id]:cache[id]=null}function dataAttr(elem,key,data){if(data===undefined&&1===elem.nodeType){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if("string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else data=undefined}return data}function isEmptyDataObject(obj){var name;for(name in obj){if("data"===name&&jQuery.isEmptyObject(obj[name]))continue;if("toJSON"!==name)return!1}return!0}function returnTrue(){return!0}function returnFalse(){return!1}function sibling(cur,dir){do cur=cur[dir];while(cur&&1!==cur.nodeType);return cur}function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier===keep});if("string"==typeof qualifier){var filtered=jQuery.grep(elements,function(elem){return 1===elem.nodeType});if(isSimple.test(qualifier))return jQuery.filter(qualifier,filtered,!keep);qualifier=jQuery.filter(qualifier,filtered)}return jQuery.grep(elements,function(elem){return jQuery.inArray(elem,qualifier)>=0===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement)for(;list.length;)safeFrag.createElement(list.pop());return safeFrag}function findOrAppend(elem,tag){return elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag))}function disableScript(elem){var attr=elem.getAttributeNode("type");elem.type=(attr&&attr.specified)+"/"+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);match?elem.type=match[1]:elem.removeAttribute("type");return elem}function setGlobalEval(elems,refElements){var elem,i=0;for(;null!=(elem=elems[i]);i++)jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){if(1!==dest.nodeType||!jQuery.hasData(src))return;var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}curData.data&&(curData.data=jQuery.extend({},curData.data))}function fixCloneNodeIssues(src,dest){var nodeName,e,data;if(1!==dest.nodeType)return;nodeName=dest.nodeName.toLowerCase();if(!jQuery.support.noCloneEvent&&dest[jQuery.expando]){data=jQuery._data(dest);for(e in data.events)jQuery.removeEvent(dest,e,data.handle);dest.removeAttribute(jQuery.expando)}if("script"===nodeName&&dest.text!==src.text){disableScript(dest).text=src.text;restoreScript(dest)}else if("object"===nodeName){dest.parentNode&&(dest.outerHTML=src.outerHTML);jQuery.support.html5Clone&&src.innerHTML&&!jQuery.trim(dest.innerHTML)&&(dest.innerHTML=src.innerHTML)}else if("input"===nodeName&&manipulation_rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;dest.value!==src.value&&(dest.value=src.value)}else"option"===nodeName?dest.defaultSelected=dest.selected=src.defaultSelected:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}function getAll(context,tag){var elems,elem,i=0,found=typeof context.getElementsByTagName!==core_strundefined?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!==core_strundefined?context.querySelectorAll(tag||"*"):undefined;if(!found)for(found=[],elems=context.childNodes||context;null!=(elem=elems[i]);i++)!tag||jQuery.nodeName(elem,tag)?found.push(elem):jQuery.merge(found,getAll(elem,tag));return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found}function fixDefaultChecked(elem){manipulation_rcheckableType.test(elem.type)&&(elem.defaultChecked=elem.checked)}function vendorPropName(style,name){if(name in style)return name;var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;for(;i--;){name=cssPrefixes[i]+capName;if(name in style)return name}return origName}function isHidden(elem,el){elem=el||elem;return"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;length>index;index++){elem=elements[index];if(!elem.style)continue;values[index]=jQuery._data(elem,"olddisplay");display=elem.style.display;if(show){values[index]||"none"!==display||(elem.style.display="");""===elem.style.display&&isHidden(elem)&&(values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName)))}else if(!values[index]){hidden=isHidden(elem);(display&&"none"!==display||!hidden)&&jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}for(index=0;length>index;index++){elem=elements[index];if(!elem.style)continue;show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none")}return elements}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;for(;4>i;i+=2){"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles));if(isBorderBox){"content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles));"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))}else{val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles);"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(0>=val||null==val){val=curCSS(elem,name,styles);(0>val||null==val)&&(val=elem.style[name]);if(rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]);val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function css_defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if("none"===display||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(doc.documentElement);doc=(iframe[0].contentWindow||iframe[0].contentDocument).document;doc.write("<!doctype html><html><body>");doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");elem.remove();return display}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if("string"!=typeof dataTypeExpression){
func=dataTypeExpression;dataTypeExpression="*"}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(core_rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)if("+"===dataType[0]){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;inspected[dataType]=!0;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if("string"==typeof dataTypeOrTransport&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return!1}if(seekingTransport)return!(selected=dataTypeOrTransport)});return selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)src[key]!==undefined&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);deep&&jQuery.extend(!0,target,deep);return target}function ajaxHandleResponses(s,jqXHR,responses){var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;for(type in responseFields)type in responses&&(jqXHR[responseFields[type]]=responses[type]);for(;"*"===dataTypes[0];){dataTypes.shift();ct===undefined&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"))}if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}if(finalDataType){finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType);return responses[finalDataType]}}function ajaxConvert(s,response){var conv2,current,conv,tmp,converters={},i=0,dataTypes=s.dataTypes.slice(),prev=dataTypes[0];s.dataFilter&&(response=s.dataFilter(response,s.dataType));if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(;current=dataTypes[++i];)if("*"!==current){if("*"!==prev&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv)for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===!0)conv=converters[conv2];else if(converters[conv2]!==!0){current=tmp[0];dataTypes.splice(i--,0,current)}break}}}if(conv!==!0)if(conv&&s.throws)response=conv(response);else try{response=conv(response)}catch(e){return{"state":"parsererror","error":conv?e:"No conversion from "+prev+" to "+current}}}prev=current}return{"state":"success","data":response}}function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function createFxNow(){setTimeout(function(){fxNow=undefined});return fxNow=jQuery.now()}function createTweens(animation,props){jQuery.each(props,function(prop,value){var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;length>index;index++)if(collection[index].call(animation,prop,value))return})}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;length>index;index++)animation.tweens[index].run(percent);deferred.notifyWith(elem,[animation,percent,remaining]);if(1>percent&&length)return remaining;deferred.resolveWith(elem,[animation]);return!1},animation=deferred.promise({"elem":elem,"props":jQuery.extend({},properties),"opts":jQuery.extend(!0,{"specialEasing":{}},options),"originalProperties":properties,"originalOptions":options,"startTime":fxNow||createFxNow(),"duration":options.duration,"tweens":[],"createTween":function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},"stop":function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;stopped=!0;for(;length>index;index++)animation.tweens[index].run(1);gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]);return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;length>index;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result)return result}createTweens(animation,props);jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation);jQuery.fx.timer(jQuery.extend(tick,{"elem":elem,"anim":animation,"queue":animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function propFilter(props,specialEasing){var value,name,index,easing,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value)if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}else specialEasing[name]=easing}}function defaultPrefilter(elem,props,opts){var prop,index,length,value,dataShow,toggle,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(null==hooks.unqueued){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){hooks.unqueued||oldfire()}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;jQuery.queue(elem,"fx").length||hooks.empty.fire()})})}if(1===elem.nodeType&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];"inline"===jQuery.css(elem,"display")&&"none"===jQuery.css(elem,"float")&&(jQuery.support.inlineBlockNeedsLayout&&"inline"!==css_defaultDisplay(elem.nodeName)?style.zoom=1:style.display="inline-block")}if(opts.overflow){style.overflow="hidden";jQuery.support.shrinkWrapBlocks||anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}for(index in props){value=props[index];if(rfxtypes.exec(value)){delete props[index];toggle=toggle||"toggle"===value;if(value===(hidden?"hide":"show"))continue;handled.push(index)}}length=handled.length;if(length){dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{});"hidden"in dataShow&&(hidden=dataShow.hidden);toggle&&(dataShow.hidden=!hidden);hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()});anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(index=0;length>index;index++){prop=handled[index];tween=anim.createTween(prop,hidden?dataShow[prop]:0);orig[prop]=dataShow[prop]||jQuery.style(elem,prop);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start="width"===prop||"height"===prop?1:0}}}}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function genFx(type,includeWidth){var which,attrs={"height":type},i=0;includeWidth=includeWidth?1:0;for(;4>i;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}includeWidth&&(attrs.opacity=attrs.width=type);return attrs}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType?elem.defaultView||elem.parentWindow:!1}var readyList,rootjQuery,optionsCache,rbrace,rmultiDash,nodeHook,boolHook,rclass,rreturn,rfocusable,rclickable,rboolean,ruseDefault,getSetAttribute,getSetInput,rformElems,rkeyEvent,rmouseEvent,rfocusMorph,rtypenamespace,runtil,rparentsprev,isSimple,rneedsContext,guaranteedUnique,nodeNames,rinlinejQuery,rnoshimcache,rleadingWhitespace,rxhtmlTag,rtagName,rtbody,rhtml,rnoInnerhtml,manipulation_rcheckableType,rchecked,rscriptType,rscriptTypeMasked,rcleanScript,wrapMap,safeFragment,fragmentDiv,iframe,getStyles,curCSS,ralpha,ropacity,rposition,rdisplayswap,rmargin,rnumsplit,rnumnonpx,rrelNum,elemdisplay,cssShow,cssNormalTransform,cssExpand,cssPrefixes,r20,rbracket,rCRLF,rsubmitterTypes,rsubmittable,ajaxLocParts,ajaxLocation,ajax_nonce,ajax_rquery,rhash,rts,rheaders,rlocalProtocol,rnoContent,rprotocol,rurl,_load,prefilters,transports,allTypes,oldCallbacks,rjsonp,xhrCallbacks,xhrSupported,xhrId,xhrOnUnloadAbort,fxNow,timerId,rfxtypes,rfxnum,rrun,animationPrefilters,tweeners,core_strundefined=typeof undefined,document=window.document,location=window.location,_jQuery=window.jQuery,_$=window.$,class2type={},core_deletedIds=[],core_version="1.9.1",core_concat=core_deletedIds.concat,core_push=core_deletedIds.push,core_slice=core_deletedIds.slice,core_indexOf=core_deletedIds.indexOf,core_toString=class2type.toString,core_hasOwn=class2type.hasOwnProperty,core_trim=core_version.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},core_pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,core_rnotwhite=/\S+/g,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()},completed=function(event){if(document.addEventListener||"load"===event.type||"complete"===document.readyState){detach();jQuery.ready()}},detach=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",completed,!1);window.removeEventListener("load",completed,!1)}else{document.detachEvent("onreadystatechange",completed);window.detachEvent("onload",completed)}};jQuery.fn=jQuery.prototype={"jquery":core_version,"constructor":jQuery,"init":function(selector,context,rootjQuery){var match,elem;if(!selector)return this;if("string"==typeof selector){match="<"===selector.charAt(0)&&">"===selector.charAt(selector.length-1)&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector);if(!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2])return rootjQuery.find(selector);this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(jQuery.isFunction(selector))return rootjQuery.ready(selector);if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},"selector":"","length":0,"size":function(){return this.length},"toArray":function(){return core_slice.call(this)},"get":function(num){return null==num?this.toArray():0>num?this[this.length+num]:this[num]},"pushStack":function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},"each":function(callback,args){return jQuery.each(this,callback,args)},"ready":function(fn){jQuery.ready.promise().done(fn);return this},"slice":function(){return this.pushStack(core_slice.apply(this,arguments))},"first":function(){return this.eq(0)},"last":function(){return this.eq(-1)},"eq":function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},"map":function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},"end":function(){return this.prevObject||this.constructor(null)},"push":core_push,"sort":[].sort,"splice":[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;if("boolean"==typeof target){deep=target;target=arguments[1]||{};i=2}"object"==typeof target||jQuery.isFunction(target)||(target={});if(length===i){target=this;--i}for(;length>i;i++)if(null!=(options=arguments[i]))for(name in options){src=target[name];copy=options[name];if(target===copy)continue;if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=!1;clone=src&&jQuery.isArray(src)?src:[]}else clone=src&&jQuery.isPlainObject(src)?src:{};target[name]=jQuery.extend(deep,clone,copy)}else copy!==undefined&&(target[name]=copy)}return target};jQuery.extend({"noConflict":function(deep){window.$===jQuery&&(window.$=_$);deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery);return jQuery},"isReady":!1,"readyWait":1,"holdReady":function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},"ready":function(wait){if(wait===!0?--jQuery.readyWait:jQuery.isReady)return;if(!document.body)return setTimeout(jQuery.ready);jQuery.isReady=!0;if(wait!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]);jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")},"isFunction":function(obj){return"function"===jQuery.type(obj)},"isArray":Array.isArray||function(obj){return"array"===jQuery.type(obj)},"isWindow":function(obj){return null!=obj&&obj==obj.window},"isNumeric":function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},"type":function(obj){if(null==obj)return String(obj);return"object"==typeof obj||"function"==typeof obj?class2type[core_toString.call(obj)]||"object":typeof obj},"isPlainObject":function(obj){if(!obj||"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var key;for(key in obj);return key===undefined||core_hasOwn.call(obj,key)},"isEmptyObject":function(obj){var name;for(name in obj)return!1;return!0},"error":function(msg){throw new Error(msg)},"parseHTML":function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;if("boolean"==typeof context){keepScripts=context;context=!1}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed)return[context.createElement(parsed[1])];parsed=jQuery.buildFragment([data],context,scripts);scripts&&jQuery(scripts).remove();return jQuery.merge([],parsed.childNodes)},"parseJSON":function(data){if(window.JSON&&window.JSON.parse)return window.JSON.parse(data);if(null===data)return data;if("string"==typeof data){data=jQuery.trim(data);if(data&&rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,"")))return new Function("return "+data)()}jQuery.error("Invalid JSON: "+data)},"parseXML":function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{if(window.DOMParser){tmp=new DOMParser;xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}xml&&xml.documentElement&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data);return xml},"noop":function(){},"globalEval":function(data){data&&jQuery.trim(data)&&(window.execScript||function(data){window.eval.call(window,data)})(data)},"camelCase":function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},"nodeName":function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},"each":function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args)if(isArray)for(;length>i;i++){value=callback.apply(obj[i],args);if(value===!1)break}else for(i in obj){value=callback.apply(obj[i],args);if(value===!1)break}else if(isArray)for(;length>i;i++){value=callback.call(obj[i],i,obj[i]);if(value===!1)break}else for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===!1)break}return obj},"trim":core_trim&&!core_trim.call("\ufeff ")?function(text){return null==text?"":core_trim.call(text)}:function(text){return null==text?"":(text+"").replace(rtrim,"")},"makeArray":function(arr,results){var ret=results||[];null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):core_push.call(ret,arr));return ret},"inArray":function(elem,arr,i){var len;if(arr){if(core_indexOf)return core_indexOf.call(arr,elem,i);len=arr.length;i=i?0>i?Math.max(0,len+i):i:0;for(;len>i;i++)if(i in arr&&arr[i]===elem)return i}return-1},"merge":function(first,second){var l=second.length,i=first.length,j=0;if("number"==typeof l)for(;l>j;j++)first[i++]=second[j];else for(;second[j]!==undefined;)first[i++]=second[j++];first.length=i;return first},"grep":function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;inv=!!inv;for(;length>i;i++){retVal=!!callback(elems[i],i);inv!==retVal&&ret.push(elems[i])}return ret},"map":function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;length>i;i++){value=callback(elems[i],i,arg);null!=value&&(ret[ret.length]=value)}else for(i in elems){value=callback(elems[i],i,arg);null!=value&&(ret[ret.length]=value)}return core_concat.apply([],ret)},"guid":1,"proxy":function(fn,context){var args,proxy,tmp;if("string"==typeof context){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn))return undefined;args=core_slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(core_slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},"access":function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(value!==undefined){chainable=!0;jQuery.isFunction(value)||(raw=!0);if(bulk)if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}if(fn)for(;length>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},"now":function(){return(new Date).getTime()}});jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if("complete"===document.readyState)setTimeout(jQuery.ready);else if(document.addEventListener){document.addEventListener("DOMContentLoaded",completed,!1);window.addEventListener("load",completed,!1)}else{document.attachEvent("onreadystatechange",completed);window.attachEvent("onload",completed);var top=!1;try{top=null==window.frameElement&&document.documentElement}catch(e){}top&&top.doScroll&&function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}detach();jQuery.ready()}}()}}return readyList.promise(obj)};jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});rootjQuery=jQuery(document);optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var firing,memory,fired,firingLength,firingIndex,firingStart,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=!0;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=!0;for(;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1;list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={"add":function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})})(arguments);if(firing)firingLength=list.length;else if(memory){firingStart=start;fire(memory)}}return this},"remove":function(){list&&jQuery.each(arguments,function(_,arg){var index;for(;(index=jQuery.inArray(arg,list,index))>-1;){list.splice(index,1);if(firing){firingLength>=index&&firingLength--;firingIndex>=index&&firingIndex--}}});return this},"has":function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},"empty":function(){list=[];return this},"disable":function(){list=stack=memory=undefined;return this},"disabled":function(){return!list},"lock":function(){stack=undefined;memory||self.disable();return this},"locked":function(){return!stack},"fireWith":function(context,args){args=args||[];args=[context,args.slice?args.slice():args];!list||fired&&!stack||(firing?stack.push(args):fire(args));return this},"fire":function(){self.fireWith(this,arguments);return this},"fired":function(){return!!fired}};return self};jQuery.extend({"Deferred":function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={"state":function(){return state},"always":function(){deferred.done(arguments).fail(arguments);return this},"then":function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[action+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})});fns=null}).promise()},"promise":function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock);deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);func&&func.call(deferred,deferred);return deferred},"when":function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?core_slice.call(arguments):value;values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining}remaining||deferred.resolveWith(resolveContexts,resolveValues);return deferred.promise()}});jQuery.support=function(){var support,all,a,input,select,fragment,opt,eventName,isSupported,i,div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];if(!all||!a||!all.length)return{};select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px;float:left;opacity:.5";support={"getSetAttribute":"t"!==div.className,"leadingWhitespace":3===div.firstChild.nodeType,"tbody":!div.getElementsByTagName("tbody").length,"htmlSerialize":!!div.getElementsByTagName("link").length,"style":/top/.test(a.getAttribute("style")),"hrefNormalized":"/a"===a.getAttribute("href"),"opacity":/^0.5/.test(a.style.opacity),"cssFloat":!!a.style.cssFloat,"checkOn":!!input.value,"optSelected":opt.selected,"enctype":!!document.createElement("form").enctype,"html5Clone":"<:nav></:nav>"!==document.createElement("nav").cloneNode(!0).outerHTML,"boxModel":"CSS1Compat"===document.compatMode,"deleteExpando":!0,"noCloneEvent":!0,"inlineBlockNeedsLayout":!1,"shrinkWrapBlocks":!1,"reliableMarginRight":!0,"boxSizingReliable":!0,"pixelPosition":!1};input.checked=!0;support.noCloneChecked=input.cloneNode(!0).checked;select.disabled=!0;support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=!1}input=document.createElement("input");input.setAttribute("value","");support.input=""===input.getAttribute("value");input.value="t";input.setAttribute("type","radio");support.radioValue="t"===input.value;input.setAttribute("checked","t");input.setAttribute("name","t");fragment=document.createDocumentFragment();fragment.appendChild(input);support.appendChecked=input.checked;support.checkClone=fragment.cloneNode(!0).cloneNode(!0).lastChild.checked;if(div.attachEvent){div.attachEvent("onclick",function(){support.noCloneEvent=!1});div.cloneNode(!0).click()}for(i in{"submit":!0,"change":!0,"focusin":!0}){div.setAttribute(eventName="on"+i,"t");support[i+"Bubbles"]=eventName in window||div.attributes[eventName].expando===!1}div.style.backgroundClip="content-box";div.cloneNode(!0).style.backgroundClip="";support.clearCloneStyle="content-box"===div.style.backgroundClip;jQuery(function(){var container,marginDiv,tds,divReset="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",body=document.getElementsByTagName("body")[0];if(!body)return;container=document.createElement("div");container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";body.appendChild(container).appendChild(div);div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");tds[0].style.cssText="padding:0;margin:0;border:0;display:none";isSupported=0===tds[0].offsetHeight;tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&0===tds[0].offsetHeight;div.innerHTML="";div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";support.boxSizing=4===div.offsetWidth;support.doesNotIncludeMarginInBodyOffset=1!==body.offsetTop;if(window.getComputedStyle){support.pixelPosition="1%"!==(window.getComputedStyle(div,null)||{}).top;support.boxSizingReliable="4px"===(window.getComputedStyle(div,null)||{"width":"4px"}).width;marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight)}if(typeof div.style.zoom!==core_strundefined){div.innerHTML="";div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1";support.inlineBlockNeedsLayout=3===div.offsetWidth;div.style.display="block";div.innerHTML="<div></div>";div.firstChild.style.width="5px";support.shrinkWrapBlocks=3!==div.offsetWidth;support.inlineBlockNeedsLayout&&(body.style.zoom=1)}body.removeChild(container);container=div=tds=marginDiv=null});all=select=fragment=opt=a=input=null;return support}();rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({"cache":{},"expando":"jQuery"+(core_version+Math.random()).replace(/\D/g,""),"noData":{"embed":!0,"object":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000","applet":!0},"hasData":function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return!!elem&&!isEmptyDataObject(elem)},"data":function(elem,name,data){return internalData(elem,name,data)},"removeData":function(elem,name){return internalRemoveData(elem,name)},"_data":function(elem,name,data){return internalData(elem,name,data,!0)},"_removeData":function(elem,name){return internalRemoveData(elem,name,!0)},"acceptData":function(elem){if(elem.nodeType&&1!==elem.nodeType&&9!==elem.nodeType)return!1;var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return!noData||noData!==!0&&elem.getAttribute("classid")===noData}});jQuery.fn.extend({"data":function(key,value){var attrs,name,elem=this[0],i=0,data=null;if(key===undefined){if(this.length){data=jQuery.data(elem);if(1===elem.nodeType&&!jQuery._data(elem,"parsedAttrs")){attrs=elem.attributes;for(;i<attrs.length;i++){name=attrs[i].name;if(!name.indexOf("data-")){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}jQuery._data(elem,"parsedAttrs",!0)}}return data}if("object"==typeof key)return this.each(function(){jQuery.data(this,key)});return jQuery.access(this,function(value){if(value===undefined)return elem?dataAttr(elem,key,jQuery.data(elem,key)):null;this.each(function(){jQuery.data(this,key,value)})},null,value,arguments.length>1,null,!0)},"removeData":function(key){return this.each(function(){jQuery.removeData(this,key)})}});jQuery.extend({"queue":function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);data&&(!queue||jQuery.isArray(data)?queue=jQuery._data(elem,type,jQuery.makeArray(data)):queue.push(data));return queue||[]}},"dequeue":function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if("inprogress"===fn){fn=queue.shift();startLength--}hooks.cur=fn;if(fn){"fx"===type&&queue.unshift("inprogress");delete hooks.stop;fn.call(elem,next,hooks)}!startLength&&hooks&&hooks.empty.fire()},"_queueHooks":function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{"empty":jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue");jQuery._removeData(elem,key)})})}});jQuery.fn.extend({"queue":function(type,data){var setter=2;if("string"!=typeof type){data=type;type="fx";setter--}if(arguments.length<setter)return jQuery.queue(this[0],type);return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},"dequeue":function(type){return this.each(function(){jQuery.dequeue(this,type)})},"delay":function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},"clearQueue":function(type){return this.queue(type||"fx",[]);
},"promise":function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};if("string"!=typeof type){obj=type;type=undefined}type=type||"fx";for(;i--;){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});rclass=/[\t\r\n]/g,rreturn=/\r/g,rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i,rboolean=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,getSetInput=jQuery.support.input;jQuery.fn.extend({"attr":function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1)},"removeAttr":function(name){return this.each(function(){jQuery.removeAttr(this,name)})},"prop":function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1)},"removeProp":function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name]}catch(e){}})},"addClass":function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed="string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed){classes=(value||"").match(core_rnotwhite)||[];for(;len>i;i++){elem=this[i];cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;for(;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");elem.className=jQuery.trim(cur)}}}return this},"removeClass":function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed=0===arguments.length||"string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed){classes=(value||"").match(core_rnotwhite)||[];for(;len>i;i++){elem=this[i];cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;for(;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");elem.className=value?jQuery.trim(cur):""}}}return this},"toggleClass":function(value,stateVal){var type=typeof value,isBool="boolean"==typeof stateVal;if(jQuery.isFunction(value))return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)});return this.each(function(){if("string"===type){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.match(core_rnotwhite)||[];for(;className=classNames[i++];){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else if(type===core_strundefined||"boolean"===type){this.className&&jQuery._data(this,"__className__",this.className);this.className=this.className||value===!1?"":jQuery._data(this,"__className__")||""}})},"hasClass":function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1},"val":function(value){var ret,hooks,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined)return ret;ret=elem.value;return"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val,self=jQuery(this);if(1!==this.nodeType)return;val=isFunction?value.call(this,i,self.val()):value;null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""}));hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];hooks&&"set"in hooks&&hooks.set(this,val,"value")!==undefined||(this.value=val)})}});jQuery.extend({"valHooks":{"option":{"get":function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text}},"select":{"get":function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;for(;max>i;i++){option=options[i];if((option.selected||i===index)&&(jQuery.support.optDisabled?!option.disabled:null===option.getAttribute("disabled"))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one)return value;values.push(value)}}return values},"set":function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});values.length||(elem.selectedIndex=-1);return values}}},"attr":function(elem,name,value){var hooks,notxml,ret,nType=elem.nodeType;if(!elem||3===nType||8===nType||2===nType)return;if(typeof elem.getAttribute===core_strundefined)return jQuery.prop(elem,name,value);notxml=1!==nType||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook)}if(value===undefined){if(hooks&&notxml&&"get"in hooks&&null!==(ret=hooks.get(elem,name)))return ret;typeof elem.getAttribute!==core_strundefined&&(ret=elem.getAttribute(name));return null==ret?undefined:ret}if(null!==value){if(hooks&&notxml&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined)return ret;elem.setAttribute(name,value+"");return value}jQuery.removeAttr(elem,name)},"removeAttr":function(elem,value){var name,propName,i=0,attrNames=value&&value.match(core_rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];){propName=jQuery.propFix[name]||name;rboolean.test(name)?!getSetAttribute&&ruseDefault.test(name)?elem[jQuery.camelCase("default-"+name)]=elem[propName]=!1:elem[propName]=!1:jQuery.attr(elem,name,"");elem.removeAttribute(getSetAttribute?name:propName)}},"attrHooks":{"type":{"set":function(elem,value){if(!jQuery.support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);val&&(elem.value=val);return value}}}},"propFix":{"tabindex":"tabIndex","readonly":"readOnly","for":"htmlFor","class":"className","maxlength":"maxLength","cellspacing":"cellSpacing","cellpadding":"cellPadding","rowspan":"rowSpan","colspan":"colSpan","usemap":"useMap","frameborder":"frameBorder","contenteditable":"contentEditable"},"prop":function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||3===nType||8===nType||2===nType)return;notxml=1!==nType||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}return value!==undefined?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},"propHooks":{"tabIndex":{"get":function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}});boolHook={"get":function(elem,name){var prop=jQuery.prop(elem,name),attr="boolean"==typeof prop&&elem.getAttribute(name),detail="boolean"==typeof prop?getSetInput&&getSetAttribute?null!=attr:ruseDefault.test(name)?elem[jQuery.camelCase("default-"+name)]:!!attr:elem.getAttributeNode(name);return detail&&detail.value!==!1?name.toLowerCase():undefined},"set":function(elem,value,name){value===!1?jQuery.removeAttr(elem,name):getSetInput&&getSetAttribute||!ruseDefault.test(name)?elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name):elem[jQuery.camelCase("default-"+name)]=elem[name]=!0;return name}};getSetInput&&getSetAttribute||(jQuery.attrHooks.value={"get":function(elem,name){var ret=elem.getAttributeNode(name);return jQuery.nodeName(elem,"input")?elem.defaultValue:ret&&ret.specified?ret.value:undefined},"set":function(elem,value,name){if(!jQuery.nodeName(elem,"input"))return nodeHook&&nodeHook.set(elem,value,name);elem.defaultValue=value}});if(!getSetAttribute){nodeHook=jQuery.valHooks.button={"get":function(elem,name){var ret=elem.getAttributeNode(name);return ret&&("id"===name||"name"===name||"coords"===name?""!==ret.value:ret.specified)?ret.value:undefined},"set":function(elem,value,name){var ret=elem.getAttributeNode(name);ret||elem.setAttributeNode(ret=elem.ownerDocument.createAttribute(name));ret.value=value+="";return"value"===name||value===elem.getAttribute(name)?value:undefined}};jQuery.attrHooks.contenteditable={"get":nodeHook.get,"set":function(elem,value,name){nodeHook.set(elem,""===value?!1:value,name)}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{"set":function(elem,value){if(""===value){elem.setAttribute(name,"auto");return value}}})})}if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{"get":function(elem){var ret=elem.getAttribute(name,2);return null==ret?undefined:ret}})});jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={"get":function(elem){return elem.getAttribute(name,4)}}})}jQuery.support.style||(jQuery.attrHooks.style={"get":function(elem){return elem.style.cssText||undefined},"set":function(elem,value){return elem.style.cssText=value+""}});jQuery.support.optSelected||(jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{"get":function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;parent.parentNode&&parent.parentNode.selectedIndex}return null}}));jQuery.support.enctype||(jQuery.propFix.enctype="encoding");jQuery.support.checkOn||jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={"get":function(elem){return null===elem.getAttribute("value")?"on":elem.value}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{"set":function(elem,value){if(jQuery.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}})});rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={"global":{},"add":function(elem,types,handler,data,selector){var tmp,events,t,handleObjIn,special,eventHandle,handleObj,handlers,type,namespaces,origType,elemData=jQuery._data(elem);if(!elemData)return;if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}handler.guid||(handler.guid=jQuery.guid++);(events=elemData.events)||(events=elemData.events={});if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery===core_strundefined||e&&jQuery.event.triggered===e.type?undefined:jQuery.event.dispatch.apply(eventHandle.elem,arguments)};eventHandle.elem=elem}types=(types||"").match(core_rnotwhite)||[""];t=types.length;for(;t--;){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({"type":type,"origType":origType,"data":data,"handler":handler,"guid":handler.guid,"selector":selector,"needsContext":selector&&jQuery.expr.match.needsContext.test(selector),"namespace":namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||(elem.addEventListener?elem.addEventListener(type,eventHandle,!1):elem.attachEvent&&elem.attachEvent("on"+type,eventHandle))}if(special.add){special.add.call(elem,handleObj);handleObj.handler.guid||(handleObj.handler.guid=handler.guid)}selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj);jQuery.event.global[type]=!0}elem=null},"remove":function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events))return;types=(types||"").match(core_rnotwhite)||[""];t=types.length;for(;t--;){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;for(;j--;){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||"**"===selector&&handleObj.selector)){handlers.splice(j,1);handleObj.selector&&handlers.delegateCount--;special.remove&&special.remove.call(elem,handleObj)}}if(origCount&&!handlers.length){special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle);delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery._removeData(elem,"events")}},"trigger":function(event,data,elem,onlyHandlers){var handle,ontype,cur,bubbleType,special,tmp,i,eventPath=[elem||document],type=core_hasOwn.call(event,"type")?event.type:event,namespaces=core_hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(3===elem.nodeType||8===elem.nodeType)return;if(rfocusMorph.test(type+jQuery.event.triggered))return;if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event);event.isTrigger=!0;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;event.target||(event.target=elem);data=null==data?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===!1)return;if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}i=0;for(;(cur=eventPath[i++])&&!event.isPropagationStopped();){event.type=i>1?bubbleType:special.bindType||type;handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");handle&&handle.apply(cur,data);handle=ontype&&cur[ontype];handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===!1&&event.preventDefault()}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()&&(!special._default||special._default.apply(elem.ownerDocument,data)===!1)&&("click"!==type||!jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)&&ontype&&elem[type]&&!jQuery.isWindow(elem)){tmp=elem[ontype];tmp&&(elem[ontype]=null);jQuery.event.triggered=type;try{elem[type]()}catch(e){}jQuery.event.triggered=undefined;tmp&&(elem[ontype]=tmp)}return event.result},"dispatch":function(event){event=jQuery.event.fix(event);var i,ret,handleObj,matched,j,handlerQueue=[],args=core_slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===!1)return;handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;for(;(matched=handlerQueue[i++])&&!event.isPropagationStopped();){event.currentTarget=matched.elem;j=0;for(;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined&&(event.result=ret)===!1){event.preventDefault();event.stopPropagation()}}}special.postDispatch&&special.postDispatch.call(this,event);return event.result},"handlers":function(event,handlers){var sel,handleObj,matches,i,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!=this;cur=cur.parentNode||this)if(1===cur.nodeType&&(cur.disabled!==!0||"click"!==event.type)){matches=[];for(i=0;delegateCount>i;i++){handleObj=handlers[i];sel=handleObj.selector+" ";matches[sel]===undefined&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length);matches[sel]&&matches.push(handleObj)}matches.length&&handlerQueue.push({"elem":cur,"handlers":matches})}delegateCount<handlers.length&&handlerQueue.push({"elem":this,"handlers":handlers.slice(delegateCount)});return handlerQueue},"fix":function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{});copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;for(;i--;){prop=copy[i];event[prop]=originalEvent[prop]}event.target||(event.target=originalEvent.srcElement||document);3===event.target.nodeType&&(event.target=event.target.parentNode);event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event},"props":"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),"fixHooks":{},"keyHooks":{"props":"char charCode key keyCode".split(" "),"filter":function(event,original){null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode);return event}},"mouseHooks":{"props":"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),"filter":function(event,original){var body,eventDoc,doc,button=original.button,fromElement=original.fromElement;if(null==event.pageX&&null!=original.clientX){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}!event.relatedTarget&&fromElement&&(event.relatedTarget=fromElement===event.target?original.toElement:fromElement);event.which||button===undefined||(event.which=1&button?1:2&button?3:4&button?2:0);return event}},"special":{"load":{"noBubble":!0},"click":{"trigger":function(){if(jQuery.nodeName(this,"input")&&"checkbox"===this.type&&this.click){this.click();return!1}}},"focus":{"trigger":function(){if(this!==document.activeElement&&this.focus)try{this.focus();return!1}catch(e){}},"delegateType":"focusin"},"blur":{"trigger":function(){if(this===document.activeElement&&this.blur){this.blur();return!1}},"delegateType":"focusout"},"beforeunload":{"postDispatch":function(event){event.result!==undefined&&(event.originalEvent.returnValue=event.result)}}},"simulate":function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{"type":type,"isSimulated":!0,"originalEvent":{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e);e.isDefaultPrevented()&&event.preventDefault()}};jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){typeof elem[name]===core_strundefined&&(elem[name]=null);elem.detachEvent(name,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.returnValue===!1||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse}else this.type=src;props&&jQuery.extend(this,props);this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=!0};jQuery.Event.prototype={"isDefaultPrevented":returnFalse,"isPropagationStopped":returnFalse,"isImmediatePropagationStopped":returnFalse,"preventDefault":function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},"stopPropagation":function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(!e)return;e.stopPropagation&&e.stopPropagation();e.cancelBubble=!0},"stopImmediatePropagation":function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()}};jQuery.each({"mouseenter":"mouseover","mouseleave":"mouseout"},function(orig,fix){jQuery.event.special[orig]={"delegateType":fix,"bindType":fix,"handle":function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});jQuery.support.submitBubbles||(jQuery.event.special.submit={"setup":function(){if(jQuery.nodeName(this,"form"))return!1;jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!jQuery._data(form,"submitBubbles")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=!0});jQuery._data(form,"submitBubbles",!0)}})},"postDispatch":function(event){if(event._submit_bubble){delete event._submit_bubble;this.parentNode&&!event.isTrigger&&jQuery.event.simulate("submit",this.parentNode,event,!0)}},"teardown":function(){if(jQuery.nodeName(this,"form"))return!1;jQuery.event.remove(this,"._submit")}});jQuery.support.changeBubbles||(jQuery.event.special.change={"setup":function(){if(rformElems.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type){jQuery.event.add(this,"propertychange._change",function(event){"checked"===event.originalEvent.propertyName&&(this._just_changed=!0)});jQuery.event.add(this,"click._change",function(event){this._just_changed&&!event.isTrigger&&(this._just_changed=!1);jQuery.event.simulate("change",this,event,!0)})}return!1}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"changeBubbles")){jQuery.event.add(elem,"change._change",function(event){!this.parentNode||event.isSimulated||event.isTrigger||jQuery.event.simulate("change",this.parentNode,event,!0)});jQuery._data(elem,"changeBubbles",!0)}})},"handle":function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||"radio"!==elem.type&&"checkbox"!==elem.type)return event.handleObj.handler.apply(this,arguments)},"teardown":function(){jQuery.event.remove(this,"._change");return!rformElems.test(this.nodeName)}});jQuery.support.focusinBubbles||jQuery.each({"focus":"focusin","blur":"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={"setup":function(){0===attaches++&&document.addEventListener(orig,handler,!0)},"teardown":function(){0===--attaches&&document.removeEventListener(orig,handler,!0)}}});jQuery.fn.extend({"on":function(types,selector,data,fn,one){var type,origFn;if("object"==typeof types){if("string"!=typeof selector){data=data||selector;selector=undefined}for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn){fn=selector;data=selector=undefined}else if(null==fn)if("string"==typeof selector){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}if(fn===!1)fn=returnFalse;else if(!fn)return this;if(1===one){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},"one":function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},"off":function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}if(selector===!1||"function"==typeof selector){fn=selector;selector=undefined}fn===!1&&(fn=returnFalse);return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},"bind":function(types,data,fn){return this.on(types,null,data,fn)},"unbind":function(types,fn){return this.off(types,null,fn)},"delegate":function(selector,types,data,fn){return this.on(types,selector,data,fn)},"undelegate":function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)},"trigger":function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},"triggerHandler":function(type,data){var elem=this[0];if(elem)return jQuery.event.trigger(type,data,elem,!0)}});(function(window,undefined){function isNative(fn){return rnative.test(fn+"")}function createCache(){var cache,keys=[];return cache=function(key,value){keys.push(key+=" ")>Expr.cacheLength&&delete cache[keys.shift()];return cache[key]=value}}function markFunction(fn){fn[expando]=!0;return fn}function assert(fn){var div=document.createElement("div");try{return fn(div)}catch(e){return!1}finally{div=null}}function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;(context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context);context=context||document;results=results||[];if(!selector||"string"!=typeof selector)return results;if(1!==(nodeType=context.nodeType)&&9!==nodeType)return[];if(!documentIsXML&&!seed){if(match=rquickExpr.exec(selector))if(m=match[1]){if(9===nodeType){elem=context.getElementById(m);if(!elem||!elem.parentNode)return results;if(elem.id===m){results.push(elem);return results}}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}else{if(match[2]){push.apply(results,slice.call(context.getElementsByTagName(selector),0));return results}if((m=match[3])&&support.getByClassName&&context.getElementsByClassName){push.apply(results,slice.call(context.getElementsByClassName(m),0));return results}}if(support.qsa&&!rbuggyQSA.test(selector)){old=!0;nid=expando;newContext=context;newSelector=9===nodeType&&selector;if(1===nodeType&&"object"!==context.nodeName.toLowerCase()){groups=tokenize(selector);(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid);nid="[id='"+nid+"'] ";i=groups.length;for(;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&context.parentNode||context;newSelector=groups.join(",")}if(newSelector)try{push.apply(results,slice.call(newContext.querySelectorAll(newSelector),0));return results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function siblingCheck(a,b){var cur=b&&a,diff=cur&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;for(;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);soFar=selector;groups=[];preFilters=Expr.preFilter;for(;soFar;){if(!matched||(match=rcomma.exec(soFar))){match&&(soFar=soFar.slice(match[0].length)||soFar);groups.push(tokens=[])}matched=!1;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({"value":matched,"type":match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}for(type in Expr.filter)if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({"value":matched,"type":type,"matches":match});soFar=soFar.slice(matched.length)}if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var data,cache,outerCache,dirkey=dirruns+" "+doneName;if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((cache=outerCache[dir])&&cache[0]===dirkey){if((data=cache[1])===!0||data===cachedruns)return data===!0}else{cache=outerCache[dir]=[dirkey];cache[1]=matcher(elem,context,xml)||cachedruns;if(cache[1]===!0)return!0}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;for(;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;for(;len>i;i++)if((elem=unmatched[i])&&(!filter||filter(elem,context,xml))){newUnmatched.push(elem);mapped&&map.push(i)}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter));postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector));return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;matcher&&matcher(matcherIn,matcherOut,context,xml);if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;for(;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem))}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;for(;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);
postFinder(null,matcherOut=[],temp,xml)}i=matcherOut.length;for(;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];for(;len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1)).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var matcherCachedRuns=0,bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=null!=expandContext,contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",expandContext&&context.parentNode||context),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1;if(outermost){outermostContext=context!==document&&context;cachedruns=matcherCachedRuns}for(;null!=(elem=elems[i]);i++){if(byElement&&elem){j=0;for(;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}if(outermost){dirruns=dirrunsUnique;cachedruns=++matcherCachedRuns}}if(bySet){(elem=!matcher&&elem)&&matchedCount--;seed&&unmatched.push(elem)}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;for(;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched);outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;len>i;i++)Sizzle(selector,contexts[i],results);return results}function select(selector,context,results,seed){var i,tokens,token,type,find,match=tokenize(selector);if(!seed&&1===match.length){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&"ID"===(token=tokens[0]).type&&9===context.nodeType&&!documentIsXML&&Expr.relative[tokens[1].type]){context=Expr.find.ID(token.matches[0].replace(runescape,funescape),context)[0];if(!context)return results;selector=selector.slice(tokens.shift().value.length)}i=matchExpr.needsContext.test(selector)?0:tokens.length;for(;i--;){token=tokens[i];if(Expr.relative[type=token.type])break;if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&context.parentNode||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,slice.call(seed,0));return results}break}}}compile(selector,match)(seed,context,documentIsXML,results,rsibling.test(selector));return results}function setFilters(){}var i,cachedruns,Expr,getText,isXML,compile,hasDuplicate,outermostContext,setDocument,document,docElem,documentIsXML,rbuggyQSA,rbuggyMatches,matches,contains,sortOrder,expando="sizzle"+-new Date,preferredDoc=window.document,support={},dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),strundefined=typeof undefined,MAX_NEGATIVE=1<<31,arr=[],pop=arr.pop,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){var i=0,len=this.length;for(;len>i;i++)if(this[i]===elem)return i;return-1},whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),operators="([*^$|!~]?=)",attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:"+operators+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+attributes.replace(3,8)+")*)|.*)\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([\\x20\\t\\r\\n\\f>+~])"+whitespace+"*"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+characterEncoding+")"),"CLASS":new RegExp("^\\.("+characterEncoding+")"),"NAME":new RegExp("^\\[name=['\"]?("+characterEncoding+")['\"]?\\]"),"TAG":new RegExp("^("+characterEncoding.replace("w","w*")+")"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rsibling=/[\x20\t\r\n\f]*[+~]/,rnative=/^[^{]+\{\s*\[native code/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,runescape=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,funescape=function(_,escaped){var high="0x"+escaped-65536;return high!==high?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)};try{slice.call(preferredDoc.documentElement.childNodes,0)[0].nodeType}catch(e){slice=function(i){var elem,results=[];for(;elem=this[i++];)results.push(elem);return results}}isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1};setDocument=Sizzle.setDocument=function(node){var doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||9!==doc.nodeType||!doc.documentElement)return document;document=doc;docElem=doc.documentElement;documentIsXML=isXML(doc);support.tagNameNoComments=assert(function(div){div.appendChild(doc.createComment(""));return!div.getElementsByTagName("*").length});support.attributes=assert(function(div){div.innerHTML="<select></select>";var type=typeof div.lastChild.getAttribute("multiple");return"boolean"!==type&&"string"!==type});support.getByClassName=assert(function(div){div.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!div.getElementsByClassName||!div.getElementsByClassName("e").length)return!1;div.lastChild.className="e";return 2===div.getElementsByClassName("e").length});support.getByName=assert(function(div){div.id=expando+0;div.innerHTML="<a name='"+expando+"'></a><div name='"+expando+"'></div>";docElem.insertBefore(div,docElem.firstChild);var pass=doc.getElementsByName&&doc.getElementsByName(expando).length===2+doc.getElementsByName(expando+0).length;support.getIdNotName=!doc.getElementById(expando);docElem.removeChild(div);return pass});Expr.attrHandle=assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild&&typeof div.firstChild.getAttribute!==strundefined&&"#"===div.firstChild.getAttribute("href")})?{}:{"href":function(elem){return elem.getAttribute("href",2)},"type":function(elem){return elem.getAttribute("type")}};if(support.getIdNotName){Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&!documentIsXML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}};Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&!documentIsXML){var m=context.getElementById(id);return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[]}};Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId}}}Expr.find.TAG=support.tagNameNoComments?function(tag,context){if(typeof context.getElementsByTagName!==strundefined)return context.getElementsByTagName(tag)}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results};Expr.find.NAME=support.getByName&&function(tag,context){if(typeof context.getElementsByName!==strundefined)return context.getElementsByName(name)};Expr.find.CLASS=support.getByClassName&&function(className,context){if(typeof context.getElementsByClassName!==strundefined&&!documentIsXML)return context.getElementsByClassName(className)};rbuggyMatches=[];rbuggyQSA=[":focus"];if(support.qsa=isNative(doc.querySelectorAll)){assert(function(div){div.innerHTML="<select><option selected=''></option></select>";div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked")});assert(function(div){div.innerHTML="<input type='hidden' i=''/>";div.querySelectorAll("[i^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:\"\"|'')");div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled");div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}(support.matchesSelector=isNative(matches=docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)});rbuggyQSA=new RegExp(rbuggyQSA.join("|"));rbuggyMatches=new RegExp(rbuggyMatches.join("|"));contains=isNative(docElem.contains)||docElem.compareDocumentPosition?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};sortOrder=docElem.compareDocumentPosition?function(a,b){var compare;if(a===b){hasDuplicate=!0;return 0}if(compare=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b)){if(1&compare||a.parentNode&&11===a.parentNode.nodeType){if(a===doc||contains(preferredDoc,a))return-1;if(b===doc||contains(preferredDoc,b))return 1;return 0}return 4&compare?-1:1}return a.compareDocumentPosition?-1:1}:function(a,b){var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(a===b){hasDuplicate=!0;return 0}if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:0;if(aup===bup)return siblingCheck(a,b);cur=a;for(;cur=cur.parentNode;)ap.unshift(cur);cur=b;for(;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};hasDuplicate=!1;[0,0].sort(sortOrder);support.detectDuplicates=hasDuplicate;return document};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){(elem.ownerDocument||elem)!==document&&setDocument(elem);expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&!documentIsXML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&!rbuggyQSA.test(expr))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){(context.ownerDocument||context)!==document&&setDocument(context);return contains(context,elem)};Sizzle.attr=function(elem,name){var val;(elem.ownerDocument||elem)!==document&&setDocument(elem);documentIsXML||(name=name.toLowerCase());if(val=Expr.attrHandle[name])return val(elem);if(documentIsXML||support.attributes)return elem.getAttribute(name);return((val=elem.getAttributeNode(name))||elem.getAttribute(name))&&elem[name]===!0?name:val&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],i=1,j=0;hasDuplicate=!support.detectDuplicates;results.sort(sortOrder);if(hasDuplicate){for(;elem=results[i];i++)elem===results[i-1]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i];i++)ret+=getText(node);return ret};Expr=Sizzle.selectors={"cacheLength":50,"createPseudo":markFunction,"match":matchExpr,"find":{},"relative":{">":{"dir":"parentNode","first":!0}," ":{"dir":"parentNode"},"+":{"dir":"previousSibling","first":!0},"~":{"dir":"previousSibling"}},"preFilter":{"ATTR":function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[4]||match[5]||"").replace(runescape,funescape);"~="===match[2]&&(match[3]=" "+match[3]+" ");return match.slice(0,4)},"CHILD":function(match){match[1]=match[1].toLowerCase();if("nth"===match[1].slice(0,3)){match[3]||Sizzle.error(match[0]);match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3]));match[5]=+(match[7]+match[8]||"odd"===match[3])}else match[3]&&Sizzle.error(match[0]);return match},"PSEUDO":function(match){var excess,unquoted=!match[5]&&match[2];if(matchExpr.CHILD.test(match[0]))return null;if(match[4])match[2]=match[4];else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}return match.slice(0,3)}},"filter":{"TAG":function(nodeName){if("*"===nodeName)return function(){return!0};nodeName=nodeName.replace(runescape,funescape).toLowerCase();return function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},"CLASS":function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},"ATTR":function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(null==result)return"!="===operator;if(!operator)return!0;result+="";return"="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1}},"CHILD":function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){node=elem;for(;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];for(;node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if((ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)&&++diff){useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]);if(node===elem)break}diff-=last;return diff===first||diff%first===0&&diff/first>=0}}},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando])return fn(argument);if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;for(;i--;){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},"pseudos":{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;for(;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return!results.pop()}}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),"contains":markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),"lang":markFunction(function(lang){ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang);lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do if(elemLang=documentIsXML?elem.getAttribute("xml:lang")||elem.getAttribute("lang"):elem.lang){elemLang=elemLang.toLowerCase();return elemLang===lang||0===elemLang.indexOf(lang+"-")}while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),"target":function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},"root":function(elem){return elem===docElem},"focus":function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},"enabled":function(elem){return elem.disabled===!1},"disabled":function(elem){return elem.disabled===!0},"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},"selected":function(elem){elem.parentNode&&elem.parentNode.selectedIndex;return elem.selected===!0},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeName>"@"||3===elem.nodeType||4===elem.nodeType)return!1;return!0},"parent":function(elem){return!Expr.pseudos.empty(elem)},"header":function(elem){return rheader.test(elem.nodeName)},"input":function(elem){return rinputs.test(elem.nodeName)},"button":function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},"text":function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||attr.toLowerCase()===elem.type)},"first":createPositionalPseudo(function(){return[0]}),"last":createPositionalPseudo(function(matchIndexes,length){return[length-1]}),"eq":createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=0>argument?argument+length:argument;for(;--i>=0;)matchIndexes.push(i);return matchIndexes}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=0>argument?argument+length:argument;for(;++i<length;)matchIndexes.push(i);return matchIndexes})}};for(i in{"radio":!0,"checkbox":!0,"file":!0,"password":!0,"image":!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{"submit":!0,"reset":!0})Expr.pseudos[i]=createButtonPseudo(i);compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){group||(group=tokenize(selector));i=group.length;for(;i--;){cached=matcherFromTokens(group[i]);cached[expando]?setMatchers.push(cached):elementMatchers.push(cached)}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached};Expr.pseudos.nth=Expr.pseudos.eq;Expr.filters=setFilters.prototype=Expr.pseudos;Expr.setFilters=new setFilters;setDocument();Sizzle.attr=jQuery.attr;jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains})(window);runtil=/Until$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={"children":!0,"contents":!0,"next":!0,"prev":!0};jQuery.fn.extend({"find":function(selector){var i,ret,self,len=this.length;if("string"!=typeof selector){self=this;return this.pushStack(jQuery(selector).filter(function(){for(i=0;len>i;i++)if(jQuery.contains(self[i],this))return!0}))}ret=[];for(i=0;len>i;i++)jQuery.find(selector,this[i],ret);ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=(this.selector?this.selector+" ":"")+selector;return ret},"has":function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;len>i;i++)if(jQuery.contains(this,targets[i]))return!0})},"not":function(selector){return this.pushStack(winnow(this,selector,!1))},"filter":function(selector){return this.pushStack(winnow(this,selector,!0))},"is":function(selector){return!!selector&&("string"==typeof selector?rneedsContext.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},"closest":function(selectors,context){var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;for(;l>i;i++){cur=this[i];for(;cur&&cur.ownerDocument&&cur!==context&&11!==cur.nodeType;){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}cur=cur.parentNode}}return this.pushStack(ret.length>1?jQuery.unique(ret):ret)},"index":function(elem){if(!elem)return this[0]&&this[0].parentNode?this.first().prevAll().length:-1;if("string"==typeof elem)return jQuery.inArray(this[0],jQuery(elem));return jQuery.inArray(elem.jquery?elem[0]:elem,this)},"add":function(selector,context){var set="string"==typeof selector?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(jQuery.unique(all))},"addBack":function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}});jQuery.fn.andSelf=jQuery.fn.addBack;jQuery.each({"parent":function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},"parents":function(elem){return jQuery.dir(elem,"parentNode")},"parentsUntil":function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},"next":function(elem){return sibling(elem,"nextSibling")},"prev":function(elem){return sibling(elem,"previousSibling")},"nextAll":function(elem){return jQuery.dir(elem,"nextSibling")},"prevAll":function(elem){return jQuery.dir(elem,"previousSibling")},"nextUntil":function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},"prevUntil":function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},"siblings":function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},"children":function(elem){return jQuery.sibling(elem.firstChild)},"contents":function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);runtil.test(name)||(selector=until);selector&&"string"==typeof selector&&(ret=jQuery.filter(selector,ret));ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;this.length>1&&rparentsprev.test(name)&&(ret=ret.reverse());return this.pushStack(ret)}});jQuery.extend({"filter":function(expr,elems,not){not&&(expr=":not("+expr+")");return 1===elems.length?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},"dir":function(elem,dir,until){var matched=[],cur=elem[dir];for(;cur&&9!==cur.nodeType&&(until===undefined||1!==cur.nodeType||!jQuery(cur).is(until));){1===cur.nodeType&&matched.push(cur);cur=cur[dir]}return matched},"sibling":function(n,elem){var r=[];for(;n;n=n.nextSibling)1===n.nodeType&&n!==elem&&r.push(n);return r}});nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,manipulation_rcheckableType=/^(?:checkbox|radio)$/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={"option":[1,"<select multiple='multiple'>","</select>"],"legend":[1,"<fieldset>","</fieldset>"],"area":[1,"<map>","</map>"],"param":[1,"<object>","</object>"],"thead":[1,"<table>","</table>"],"tr":[2,"<table><tbody>","</tbody></table>"],"col":[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],"td":[3,"<table><tbody><tr>","</tr></tbody></table>"],"_default":jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;jQuery.fn.extend({"text":function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},"wrapAll":function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))});if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&wrap.insertBefore(this[0]);wrap.map(function(){var elem=this;for(;elem.firstChild&&1===elem.firstChild.nodeType;)elem=elem.firstChild;return elem}).append(this)}return this},"wrapInner":function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))});return this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},"wrap":function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},"unwrap":function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()},"append":function(){return this.domManip(arguments,!0,function(elem){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(elem)})},"prepend":function(){return this.domManip(arguments,!0,function(elem){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(elem,this.firstChild)})},"before":function(){return this.domManip(arguments,!1,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},"after":function(){return this.domManip(arguments,!1,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},"remove":function(selector,keepData){var elem,i=0;for(;null!=(elem=this[i]);i++)if(!selector||jQuery.filter(selector,[elem]).length>0){keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem));if(elem.parentNode){keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script"));elem.parentNode.removeChild(elem)}}return this},"empty":function(){var elem,i=0;for(;null!=(elem=this[i]);i++){1===elem.nodeType&&jQuery.cleanData(getAll(elem,!1));for(;elem.firstChild;)elem.removeChild(elem.firstChild);elem.options&&jQuery.nodeName(elem,"select")&&(elem.options.length=0)}return this},"clone":function(dataAndEvents,deepDataAndEvents){dataAndEvents=null==dataAndEvents?!1:dataAndEvents;deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},"html":function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined)return 1===elem.nodeType?elem.innerHTML.replace(rinlinejQuery,""):undefined;if("string"==typeof value&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;l>i;i++){elem=this[i]||{};if(1===elem.nodeType){jQuery.cleanData(getAll(elem,!1));elem.innerHTML=value}}elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},"replaceWith":function(value){var isFunc=jQuery.isFunction(value);isFunc||"string"==typeof value||(value=jQuery(value).not(this).detach());return this.domManip([value],!0,function(elem){var next=this.nextSibling,parent=this.parentNode;if(parent){jQuery(this).remove();parent.insertBefore(elem,next)}})},"detach":function(selector){return this.remove(selector,!0)},"domManip":function(args,table,callback){args=core_concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||!(1>=l||"string"!=typeof value||jQuery.support.checkClone)&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,table?self.html():undefined));self.domManip(args,table,callback)});if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this);first=fragment.firstChild;1===fragment.childNodes.length&&(fragment=first);if(first){table=table&&jQuery.nodeName(first,"tr");scripts=jQuery.map(getAll(fragment,"script"),disableScript);
hasScripts=scripts.length;for(;l>i;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,!0,!0);hasScripts&&jQuery.merge(scripts,getAll(node,"script"))}callback.call(table&&jQuery.nodeName(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;hasScripts>i;i++){node=scripts[i];rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery.ajax({"url":node.src,"type":"GET","dataType":"script","async":!1,"global":!1,"throws":!0}):jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,"")))}}fragment=first=null}}return this}});jQuery.each({"appendTo":"append","prependTo":"prepend","insertBefore":"before","insertAfter":"after","replaceAll":"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;for(;last>=i;i++){elems=i===last?this:this.clone(!0);jQuery(insert[i])[original](elems);core_push.apply(ret,elems.get())}return this.pushStack(ret)}});jQuery.extend({"clone":function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">"))clone=elem.cloneNode(!0);else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild)}if(!(jQuery.support.noCloneEvent&&jQuery.support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem))){destElements=getAll(clone);srcElements=getAll(elem);for(i=0;null!=(node=srcElements[i]);++i)destElements[i]&&fixCloneNodeIssues(node,destElements[i])}if(dataAndEvents)if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0;null!=(node=srcElements[i]);i++)cloneCopyEvent(node,destElements[i])}else cloneCopyEvent(elem,clone);destElements=getAll(clone,"script");destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script"));destElements=srcElements=node=null;return clone},"buildFragment":function(elems,context,scripts,selection){var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;for(;l>i;i++){elem=elems[i];if(elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){tmp=tmp||safe.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];for(;j--;)tmp=tmp.lastChild;!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)&&nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0]));if(!jQuery.support.tbody){elem="table"!==tag||rtbody.test(elem)?"<table>"!==wrap[1]||rtbody.test(elem)?0:tmp:tmp.firstChild;j=elem&&elem.childNodes.length;for(;j--;)jQuery.nodeName(tbody=elem.childNodes[j],"tbody")&&!tbody.childNodes.length&&elem.removeChild(tbody)}jQuery.merge(nodes,tmp.childNodes);tmp.textContent="";for(;tmp.firstChild;)tmp.removeChild(tmp.firstChild);tmp=safe.lastChild}else nodes.push(context.createTextNode(elem))}tmp&&safe.removeChild(tmp);jQuery.support.appendChecked||jQuery.grep(getAll(nodes,"input"),fixDefaultChecked);i=0;for(;elem=nodes[i++];){if(selection&&-1!==jQuery.inArray(elem,selection))continue;contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(safe.appendChild(elem),"script");contains&&setGlobalEval(tmp);if(scripts){j=0;for(;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem)}}tmp=null;return safe},"cleanData":function(elems,acceptData){var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;for(;null!=(elem=elems[i]);i++)if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);if(cache[id]){delete cache[id];deleteExpando?delete elem[internalKey]:typeof elem.removeAttribute!==core_strundefined?elem.removeAttribute(internalKey):elem[internalKey]=null;core_deletedIds.push(id)}}}}});ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([+-])=("+core_pnum+")","i"),elemdisplay={"BODY":"block"},cssShow={"position":"absolute","visibility":"hidden","display":"block"},cssNormalTransform={"letterSpacing":0,"fontWeight":400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"];jQuery.fn.extend({"css":function(name,value){return jQuery.access(this,function(elem,name,value){var len,styles,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},"show":function(){return showHide(this,!0)},"hide":function(){return showHide(this)},"toggle":function(state){var bool="boolean"==typeof state;return this.each(function(){(bool?state:isHidden(this))?jQuery(this).show():jQuery(this).hide()})}});jQuery.extend({"cssHooks":{"opacity":{"get":function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},"cssNumber":{"columnCount":!0,"fillOpacity":!0,"fontWeight":!0,"lineHeight":!0,"opacity":!0,"orphans":!0,"widows":!0,"zIndex":!0,"zoom":!0},"cssProps":{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},"style":function(elem,name,value,extra){if(!elem||3===elem.nodeType||8===elem.nodeType||!elem.style)return;var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value===undefined){if(hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined)return ret;return style[name]}type=typeof value;if("string"===type&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(null==value||"number"===type&&isNaN(value))return;"number"!==type||jQuery.cssNumber[origName]||(value+="px");jQuery.support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit");if(!(hooks&&"set"in hooks&&(value=hooks.set(elem,value,extra))===undefined))try{style[name]=value}catch(e){}},"css":function(elem,name,extra,styles){var num,val,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra));val===undefined&&(val=curCSS(elem,name,styles));"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]);if(""===extra||extra){num=parseFloat(val);return extra===!0||jQuery.isNumeric(num)?num||0:val}return val},"swap":function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret}});if(window.getComputedStyle){getStyles=function(elem){return window.getComputedStyle(elem,null)};curCSS=function(elem,name,_computed){var width,minWidth,maxWidth,computed=_computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:undefined,style=elem.style;if(computed){""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name));if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret}}else if(document.documentElement.currentStyle){getStyles=function(elem){return elem.currentStyle};curCSS=function(elem,name,_computed){var left,rs,rsLeft,computed=_computed||getStyles(elem),ret=computed?computed[name]:undefined,style=elem.style;null==ret&&style&&style[name]&&(ret=style[name]);if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rs=elem.runtimeStyle;rsLeft=rs&&rs.left;rsLeft&&(rs.left=elem.currentStyle.left);style.left="fontSize"===name?"1em":ret;ret=style.pixelLeft+"px";style.left=left;rsLeft&&(rs.left=rsLeft)}return""===ret?"auto":ret}}jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={"get":function(elem,computed,extra){if(computed)return 0===elem.offsetWidth&&rdisplayswap.test(jQuery.css(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)},"set":function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}});jQuery.support.opacity||(jQuery.cssHooks.opacity={"get":function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},"set":function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+100*value+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if((value>=1||""===value)&&""===jQuery.trim(filter.replace(ralpha,""))&&style.removeAttribute){style.removeAttribute("filter");if(""===value||currentStyle&&!currentStyle.filter)return}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}});jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={"get":function(elem,computed){if(computed)return jQuery.swap(elem,{"display":"inline-block"},curCSS,[elem,"marginRight"])}});!jQuery.support.pixelPosition&&jQuery.fn.position&&jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={"get":function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}}}})});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0||!jQuery.support.reliableHiddenOffsets&&"none"===(elem.style&&elem.style.display||jQuery.css(elem,"display"))};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)}}jQuery.each({"margin":"","padding":"","border":"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={"expand":function(value){var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];for(;4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}};rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)});r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.fn.extend({"serialize":function(){return jQuery.param(this.serializeArray())},"serializeArray":function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!manipulation_rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{"name":elem.name,"value":val.replace(rCRLF,"\r\n")}}):{"name":elem.name,"value":val.replace(rCRLF,"\r\n")}}).get()}});jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};traditional===undefined&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")};jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.hover=function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)};ajax_nonce=jQuery.now(),ajax_rquery=/\?/,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,response,type,self=this,off=url.indexOf(" ");if(off>=0){selector=url.slice(off,url.length);url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else params&&"object"==typeof params&&(type="POST");self.length>0&&jQuery.ajax({"url":url,"type":type,"dataType":"html","data":params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])});return this};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({"url":url,"type":method,"dataType":type,"data":data,"success":callback})}});jQuery.extend({"active":0,"lastModified":{},"etag":{},"ajaxSettings":{"url":ajaxLocation,"type":"GET","isLocal":rlocalProtocol.test(ajaxLocParts[1]),"global":!0,"processData":!0,"async":!0,"contentType":"application/x-www-form-urlencoded; charset=UTF-8","accepts":{"*":allTypes,"text":"text/plain","html":"text/html","xml":"application/xml, text/xml","json":"application/json, text/javascript"},"contents":{"xml":/xml/,"html":/html/,"json":/json/},"responseFields":{"xml":"responseXML","text":"responseText"},"converters":{"* text":window.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},"flatOptions":{"url":!0,"context":!0}},"ajaxSetup":function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},"ajaxPrefilter":addToPrefiltersOrTransports(prefilters),"ajaxTransport":addToPrefiltersOrTransports(transports),"ajax":function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(2===state)return;state=2;timeoutTimer&&clearTimeout(timeoutTimer);transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;responses&&(response=ajaxHandleResponses(s,jqXHR,responses));if(status>=200&&300>status||304===status){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");modified&&(jQuery.lastModified[cacheURL]=modified);modified=jqXHR.getResponseHeader("etag");modified&&(jQuery.etag[cacheURL]=modified)}if(204===status){isSuccess=!0;statusText="nocontent"}else if(304===status){isSuccess=!0;statusText="notmodified"}else{isSuccess=ajaxConvert(s,response);statusText=isSuccess.state;success=isSuccess.data;error=isSuccess.error;isSuccess=!error}}else{error=statusText;if(status||!statusText){statusText="error";0>status&&(status=0)}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);jqXHR.statusCode(statusCode);statusCode=undefined;fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]);completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);--jQuery.active||jQuery.event.trigger("ajaxStop")}}if("object"==typeof url){options=url;url=undefined}options=options||{};var parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={"readyState":0,"getResponseHeader":function(key){var match;if(2===state){if(!responseHeaders){responseHeaders={};for(;match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2]}match=responseHeaders[key.toLowerCase()]}return null==match?null:match},"getAllResponseHeaders":function(){return 2===state?responseHeadersString:null},"setRequestHeader":function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},"overrideMimeType":function(type){state||(s.mimeType=type);return this},"statusCode":function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},"abort":function(statusText){var finalText=statusText||strAbort;transport&&transport.abort(finalText);done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(core_rnotwhite)||[""];if(null==s.crossDomain){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?80:443))==(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?80:443)))}s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional));inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(2===state)return jqXHR;fireGlobals=s.global;fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart");s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=s.url+=(ajax_rquery.test(cacheURL)?"&":"?")+s.data;delete s.data}s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+ajax_nonce++):cacheURL+(ajax_rquery.test(cacheURL)?"&":"?")+"_="+ajax_nonce++)}if(s.ifModified){jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]);jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType);jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{"success":1,"error":1,"complete":1})jqXHR[i](s[i]);transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(transport){jqXHR.readyState=1;fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]);s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1;transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},"getScript":function(url,callback){return jQuery.get(url,undefined,callback,"script")},"getJSON":function(url,data,callback){return jQuery.get(url,data,callback,"json")}});jQuery.ajaxSetup({"accepts":{"script":"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},"contents":{"script":/(?:java|ecma)script/},"converters":{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){s.cache===undefined&&(s.cache=!1);if(s.crossDomain){s.type="GET";s.global=!1}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{"send":function(_,callback){script=document.createElement("script");script.async=!0;s.scriptCharset&&(script.charset=s.scriptCharset);script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;script.parentNode&&script.parentNode.removeChild(script);script=null;isAbort||callback(200,"success")}};head.insertBefore(script,head.firstChild)},"abort":function(){script&&script.onload(undefined,!0)}}}});oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({"jsonp":"callback","jsonpCallback":function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+ajax_nonce++;this[callback]=!0;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||"jsonp"===s.dataTypes[0]){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(ajax_rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName);s.converters["script json"]=function(){responseContainer||jQuery.error(callbackName+" was not called");return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]);responseContainer=overwritten=undefined});return"script"}});xhrId=0,xhrOnUnloadAbort=window.ActiveXObject&&function(){var key;for(key in xhrCallbacks)xhrCallbacks[key](undefined,!0)};jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR;xhrSupported=jQuery.ajaxSettings.xhr();jQuery.support.cors=!!xhrSupported&&"withCredentials"in xhrSupported;xhrSupported=jQuery.support.ajax=!!xhrSupported;xhrSupported&&jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{"send":function(headers,complete){var handle,i,xhr=s.xhr();s.username?xhr.open(s.type,s.url,s.async,s.username,s.password):xhr.open(s.type,s.url,s.async);if(s.xhrFields)for(i in s.xhrFields)xhr[i]=s.xhrFields[i];s.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(s.mimeType);s.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");try{for(i in headers)xhr.setRequestHeader(i,headers[i])}catch(err){}xhr.send(s.hasContent&&s.data||null);callback=function(_,isAbort){var status,responseHeaders,statusText,responses;try{if(callback&&(isAbort||4===xhr.readyState)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;xhrOnUnloadAbort&&delete xhrCallbacks[handle]}if(isAbort)4!==xhr.readyState&&xhr.abort();else{responses={};status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();"string"==typeof xhr.responseText&&(responses.text=xhr.responseText);try{statusText=xhr.statusText}catch(e){statusText=""}status||!s.isLocal||s.crossDomain?1223===status&&(status=204):status=responses.text?200:404}}}catch(firefoxAccessException){isAbort||complete(-1,firefoxAccessException)}responses&&complete(status,statusText,responses,responseHeaders)};if(s.async)if(4===xhr.readyState)setTimeout(callback);else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort)}xhrCallbacks[handle]=callback}xhr.onreadystatechange=callback}else callback()},"abort":function(){callback&&callback(undefined,!0)}}}});rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var end,unit,tween=this.createTween(prop,value),parts=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1,maxIterations=20;if(parts){end=+parts[2];unit=parts[3]||(jQuery.cssNumber[prop]?"":"px");if("px"!==unit&&start){start=jQuery.css(tween.elem,prop,!0)||end||1;do{scale=scale||".5";start/=scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}tween.unit=unit;tween.start=start;tween.end=parts[1]?start+(parts[1]+1)*end:end}return tween}]};jQuery.Animation=jQuery.extend(Animation,{"tweener":function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else props=props.split(" ");var prop,index=0,length=props.length;for(;length>index;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},"prefilter":function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}});jQuery.Tween=Tween;Tween.prototype={"constructor":Tween,"init":function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},"cur":function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},"run":function(percent){var eased,hooks=Tween.propHooks[this.prop];this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent;this.now=(this.end-this.start)*eased+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this);return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={"_default":{"get":function(tween){var result;if(null!=tween.elem[tween.prop]&&(!tween.elem.style||null==tween.elem.style[tween.prop]))return tween.elem[tween.prop];result=jQuery.css(tween.elem,tween.prop,"");return result&&"auto"!==result?result:0},"set":function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={"set":function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}};jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}});jQuery.fn.extend({"fadeTo":function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({"opacity":to},speed,easing,callback)},"animate":function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);doAnimation.finish=function(){anim.stop(!0)};(empty||jQuery._data(this,"finish"))&&anim.stop(!0)};doAnimation.finish=doAnimation;return empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},"stop":function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if("string"!=typeof type){gotoEnd=clearQueue;clearQueue=type;type=undefined}clearQueue&&type!==!1&&this.queue(type||"fx",[]);return this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)if(timers[index].elem===this&&(null==type||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=!1;timers.splice(index,1)}(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},"finish":function(type){type!==!1&&(type=type||"fx");return this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=!0;jQuery.queue(this,type,[]);hooks&&hooks.cur&&hooks.cur.finish&&hooks.cur.finish.call(this);for(index=timers.length;index--;)if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(!0);timers.splice(index,1)}for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}});jQuery.each({"slideDown":genFx("show"),"slideUp":genFx("hide"),"slideToggle":genFx("toggle"),"fadeIn":{"opacity":"show"},"fadeOut":{"opacity":"hide"},"fadeToggle":{"opacity":"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{"complete":fn||!fn&&easing||jQuery.isFunction(speed)&&speed,"duration":speed,"easing":fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;(null==opt.queue||opt.queue===!0)&&(opt.queue="fx");opt.old=opt.complete;opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this);opt.queue&&jQuery.dequeue(this,opt.queue)};return opt};jQuery.easing={"linear":function(p){return p},"swing":function(p){return.5-Math.cos(p*Math.PI)/2}};jQuery.timers=[];jQuery.fx=Tween.prototype.init;jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];timer()||timers[i]!==timer||timers.splice(i--,1)}timers.length||jQuery.fx.stop();fxNow=undefined};jQuery.fx.timer=function(timer){timer()&&jQuery.timers.push(timer)&&jQuery.fx.start()};jQuery.fx.interval=13;jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={"slow":600,"fast":200,"_default":400};jQuery.fx.step={};jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(elem){
return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length});jQuery.fn.offset=function(options){if(arguments.length)return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,box={"top":0,"left":0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc)return;docElem=doc.documentElement;if(!jQuery.contains(docElem,elem))return box;typeof elem.getBoundingClientRect!==core_strundefined&&(box=elem.getBoundingClientRect());win=getWindow(doc);return{"top":box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),"left":box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}};jQuery.offset={"setOffset":function(elem,options,i){var curElem,curOffset,curCSSTop,curCSSLeft,calculatePosition,props,curPosition,curTop,curLeft,position=jQuery.css(elem,"position");"static"===position&&(elem.style.position="relative");curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={};if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset));null!=options.top&&(props.top=options.top-curOffset.top+curTop);null!=options.left&&(props.left=options.left-curOffset.left+curLeft);"using"in options?options.using.call(elem,props):curElem.css(props)}};jQuery.fn.extend({"position":function(){if(!this[0])return;var offsetParent,offset,parentOffset={"top":0,"left":0},elem=this[0];if("fixed"===jQuery.css(elem,"position"))offset=elem.getBoundingClientRect();else{offsetParent=this.offsetParent();offset=this.offset();jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset());parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)}return{"top":offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),"left":offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}},"offsetParent":function(){return this.map(function(){var offsetParent=this.offsetParent||document.documentElement;for(;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||document.documentElement})}});jQuery.each({"scrollLeft":"pageXOffset","scrollTop":"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined)return win?prop in win?win[prop]:win.document.documentElement[method]:elem[method];win?win.scrollTo(top?jQuery(win).scrollLeft():val,top?val:jQuery(win).scrollTop()):elem[method]=val},method,val,arguments.length,null)}});jQuery.each({"Height":"height","Width":"width"},function(name,type){jQuery.each({"padding":"inner"+name,"content":type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem))return elem.document.documentElement["client"+name];if(9===elem.nodeType){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});window.jQuery=window.$=jQuery;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return jQuery});jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{"browser":match[1]||"","version":match[2]||"0"}};if(!jQuery.browser){matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=!0;browser.version=matched.version}browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);jQuery.browser=browser}})(window);define("tiny-lib/jquery",function(global){return function(){var ret;return ret||global.$}}(this));(function(window,document,undefined){function minErr(module,ErrorConstructor){ErrorConstructor=ErrorConstructor||Error;return function(){var message,i,code=arguments[0],prefix="["+(module?module+":":"")+code+"] ",template=arguments[1],templateArgs=arguments,stringify=function(obj){if("function"==typeof obj)return obj.toString().replace(/ \{[\s\S]*$/,"");if("undefined"==typeof obj)return"undefined";if("string"!=typeof obj)return JSON.stringify(obj);return obj};message=prefix+template.replace(/\{\d+\}/g,function(match){var arg,index=+match.slice(1,-1);if(index+2<templateArgs.length){arg=templateArgs[index+2];if("function"==typeof arg)return arg.toString().replace(/ ?\{[\s\S]*$/,"");if("undefined"==typeof arg)return"undefined";if("string"!=typeof arg)return toJson(arg);return arg}return match});message=message+"\nhttp://errors.angularjs.org/1.3.0/"+(module?module+"/":"")+code;for(i=2;i<arguments.length;i++)message=message+(2==i?"?":"&")+"p"+(i-2)+"="+encodeURIComponent(stringify(arguments[i]));return new ErrorConstructor(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;var length=obj.length;if(obj.nodeType===NODE_TYPE_ELEMENT&&length)return!0;return isString(obj)||isArray(obj)||0===length||"number"==typeof length&&length>0&&length-1 in obj}function forEach(obj,iterator,context){var key,length,isPrimitive;if(obj)if(isFunction(obj))for(key in obj)"prototype"==key||"length"==key||"name"==key||obj.hasOwnProperty&&!obj.hasOwnProperty(key)||iterator.call(context,obj[key],key,obj);else if(isArray(obj)||isArrayLike(obj)){isPrimitive="object"!=typeof obj;for(key=0,length=obj.length;length>key;key++)(isPrimitive||key in obj)&&iterator.call(context,obj[key],key,obj)}else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context,obj);else for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);return obj}function sortedKeys(obj){var key,keys=[];for(key in obj)obj.hasOwnProperty(key)&&keys.push(key);return keys.sort()}function forEachSorted(obj,iterator,context){var i,keys=sortedKeys(obj);for(i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function extend(dst){var i,ii,obj,keys,j,jj,key,h=dst.$$hashKey;for(i=1,ii=arguments.length;ii>i;i++){obj=arguments[i];if(obj){keys=Object.keys(obj);for(j=0,jj=keys.length;jj>j;j++){key=keys[j];dst[key]=obj[key]}}}setHashKey(dst,h);return dst}function int(str){return parseInt(str,10)}function inherit(parent,extra){return extend(new(extend(function(){},{"prototype":parent})),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!==value&&"object"==typeof value}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isBlob(obj){return"[object Blob]"===toString.call(obj)}function isBoolean(value){return"boolean"==typeof value}function isPromiseLike(obj){return obj&&isFunction(obj.then)}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function nodeName_(element){return lowercase(element.nodeName||element[0].nodeName)}function arrayRemove(array,value){var index=array.indexOf(value);index>=0&&array.splice(index,1);return value}function copy(source,destination,stackSource,stackDest){var emptyObject,index,result,i,h,key;if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(destination){if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");stackSource=stackSource||[];stackDest=stackDest||[];if(isObject(source)){index=stackSource.indexOf(source);if(-1!==index)return stackDest[index];stackSource.push(source);stackDest.push(destination)}if(isArray(source)){destination.length=0;for(i=0;i<source.length;i++){result=copy(source[i],null,stackSource,stackDest);if(isObject(source[i])){stackSource.push(source[i]);stackDest.push(result)}destination.push(result)}}else{h=destination.$$hashKey;isArray(destination)?destination.length=0:forEach(destination,function(value,key){delete destination[key]});for(key in source)if(source.hasOwnProperty(key)){result=copy(source[key],null,stackSource,stackDest);if(isObject(source[key])){stackSource.push(source[key]);stackDest.push(result)}destination[key]=result}setHashKey(destination,h)}}else{destination=source;if(source)if(isArray(source))destination=copy(source,[],stackSource,stackDest);else if(isDate(source))destination=new Date(source.getTime());else if(isRegExp(source)){destination=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]);destination.lastIndex=source.lastIndex}else if(isObject(source)){emptyObject=Object.create(Object.getPrototypeOf(source));destination=copy(source,emptyObject,stackSource,stackDest)}}return destination}function shallowCopy(src,dst){var i,ii,key;if(isArray(src)){dst=dst||[];for(i=0,ii=src.length;ii>i;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(key in src)("$"!==key.charAt(0)||"$"!==key.charAt(1))&&(dst[key]=src[key])}return dst||src}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1)){if(!isDate(o2))return!1;return equals(o1.getTime(),o2.getTime())}if(isRegExp(o1)&&isRegExp(o2))return o1.toString()==o2.toString();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2))return!1;keySet={};for(key in o1){if("$"===key.charAt(0)||isFunction(o1[key]))continue;if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!keySet.hasOwnProperty(key)&&"$"!==key.charAt(0)&&o2[key]!==undefined&&!isFunction(o2[key]))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;length>key;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,curryArgs.concat(slice.call(arguments,0))):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;"string"==typeof key&&"$"===key.charAt(0)&&"$"===key.charAt(1)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE");return val}function toJson(obj,pretty){if("undefined"==typeof obj)return undefined;return JSON.stringify(obj,toJsonReplacer,pretty?"  ":null)}function fromJson(json){return isString(json)?JSON.parse(json):json}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var key_value,key,obj={};forEach((keyValue||"").split("&"),function(keyValue){if(keyValue){key_value=keyValue.replace(/\+/g,"%20").split("=");key=tryDecodeURIComponent(key_value[0]);if(isDefined(key)){var val=isDefined(key_value[1])?tryDecodeURIComponent(key_value[1]):!0;hasOwnProperty.call(obj,key)?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val}}});return obj}function toKeyValue(obj){var parts=[];forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))});return parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;element=jqLite(element);for(i=0;ii>i;++i){attr=ngAttrPrefixes[i]+ngAttr;if(isString(attr=element.attr(attr)))return attr}return null}function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";if(!appElement&&element.hasAttribute&&element.hasAttribute(name)){appElement=element;module=element.getAttribute(name)}});forEach(ngAttrPrefixes,function(prefix){var candidate,name=prefix+"app";if(!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))){appElement=candidate;module=candidate.getAttribute(name)}});if(appElement){config.strictDi=null!==getNgAttribute(appElement,"strict-di");bootstrap(appElement,module?[module]:[],config)}}function bootstrap(element,modules,config){var defaultConfig,doBootstrap,NG_ENABLE_DEBUG_INFO,NG_DEFER_BOOTSTRAP;isObject(config)||(config={});defaultConfig={"strictDi":!1};config=extend(defaultConfig,config);doBootstrap=function(){var tag,injector;element=jqLite(element);if(element.injector()){tag=element[0]===document?"document":startingTag(element);throw ngMinErr("btstrpd","App Already Bootstrapped with this Element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[];modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]);config.debugInfoEnabled&&modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!0)}]);modules.unshift("ng");injector=createInjector(modules,config.strictDi);injector.invoke(["$rootScope","$rootElement","$compile","$injector",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector);compile(element)(scope)})}]);return injector};NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/;NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;if(window&&NG_ENABLE_DEBUG_INFO.test(window.name)){config.debugInfoEnabled=!0;window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")}if(window&&!NG_DEFER_BOOTSTRAP.test(window.name))return doBootstrap();window.name=window.name.replace(NG_DEFER_BOOTSTRAP,"");angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module)});doBootstrap()}}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name;window.location.reload()}function getTestability(rootElement){return angular.element(rootElement).injector().get("$$testability")}function snake_case(name,separator){separator=separator||"_";return name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){var originalCleanData;if(bindJQueryFired)return;jQuery=window.jQuery;if(jQuery&&jQuery.fn.on){jqLite=jQuery;extend(jQuery.fn,{"scope":JQLitePrototype.scope,"isolateScope":JQLitePrototype.isolateScope,"controller":JQLitePrototype.controller,"injector":JQLitePrototype.injector,"inheritedData":JQLitePrototype.inheritedData});originalCleanData=jQuery.cleanData;jQuery.cleanData=function(elems){var events,i,elem;if(skipDestroyOnNextJQueryCleanData)skipDestroyOnNextJQueryCleanData=!1;else for(i=0;null!=(elem=elems[i]);i++){events=jQuery._data(elem,"events");events&&events.$destroy&&jQuery(elem).triggerHandler("$destroy")}originalCleanData(elems)}}else jqLite=JQLite;angular.element=jqLite;bindJQueryFired=!0}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]);assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg));return arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){var keys,key,lastInstance,len,i;if(!path)return obj;keys=path.split(".");lastInstance=obj;len=keys.length;for(i=0;len>i;i++){key=keys[i];obj&&(obj=(lastInstance=obj)[key])}if(!bindFnToScope&&isFunction(obj))return bind(lastInstance,obj);return obj}function getBlockNodes(nodes){var node=nodes[0],endNode=nodes[nodes.length-1],blockNodes=[node];do{node=node.nextSibling;if(!node)break;blockNodes.push(node)}while(node!==endNode);return jqLite(blockNodes)}function createMap(){return Object.create(null)}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);angular.$$minErr=angular.$$minErr||minErr;return ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};assertNotHasOwnProperty(name,"module");requires&&modules.hasOwnProperty(name)&&(modules[name]=null);return ensure(modules,name,function(){function invokeLater(provider,method,insertMethod,queue){queue||(queue=invokeQueue);return function(){queue[insertMethod||"push"]([provider,method,arguments]);return moduleInstance}}var invokeQueue,configBlocks,runBlocks,config,moduleInstance;if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);invokeQueue=[];configBlocks=[];runBlocks=[];config=invokeLater("$injector","invoke","push",configBlocks);moduleInstance={"_invokeQueue":invokeQueue,"_configBlocks":configBlocks,"_runBlocks":runBlocks,"requires":requires,"name":name,"provider":invokeLater("$provide","provider"),"factory":invokeLater("$provide","factory"),"service":invokeLater("$provide","service"),"value":invokeLater("$provide","value"),"constant":invokeLater("$provide","constant","unshift"),"animation":invokeLater("$animateProvider","register"),"filter":invokeLater("$filterProvider","register"),"controller":invokeLater("$controllerProvider","register"),"directive":invokeLater("$compileProvider","directive"),"config":config,"run":function(block){runBlocks.push(block);return this}};configFn&&config(configFn);return moduleInstance})}})}function publishExternalAPI(angular){extend(angular,{"bootstrap":bootstrap,"copy":copy,"extend":extend,"equals":equals,"element":jqLite,"forEach":forEach,"injector":createInjector,"noop":noop,"bind":bind,"toJson":toJson,"fromJson":fromJson,"identity":identity,"isUndefined":isUndefined,"isDefined":isDefined,"isString":isString,"isFunction":isFunction,"isObject":isObject,"isNumber":isNumber,"isElement":isElement,"isArray":isArray,"version":version,"isDate":isDate,"lowercase":lowercase,"uppercase":uppercase,"callbacks":{"counter":0},"getTestability":getTestability,"$$minErr":minErr,"$$csp":csp,"reloadWithDebugInfo":reloadWithDebugInfo});angularModule=setupModuleLoader(window);try{angularModule("ngLocale")}catch(e){angularModule("ngLocale",[]).provider("$locale",$LocaleProvider)}angularModule("ng",["ngLocale"],["$provide",function($provide){$provide.provider({"$$sanitizeUri":$$SanitizeUriProvider});$provide.provider("$compile",$CompileProvider).directive({"a":htmlAnchorDirective,"input":inputDirective,"textarea":inputDirective,"form":formDirective,"script":scriptDirective,"select":selectDirective,"style":styleDirective,"option":optionDirective,"ngBind":ngBindDirective,"ngBindHtml":ngBindHtmlDirective,"ngBindTemplate":ngBindTemplateDirective,"ngClass":ngClassDirective,"ngClassEven":ngClassEvenDirective,"ngClassOdd":ngClassOddDirective,"ngCloak":ngCloakDirective,"ngController":ngControllerDirective,"ngForm":ngFormDirective,"ngHide":ngHideDirective,"ngIf":ngIfDirective,"ngInclude":ngIncludeDirective,"ngInit":ngInitDirective,"ngNonBindable":ngNonBindableDirective,"ngPluralize":ngPluralizeDirective,"ngRepeat":ngRepeatDirective,"ngShow":ngShowDirective,"ngStyle":ngStyleDirective,"ngSwitch":ngSwitchDirective,"ngSwitchWhen":ngSwitchWhenDirective,"ngSwitchDefault":ngSwitchDefaultDirective,"ngOptions":ngOptionsDirective,"ngTransclude":ngTranscludeDirective,"ngModel":ngModelDirective,"ngList":ngListDirective,"ngChange":ngChangeDirective,"pattern":patternDirective,"ngPattern":patternDirective,"required":requiredDirective,"ngRequired":requiredDirective,"minlength":minlengthDirective,"ngMinlength":minlengthDirective,"maxlength":maxlengthDirective,"ngMaxlength":maxlengthDirective,"ngValue":ngValueDirective,"ngModelOptions":ngModelOptionsDirective}).directive({"ngInclude":ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives);$provide.provider({"$anchorScroll":$AnchorScrollProvider,"$animate":$AnimateProvider,"$browser":$BrowserProvider,"$cacheFactory":$CacheFactoryProvider,"$controller":$ControllerProvider,"$document":$DocumentProvider,"$exceptionHandler":$ExceptionHandlerProvider,"$filter":$FilterProvider,"$interpolate":$InterpolateProvider,"$interval":$IntervalProvider,"$http":$HttpProvider,"$httpBackend":$HttpBackendProvider,"$location":$LocationProvider,"$log":$LogProvider,"$parse":$ParseProvider,"$rootScope":$RootScopeProvider,"$q":$QProvider,"$$q":$$QProvider,"$sce":$SceProvider,"$sceDelegate":$SceDelegateProvider,"$sniffer":$SnifferProvider,"$templateCache":$TemplateCacheProvider,"$templateRequest":$TemplateRequestProvider,"$$testability":$$TestabilityProvider,"$timeout":$TimeoutProvider,"$window":$WindowProvider,"$$rAF":$$RAFProvider,"$$asyncCallback":$$AsyncCallbackProvider})}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,i,fragment=context.createDocumentFragment(),nodes=[];if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2];i=wrap[0];for(;i--;)tmp=tmp.lastChild;nodes=concat(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}fragment.textContent="";fragment.innerHTML="";forEach(nodes,function(node){fragment.appendChild(node)});return fragment}function jqLiteParseHTML(html,context){context=context||document;var parsed;if(parsed=SINGLE_TAG_REGEXP.exec(html))return[context.createElement(parsed[1])];if(parsed=jqLiteBuildFragment(html,context))return parsed.childNodes;return[]}function JQLite(element){if(element instanceof JQLite)return element;var argIsString;if(isString(element)){element=trim(element);argIsString=!0}if(!(this instanceof JQLite)){if(argIsString&&"<"!=element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}argIsString?jqLiteAddNodes(this,jqLiteParseHTML(element)):jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element,onlyDescendants){var descendants,i,l;onlyDescendants||jqLiteRemoveData(element);if(element.querySelectorAll){descendants=element.querySelectorAll("*");for(i=0,l=descendants.length;l>i;i++)jqLiteRemoveData(descendants[i])}}function jqLiteOff(element,type,fn,unsupported){var expandoStore,events,handle;if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");expandoStore=jqLiteExpandoStore(element);events=expandoStore&&expandoStore.events;handle=expandoStore&&expandoStore.handle;if(!handle)return;if(type)forEach(type.split(" "),function(type){if(isDefined(fn)){var listenerFns=events[type];arrayRemove(listenerFns||[],fn);if(listenerFns&&listenerFns.length>0)return}removeEventListenerFn(element,type,handle);delete events[type]});else for(type in events){"$destroy"!==type&&removeEventListenerFn(element,type,handle);delete events[type]}}function jqLiteRemoveData(element,name){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name){delete expandoStore.data[name];return}if(expandoStore.handle){expandoStore.events.$destroy&&expandoStore.handle({},"$destroy");jqLiteOff(element)}delete jqCache[expandoId];element.ng339=undefined}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(createIfNecessary&&!expandoStore){element.ng339=expandoId=jqNextId();expandoStore=jqCache[expandoId]={"events":{},"data":{},"handle":undefined}}return expandoStore}function jqLiteData(element,key,value){var isSimpleSetter,isSimpleGetter,massGetter,expandoStore,data;if(jqLiteAcceptsData(element)){isSimpleSetter=isDefined(value);isSimpleGetter=!isSimpleSetter&&key&&!isObject(key);massGetter=!key;expandoStore=jqLiteExpandoStore(element,!isSimpleGetter);data=expandoStore&&expandoStore.data;if(isSimpleSetter)data[key]=value;else{if(massGetter)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}}function jqLiteHasClass(element,selector){if(!element.getAttribute)return!1;return(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1}function jqLiteRemoveClass(element,cssClasses){cssClasses&&element.setAttribute&&forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass);-1===existingClasses.indexOf(" "+cssClass+" ")&&(existingClasses+=cssClass+" ")});element.setAttribute("class",trim(existingClasses))}}function jqLiteAddNodes(root,elements){var length,i;if(elements)if(elements.nodeType)root[root.length++]=elements;else{length=elements.length;if("number"==typeof length&&elements.window!==elements){if(length)for(i=0;length>i;i++)root[root.length++]=elements[i]}else root[root.length++]=elements}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){var names,i,ii;element.nodeType==NODE_TYPE_DOCUMENT&&(element=element.documentElement);names=isArray(name)?name:[name];for(;element;){for(i=0,ii=names.length;ii>i;i++)if((value=jqLite.data(element,names[i]))!==undefined)return value;element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){jqLiteDealoc(element,!0);for(;element.firstChild;)element.removeChild(element.firstChild)}function jqLiteRemove(element,keepData){keepData||jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window;"complete"===win.document.readyState?win.setTimeout(action):jqLite(win).on("load",action)}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(element,name){var nodeName=element.nodeName;return("INPUT"===nodeName||"TEXTAREA"===nodeName)&&ALIASED_ATTR[name]}function createEventHandler(element,events){var eventHandler=function(event,type){var eventFns,eventFnsLength,originalStopImmediatePropagation,i;event.isDefaultPrevented=function(){return event.defaultPrevented};eventFns=events[type||event.type];eventFnsLength=eventFns?eventFns.length:0;if(!eventFnsLength)return;if(isUndefined(event.immediatePropagationStopped)){originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=!0;event.stopPropagation&&event.stopPropagation();originalStopImmediatePropagation&&originalStopImmediatePropagation.call(event)}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===!0};eventFnsLength>1&&(eventFns=shallowCopy(eventFns));for(i=0;eventFnsLength>i;i++)event.isImmediatePropagationStopped()||eventFns[i].call(element,event)};eventHandler.elem=element;return eventHandler}function hashKey(obj,nextUidFn){var objType,key=obj&&obj.$$hashKey;if(key){"function"==typeof key&&(key=obj.$$hashKey());return key}objType=typeof obj;key="function"==objType||"object"==objType&&null!==obj?obj.$$hashKey=objType+":"+(nextUidFn||nextUid)():objType+":"+obj;return key}function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid}}forEach(array,this.put,this)}function anonFn(fn){var fnText=fn.toString().replace(STRIP_COMMENTS,""),args=fnText.match(FN_ARGS);if(args)return"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")";return"fn"}function annotate(fn,strictDi,name){var $inject,fnText,argDecl,last;if("function"==typeof fn){if(!($inject=fn.$inject)){$inject=[];if(fn.length){if(strictDi){isString(name)&&name||(name=fn.name||anonFn(fn));throw $injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name)}fnText=fn.toString().replace(STRIP_COMMENTS,"");argDecl=fnText.match(FN_ARGS);forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else if(isArray(fn)){last=fn.length-1;assertArgFn(fn[last],"fn");$inject=fn.slice(0,last)}else assertArgFn(fn,"fn",!0);return $inject}function createInjector(modulesToLoad,strictDi){function supportObject(delegate){return function(key,value){if(!isObject(key))return delegate(key,value);forEach(key,reverseParams(delegate));
}}function provider(name,provider_){assertNotHasOwnProperty(name,"service");(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_));if(!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function(){var result=instanceInjector.invoke(factory,this,undefined,name);if(isUndefined(result))throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name);return result}}function factory(name,factoryFn,enforce){return provider(name,{"$get":enforce!==!1?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),!1)}function constant(name,value){assertNotHasOwnProperty(name,"constant");providerCache[name]=value;instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{"$delegate":origInstance})}}function loadModules(modulesToLoad){var moduleFn,runBlocks=[];forEach(modulesToLoad,function(module){function runInvokeQueue(queue){var i,ii,invokeArgs,provider;for(i=0,ii=queue.length;ii>i;i++){invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}if(loadedModules.get(module))return;loadedModules.put(module,!0);try{if(isString(module)){moduleFn=angularModule(module);runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks);runInvokeQueue(moduleFn._invokeQueue);runInvokeQueue(moduleFn._configBlocks)}else isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){isArray(module)&&(module=module[module.length-1]);e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack);throw $injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}});return runBlocks}function createInternalInjector(cache,factory){function getService(serviceName){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "));return cache[serviceName]}try{path.unshift(serviceName);cache[serviceName]=INSTANTIATING;return cache[serviceName]=factory(serviceName)}catch(err){cache[serviceName]===INSTANTIATING&&delete cache[serviceName];throw err}finally{path.shift()}}function invoke(fn,self,locals,serviceName){if("string"==typeof locals){serviceName=locals;locals=null}var length,i,key,args=[],$inject=annotate(fn,strictDi,serviceName);for(i=0,length=$inject.length;length>i;i++){key=$inject[i];if("string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key))}isArray(fn)&&(fn=fn[length]);return fn.apply(self,args)}function instantiate(Type,locals,serviceName){var instance,returnedValue,Constructor=function(){};Constructor.prototype=(isArray(Type)?Type[Type.length-1]:Type).prototype;instance=new Constructor;returnedValue=invoke(Type,instance,locals,serviceName);return isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance}return{"invoke":invoke,"instantiate":instantiate,"get":getService,"annotate":annotate,"has":function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}strictDi=strictDi===!0;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap([],!0),providerCache={"$provide":{"provider":supportObject(provider),"factory":supportObject(factory),"service":supportObject(service),"value":supportObject(value),"constant":supportObject(constant),"decorator":decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(){throw $injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(servicename){var provider=providerInjector.get(servicename+providerSuffix);return instanceInjector.invoke(provider.$get,provider,undefined,servicename)});forEach(loadModules(modulesToLoad),function(fn){instanceInjector.invoke(fn||noop)});return instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1};this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;Array.prototype.some.call(list,function(element){if("a"===nodeName_(element)){result=element;return!0}});return result}function getYOffset(){var elem,style,offset=scroll.yOffset;if(isFunction(offset))offset=offset();else if(isElement(offset)){elem=offset[0];style=$window.getComputedStyle(elem);offset="fixed"!==style.position?0:elem.getBoundingClientRect().bottom}else isNumber(offset)||(offset=0);return offset}function scrollTo(elem){var offset,elemTop;if(elem){elem.scrollIntoView();offset=getYOffset();if(offset){elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else $window.scrollTo(0,0)}function scroll(){var elm,hash=$location.hash();hash?(elm=document.getElementById(hash))?scrollTo(elm):(elm=getFirstAnchor(document.getElementsByName(hash)))?scrollTo(elm):"top"===hash&&scrollTo(null):scrollTo(null)}var document=$window.document;autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(newVal,oldVal){if(newVal===oldVal&&""===newVal)return;jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})});return scroll}]}function $$AsyncCallbackProvider(){this.$get=["$$rAF","$timeout",function($$rAF,$timeout){return $$rAF.supported?function(fn){return $$rAF(fn)}:function(fn){return $timeout(fn,0,!1)}}]}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{outstandingRequestCount--;if(0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function startPoller(interval,setTimeout){(function check(){forEach(pollFns,function(pollFn){pollFn()});pollTimeout=setTimeout(check,interval)})()}function cacheStateAndFireUrlChange(){cacheState();fireUrlChange()}function cacheState(){cachedState=window.history.state;cachedState=isUndefined(cachedState)?null:cachedState;equals(cachedState,lastCachedState)&&(cachedState=lastCachedState);lastCachedState=cachedState}function fireUrlChange(){if(lastBrowserUrl===self.url()&&lastHistoryState===cachedState)return;lastBrowserUrl=self.url();lastHistoryState=cachedState;forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)})}function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}var outstandingRequestCount,outstandingRequestCallbacks,pollFns,pollTimeout,cachedState,lastHistoryState,lastBrowserUrl,baseElement,reloadLocation,urlChangeListeners,urlChangeInit,lastCachedState,lastCookies,lastCookieString,cookiePath,self=this,rawDocument=document[0],location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;outstandingRequestCount=0;outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest;self.$$incOutstandingRequestCount=function(){outstandingRequestCount++};self.notifyWhenNoOutstandingRequests=function(callback){forEach(pollFns,function(pollFn){pollFn()});0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};pollFns=[];self.addPollFn=function(fn){isUndefined(pollTimeout)&&startPoller(100,setTimeout);pollFns.push(fn);return fn};lastBrowserUrl=location.href,baseElement=document.find("base"),reloadLocation=null;cacheState();lastHistoryState=cachedState;self.url=function(url,replace,state){var sameState,sameBase;isUndefined(state)&&(state=null);location!==window.location&&(location=window.location);history!==window.history&&(history=window.history);if(url){sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState))return;sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);lastBrowserUrl=url;lastHistoryState=state;if(!$sniffer.history||sameBase&&sameState){sameBase||(reloadLocation=url);replace?location.replace(url):location.href=url}else{history[replace?"replaceState":"pushState"](state,"",url);cacheState();lastHistoryState=cachedState}return self}return reloadLocation||location.href.replace(/%27/g,"'")};self.state=function(){return cachedState};urlChangeListeners=[],urlChangeInit=!1;lastCachedState=null;self.onUrlChange=function(callback){if(!urlChangeInit){$sniffer.history&&jqLite(window).on("popstate",cacheStateAndFireUrlChange);jqLite(window).on("hashchange",cacheStateAndFireUrlChange);urlChangeInit=!0}urlChangeListeners.push(callback);return callback};self.$$checkUrlChange=fireUrlChange;self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""};lastCookies={};lastCookieString="";cookiePath=self.baseHref();self.cookies=function(name,value){var cookieLength,cookieArray,cookie,i,index;if(!name){if(rawDocument.cookie!==lastCookieString){lastCookieString=rawDocument.cookie;cookieArray=lastCookieString.split("; ");lastCookies={};for(i=0;i<cookieArray.length;i++){cookie=cookieArray[i];index=cookie.indexOf("=");if(index>0){name=safeDecodeURIComponent(cookie.substring(0,index));lastCookies[name]===undefined&&(lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1)))}}}return lastCookies}if(value===undefined)rawDocument.cookie=encodeURIComponent(name)+"=;path="+cookiePath+";expires=Thu, 01 Jan 1970 00:00:00 GMT";else if(isString(value)){cookieLength=(rawDocument.cookie=encodeURIComponent(name)+"="+encodeURIComponent(value)+";path="+cookiePath).length+1;cookieLength>4096&&$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!")}};self.defer=function(fn,delay){var timeoutId;outstandingRequestCount++;timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId];completeOutstandingRequest(fn)},delay||0);pendingDeferIds[timeoutId]=!0;return timeoutId};self.defer.cancel=function(deferId){if(pendingDeferIds[deferId]){delete pendingDeferIds[deferId];clearTimeout(deferId);completeOutstandingRequest(noop);return!0}return!1}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){if(entry!=freshEnd){staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry;link(entry.n,entry.p);link(entry,freshEnd);freshEnd=entry;freshEnd.n=null}}function link(nextEntry,prevEntry){if(nextEntry!=prevEntry){nextEntry&&(nextEntry.p=prevEntry);prevEntry&&(prevEntry.n=nextEntry)}}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{"id":cacheId}),data={},capacity=options&&options.capacity||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={"put":function(key,value){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={"key":key});refresh(lruEntry)}if(isUndefined(value))return;key in data||size++;data[key]=value;size>capacity&&this.remove(staleEnd.key);return value},"get":function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},"remove":function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry==freshEnd&&(freshEnd=lruEntry.p);lruEntry==staleEnd&&(staleEnd=lruEntry.n);link(lruEntry.n,lruEntry.p);delete lruHash[key]}delete data[key];size--},"removeAll":function(){data={};size=0;lruHash={};freshEnd=staleEnd=null},"destroy":function(){data=null;stats=null;lruHash=null;delete caches[cacheId]},"info":function(){return extend({},stats,{"size":size})}}}var caches={};cacheFactory.info=function(){var info={};forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()});return info};cacheFactory.get=function(cacheId){return caches[cacheId]};return cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide,$$sanitizeUriProvider){function parseIsolateBindings(scope,directiveName){var LOCAL_REGEXP=/^\s*([@=&])(\??)\s*(\w*)\s*$/,bindings={};forEach(scope,function(definition,scopeName){var match=definition.match(LOCAL_REGEXP);if(!match)throw $compileMinErr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition);bindings[scopeName]={"attrName":match[3]||scopeName,"mode":match[1],"optional":"?"===match[2]}});return bindings}var debugInfoEnabled,hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;this.directive=function registerDirective(name,directiveFactory){assertNotHasOwnProperty(name,"directive");if(isString(name)){assertArg(directiveFactory,"directiveFactory");if(!hasDirectives.hasOwnProperty(name)){hasDirectives[name]=[];$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={"compile":valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link));directive.priority=directive.priority||0;directive.index=index;directive.name=directive.name||name;directive.require=directive.require||directive.controller&&directive.name;directive.restrict=directive.restrict||"EA";isObject(directive.scope)&&(directive.$$isolateBindings=parseIsolateBindings(directive.scope,directive.name));directives.push(directive)}catch(e){$exceptionHandler(e)}});return directives}])}hasDirectives[name].push(directiveFactory)}else forEach(name,reverseParams(registerDirective));return this};this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp);return this}return $$sanitizeUriProvider.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){$$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp);return this}return $$sanitizeUriProvider.imgSrcSanitizationWhitelist()};debugInfoEnabled=!0;this.debugInfoEnabled=function(enabled){if(isDefined(enabled)){debugInfoEnabled=enabled;return this}return debugInfoEnabled};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$document,$sce,$animate,$$sanitizeUri){function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){var compositeLinkFn,namespace;$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes));forEach($compileNodes,function(node,index){node.nodeType==NODE_TYPE_TEXT&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=jqLite(node).wrap("<span></span>").parent()[0])});compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);namespace=null;return function(scope,cloneConnectFn,transcludeControllers,parentBoundTranscludeFn,futureParentElement){var $linkNode,controllerName;assertArg(scope,"scope");namespace||(namespace=detectNamespaceForChildElements(futureParentElement));$linkNode="html"!==namespace?jqLite(wrapTemplate(namespace,jqLite("<div>").append($compileNodes).html())):cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes;if(transcludeControllers)for(controllerName in transcludeControllers)$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance);compile.$$addScopeInfo($linkNode,scope);cloneConnectFn&&cloneConnectFn($linkNode,scope);compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn);return $linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];return node&&"foreignobject"!==nodeName_(node)&&node.toString().match(/SVG/)?"svg":"html"}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn,stableNodeList,nodeListLength;if(nodeLinkFnFound){nodeListLength=nodeList.length;stableNodeList=new Array(nodeListLength);for(i=0;i<linkFns.length;i+=3){idx=linkFns[i];stableNodeList[idx]=nodeList[idx]}}else stableNodeList=nodeList;for(i=0,ii=linkFns.length;ii>i;){node=stableNodeList[linkFns[i++]];nodeLinkFn=linkFns[i++];childLinkFn=linkFns[i++];if(nodeLinkFn){if(nodeLinkFn.scope){childScope=scope.$new();compile.$$addScopeInfo(jqLite(node),childScope)}else childScope=scope;childBoundTranscludeFn=nodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn,nodeLinkFn.elementTranscludeOnThisElement):!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn?parentBoundTranscludeFn:!parentBoundTranscludeFn&&transcludeFn?createBoundTranscludeFn(scope,transcludeFn):null;nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn)}else childLinkFn&&childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}}var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound,i,linkFns=[];for(i=0;i<nodeList.length;i++){attrs=new Attributes;directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective);nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null;nodeLinkFn&&nodeLinkFn.scope&&compile.$$addScopeClass(attrs.$$element);childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn);if(nodeLinkFn||childLinkFn){linkFns.push(i,nodeLinkFn,childLinkFn);linkFnFound=!0;nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn}previousCompileContext=null}return linkFnFound?compositeLinkFn:null}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn,elementTransclusion){var boundTranscludeFn=function(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){if(!transcludedScope){transcludedScope=scope.$new(!1,containingScope);transcludedScope.$$transcluded=!0}return transcludeFn(transcludedScope,cloneFn,controllers,previousBoundTranscludeFn,futureParentElement)};return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,className,attr,name,nName,ngAttrName,value,isNgAttr,nAttrs,j,jj,attrStartName,attrEndName,directiveNName,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName_(node)),"E",maxPriority,ignoreDirective);for(nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;jj>j;j++){attrStartName=!1;attrEndName=!1;attr=nAttrs[j];name=attr.name;value=trim(attr.value);ngAttrName=directiveNormalize(name);(isNgAttr=NG_ATTR_BINDING.test(ngAttrName))&&(name=snake_case(ngAttrName.substr(6),"-"));directiveNName=ngAttrName.replace(/(Start|End)$/,"");if(directiveIsMultiElement(directiveNName)&&ngAttrName===directiveNName+"Start"){attrStartName=name;attrEndName=name.substr(0,name.length-5)+"end";name=name.substr(0,name.length-6)}nName=directiveNormalize(name.toLowerCase());attrsMap[nName]=name;if(isNgAttr||!attrs.hasOwnProperty(nName)){attrs[nName]=value;getBooleanAttrName(node,nName)&&(attrs[nName]=!0)}addAttrInterpolateDirective(node,directives,value,nName,isNgAttr);addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}className=node.className;if(isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);){nName=directiveNormalize(match[2]);addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3]));className=className.substr(match.index+match[0].length)}break;case NODE_TYPE_TEXT:addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue);if(match){nName=directiveNormalize(match[1]);addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2]))}}catch(e){}}directives.sort(byPriority);return directives}function groupScan(node,attrStart,attrEnd){var startNode,nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){startNode=node;do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);if(node.nodeType==NODE_TYPE_ELEMENT){node.hasAttribute(attrStart)&&depth++;node.hasAttribute(attrEnd)&&depth--}nodes.push(node);node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){element=groupScan(element[0],attrStart,attrEnd);return linkFn(scope,element,attrs,controllers,transcludeFn)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){if(pre){attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd));pre.require=directive.require;pre.directiveName=directiveName;(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{"isolateScope":!0}));preLinkFns.push(pre)}if(post){attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd));post.require=directive.require;post.directiveName=directiveName;(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{"isolateScope":!0}));postLinkFns.push(post)}}function getControllers(directiveName,require,$element,elementControllers){var value,match,retrievalMethod="data",optional=!1,$searchElement=$element;if(isString(require)){match=require.match(REQUIRE_PREFIX_REGEXP);require=require.substring(match[0].length);match[3]&&(match[1]?match[3]=null:match[1]=match[3]);if("^"===match[1])retrievalMethod="inheritedData";else if("^^"===match[1]){retrievalMethod="inheritedData";$searchElement=$element.parent()}"?"===match[2]&&(optional=!0);value=null;elementControllers&&"data"===retrievalMethod&&(value=elementControllers[require])&&(value=value.instance);value=value||$searchElement[retrievalMethod]("$"+require+"Controller");if(!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",require,directiveName);return value}if(isArray(require)){value=[];forEach(require,function(require){value.push(getControllers(directiveName,require,$element,elementControllers))})}return value}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement){var transcludeControllers;if(!isScope(scope)){futureParentElement=cloneAttachFn;cloneAttachFn=scope;scope=undefined}hasElementTranscludeDirective&&(transcludeControllers=elementControllers);futureParentElement||(futureParentElement=hasElementTranscludeDirective?$element.parent():$element);return boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}var i,ii,linkFn,controller,isolateScope,elementControllers,transcludeFn,$element,attrs,LOCAL_REGEXP,isolateScopeController,isolateBindingContext,scopeToChild;if(compileNode===linkNode){attrs=templateAttrs;$element=templateAttrs.$$element}else{$element=jqLite(linkNode);attrs=new Attributes($element,templateAttrs)}newIsolateScopeDirective&&(isolateScope=scope.$new(!0));transcludeFn=boundTranscludeFn&&controllersBoundTransclude;if(controllerDirectives){controllers={};elementControllers={};forEach(controllerDirectives,function(directive){var controllerInstance,locals={"$scope":directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,"$element":$element,"$attrs":attrs,"$transclude":transcludeFn};controller=directive.controller;"@"==controller&&(controller=attrs[directive.name]);controllerInstance=$controller(controller,locals,!0,directive.controllerAs);elementControllers[directive.name]=controllerInstance;hasElementTranscludeDirective||$element.data("$"+directive.name+"Controller",controllerInstance.instance);controllers[directive.name]=controllerInstance})}if(newIsolateScopeDirective){LOCAL_REGEXP=/^\s*([@=&])(\??)\s*(\w*)\s*$/;compile.$$addScopeInfo($element,isolateScope,!0,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective)));compile.$$addScopeClass($element,!0);isolateScopeController=controllers&&controllers[newIsolateScopeDirective.name];isolateBindingContext=isolateScope;isolateScopeController&&isolateScopeController.identifier&&newIsolateScopeDirective.bindToController===!0&&(isolateBindingContext=isolateScopeController.instance);forEach(isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings,function(definition,scopeName){var lastValue,parentGet,parentSet,compare,parentValueWatch,unwatch,attrName=definition.attrName,optional=definition.optional,mode=definition.mode;switch(mode){case"@":attrs.$observe(attrName,function(value){isolateBindingContext[scopeName]=value});attrs.$$observers[attrName].$$scope=scope;attrs[attrName]&&(isolateBindingContext[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(optional&&!attrs[attrName])return;parentGet=$parse(attrs[attrName]);compare=parentGet.literal?equals:function(a,b){return a===b||a!==a&&b!==b};parentSet=parentGet.assign||function(){lastValue=isolateBindingContext[scopeName]=parentGet(scope);throw $compileMinErr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],newIsolateScopeDirective.name)};lastValue=isolateBindingContext[scopeName]=parentGet(scope);parentValueWatch=function(parentValue){compare(parentValue,isolateBindingContext[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=isolateBindingContext[scopeName]):isolateBindingContext[scopeName]=parentValue);return lastValue=parentValue};parentValueWatch.$stateful=!0;unwatch=scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal);isolateScope.$on("$destroy",unwatch);break;case"&":parentGet=$parse(attrs[attrName]);isolateBindingContext[scopeName]=function(locals){return parentGet(scope,locals)}}})}if(controllers){forEach(controllers,function(controller){controller()});controllers=null}for(i=0,ii=preLinkFns.length;ii>i;i++){linkFn=preLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}scopeToChild=scope;newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope);childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn);for(i=postLinkFns.length-1;i>=0;i--){linkFn=postLinkFns[i];invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}}var terminalPriority,newScopeDirective,controllerDirectives,controllers,newIsolateScopeDirective,templateDirective,nonTlbTranscludeDirective,hasTranscludeDirective,hasTemplate,hasElementTranscludeDirective,$compileNode,directive,directiveName,$template,replaceDirective,childTranscludeFn,linkFn,directiveValue,i,ii,attrStart,attrEnd,newTemplateAttrs,templateDirectives,unprocessedDirectives;previousCompileContext=previousCompileContext||{};terminalPriority=-Number.MAX_VALUE,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasTemplate=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn;for(i=0,ii=directives.length;ii>i;i++){directive=directives[i];attrStart=directive.$$start;attrEnd=directive.$$end;attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd));$template=undefined;if(terminalPriority>directive.priority)break;if(directiveValue=directive.scope){if(!directive.templateUrl)if(isObject(directiveValue)){assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode);newIsolateScopeDirective=directive}else assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode);newScopeDirective=newScopeDirective||directive}directiveName=directive.name;if(!directive.templateUrl&&directive.controller){directiveValue=directive.controller;controllerDirectives=controllerDirectives||{};assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode);controllerDirectives[directiveName]=directive}if(directiveValue=directive.transclude){hasTranscludeDirective=!0;if(!directive.$$tlb){assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode);nonTlbTranscludeDirective=directive}if("element"==directiveValue){hasElementTranscludeDirective=!0;terminalPriority=directive.priority;$template=$compileNode;$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" "));compileNode=$compileNode[0];replaceWith(jqCollection,sliceArgs($template),compileNode);childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{"nonTlbTranscludeDirective":nonTlbTranscludeDirective})}else{$template=jqLite(jqLiteClone(compileNode)).contents();$compileNode.empty();childTranscludeFn=compile($template,transcludeFn)}}if(directive.template){hasTemplate=!0;assertNoDuplicate("template",templateDirective,directive,$compileNode);templateDirective=directive;directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template;directiveValue=denormalizeTemplate(directiveValue);if(directive.replace){replaceDirective=directive;$template=jqLiteIsTextNode(directiveValue)?[]:removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue)));
compileNode=$template[0];if(1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);newTemplateAttrs={"$attr":{}};templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs);unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));newIsolateScopeDirective&&markDirectivesAsIsolate(templateDirectives);directives=directives.concat(templateDirectives).concat(unprocessedDirectives);mergeTemplateAttributes(templateAttrs,newTemplateAttrs);ii=directives.length}else $compileNode.html(directiveValue)}if(directive.templateUrl){hasTemplate=!0;assertNoDuplicate("template",templateDirective,directive,$compileNode);templateDirective=directive;directive.replace&&(replaceDirective=directive);nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{"controllerDirectives":controllerDirectives,"newIsolateScopeDirective":newIsolateScopeDirective,"templateDirective":templateDirective,"nonTlbTranscludeDirective":nonTlbTranscludeDirective});ii=directives.length}else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn);isFunction(linkFn)?addLinkFns(null,linkFn,attrStart,attrEnd):linkFn&&addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}if(directive.terminal){nodeLinkFn.terminal=!0;terminalPriority=Math.max(terminalPriority,directive.priority)}}nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0;nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective;nodeLinkFn.elementTranscludeOnThisElement=hasElementTranscludeDirective;nodeLinkFn.templateOnThisElement=hasTemplate;nodeLinkFn.transclude=childTranscludeFn;previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective;return nodeLinkFn}function markDirectivesAsIsolate(directives){for(var j=0,jj=directives.length;jj>j;j++)directives[j]=inherit(directives[j],{"$$isolateScope":!0})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){var match,directive,directives,i,ii;if(name===ignoreDirective)return null;match=null;if(hasDirectives.hasOwnProperty(name))for(directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)try{directive=directives[i];if((maxPriority===undefined||maxPriority>directive.priority)&&-1!=directive.restrict.indexOf(location)){startAttrName&&(directive=inherit(directive,{"$$start":startAttrName,"$$end":endAttrName}));tDirectives.push(directive);match=directive}}catch(e){$exceptionHandler(e)}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++){directive=directives[i];if(directive.multiElement)return!0}return!1}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){if("$"!=key.charAt(0)){src[key]&&src[key]!==value&&(value+=("style"===key?";":" ")+src[key]);dst.$set(key,value,!0,srcAttr[key])}});forEach(src,function(value,key){if("class"==key){safeAddClass($element,value);dst.class=(dst.class?dst.class+" ":"")+value}else if("style"==key){$element.attr("style",$element.attr("style")+";"+value);dst.style=(dst.style?dst.style+";":"")+value}else if("$"!=key.charAt(0)&&!dst.hasOwnProperty(key)){dst[key]=value;dstAttr[key]=srcAttr[key]}})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=extend({},origAsyncDirective,{"templateUrl":null,"transclude":null,"replace":null,"$$originalDirective":origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;$compileNode.empty();$templateRequest($sce.getTrustedResourceUrl(templateUrl)).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn,templateDirectives,scope,beforeTemplateLinkNode,linkRootElement,boundTranscludeFn,linkNode,oldClasses;content=denormalizeTemplate(content);if(origAsyncDirective.replace){$template=jqLiteIsTextNode(content)?[]:removeComments(wrapTemplate(templateNamespace,trim(content)));compileNode=$template[0];if(1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={"$attr":{}};replaceWith($rootElement,$compileNode,compileNode);templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectivesAsIsolate(templateDirectives);directives=templateDirectives.concat(directives);mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else{compileNode=beforeTemplateCompileNode;$compileNode.html(content)}directives.unshift(derivedSyncDirective);afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext);forEach($rootElement,function(node,i){node==compileNode&&($rootElement[i]=$compileNode[0])});afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);for(;linkQueue.length;){scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(scope.$$destroyed)continue;if(beforeTemplateLinkNode!==beforeTemplateCompileNode){oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode));replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode);safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn):boundTranscludeFn;afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}linkQueue=null});return function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;if(scope.$$destroyed)return;if(linkQueue){linkQueue.push(scope);linkQueue.push(node);linkQueue.push(rootElement);linkQueue.push(childBoundTranscludeFn)}else{afterTemplateNodeLinkFn.transcludeOnThisElement&&(childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn));afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn)}}}function byPriority(a,b){var diff=b.priority-a.priority;if(0!==diff)return diff;if(a.name!==b.name)return a.name<b.name?-1:1;return a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",previousDirective.name,directive.name,what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({"priority":0,"compile":function(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;hasCompileParent&&compile.$$addBindingClass(templateNodeParent);return function(scope,node){var parent=node.parent();hasCompileParent||compile.$$addBindingClass(parent);compile.$$addBindingInfo(parent,interpolateFn.expressions);scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})}}})}function wrapTemplate(type,template){type=lowercase(type||"html");switch(type){case"svg":case"math":var wrapper=document.createElement("div");wrapper.innerHTML="<"+type+">"+template+"</"+type+">";return wrapper.childNodes[0].childNodes;default:return template}}function getTrustedContext(node,attrNormalizedName){if("srcdoc"==attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);if("xlinkHref"==attrNormalizedName||"form"==tag&&"action"==attrNormalizedName||"img"!=tag&&("src"==attrNormalizedName||"ngSrc"==attrNormalizedName))return $sce.RESOURCE_URL}function addAttrInterpolateDirective(node,directives,value,name,allOrNothing){var interpolateFn=$interpolate(value,!0);if(!interpolateFn)return;if("multiple"===name&&"select"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));directives.push({"priority":100,"compile":function(){return{"pre":function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers={});if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");if(!attr[name])return;interpolateFn=$interpolate(attr[name],!0,getTrustedContext(node,name),ALL_OR_NOTHING_ATTRS[name]||allOrNothing);if(!interpolateFn)return;attr[name]=interpolateFn(scope);($$observers[name]||($$observers[name]=[])).$$inter=!0;(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!=oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)})}}}})}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,j,j2,jj,fragment,k,kk,element,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;ii>i;i++)if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(j=i,j2=j+removeCount-1,jj=$rootElement.length;jj>j;j++,j2++)jj>j2?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1;$rootElement.context===firstElementToRemove&&($rootElement.context=newNode);break}parent&&parent.replaceChild(newNode,firstElementToRemove);fragment=document.createDocumentFragment();fragment.appendChild(firstElementToRemove);jqLite(newNode).data(jqLite(firstElementToRemove).data());if(jQuery){skipDestroyOnNextJQueryCleanData=!0;jQuery.cleanData([firstElementToRemove])}else delete jqLite.cache[firstElementToRemove[jqLite.expando]];for(k=1,kk=elementsToRemove.length;kk>k;k++){element=elementsToRemove[k];jqLite(element).remove();fragment.appendChild(element);delete elementsToRemove[k]}elementsToRemove[0]=newNode;elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}var startSymbol,endSymbol,denormalizeTemplate,NG_ATTR_BINDING,Attributes=function(element,attributesToCopy){var keys,i,l,key;if(attributesToCopy){keys=Object.keys(attributesToCopy);for(i=0,l=keys.length;l>i;i++){key=keys[i];this[key]=attributesToCopy[key]}}else this.$attr={};this.$$element=element};Attributes.prototype={"$normalize":directiveNormalize,"$addClass":function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},"$removeClass":function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},"$updateClass":function(newClasses,oldClasses){var toRemove,toAdd=tokenDifference(newClasses,oldClasses);toAdd&&toAdd.length&&$animate.addClass(this.$$element,toAdd);toRemove=tokenDifference(oldClasses,newClasses);toRemove&&toRemove.length&&$animate.removeClass(this.$$element,toRemove)},"$set":function(key,value,writeAttr,attrName){var nodeName,result,trimmedSrcset,srcPattern,pattern,rawUris,nbrUrisWith2parts,i,innerIdx,lastTuple,$$observers,node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(node,key),observer=key;if(booleanKey){this.$$element.prop(key,value);attrName=booleanKey}else if(aliasedKey){this[aliasedKey]=value;observer=aliasedKey}this[key]=value;if(attrName)this.$attr[key]=attrName;else{attrName=this.$attr[key];attrName||(this.$attr[key]=attrName=snake_case(key,"-"))}nodeName=nodeName_(this.$$element);if("a"===nodeName&&"href"===key||"img"===nodeName&&"src"===key)this[key]=value=$$sanitizeUri(value,"src"===key);else if("img"===nodeName&&"srcset"===key){result="";trimmedSrcset=trim(value);srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/;pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/;rawUris=trimmedSrcset.split(pattern);nbrUrisWith2parts=Math.floor(rawUris.length/2);for(i=0;nbrUrisWith2parts>i;i++){innerIdx=2*i;result+=$$sanitizeUri(trim(rawUris[innerIdx]),!0);result+=" "+trim(rawUris[innerIdx+1])}lastTuple=trim(rawUris[2*i]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),!0);2===lastTuple.length&&(result+=" "+trim(lastTuple[1]));this[key]=value=result}writeAttr!==!1&&(null===value||value===undefined?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value));$$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},"$observe":function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);listeners.push(fn);$rootScope.$evalAsync(function(){listeners.$$inter||fn(attrs[key])});return function(){arrayRemove(listeners,fn)}}};startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;compile.$$addBindingInfo=debugInfoEnabled?function($element,binding){var bindings=$element.data("$binding")||[];isArray(binding)?bindings=bindings.concat(binding):bindings.push(binding);$element.data("$binding",bindings)}:noop;compile.$$addBindingClass=debugInfoEnabled?function($element){safeAddClass($element,"ng-binding")}:noop;compile.$$addScopeInfo=debugInfoEnabled?function($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop;compile.$$addScopeClass=debugInfoEnabled?function($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop;return compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function tokenDifference(str1,str2){var i,token,j,values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(i=0;i<tokens1.length;i++){token=tokens1[i];for(j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){var i,node;jqNodes=jqLite(jqNodes);i=jqNodes.length;if(1>=i)return jqNodes;for(;i--;){node=jqNodes[i];node.nodeType===NODE_TYPE_COMMENT&&splice.call(jqNodes,i,1)}return jqNodes}function $ControllerProvider(){var controllers={},globals=!1,CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller");isObject(name)?extend(controllers,name):controllers[name]=constructor};this.allowGlobals=function(){globals=!0};this.$get=["$injector","$window",function($injector,$window){function addIdentifier(locals,identifier,instance,name){if(!locals||!isObject(locals.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);locals.$scope[identifier]=instance}return function(expression,locals,later,ident){var instance,match,constructor,identifier,Constructor;later=later===!0;ident&&isString(ident)&&(identifier=ident);if(isString(expression)){match=expression.match(CNTRL_REG),constructor=match[1],identifier=identifier||match[3];expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||(globals?getter($window,constructor,!0):undefined);assertArgFn(expression,constructor,!0)}if(later){Constructor=function(){};Constructor.prototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;instance=new Constructor;identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name);return extend(function(){$injector.invoke(expression,instance,locals,constructor);return instance},{"instance":instance,"identifier":identifier})}instance=$injector.instantiate(expression,locals,constructor);identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name);return instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(exception,cause){$log.error.apply($log,arguments)}}]}function parseHeaders(headers){var key,val,i,parsed={};if(!headers)return parsed;forEach(headers.split("\n"),function(line){i=line.indexOf(":");key=lowercase(trim(line.substr(0,i)));val=trim(line.substr(i+1));key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)});return parsed}function headersGetter(headers){var headersObj=isObject(headers)?headers:undefined;return function(name){headersObj||(headersObj=parseHeaders(headers));if(name)return headersObj[lowercase(name)]||null;return headersObj}}function transformData(data,headers,fns){if(isFunction(fns))return fns(data,headers);forEach(fns,function(fn){data=fn(data,headers)});return data}function isSuccess(status){return status>=200&&300>status}function $HttpProvider(){var interceptorFactories,JSON_START=/^\s*(\[|\{[^\{])/,JSON_END=/[\}\]]\s*$/,PROTECTION_PREFIX=/^\)\]\}',?\n/,APPLICATION_JSON="application/json",CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"},defaults=this.defaults={"transformResponse":[function(data,headers){if(isString(data)){data=data.replace(PROTECTION_PREFIX,"");var contentType=headers("Content-Type");(contentType&&0===contentType.indexOf(APPLICATION_JSON)||JSON_START.test(data)&&JSON_END.test(data))&&(data=fromJson(data))}return data}],"transformRequest":[function(d){return!isObject(d)||isFile(d)||isBlob(d)?d:toJson(d)}],"headers":{"common":{"Accept":"application/json, text/plain, */*"},"post":shallowCopy(CONTENT_TYPE_APPLICATION_JSON),"put":shallowCopy(CONTENT_TYPE_APPLICATION_JSON),"patch":shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN"},useApplyAsync=!1;this.useApplyAsync=function(value){if(isDefined(value)){useApplyAsync=!!value;return this}return useApplyAsync};interceptorFactories=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$browser,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response);response.data?resp.data=transformData(response.data,response.headers,config.transformResponse):resp.data=response.data;return isSuccess(response.status)?resp:$q.reject(resp)}function mergeHeaders(config){function execHeaders(headers){var headerContent;forEach(headers,function(headerFn,header){if(isFunction(headerFn)){headerContent=headerFn();null!=headerContent?headers[header]=headerContent:delete headers[header]}})}var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}execHeaders(reqHeaders);return reqHeaders}var serverRequest,chain,promise,thenFn,rejectFn,config={"method":"get","transformRequest":defaults.transformRequest,"transformResponse":defaults.transformResponse},headers=mergeHeaders(requestConfig);extend(config,requestConfig);config.headers=headers;config.method=uppercase(config.method);serverRequest=function(config){headers=config.headers;var reqData=transformData(config.data,headersGetter(headers),config.transformRequest);isUndefined(reqData)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]});isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials);return sendReq(config,reqData,headers).then(transformResponse,transformResponse)};chain=[serverRequest,undefined];promise=$q.when(config);forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError);(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});for(;chain.length;){thenFn=chain.shift();rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}promise.success=function(fn){promise.then(function(response){fn(response.data,response.status,response.headers,config)});return promise};promise.error=function(fn){promise.then(null,function(response){fn(response.data,response.status,response.headers,config)});return promise};return promise}function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend(config||{},{"method":name,"url":url}))}})}function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend(config||{},{"method":name,"url":url,"data":data}))}})}function sendReq(config,reqData,reqHeaders){function done(status,response,headersString,statusText){function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText)}cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString),statusText]):cache.remove(url));if(useApplyAsync)$rootScope.$applyAsync(resolveHttpPromise);else{resolveHttpPromise();$rootScope.$$phase||$rootScope.$apply()}}function resolvePromise(response,status,headers,statusText){status=Math.max(status,0);(isSuccess(status)?deferred.resolve:deferred.reject)({"data":response,"status":status,"headers":headersGetter(headers),"config":config,"statusText":statusText})}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);-1!==idx&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,xsrfValue,deferred=$q.defer(),promise=deferred.promise,url=buildUrl(config.url,config.params);$http.pendingRequests.push(config);promise.then(removePendingReq,removePendingReq);!config.cache&&!defaults.cache||config.cache===!1||"GET"!==config.method&&"JSONP"!==config.method||(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache);if(cache){cachedResp=cache.get(url);if(isDefined(cachedResp)){if(isPromiseLike(cachedResp)){cachedResp.then(removePendingReq,removePendingReq);return cachedResp}isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3]):resolvePromise(cachedResp,200,{},"OK")}else cache.put(url,promise)}if(isUndefined(cachedResp)){xsrfValue=urlIsSameOrigin(config.url)?$browser.cookies()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue);$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType)}return promise}function buildUrl(url,params){if(!params)return url;var parts=[];forEachSorted(params,function(value,key){if(null===value||isUndefined(value))return;isArray(value)||(value=[value]);forEach(value,function(v){isObject(v)&&(v=isDate(v)?v.toISOString():toJson(v));parts.push(encodeUriQuery(key)+"="+encodeUriQuery(v))})});parts.length>0&&(url+=(-1==url.indexOf("?")?"?":"&")+parts.join("&"));return url}var defaultCache=$cacheFactory("$http"),reversedInterceptors=[];forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))});$http.pendingRequests=[];createShortMethods("get","delete","head","jsonp");createShortMethodsWithData("post","put","patch");$http.defaults=defaults;return $http}]}function createXhr(){return new window.XMLHttpRequest}function $HttpBackendProvider(){this.$get=["$browser","$window","$document",function($browser,$window,$document){return createHttpBackend($browser,createXhr,$browser.defer,$window.angular.callbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,callbackId,done){var script=rawDocument.createElement("script"),callback=null;script.type="text/javascript";script.src=url;script.async=!0;callback=function(event){var status,text;removeEventListenerFn(script,"load",callback);removeEventListenerFn(script,"error",callback);rawDocument.body.removeChild(script);script=null;status=-1;text="unknown";if(event){"load"!==event.type||callbacks[callbackId].called||(event={"type":"error"});text=event.type;status="error"===event.type?404:200}done&&done(status,text)};addEventListenerFn(script,"load",callback);addEventListenerFn(script,"error",callback);rawDocument.body.appendChild(script);return callback}return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){jsonpDone&&jsonpDone();xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText){timeoutId&&$browserDefer.cancel(timeoutId);jsonpDone=xhr=null;callback(status,response,headersString,statusText);$browser.$$completeOutstandingRequest(noop)}var callbackId,jsonpDone,xhr,requestError,timeoutId;$browser.$$incOutstandingRequestCount();url=url||$browser.url();if("jsonp"==lowercase(method)){callbackId="_"+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data;callbacks[callbackId].called=!0};jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),callbackId,function(status,text){completeRequest(callback,status,callbacks[callbackId].data,"",text);callbacks[callbackId]=noop})}else{xhr=createXhr();xhr.open(method,url,!0);forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)});xhr.onload=function(){var statusText=xhr.statusText||"",response="response"in xhr?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:"file"==urlResolve(url).protocol?404:0);completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText)};requestError=function(){completeRequest(callback,-1,null,null,"")};xhr.onerror=requestError;xhr.onabort=requestError;withCredentials&&(xhr.withCredentials=!0);if(responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(post||null)}timeout>0?timeoutId=$browserDefer(timeoutRequest,timeout):isPromiseLike(timeout)&&timeout.then(timeoutRequest)}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){if(value){startSymbol=value;return this}return startSymbol};this.endSymbol=function(value){if(value){endSymbol=value;return this}return endSymbol};this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function escape(ch){return"\\\\\\"+ch}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function parseStringifyInterceptor(value){try{return stringify(getValue(value))}catch(err){var newErr=$interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr)}}var startIndex,endIndex,index,expressions,parseFns,textLength,exp,concat,expressionPositions,compute,getValue,stringify;allOrNothing=!!allOrNothing;index=0,expressions=[],parseFns=[],textLength=text.length,concat=[],expressionPositions=[];for(;textLength>index;){if(-1==(startIndex=text.indexOf(startSymbol,index))||-1==(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))){index!==textLength&&concat.push(unescapeText(text.substring(index)));break}index!==startIndex&&concat.push(unescapeText(text.substring(index,startIndex)));exp=text.substring(startIndex+startSymbolLength,endIndex);expressions.push(exp);parseFns.push($parse(exp,parseStringifyInterceptor));index=endIndex+endSymbolLength;expressionPositions.push(concat.length);concat.push("")}if(trustedContext&&concat.length>1)throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text);if(!mustHaveExpression||expressions.length){compute=function(values){for(var i=0,ii=expressions.length;ii>i;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}return concat.join("")};getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value)};stringify=function(value){if(null==value)return"";switch(typeof value){case"string":break;case"number":value=""+value;break;default:value=toJson(value)}return value};return extend(function(context){var newErr,i=0,ii=expressions.length,values=new Array(ii);try{for(;ii>i;i++)values[i]=parseFns[i](context);return compute(values)}catch(err){newErr=$interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr)}},{"exp":text,"expressions":expressions,"$$watchDelegate":function(scope,listener,objectEquality){var lastValue;return scope.$watchGroup(parseFns,function(values,oldValues){var currValue=compute(values);isFunction(listener)&&listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope);lastValue=currValue},objectEquality)}})}}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");$interpolate.startSymbol=function(){return startSymbol};$interpolate.endSymbol=function(){return endSymbol};return $interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q",function($rootScope,$window,$q,$$q){function interval(fn,delay,count,invokeApply){var setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;count=isDefined(count)?count:0;promise.then(null,null,fn);promise.$$intervalId=setInterval(function(){deferred.notify(iteration++);if(count>0&&iteration>=count){deferred.resolve(iteration);clearInterval(promise.$$intervalId);delete intervals[promise.$$intervalId]}skipApply||$rootScope.$apply()},delay);intervals[promise.$$intervalId]=deferred;return promise}var intervals={};interval.cancel=function(promise){if(promise&&promise.$$intervalId in intervals){intervals[promise.$$intervalId].reject("canceled");$window.clearInterval(promise.$$intervalId);delete intervals[promise.$$intervalId];return!0}return!1};return interval}]}function $LocaleProvider(){this.$get=function(){return{"id":"en-us","NUMBER_FORMATS":{"DECIMAL_SEP":".","GROUP_SEP":",","PATTERNS":[{"minInt":1,"minFrac":0,"maxFrac":3,"posPre":"","posSuf":"","negPre":"-","negSuf":"","gSize":3,"lgSize":3},{"minInt":1,
"minFrac":2,"maxFrac":2,"posPre":"¤","posSuf":"","negPre":"(¤","negSuf":")","gSize":3,"lgSize":3}],"CURRENCY_SYM":"$"},"DATETIME_FORMATS":{"MONTH":"January,February,March,April,May,June,July,August,September,October,November,December".split(","),"SHORTMONTH":"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),"DAY":"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),"SHORTDAY":"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),"AMPMS":["AM","PM"],"medium":"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a","fullDate":"EEEE, MMMM d, y","longDate":"MMMM d, y","mediumDate":"MMM d, y","shortDate":"M/d/yy","mediumTime":"h:mm:ss a","shortTime":"h:mm a"},"pluralCat":function(num){if(1===num)return"one";return"other"}}}}function encodePath(path){var segments=path.split("/"),i=segments.length;for(;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj,appBase){var parsedUrl=urlResolve(absoluteUrl,appBase);locationObj.$$protocol=parsedUrl.protocol;locationObj.$$host=parsedUrl.hostname;locationObj.$$port=int(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj,appBase){var match,prefixed="/"!==relativeUrl.charAt(0);prefixed&&(relativeUrl="/"+relativeUrl);match=urlResolve(relativeUrl,appBase);locationObj.$$path=decodeURIComponent(prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname);locationObj.$$search=parseKeyValue(match.search);locationObj.$$hash=decodeURIComponent(match.hash);locationObj.$$path&&"/"!=locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function beginsWith(begin,whole){if(0===whole.indexOf(begin))return whole.substr(begin.length)}function stripHash(url){var index=url.indexOf("#");return-1==index?url:url.substr(0,index)}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,basePrefix){this.$$html5=!0;basePrefix=basePrefix||"";var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this,appBase);this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this,appBase);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash;this.$$absUrl=appBaseNoFile+this.$$url.substr(1)};this.$$parseLinkUrl=function(url,relHref){var appUrl,prevAppUrl,rewrittenUrl;if(relHref&&"#"===relHref[0]){this.hash(relHref.slice(1));return!0}if((appUrl=beginsWith(appBase,url))!==undefined){prevAppUrl=appUrl;rewrittenUrl=(appUrl=beginsWith(basePrefix,appUrl))!==undefined?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl}else(appUrl=beginsWith(appBaseNoFile,url))!==undefined?rewrittenUrl=appBaseNoFile+appUrl:appBaseNoFile==url+"/"&&(rewrittenUrl=appBaseNoFile);rewrittenUrl&&this.$$parse(rewrittenUrl);return!!rewrittenUrl}}function LocationHashbangUrl(appBase,hashPrefix){var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this,appBase);this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/[A-Z]:(\/.*)/;0===url.indexOf(base)&&(url=url.replace(base,""));if(windowsFilePathExp.exec(url))return path;firstPathSegmentMatch=windowsFilePathExp.exec(path);return firstPathSegmentMatch?firstPathSegmentMatch[1]:path}var withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url),withoutHashUrl="#"==withoutBaseUrl.charAt(0)?beginsWith(hashPrefix,withoutBaseUrl):this.$$html5?withoutBaseUrl:"";if(!isString(withoutHashUrl))throw $locationMinErr("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',url,hashPrefix);parseAppUrl(withoutHashUrl,this,appBase);this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase);this.$$compose()};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash;this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")};this.$$parseLinkUrl=function(url,relHref){if(stripHash(appBase)==stripHash(url)){this.$$parse(url);return!0}return!1}}function LocationHashbangInHtml5Url(appBase,hashPrefix){this.$$html5=!0;LocationHashbangUrl.apply(this,arguments);var appBaseNoFile=stripFile(appBase);this.$$parseLinkUrl=function(url,relHref){var rewrittenUrl,appUrl;if(relHref&&"#"===relHref[0]){this.hash(relHref.slice(1));return!0}appBase==stripHash(url)?rewrittenUrl=url:(appUrl=beginsWith(appBaseNoFile,url))?rewrittenUrl=appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile);rewrittenUrl&&this.$$parse(rewrittenUrl);return!!rewrittenUrl};this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash;this.$$absUrl=appBase+hashPrefix+this.$$url}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){if(isUndefined(value))return this[property];this[property]=preprocess(value);this.$$compose();return this}}function $LocationProvider(){var hashPrefix="",html5Mode={"enabled":!1,"requireBase":!0,"rewriteLinks":!0};this.hashPrefix=function(prefix){if(isDefined(prefix)){hashPrefix=prefix;return this}return hashPrefix};this.html5Mode=function(mode){if(isBoolean(mode)){html5Mode.enabled=mode;return this}if(isObject(mode)){isBoolean(mode.enabled)&&(html5Mode.enabled=mode.enabled);isBoolean(mode.requireBase)&&(html5Mode.requireBase=mode.requireBase);isBoolean(mode.rewriteLinks)&&(html5Mode.rewriteLinks=mode.rewriteLinks);return this}return html5Mode};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function($rootScope,$browser,$sniffer,$rootElement){function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url(),oldState=$location.$$state;try{$browser.url(url,replace,state);$location.$$state=$browser.state()}catch(e){$location.url(oldUrl);$location.$$state=oldState;throw e}}function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}var $location,LocationMode,appBase,IGNORE_URI_REGEXP,initializing,baseHref=$browser.baseHref(),initialUrl=$browser.url();if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase)throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!");appBase=serverBase(initialUrl)+(baseHref||"/");LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else{appBase=stripHash(initialUrl);LocationMode=LocationHashbangUrl}$location=new LocationMode(appBase,"#"+hashPrefix);$location.$$parseLinkUrl(initialUrl,initialUrl);$location.$$state=$browser.state();IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;$rootElement.on("click",function(event){var elm,absHref,relHref;if(!html5Mode.rewriteLinks||event.ctrlKey||event.metaKey||2==event.which)return;elm=jqLite(event.target);for(;"a"!==nodeName_(elm[0]);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;absHref=elm.prop("href");relHref=elm.attr("href")||elm.attr("xlink:href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href);if(IGNORE_URI_REGEXP.test(absHref))return;if(absHref&&!elm.attr("target")&&!event.isDefaultPrevented()&&$location.$$parseLinkUrl(absHref,relHref)){event.preventDefault();if($location.absUrl()!=$browser.url()){$rootScope.$apply();window.angular["ff-684208-preventDefault"]=!0}}});$location.absUrl()!=initialUrl&&$browser.url($location.absUrl(),!0);initializing=!0;$browser.onUrlChange(function(newUrl,newState){$rootScope.$evalAsync(function(){var oldUrl=$location.absUrl(),oldState=$location.$$state;$location.$$parse(newUrl);$location.$$state=newState;if($rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState;setBrowserUrlWithFallback(oldUrl,!1,oldState)}else{initializing=!1;afterLocationChange(oldUrl,oldState)}});$rootScope.$$phase||$rootScope.$digest()});$rootScope.$watch(function(){var oldUrl=$browser.url(),oldState=$browser.state(),currentReplace=$location.$$replace,urlOrStateChanged=oldUrl!==$location.absUrl()||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;if(initializing||urlOrStateChanged){initializing=!1;$rootScope.$evalAsync(function(){if($rootScope.$broadcast("$locationChangeStart",$location.absUrl(),oldUrl,$location.$$state,oldState).defaultPrevented){$location.$$parse(oldUrl);$location.$$state=oldState}else{urlOrStateChanged&&setBrowserUrlWithFallback($location.absUrl(),currentReplace,oldState===$location.$$state?null:$location.$$state);afterLocationChange(oldUrl,oldState)}})}$location.$$replace=!1});return $location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){if(isDefined(flag)){debug=flag;return this}return debug};this.$get=["$window",function($window){function formatError(arg){arg instanceof Error&&(arg.stack?arg=arg.message&&-1===arg.stack.indexOf(arg.message)?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line));return arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=!1;try{hasApply=!!logFn.apply}catch(e){}if(hasApply)return function(){var args=[];forEach(arguments,function(arg){args.push(formatError(arg))});return logFn.apply(console,args)};return function(arg1,arg2){logFn(arg1,null==arg2?"":arg2)}}return{"log":consoleLog("log"),"info":consoleLog("info"),"warn":consoleLog("warn"),"error":consoleLog("error"),"debug":function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function ensureSafeMemberName(name,fullExpression){if("__defineGetter__"===name||"__defineSetter__"===name||"__lookupGetter__"===name||"__lookupSetter__"===name||"__proto__"===name)throw $parseMinErr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",fullExpression);return name}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.window===obj)throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.children&&(obj.nodeName||obj.prop&&obj.attr&&obj.find))throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===Object)throw $parseMinErr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",fullExpression)}return obj}function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===CALL||obj===APPLY||obj===BIND)throw $parseMinErr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",fullExpression)}}function isConstant(exp){return exp.constant}function setter(obj,path,setValue,fullExp){var element,key,i,propertyObj;ensureSafeObject(obj,fullExp);element=path.split(".");for(i=0;element.length>1;i++){key=ensureSafeMemberName(element.shift(),fullExp);propertyObj=ensureSafeObject(obj[key],fullExp);if(!propertyObj){propertyObj={};obj[key]=propertyObj}obj=propertyObj}key=ensureSafeMemberName(element.shift(),fullExp);ensureSafeObject(obj[key],fullExp);obj[key]=setValue;return setValue}function cspSafeGetterFn(key0,key1,key2,key3,key4,fullExp){ensureSafeMemberName(key0,fullExp);ensureSafeMemberName(key1,fullExp);ensureSafeMemberName(key2,fullExp);ensureSafeMemberName(key3,fullExp);ensureSafeMemberName(key4,fullExp);return function(scope,locals){var pathVal=locals&&locals.hasOwnProperty(key0)?locals:scope;if(null==pathVal)return pathVal;pathVal=pathVal[key0];if(!key1)return pathVal;if(null==pathVal)return undefined;pathVal=pathVal[key1];if(!key2)return pathVal;if(null==pathVal)return undefined;pathVal=pathVal[key2];if(!key3)return pathVal;if(null==pathVal)return undefined;pathVal=pathVal[key3];if(!key4)return pathVal;if(null==pathVal)return undefined;pathVal=pathVal[key4];return pathVal}}function getterFn(path,options,fullExp){var pathKeys,pathKeysLength,code,evaledFnGetter,fn=getterFnCache[path];if(fn)return fn;pathKeys=path.split("."),pathKeysLength=pathKeys.length;if(options.csp)fn=6>pathKeysLength?cspSafeGetterFn(pathKeys[0],pathKeys[1],pathKeys[2],pathKeys[3],pathKeys[4],fullExp):function(scope,locals){var val,i=0;do{val=cspSafeGetterFn(pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],fullExp)(scope,locals);locals=undefined;scope=val}while(pathKeysLength>i);return val};else{code="";forEach(pathKeys,function(key,index){ensureSafeMemberName(key,fullExp);code+="if(s == null) return undefined;\ns="+(index?"s":'((l&&l.hasOwnProperty("'+key+'"))?l:s)')+"."+key+";\n"});code+="return s;";evaledFnGetter=new Function("s","l",code);evaledFnGetter.toString=valueFn(code);fn=evaledFnGetter}fn.sharedGetter=!0;fn.assign=function(self,value){return setter(self,path,value,path)};getterFnCache[path]=fn;return fn}function $ParseProvider(){var cache=createMap(),$parseOptions={"csp":!1};this.$get=["$filter","$sniffer",function($filter,$sniffer){function wrapSharedExpression(exp){var wrapped=exp;if(exp.sharedGetter){wrapped=function(self,locals){return exp(self,locals)};wrapped.literal=exp.literal;wrapped.constant=exp.constant;wrapped.assign=exp.assign}return wrapped}function collectExpressionInputs(inputs,list){var i,ii,input;for(i=0,ii=inputs.length;ii>i;i++){input=inputs[i];input.constant||(input.inputs?collectExpressionInputs(input.inputs,list):-1===list.indexOf(input)&&list.push(input))}return list}function expressionInputDirtyCheck(newValue,oldValueOfValue){if(null==newValue||null==oldValueOfValue)return newValue===oldValueOfValue;if("object"==typeof newValue){newValue=newValue.valueOf();if("object"==typeof newValue)return!1}return newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression){var lastResult,oldInputValue,oldInputValueOfValues,i,ii,inputExpressions=parsedExpression.$$inputs||(parsedExpression.$$inputs=collectExpressionInputs(parsedExpression.inputs,[]));if(1===inputExpressions.length){oldInputValue=expressionInputDirtyCheck;inputExpressions=inputExpressions[0];return scope.$watch(function(scope){var newInputValue=inputExpressions(scope);if(!expressionInputDirtyCheck(newInputValue,oldInputValue)){lastResult=parsedExpression(scope);oldInputValue=newInputValue&&newInputValue.valueOf()}return lastResult},listener,objectEquality)}oldInputValueOfValues=[];for(i=0,ii=inputExpressions.length;ii>i;i++)oldInputValueOfValues[i]=expressionInputDirtyCheck;return scope.$watch(function(scope){var i,ii,newInputValue,changed=!1;for(i=0,ii=inputExpressions.length;ii>i;i++){newInputValue=inputExpressions[i](scope);(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i])))&&(oldInputValueOfValues[i]=newInputValue&&newInputValue.valueOf())}changed&&(lastResult=parsedExpression(scope));return lastResult},listener,objectEquality)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value;isFunction(listener)&&listener.apply(this,arguments);isDefined(value)&&scope.$$postDigest(function(){isDefined(lastValue)&&unwatch()})},objectEquality)}function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){function isAllDefined(value){var allDefined=!0;forEach(value,function(val){isDefined(val)||(allDefined=!1)});return allDefined}var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value;isFunction(listener)&&listener.call(this,value,old,scope);isAllDefined(value)&&scope.$$postDigest(function(){isAllDefined(lastValue)&&unwatch()})},objectEquality)}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){isFunction(listener)&&listener.apply(this,arguments);unwatch()},objectEquality)}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var fn=function(scope,locals){var value=parsedExpression(scope,locals),result=interceptorFn(value,scope,locals);return isDefined(value)?result:value};if(parsedExpression.$$watchDelegate&&parsedExpression.$$watchDelegate!==inputsWatchDelegate)fn.$$watchDelegate=parsedExpression.$$watchDelegate;else if(!interceptorFn.$stateful){fn.$$watchDelegate=inputsWatchDelegate;fn.inputs=[parsedExpression]}return fn}$parseOptions.csp=$sniffer.csp;return function(exp,interceptorFn){var parsedExpression,oneTime,cacheKey,lexer,parser;switch(typeof exp){case"string":cacheKey=exp=exp.trim();parsedExpression=cache[cacheKey];if(!parsedExpression){if(":"===exp.charAt(0)&&":"===exp.charAt(1)){oneTime=!0;exp=exp.substring(2)}lexer=new Lexer($parseOptions);parser=new Parser(lexer,$filter,$parseOptions);parsedExpression=parser.parse(exp);if(parsedExpression.constant)parsedExpression.$$watchDelegate=constantWatchDelegate;else if(oneTime){parsedExpression=wrapSharedExpression(parsedExpression);parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate}else parsedExpression.inputs&&(parsedExpression.$$watchDelegate=inputsWatchDelegate);cache[cacheKey]=parsedExpression}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn)}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function $$QProvider(){this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function callOnce(self,resolveFn,rejectFn){function wrap(fn){return function(value){if(called)return;called=!0;fn.call(self,value)}}var called=!1;return[wrap(resolveFn),wrap(rejectFn)]}function Promise(){this.$$state={"status":0}}function simpleBind(context,fn){return function(value){fn.call(context,value)}}function processQueue(state){var fn,promise,i,ii,pending=state.pending;state.processScheduled=!1;state.pending=undefined;for(i=0,ii=pending.length;ii>i;++i){promise=pending[i][0];fn=pending[i][state.status];try{isFunction(fn)?promise.resolve(fn(state.value)):1===state.status?promise.resolve(state.value):promise.reject(state.value)}catch(e){promise.reject(e);exceptionHandler(e)}}}function scheduleProcessQueue(state){if(state.processScheduled||!state.pending)return;state.processScheduled=!0;nextTick(function(){processQueue(state)})}function Deferred(){this.promise=new Promise;this.resolve=simpleBind(this,this.resolve);this.reject=simpleBind(this,this.reject);this.notify=simpleBind(this,this.notify)}function all(promises){var deferred=new Deferred,counter=0,results=isArray(promises)?[]:{};forEach(promises,function(promise,key){counter++;when(promise).then(function(value){if(results.hasOwnProperty(key))return;results[key]=value;--counter||deferred.resolve(results)},function(reason){if(results.hasOwnProperty(key))return;deferred.reject(reason)})});0===counter&&deferred.resolve(results);return deferred.promise}var reject,makePromise,handleCallback,when,$Q,$qMinErr=minErr("$q",TypeError),defer=function(){return new Deferred};Promise.prototype={"then":function(onFulfilled,onRejected,progressBack){var result=new Deferred;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]);this.$$state.status>0&&scheduleProcessQueue(this.$$state);return result.promise},"catch":function(callback){return this.then(null,callback)},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,!0,callback)},function(error){return handleCallback(error,!1,callback)},progressBack)}};Deferred.prototype={"resolve":function(val){if(this.promise.$$state.status)return;val===this.promise?this.$$reject($qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val)):this.$$resolve(val)},"$$resolve":function(val){var then,fns;fns=callOnce(this,this.$$resolve,this.$$reject);try{(isObject(val)||isFunction(val))&&(then=val&&val.then);if(isFunction(then)){this.promise.$$state.status=-1;then.call(val,fns[0],fns[1],this.notify)}else{this.promise.$$state.value=val;this.promise.$$state.status=1;scheduleProcessQueue(this.promise.$$state)}}catch(e){fns[1](e);exceptionHandler(e)}},"reject":function(reason){if(this.promise.$$state.status)return;this.$$reject(reason)},"$$reject":function(reason){this.promise.$$state.value=reason;this.promise.$$state.status=2;scheduleProcessQueue(this.promise.$$state)},"notify":function(progress){var callbacks=this.promise.$$state.pending;this.promise.$$state.status<=0&&callbacks&&callbacks.length&&nextTick(function(){var callback,result,i,ii;for(i=0,ii=callbacks.length;ii>i;i++){result=callbacks[i][0];callback=callbacks[i][3];try{result.notify(isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}};reject=function(reason){var result=new Deferred;result.reject(reason);return result.promise};makePromise=function(value,resolved){var result=new Deferred;resolved?result.resolve(value):result.reject(value);return result.promise};handleCallback=function(value,isResolved,callback){var callbackOutput=null;try{isFunction(callback)&&(callbackOutput=callback())}catch(e){return makePromise(e,!1)}return isPromiseLike(callbackOutput)?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)};when=function(value,callback,errback,progressBack){var result=new Deferred;result.resolve(value);return result.promise.then(callback,errback,progressBack)};$Q=function Q(resolver){function resolveFn(value){deferred.resolve(value)}function rejectFn(reason){deferred.reject(reason)}if(!isFunction(resolver))throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver);if(!(this instanceof Q))return new Q(resolver);var deferred=new Deferred;resolver(resolveFn,rejectFn);return deferred.promise};$Q.defer=defer;$Q.reject=reject;$Q.when=when;$Q.all=all;return $Q}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame||$window.mozRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.mozCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};raf.supported=rafSupported;return raf}]}function $RootScopeProvider(){var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null,applyAsyncId=null;this.digestTtl=function(value){arguments.length&&(TTL=value);return TTL};this.$get=["$injector","$exceptionHandler","$parse","$browser",function($injector,$exceptionHandler,$parse,$browser){function Scope(){this.$id=nextUid();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function decrementListenerCount(current,count,name){do{current.$$listenerCount[name]-=count;0===current.$$listenerCount[name]&&delete current.$$listenerCount[name]}while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;applyAsyncQueue.length;)try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}applyAsyncId=null}function scheduleApplyAsync(){null===applyAsyncId&&(applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)}))}var $rootScope,asyncQueue,postDigestQueue,applyAsyncQueue;Scope.prototype={"constructor":Scope,"$new":function(isolate,parent){function destroyChild(){child.$$destroyed=!0}var child;parent=parent||this;if(isolate){child=new Scope;child.$root=this.$root}else{if(!this.$$ChildScope){this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$id=nextUid();this.$$ChildScope=null};this.$$ChildScope.prototype=this}child=new this.$$ChildScope}child.$parent=parent;child.$$prevSibling=parent.$$childTail;if(parent.$$childHead){parent.$$childTail.$$nextSibling=child;parent.$$childTail=child}else parent.$$childHead=parent.$$childTail=child;(isolate||parent!=this)&&child.$on("$destroy",destroyChild);return child},"$watch":function(watchExp,listener,objectEquality){var scope,array,watcher,get=$parse(watchExp);if(get.$$watchDelegate)return get.$$watchDelegate(this,listener,objectEquality,get);scope=this,array=scope.$$watchers,watcher={"fn":listener,"last":initWatchVal,"get":get,"exp":watchExp,"eq":!!objectEquality};lastDirtyWatch=null;isFunction(listener)||(watcher.fn=noop);array||(array=scope.$$watchers=[]);array.unshift(watcher);return function(){arrayRemove(array,watcher);lastDirtyWatch=null}},"$watchGroup":function(watchExpressions,listener){function watchGroupAction(){changeReactionScheduled=!1;if(firstRun){firstRun=!1;listener(newValues,newValues,self)}else listener(newValues,oldValues,self)}var shouldCall,oldValues=new Array(watchExpressions.length),newValues=new Array(watchExpressions.length),deregisterFns=[],self=this,changeReactionScheduled=!1,firstRun=!0;if(!watchExpressions.length){shouldCall=!0;self.$evalAsync(function(){shouldCall&&listener(newValues,newValues,self)});return function(){shouldCall=!1}}if(1===watchExpressions.length)return this.$watch(watchExpressions[0],function(value,oldValue,scope){newValues[0]=value;oldValues[0]=oldValue;listener(newValues,value===oldValue?newValues:oldValues,scope)});forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function(value,oldValue){newValues[i]=value;oldValues[i]=oldValue;if(!changeReactionScheduled){changeReactionScheduled=!0;self.$evalAsync(watchGroupAction)}});deregisterFns.push(unwatchFn)});return function(){for(;deregisterFns.length;)deregisterFns.shift()()}},"$watchCollection":function(obj,listener){function $watchCollectionInterceptor(_value){var newLength,key,bothNaN,newItem,oldItem,i;newValue=_value;if(isObject(newValue))if(isArrayLike(newValue)){if(oldValue!==internalArray){oldValue=internalArray;oldLength=oldValue.length=0;changeDetected++}newLength=newValue.length;if(oldLength!==newLength){changeDetected++;oldValue.length=oldLength=newLength}for(i=0;newLength>i;i++){oldItem=oldValue[i];newItem=newValue[i];bothNaN=oldItem!==oldItem&&newItem!==newItem;if(!bothNaN&&oldItem!==newItem){changeDetected++;oldValue[i]=newItem}}}else{if(oldValue!==internalObject){oldValue=internalObject={};oldLength=0;changeDetected++}newLength=0;for(key in newValue)if(newValue.hasOwnProperty(key)){newLength++;newItem=newValue[key];oldItem=oldValue[key];if(key in oldValue){bothNaN=oldItem!==oldItem&&newItem!==newItem;if(!bothNaN&&oldItem!==newItem){changeDetected++;oldValue[key]=newItem}}else{oldLength++;oldValue[key]=newItem;changeDetected++}}if(oldLength>newLength){changeDetected++;for(key in oldValue)if(!newValue.hasOwnProperty(key)){oldLength--;delete oldValue[key]}}}else if(oldValue!==newValue){oldValue=newValue;changeDetected++}return changeDetected}function $watchCollectionAction(){var i,key;if(initRun){initRun=!1;listener(newValue,newValue,self)}else listener(newValue,veryOldValue,self);if(trackVeryOldValue)if(isObject(newValue))if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else{veryOldValue={};for(key in newValue)hasOwnProperty.call(newValue,key)&&(veryOldValue[key]=newValue[key])}else veryOldValue=newValue}var self,newValue,oldValue,veryOldValue,trackVeryOldValue,changeDetected,changeDetector,internalArray,internalObject,initRun,oldLength;$watchCollectionInterceptor.$stateful=!0;self=this;trackVeryOldValue=listener.length>1;changeDetected=0;changeDetector=$parse(obj,$watchCollectionInterceptor);internalArray=[];internalObject={};initRun=!0;oldLength=0;return this.$watch(changeDetector,$watchCollectionAction)},"$digest":function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,logMsg,asyncTask,ttl=TTL,target=this,watchLog=[];beginPhase("$digest");$browser.$$checkUrlChange();if(this===$rootScope&&null!==applyAsyncId){$browser.defer.cancel(applyAsyncId);flushApplyAsync()}lastDirtyWatch=null;do{dirty=!1;current=target;for(;asyncQueue.length;){try{asyncTask=asyncQueue.shift();asyncTask.scope.$eval(asyncTask.expression)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}traverseScopesLoop:do{if(watchers=current.$$watchers){length=watchers.length;for(;length--;)try{watch=watchers[length];if(watch)if((value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else{dirty=!0;lastDirtyWatch=watch;watch.last=watch.eq?copy(value,null):value;watch.fn(value,last===initWatchVal?value:last,current);if(5>ttl){logIdx=4-ttl;watchLog[logIdx]||(watchLog[logIdx]=[]);logMsg=isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp;logMsg+="; newVal: "+toJson(value)+"; oldVal: "+toJson(last);watchLog[logIdx].push(logMsg)}}}catch(e){$exceptionHandler(e)}}if(!(next=current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--){clearPhase();throw $rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,toJson(watchLog))}}while(dirty||asyncQueue.length);clearPhase();for(;postDigestQueue.length;)try{postDigestQueue.shift()()}catch(e){$exceptionHandler(e)}},"$destroy":function(){var parent,eventName;if(this.$$destroyed)return;parent=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(this===$rootScope)return;for(eventName in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[eventName],eventName);parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling);parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop;this.$on=this.$watch=this.$watchGroup=function(){return noop};this.$$listeners={};
this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null},"$eval":function(expr,locals){return $parse(expr)(this,locals)},"$evalAsync":function(expr){$rootScope.$$phase||asyncQueue.length||$browser.defer(function(){asyncQueue.length&&$rootScope.$digest()});asyncQueue.push({"scope":this,"expression":expr})},"$$postDigest":function(fn){postDigestQueue.push(fn)},"$apply":function(expr){try{beginPhase("$apply");return this.$eval(expr)}catch(e){$exceptionHandler(e)}finally{clearPhase();try{$rootScope.$digest()}catch(e){$exceptionHandler(e);throw e}}},"$applyAsync":function(expr){function $applyAsyncExpression(){scope.$eval(expr)}var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression);scheduleApplyAsync()},"$on":function(name,listener){var current,self,namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]);namedListeners.push(listener);current=this;do{current.$$listenerCount[name]||(current.$$listenerCount[name]=0);current.$$listenerCount[name]++}while(current=current.$parent);self=this;return function(){namedListeners[namedListeners.indexOf(listener)]=null;decrementListenerCount(self,1,name)}},"$emit":function(name,args){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={"name":name,"targetScope":scope,"stopPropagation":function(){stopPropagation=!0},"preventDefault":function(){event.defaultPrevented=!0},"defaultPrevented":!1},listenerArgs=concat([event],arguments,1);do{namedListeners=scope.$$listeners[name]||empty;event.currentScope=scope;for(i=0,length=namedListeners.length;length>i;i++){if(!namedListeners[i]){namedListeners.splice(i,1);i--;length--;continue}try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}}if(stopPropagation){event.currentScope=null;return event}scope=scope.$parent}while(scope);event.currentScope=null;return event},"$broadcast":function(name,args){var listenerArgs,listeners,i,length,target=this,current=target,next=target,event={"name":name,"targetScope":target,"preventDefault":function(){event.defaultPrevented=!0},"defaultPrevented":!1};if(!target.$$listenerCount[name])return event;listenerArgs=concat([event],arguments,1);for(;current=next;){event.currentScope=current;listeners=current.$$listeners[name]||[];for(i=0,length=listeners.length;length>i;i++){if(!listeners[i]){listeners.splice(i,1);i--;length--;continue}try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}}if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}event.currentScope=null;return event}};$rootScope=new Scope;asyncQueue=$rootScope.$$asyncQueue=[];postDigestQueue=$rootScope.$$postDigestQueue=[];applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){if(isDefined(regexp)){aHrefSanitizationWhitelist=regexp;return this}return aHrefSanitizationWhitelist};this.imgSrcSanitizationWhitelist=function(regexp){if(isDefined(regexp)){imgSrcSanitizationWhitelist=regexp;return this}return imgSrcSanitizationWhitelist};this.$get=function(){return function(uri,isImage){var regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist,normalizedVal=urlResolve(uri).href;if(""!==normalizedVal&&!normalizedVal.match(regex))return"unsafe:"+normalizedVal;return uri}}}function escapeForRegexp(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(matchers){var adjustedMatchers=[];isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))});return adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){arguments.length&&(resourceUrlWhitelist=adjustMatchers(value));return resourceUrlWhitelist};this.resourceUrlBlacklist=function(value){arguments.length&&(resourceUrlBlacklist=adjustMatchers(value));return resourceUrlBlacklist};this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;n>i;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;n>i;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};Base&&(holderType.prototype=new Base);holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||trustedValue===undefined||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||maybeTrusted===undefined||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var trustedValueHolderBase,byType,htmlSanitizer=function(html){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));trustedValueHolderBase=generateHolderType(),byType={};byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase);byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]);return{"trustAs":trustAs,"getTrusted":getTrusted,"valueOf":valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){arguments.length&&(enabled=!!value);return enabled};this.$get=["$document","$parse","$sceDelegate",function($document,$parse,$sceDelegate){var sce,parse,getTrusted,trustAs;if(enabled&&$document[0].documentMode<8)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled};sce.trustAs=$sceDelegate.trustAs;sce.getTrusted=$sceDelegate.getTrusted;sce.valueOf=$sceDelegate.valueOf;if(!enabled){sce.trustAs=sce.getTrusted=function(type,value){return value};sce.valueOf=identity}sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:$parse(expr,function(value){return sce.getTrusted(type,value)})};parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)};sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)};sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}});return sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,prop,eventSupport={},android=int((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},vendorRegex=/^(Moz|webkit|O|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0];vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}vendorPrefix||(vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit");transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle);animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle);if(android&&(!transitions||!animations)){transitions=isString(document.body.style.webkitTransition);animations=isString(document.body.style.webkitAnimation)}}return{"history":!(!$window.history||!$window.history.pushState||4>android||boxee),"hasEvent":function(event){if("input"==event&&9==msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},"csp":csp(),"vendorPrefix":vendorPrefix,"transitions":transitions,"animations":animations,"android":android}}]}function $TemplateRequestProvider(){this.$get=["$templateCache","$http","$q",function($templateCache,$http,$q){function handleRequestFn(tpl,ignoreRequestError){function handleError(){self.totalPendingRequests--;if(!ignoreRequestError)throw $compileMinErr("tpload","Failed to load template: {0}",tpl);return $q.reject()}var flag,self=handleRequestFn;self.totalPendingRequests++;flag=tpl.indexOf("//static.console.hwclouds.com/")>=0;-1===tpl.indexOf("template/accordion/")&&(window.bussinessVersion&&!flag?tpl=tpl+"?ttl="+window.bussinessVersion:window.frameworkVersion&&flag&&(tpl=tpl+"?ttf="+window.frameworkVersion));return $http.get(tpl,{"cache":$templateCache}).then(function(response){var html=response.data;if(!html||0===html.length)return handleError();self.totalPendingRequests--;$templateCache.put(tpl,html);return html},handleError)}handleRequestFn.totalPendingRequests=0;return handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding"),matches=[];forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");dataBinding&&forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+expression+"(\\s|\\||$)");matcher.test(bindingName)&&matches.push(binding)}else-1!=bindingName.indexOf(expression)&&matches.push(binding)})});return matches};testability.findModels=function(element,expression,opt_exactMatch){var p,attributeEquals,selector,elements,prefixes=["ng-","data-ng-","ng\\:"];for(p=0;p<prefixes.length;++p){attributeEquals=opt_exactMatch?"=":"*=";selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]';elements=element.querySelectorAll(selector);if(elements.length)return elements}};testability.getLocation=function(){return $location.url()};testability.setLocation=function(url){if(url!==$location.url()){$location.url(url);$rootScope.$digest()}};testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)};return testability}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){function timeout(fn,delay,invokeApply){var timeoutId,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;timeoutId=$browser.defer(function(){try{deferred.resolve(fn())}catch(e){deferred.reject(e);$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay);promise.$$timeoutId=timeoutId;deferreds[timeoutId]=deferred;return promise}var deferreds={};timeout.cancel=function(promise){if(promise&&promise.$$timeoutId in deferreds){deferreds[promise.$$timeoutId].reject("canceled");delete deferreds[promise.$$timeoutId];return $browser.defer.cancel(promise.$$timeoutId)}return!1};return timeout}]}function urlResolve(url,base){var href=url;if(msie){urlParsingNode.setAttribute("href",href);href=urlParsingNode.href}urlParsingNode.setAttribute("href",href);return{"href":urlParsingNode.href,"protocol":urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"","host":urlParsingNode.host,"search":urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"","hash":urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"","hostname":urlParsingNode.hostname,"port":urlParsingNode.port,"pathname":"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};forEach(name,function(filter,key){filters[key]=register(key,filter)});return filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register;this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}];register("currency",currencyFilter);register("date",dateFilter);register("filter",filterFilter);register("json",jsonFilter);register("limitTo",limitToFilter);register("lowercase",lowercaseFilter);register("number",numberFilter);register("orderBy",orderByFilter);register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator){var comparatorType,predicates,search,key,filtered,j,value;if(!isArray(array))return array;comparatorType=typeof comparator,predicates=[];predicates.check=function(value,index){for(var j=0;j<predicates.length;j++)if(!predicates[j](value,index))return!1;return!0};"function"!==comparatorType&&(comparator="boolean"===comparatorType&&comparator?function(obj,text){return angular.equals(obj,text)}:function(obj,text){if(obj&&text&&"object"==typeof obj&&"object"==typeof text){for(var objKey in obj)if("$"!==objKey.charAt(0)&&hasOwnProperty.call(obj,objKey)&&comparator(obj[objKey],text[objKey]))return!0;return!1}text=(""+text).toLowerCase();return(""+obj).toLowerCase().indexOf(text)>-1});search=function(obj,text){var objKey,i;if("string"==typeof text&&"!"===text.charAt(0))return!search(obj,text.substr(1));switch(typeof obj){case"boolean":case"number":case"string":return comparator(obj,text);case"object":switch(typeof text){case"object":return comparator(obj,text);default:for(objKey in obj)if("$"!==objKey.charAt(0)&&search(obj[objKey],text))return!0}return!1;case"array":for(i=0;i<obj.length;i++)if(search(obj[i],text))return!0;return!1;default:return!1}};switch(typeof expression){case"boolean":case"number":case"string":expression={"$":expression};case"object":for(key in expression)(function(path){if("undefined"==typeof expression[path])return;predicates.push(function(value){return search("$"==path?value:value&&value[path],expression[path])})})(key);break;case"function":predicates.push(expression);break;default:return array}filtered=[];for(j=0;j<array.length;j++){value=array[j];predicates.check(value,j)&&filtered.push(value)}return filtered}}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM);isUndefined(fractionSize)&&(fractionSize=2);return null==amount?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return null==number?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){var isNegative,numStr,formatedText,parts,hasExponent,match,fractionLen,fraction,whole,i,pos,lgroup,group;if(!isFinite(number)||isObject(number))return"";isNegative=0>number;number=Math.abs(number);numStr=number+"",formatedText="",parts=[];hasExponent=!1;if(-1!==numStr.indexOf("e")){match=numStr.match(/([\d\.]+)e(-?)(\d+)/);if(match&&"-"==match[2]&&match[3]>fractionSize+1){numStr="0";number=0}else{formatedText=numStr;hasExponent=!0}}if(hasExponent)fractionSize>0&&number>-1&&1>number&&(formatedText=number.toFixed(fractionSize));else{fractionLen=(numStr.split(DECIMAL_SEP)[1]||"").length;isUndefined(fractionSize)&&(fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac));number=+(Math.round(+(number.toString()+"e"+fractionSize)).toString()+"e"+-fractionSize);0===number&&(isNegative=!1);fraction=(""+number).split(DECIMAL_SEP);whole=fraction[0];fraction=fraction[1]||"";pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=lgroup+group){pos=whole.length-lgroup;for(i=0;pos>i;i++){(pos-i)%group===0&&0!==i&&(formatedText+=groupSep);formatedText+=whole.charAt(i)}}for(i=pos;i<whole.length;i++){(whole.length-i)%lgroup===0&&0!==i&&(formatedText+=groupSep);formatedText+=whole.charAt(i)}for(;fraction.length<fractionSize;)fraction+="0";fractionSize&&"0"!==fractionSize&&(formatedText+=decimalSep+fraction.substr(0,fractionSize))}parts.push(isNegative?pattern.negPre:pattern.posPre);parts.push(formatedText);parts.push(isNegative?pattern.negSuf:pattern.posSuf);return parts.join("")}function padNumber(num,digits,trim){var neg="";if(0>num){neg="-";num=-num}num=""+num;for(;num.length<digits;)num="0"+num;trim&&(num=num.substr(num.length-digits));return neg+num}function dateGetter(name,size,offset,trim){offset=offset||0;return function(date){var value=date["get"+name]();(offset>0||value>-offset)&&(value+=offset);0===value&&-12==offset&&(value=12);return padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date){var zone=-1*date.getTimezoneOffset(),paddedZone=zone>=0?"+":"";paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2);return paddedZone}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(4>=dayOfWeekOnFirst?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date),diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function dateFilter($locale){function jsonStringToDate(string){var match,date,tzHour,tzMin,dateSetter,timeSetter,h,m,s,ms;if(match=string.match(R_ISO8601_STR)){date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;if(match[9]){tzHour=int(match[9]+match[10]);tzMin=int(match[9]+match[11])}dateSetter.call(date,int(match[1]),int(match[2])-1,int(match[3]));h=int(match[4]||0)-tzHour;m=int(match[5]||0)-tzMin;s=int(match[6]||0);ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));timeSetter.call(date,h,m,s,ms);return date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format,timezone){var fn,match,text="",parts=[];format=format||"mediumDate";format=$locale.DATETIME_FORMATS[format]||format;isString(date)&&(date=NUMBER_STRING.test(date)?int(date):jsonStringToDate(date));isNumber(date)&&(date=new Date(date));if(!isDate(date))return date;for(;format;){match=DATE_FORMATS_SPLIT.exec(format);if(match){parts=concat(parts,match,1);format=parts.pop()}else{parts.push(format);format=null}}if(timezone&&"UTC"===timezone){date=new Date(date.getTime());date.setMinutes(date.getMinutes()+date.getTimezoneOffset())}forEach(parts,function(value){fn=DATE_FORMATS[value];text+=fn?fn(date,$locale.DATETIME_FORMATS):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return text}}function jsonFilter(){return function(object){return toJson(object,!0)}}function limitToFilter(){return function(input,limit){isNumber(input)&&(input=input.toString());if(!isArray(input)&&!isString(input))return input;limit=Math.abs(Number(limit))===1/0?Number(limit):int(limit);if(isString(input))return limit?limit>=0?input.slice(0,limit):input.slice(limit,input.length):"";var i,n,out=[];limit>input.length?limit=input.length:limit<-input.length&&(limit=-input.length);if(limit>0){i=0;n=limit}else{i=input.length+limit;n=input.length}for(;n>i;i++)out.push(input[i]);return out}}function orderByFilter($parse){return function(array,sortPredicate,reverseOrder){function comparator(o1,o2){var i,comp;for(i=0;i<sortPredicate.length;i++){comp=sortPredicate[i](o1,o2);if(0!==comp)return comp}return 0}function reverseComparator(comp,descending){return descending?function(a,b){return comp(b,a)}:comp}function compare(v1,v2){var t1=typeof v1,t2=typeof v2;if(t1==t2){if(isDate(v1)&&isDate(v2)){v1=v1.valueOf();v2=v2.valueOf()}if("string"==t1){v1=v1.toLowerCase();v2=v2.toLowerCase()}if(v1===v2)return 0;return v2>v1?-1:1}return t2>t1?-1:1}var arrayCopy,i;if(!isArrayLike(array))return array;sortPredicate=isArray(sortPredicate)?sortPredicate:[sortPredicate];0===sortPredicate.length&&(sortPredicate=["+"]);sortPredicate=sortPredicate.map(function(predicate){var key,descending=!1,get=predicate||identity;if(isString(predicate)){if("+"==predicate.charAt(0)||"-"==predicate.charAt(0)){descending="-"==predicate.charAt(0);predicate=predicate.substring(1)}if(""===predicate)return reverseComparator(function(a,b){return compare(a,b)},descending);get=$parse(predicate);if(get.constant){key=get();return reverseComparator(function(a,b){return compare(a[key],b[key])},descending)}}return reverseComparator(function(a,b){return compare(get(a),get(b))},descending)});arrayCopy=[];for(i=0;i<array.length;i++)arrayCopy.push(array[i]);return arrayCopy.sort(reverseComparator(comparator,reverseOrder))}}function ngDirective(directive){isFunction(directive)&&(directive={"link":directive});directive.restrict=directive.restrict||"AC";return valueFn(directive)}function nullFormRenameControl(control,name){control.$name=name}function FormController(element,attrs,$scope,$animate,$interpolate){var form=this,controls=[],parentForm=form.$$parentForm=element.parent().controller("form")||nullFormCtrl;form.$error={};form.$$success={};form.$pending=undefined;form.$name=$interpolate(attrs.name||attrs.ngForm||"")($scope);form.$dirty=!1;form.$pristine=!0;form.$valid=!0;form.$invalid=!1;form.$submitted=!1;parentForm.$addControl(form);form.$rollbackViewValue=function(){forEach(controls,function(control){control.$rollbackViewValue()})};form.$commitViewValue=function(){forEach(controls,function(control){control.$commitViewValue()})};form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input");controls.push(control);control.$name&&(form[control.$name]=control)};form.$$renameControl=function(control,newName){var oldName=control.$name;form[oldName]===control&&delete form[oldName];form[newName]=control;control.$name=newName};form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name];forEach(form.$pending,function(value,name){form.$setValidity(name,null,control)});forEach(form.$error,function(value,name){form.$setValidity(name,null,control)});arrayRemove(controls,control)};addSetValidityMethod({"ctrl":this,"$element":element,"set":function(object,property,control){var index,list=object[property];if(list){index=list.indexOf(control);-1===index&&list.push(control)}else object[property]=[control]},"unset":function(object,property,control){var list=object[property];if(!list)return;arrayRemove(list,control);0===list.length&&delete object[property]},"parentForm":parentForm,"$animate":$animate});form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS);$animate.addClass(element,DIRTY_CLASS);form.$dirty=!0;form.$pristine=!1;parentForm.$setDirty()};form.$setPristine=function(){$animate.setClass(element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS);form.$dirty=!1;form.$pristine=!0;form.$submitted=!1;forEach(controls,function(control){control.$setPristine()})};form.$setUntouched=function(){forEach(controls,function(control){control.$setUntouched()})};form.$setSubmitted=function(){$animate.addClass(element,SUBMITTED_CLASS);form.$submitted=!0;parentForm.$setSubmitted()}}function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var composing,listener,timeout,deferListener,placeholder=(element.prop(VALIDITY_STATE_PROPERTY),element[0].placeholder),noevent={},type=lowercase(element[0].type);if(!$sniffer.android){composing=!1;element.on("compositionstart",function(data){composing=!0});element.on("compositionend",function(){composing=!1;listener()})}listener=function(ev){if(composing)return;var value=element.val(),event=ev&&ev.type;if(msie&&"input"===(ev||noevent).type&&element[0].placeholder!==placeholder){placeholder=element[0].placeholder;return}"password"===type||attr.ngTrim&&"false"===attr.ngTrim||(value=trim(value));(ctrl.$viewValue!==value||""===value&&ctrl.$$hasNativeValidators)&&ctrl.$setViewValue(value,event)};if($sniffer.hasEvent("input"))element.on("input",listener);else{deferListener=function(ev){timeout||(timeout=$browser.defer(function(){listener(ev);timeout=null}))};element.on("keydown",function(event){var key=event.keyCode;if(91===key||key>15&&19>key||key>=37&&40>=key)return;deferListener(event)});$sniffer.hasEvent("paste")&&element.on("paste cut",deferListener)}element.on("change",listener);ctrl.$render=function(){element.val(ctrl.$isEmpty(ctrl.$modelValue)?"":ctrl.$viewValue)}}function weekParser(isoWeek,existingDate){var parts,year,week,hours,minutes,seconds,milliseconds,firstThurs,addDays;if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;parts=WEEK_REGEXP.exec(isoWeek);if(parts){year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=7*(week-1);if(existingDate){hours=existingDate.getHours();minutes=existingDate.getMinutes();seconds=existingDate.getSeconds();milliseconds=existingDate.getMilliseconds()}return new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return NaN}function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso))return iso;if(isString(iso)){'"'==iso.charAt(0)&&'"'==iso.charAt(iso.length-1)&&(iso=iso.substring(1,iso.length-1));if(ISO_DATE_REGEXP.test(iso))return new Date(iso);regexp.lastIndex=0;parts=regexp.exec(iso);if(parts){parts.shift();map=date?{"yyyy":date.getFullYear(),"MM":date.getMonth()+1,"dd":date.getDate(),"HH":date.getHours(),"mm":date.getMinutes(),"ss":date.getSeconds(),"sss":date.getMilliseconds()/1e3}:{"yyyy":1970,"MM":1,"dd":1,"HH":0,"mm":0,"ss":0,"sss":0};forEach(parts,function(part,index){index<mapping.length&&(map[mapping[index]]=+part)});return new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,1e3*map.sss||0)}}return NaN}}function createDateInputType(type,regexp,parseDate,format){return function(scope,element,attr,ctrl,$sniffer,$browser,$filter){function parseObservedDateValue(val){return isDefined(val)?isDate(val)?val:parseDate(val):undefined}var timezone,previousDate,minVal,maxVal;badInputChecker(scope,element,attr,ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);timezone=ctrl&&ctrl.$options&&ctrl.$options.timezone;ctrl.$$parserName=type;ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){var parsedDate=parseDate(value,previousDate);"UTC"===timezone&&parsedDate.setMinutes(parsedDate.getMinutes()-parsedDate.getTimezoneOffset());return parsedDate}return undefined});ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isDate(value))throw $ngModelMinErr("datefmt","Expected `{0}` to be a date",value);previousDate=value;if(previousDate&&"UTC"===timezone){var timezoneOffset=6e4*previousDate.getTimezoneOffset();previousDate=new Date(previousDate.getTime()+timezoneOffset)}return $filter("date")(value,format,timezone)}previousDate=null;return""});if(isDefined(attr.min)||attr.ngMin){ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||parseDate(value)>=minVal};attr.$observe("min",function(val){minVal=parseObservedDateValue(val);ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||parseDate(value)<=maxVal};attr.$observe("max",function(val){maxVal=parseObservedDateValue(val);ctrl.$validate()})}ctrl.$isEmpty=function(value){return!value||value.getTime&&value.getTime()!==value.getTime()}}}function badInputChecker(scope,element,attr,ctrl){var node=element[0],nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);nativeValidation&&ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput&&!validity.typeMismatch?undefined:value})}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){var minVal,maxVal;badInputChecker(scope,element,attr,ctrl);baseInputType(scope,element,attr,ctrl,$sniffer,$browser);ctrl.$$parserName="number";ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(NUMBER_REGEXP.test(value))return parseFloat(value);return undefined});ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value))throw $ngModelMinErr("numfmt","Expected `{0}` to be a number",value);value=value.toString()}return value});if(attr.min||attr.ngMin){ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||value>=minVal};attr.$observe("min",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10));minVal=isNumber(val)&&!isNaN(val)?val:undefined;ctrl.$validate()})}if(attr.max||attr.ngMax){ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||maxVal>=value;
};attr.$observe("max",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10));maxVal=isNumber(val)&&!isNaN(val)?val:undefined;ctrl.$validate()})}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$$parserName="url";ctrl.$validators.url=function(value){return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser);stringBasedInputType(ctrl);ctrl.$$parserName="email";ctrl.$validators.email=function(value){return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid());var listener=function(ev){element[0].checked&&ctrl.$setViewValue(attr.value,ev&&ev.type)};element.on("click",listener);ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue};attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){parseFn=$parse(expression);if(!parseFn.constant)throw minErr("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",name,expression);return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,!0),falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,!1),listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("click",listener);ctrl.$render=function(){element[0].checked=ctrl.$viewValue};ctrl.$isEmpty=function(value){return value!==trueValue};ctrl.$formatters.push(function(value){return equals(value,trueValue)});ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function addSetValidityMethod(context){function setValidity(validationErrorKey,state,options){state===undefined?createAndSet("$pending",validationErrorKey,options):unsetAndCleanup("$pending",validationErrorKey,options);if(isBoolean(state))if(state){unset(ctrl.$error,validationErrorKey,options);set(ctrl.$$success,validationErrorKey,options)}else{set(ctrl.$error,validationErrorKey,options);unset(ctrl.$$success,validationErrorKey,options)}else{unset(ctrl.$error,validationErrorKey,options);unset(ctrl.$$success,validationErrorKey,options)}if(ctrl.$pending){cachedToggleClass(PENDING_CLASS,!0);ctrl.$valid=ctrl.$invalid=undefined;toggleValidationCss("",null)}else{cachedToggleClass(PENDING_CLASS,!1);ctrl.$valid=isObjectEmpty(ctrl.$error);ctrl.$invalid=!ctrl.$valid;toggleValidationCss("",ctrl.$valid)}var combinedState;combinedState=ctrl.$pending&&ctrl.$pending[validationErrorKey]?undefined:ctrl.$error[validationErrorKey]?!1:ctrl.$$success[validationErrorKey]?!0:null;toggleValidationCss(validationErrorKey,combinedState);parentForm.$setValidity(validationErrorKey,combinedState,ctrl)}function createAndSet(name,value,options){ctrl[name]||(ctrl[name]={});set(ctrl[name],value,options)}function unsetAndCleanup(name,value,options){ctrl[name]&&unset(ctrl[name],value,options);isObjectEmpty(ctrl[name])&&(ctrl[name]=undefined)}function cachedToggleClass(className,switchValue){if(switchValue&&!classCache[className]){$animate.addClass($element,className);classCache[className]=!0}else if(!switchValue&&classCache[className]){$animate.removeClass($element,className);classCache[className]=!1}}function toggleValidationCss(validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"";cachedToggleClass(VALID_CLASS+validationErrorKey,isValid===!0);cachedToggleClass(INVALID_CLASS+validationErrorKey,isValid===!1)}var ctrl=context.ctrl,$element=context.$element,classCache={},set=context.set,unset=context.unset,parentForm=context.parentForm,$animate=context.$animate;classCache[INVALID_CLASS]=!(classCache[VALID_CLASS]=$element.hasClass(VALID_CLASS));ctrl.$setValidity=setValidity}function isObjectEmpty(obj){if(obj)for(var prop in obj)return!1;return!0}function classDirective(name,selector){name="ngClass"+name;return["$animate",function($animate){function arrayDifference(tokens1,tokens2){var i,token,j,values=[];outer:for(i=0;i<tokens1.length;i++){token=tokens1[i];for(j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values.push(token)}return values}function arrayClasses(classVal){if(isArray(classVal))return classVal;if(isString(classVal))return classVal.split(" ");if(isObject(classVal)){var classes=[];forEach(classVal,function(v,k){v&&(classes=classes.concat(k.split(" ")))});return classes}return classVal}return{"restrict":"AC","link":function(scope,element,attr){function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses)}function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses)}function digestClassCounts(classes,count){var classCounts=element.data("$classCounts")||{},classesToUpdate=[];forEach(classes,function(className){if(count>0||classCounts[className]){classCounts[className]=(classCounts[className]||0)+count;classCounts[className]===+(count>0)&&classesToUpdate.push(className)}});element.data("$classCounts",classCounts);return classesToUpdate.join(" ")}function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses),toRemove=arrayDifference(oldClasses,newClasses);toAdd=digestClassCounts(toAdd,1);toRemove=digestClassCounts(toRemove,-1);toAdd&&toAdd.length&&$animate.addClass(element,toAdd);toRemove&&toRemove.length&&$animate.removeClass(element,toRemove)}function ngClassWatchAction(newVal){var newClasses,oldClasses;if(selector===!0||scope.$index%2===selector){newClasses=arrayClasses(newVal||[]);if(oldVal){if(!equals(newVal,oldVal)){oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses)}}else addClasses(newClasses)}oldVal=shallowCopy(newVal)}var oldVal;scope.$watch(attr[name],ngClassWatchAction,!0);attr.$observe("class",function(value){ngClassWatchAction(scope.$eval(attr[name]))});"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var classes,mod=1&$index;if(mod!==(1&old$index)){classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes)}})}}}]}var msie,jqLite,jQuery,slice,splice,push,toString,ngMinErr,angular,angularModule,uid,isArray,trim,csp,ngAttrPrefixes,SNAKE_CASE_REGEXP,bindJQueryFired,skipDestroyOnNextJQueryCleanData,NODE_TYPE_ELEMENT,NODE_TYPE_TEXT,NODE_TYPE_COMMENT,NODE_TYPE_DOCUMENT,NODE_TYPE_DOCUMENT_FRAGMENT,version,jqCache,jqId,addEventListenerFn,removeEventListenerFn,SPECIAL_CHARS_REGEXP,MOZ_HACK_REGEXP,MOUSE_EVENT_MAP,jqLiteMinErr,SINGLE_TAG_REGEXP,HTML_REGEXP,TAG_NAME_REGEXP,XHTML_TAG_REGEXP,wrapMap,JQLitePrototype,BOOLEAN_ATTR,BOOLEAN_ELEMENTS,ALIASED_ATTR,FN_ARGS,FN_ARG_SPLIT,FN_ARG,STRIP_COMMENTS,$injectorMinErr,$animateMinErr,$AnimateProvider,$compileMinErr,PREFIX_REGEXP,$interpolateMinErr,PATH_MATCH,DEFAULT_PORTS,$locationMinErr,locationPrototype,$parseMinErr,CALL,APPLY,BIND,CONSTANTS,OPERATORS,ESCAPE,Lexer,Parser,getterFnCache,$sceMinErr,SCE_CONTEXTS,urlParsingNode,originUrl,DECIMAL_SEP,DATE_FORMATS,DATE_FORMATS_SPLIT,NUMBER_STRING,lowercaseFilter,uppercaseFilter,htmlAnchorDirective,ngAttributeAliasDirectives,nullFormCtrl,SUBMITTED_CLASS,formDirectiveFactory,formDirective,ngFormDirective,ISO_DATE_REGEXP,URL_REGEXP,EMAIL_REGEXP,NUMBER_REGEXP,DATE_REGEXP,DATETIMELOCAL_REGEXP,WEEK_REGEXP,MONTH_REGEXP,TIME_REGEXP,DEFAULT_REGEXP,$ngModelMinErr,inputType,inputDirective,VALID_CLASS,INVALID_CLASS,PRISTINE_CLASS,DIRTY_CLASS,UNTOUCHED_CLASS,TOUCHED_CLASS,PENDING_CLASS,NgModelController,ngModelDirective,ngChangeDirective,requiredDirective,patternDirective,maxlengthDirective,minlengthDirective,ngListDirective,CONSTANT_VALUE_REGEXP,ngValueDirective,ngModelOptionsDirective,ngBindDirective,ngBindTemplateDirective,ngBindHtmlDirective,ngClassDirective,ngClassOddDirective,ngClassEvenDirective,ngCloakDirective,ngControllerDirective,ngEventDirectives,forceAsyncEvents,ngIfDirective,ngIncludeDirective,ngIncludeFillContentDirective,ngInitDirective,ngNonBindableDirective,ngPluralizeDirective,ngRepeatDirective,NG_HIDE_CLASS,NG_HIDE_IN_PROGRESS_CLASS,ngShowDirective,ngHideDirective,ngStyleDirective,ngSwitchDirective,ngSwitchWhenDirective,ngSwitchDefaultDirective,ngTranscludeDirective,scriptDirective,ngOptionsMinErr,ngOptionsDirective,selectDirective,optionDirective,styleDirective,REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/,VALIDITY_STATE_PROPERTY="validity",lowercase=function(string){return isString(string)?string.toLowerCase():string},hasOwnProperty=Object.prototype.hasOwnProperty,uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(-33&ch.charCodeAt(0))}):s};if("i"!=="I".toLowerCase()){lowercase=manualLowercase;uppercase=manualUppercase}slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),uid=0;msie=document.documentMode;noop.$inject=[];identity.$inject=[];isArray=Array.isArray;trim=function(value){return isString(value)?value.trim():value};csp=function(){if(isDefined(csp.isActive_))return csp.isActive_;var active=!(!document.querySelector("[ng-csp]")&&!document.querySelector("[data-ng-csp]"));if(!active)try{new Function("")}catch(e){active=!0}return csp.isActive_=active};ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"];SNAKE_CASE_REGEXP=/[A-Z]/g;bindJQueryFired=!1;NODE_TYPE_ELEMENT=1;NODE_TYPE_TEXT=3;NODE_TYPE_COMMENT=8;NODE_TYPE_DOCUMENT=9;NODE_TYPE_DOCUMENT_FRAGMENT=11;version={"full":"1.3.0","major":1,"minor":3,"dot":0,"codeName":"superluminal-nudge"};JQLite.expando="ng339";jqCache=JQLite.cache={},jqId=1,addEventListenerFn=function(element,type,fn){element.addEventListener(type,fn,!1)},removeEventListenerFn=function(element,type,fn){element.removeEventListener(type,fn,!1)};JQLite._data=function(node){return this.cache[node[this.expando]]||{}};SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g;MOZ_HACK_REGEXP=/^moz([A-Z])/;MOUSE_EVENT_MAP={"mouseleave":"mouseout","mouseenter":"mouseover"};jqLiteMinErr=minErr("jqLite");SINGLE_TAG_REGEXP=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;HTML_REGEXP=/<|&#?\w+;/;TAG_NAME_REGEXP=/<([\w:]+)/;XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;wrapMap={"option":[1,'<select multiple="multiple">',"</select>"],"thead":[1,"<table>","</table>"],"col":[2,"<table><colgroup>","</colgroup></table>"],"tr":[2,"<table><tbody>","</tbody></table>"],"td":[3,"<table><tbody><tr>","</tr></tbody></table>"],"_default":[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;JQLitePrototype=JQLite.prototype={"ready":function(fn){function trigger(){if(fired)return;fired=!0;fn()}var fired=!1;if("complete"===document.readyState)setTimeout(trigger);else{this.on("DOMContentLoaded",trigger);JQLite(window).on("load",trigger);this.on("DOMContentLoaded",trigger)}},"toString":function(){var value=[];forEach(this,function(e){value.push(""+e)});return"["+value.join(", ")+"]"},"eq":function(index){return jqLite(index>=0?this[index]:this[this.length+index])},"length":0,"push":push,"sort":[].sort,"splice":[].splice};BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=!0});ALIASED_ATTR={"ngMinlength":"minlength","ngMaxlength":"maxlength","ngMin":"min","ngMax":"max","ngPattern":"pattern"};forEach({"data":jqLiteData,"removeData":jqLiteRemoveData},function(fn,name){JQLite[name]=fn});forEach({"data":jqLiteData,"inheritedData":jqLiteInheritedData,"scope":function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},"isolateScope":function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},"controller":jqLiteController,"injector":function(element){return jqLiteInheritedData(element,"$injector")},"removeAttr":function(element,name){element.removeAttribute(name)},"hasClass":jqLiteHasClass,"css":function(element,name,value){name=camelCase(name);if(!isDefined(value))return element.style[name];element.style[name]=value},"attr":function(element,name,value){var ret,lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;if(value){element[name]=!0;element.setAttribute(name,lowercasedName)}else{element[name]=!1;element.removeAttribute(lowercasedName)}}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){ret=element.getAttribute(name,2);return null===ret?undefined:ret}},"prop":function(element,name,value){if(!isDefined(value))return element[name];element[name]=value},"text":function(){function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}getText.$dv="";return getText}(),"val":function(element,value){if(isUndefined(value)){if(element.multiple&&"select"===nodeName_(element)){var result=[];forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)});return 0===result.length?null:result}return element.value}element.value=value},"html":function(element,value){if(isUndefined(value))return element.innerHTML;jqLiteDealoc(element,!0);element.innerHTML=value},"empty":jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key,value,jj,j,nodeValue,nodeCount=this.length;if(fn!==jqLiteEmpty&&(2==fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)===undefined){if(isObject(arg1)){for(i=0;nodeCount>i;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}value=fn.$dv;jj=value===undefined?Math.min(nodeCount,1):nodeCount;for(j=0;jj>j;j++){nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;nodeCount>i;i++)fn(this[i],arg1,arg2);return this}});forEach({"removeData":jqLiteRemoveData,"on":function jqLiteOn(element,type,fn,unsupported){var expandoStore,events,handle,types,i,eventFns;if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(!jqLiteAcceptsData(element))return;expandoStore=jqLiteExpandoStore(element,!0);events=expandoStore.events;handle=expandoStore.handle;handle||(handle=expandoStore.handle=createEventHandler(element,events));types=type.indexOf(" ")>=0?type.split(" "):[type];i=types.length;for(;i--;){type=types[i];eventFns=events[type];if(!eventFns){events[type]=[];"mouseenter"===type||"mouseleave"===type?jqLiteOn(element,MOUSE_EVENT_MAP[type],function(event){var target=this,related=event.relatedTarget;(!related||related!==target&&!target.contains(related))&&handle(event,type)}):"$destroy"!==type&&addEventListenerFn(element,type,handle);eventFns=events[type]}eventFns.push(fn)}},"off":jqLiteOff,"one":function(element,type,fn){element=jqLite(element);element.on(type,function onFn(){element.off(type,fn);element.off(type,onFn)});element.on(type,fn)},"replaceWith":function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element);forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element);index=node})},"children":function(element){var children=[];forEach(element.childNodes,function(element){element.nodeType===NODE_TYPE_ELEMENT&&children.push(element)});return children},"contents":function(element){return element.contentDocument||element.childNodes||[]},"append":function(element,node){var i,ii,child,nodeType=element.nodeType;if(nodeType!==NODE_TYPE_ELEMENT&&nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT)return;node=new JQLite(node);for(i=0,ii=node.length;ii>i;i++){child=node[i];element.appendChild(child)}},"prepend":function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},"wrap":function(element,wrapNode){wrapNode=jqLite(wrapNode).eq(0).clone()[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element);wrapNode.appendChild(element)},"remove":jqLiteRemove,"detach":function(element){jqLiteRemove(element,!0)},"after":function(element,newElement){var i,ii,node,index=element,parent=element.parentNode;newElement=new JQLite(newElement);for(i=0,ii=newElement.length;ii>i;i++){node=newElement[i];parent.insertBefore(node,index.nextSibling);index=node}},"addClass":jqLiteAddClass,"removeClass":jqLiteRemoveClass,"toggleClass":function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className));(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},"parent":function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},"next":function(element){return element.nextElementSibling},"find":function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},"clone":jqLiteClone,"triggerHandler":function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs,eventName=event.type||event,expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,eventFns=events&&events[eventName];if(eventFns){dummyEvent={"preventDefault":function(){this.defaultPrevented=!0},"isDefaultPrevented":function(){return this.defaultPrevented===!0},"stopImmediatePropagation":function(){this.immediatePropagationStopped=!0},"isImmediatePropagationStopped":function(){return this.immediatePropagationStopped===!0},"stopPropagation":noop,"type":eventName,"target":element};event.type&&(dummyEvent=extend(dummyEvent,event));eventFnsCopy=shallowCopy(eventFns);handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent];forEach(eventFnsCopy,function(fn){dummyEvent.isImmediatePropagationStopped()||fn.apply(element,handlerArgs)})}}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){var value,i,ii;for(i=0,ii=this.length;ii>i;i++)if(isUndefined(value)){value=fn(this[i],arg1,arg2,arg3);isDefined(value)&&(value=jqLite(value))}else jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this};JQLite.prototype.bind=JQLite.prototype.on;JQLite.prototype.unbind=JQLite.prototype.off});HashMap.prototype={"put":function(key,value){this[hashKey(key,this.nextUid)]=value},"get":function(key){return this[hashKey(key,this.nextUid)]},"remove":function(key){var value=this[key=hashKey(key,this.nextUid)];delete this[key];return value}};FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m;FN_ARG_SPLIT=/,/;FN_ARG=/^\s*(_?)(\S+?)\1\s*$/;STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;$injectorMinErr=minErr("$injector");createInjector.$$annotate=annotate;$animateMinErr=minErr("$animate");$AnimateProvider=["$provide",function($provide){this.$$selectors={};this.register=function(name,factory){var key=name+"-animation";if(name&&"."!=name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);this.$$selectors[name.substr(1)]=key;$provide.factory(key,factory)};this.classNameFilter=function(expression){1===arguments.length&&(this.$$classNameFilter=expression instanceof RegExp?expression:null);return this.$$classNameFilter};this.$get=["$$q","$$asyncCallback","$rootScope",function($$q,$$asyncCallback,$rootScope){function runAnimationPostDigest(fn){var cancelFn,defer=$$q.defer();defer.promise.$$cancelFn=function(){cancelFn&&cancelFn()};$rootScope.$$postDigest(function(){cancelFn=fn(function(){defer.resolve()})});return defer.promise}function resolveElementClasses(element,classes){var toAdd=[],toRemove=[],hasClasses=createMap();forEach((element.attr("class")||"").split(/\s+/),function(className){hasClasses[className]=!0});forEach(classes,function(status,className){var hasClass=hasClasses[className];status===!1&&hasClass?toRemove.push(className):status!==!0||hasClass||toAdd.push(className)});return toAdd.length+toRemove.length>0&&[toAdd.length?toAdd:null,toRemove.length?toRemove:null]}function cachedClassManipulation(cache,classes,op){var i,ii,className;for(i=0,ii=classes.length;ii>i;++i){className=classes[i];cache[className]=op}}function asyncPromise(){if(!currentDefer){currentDefer=$$q.defer();$$asyncCallback(function(){currentDefer.resolve();currentDefer=null})}return currentDefer.promise}function applyStyles(element,options){if(angular.isObject(options)){var styles=extend(options.from||{},options.to||{});element.css(styles)}}var currentDefer;return{"animate":function(element,from,to){applyStyles(element,{"from":from,"to":to});return asyncPromise()},"enter":function(element,parent,after,options){applyStyles(element,options);after?after.after(element):parent.prepend(element);return asyncPromise()},"leave":function(element,options){element.remove();return asyncPromise()},"move":function(element,parent,after,options){return this.enter(element,parent,after,options)},"addClass":function(element,className,options){return this.setClass(element,className,[],options)},"$$addClassImmediately":function(element,className,options){element=jqLite(element);className=isString(className)?className:isArray(className)?className.join(" "):"";forEach(element,function(element){jqLiteAddClass(element,className)});applyStyles(element,options);return asyncPromise()},"removeClass":function(element,className,options){return this.setClass(element,[],className,options)},"$$removeClassImmediately":function(element,className,options){element=jqLite(element);className=isString(className)?className:isArray(className)?className.join(" "):"";forEach(element,function(element){jqLiteRemoveClass(element,className)});applyStyles(element,options);return asyncPromise()},"setClass":function(element,add,remove,options){var cache,classes,self=this,STORAGE_KEY="$$animateClasses",createdCache=!1;element=jqLite(element);cache=element.data(STORAGE_KEY);if(cache)options&&cache.options&&(cache.options=angular.extend(cache.options||{},options));else{cache={"classes":{},"options":options};createdCache=!0}classes=cache.classes;add=isArray(add)?add:add.split(" ");remove=isArray(remove)?remove:remove.split(" ");cachedClassManipulation(classes,add,!0);cachedClassManipulation(classes,remove,!1);if(createdCache){cache.promise=runAnimationPostDigest(function(done){var classes,cache=element.data(STORAGE_KEY);element.removeData(STORAGE_KEY);if(cache){classes=resolveElementClasses(element,cache.classes);classes&&self.$$setClassImmediately(element,classes[0],classes[1],cache.options)}done()});element.data(STORAGE_KEY,cache)}return cache.promise},"$$setClassImmediately":function(element,add,remove,options){add&&this.$$addClassImmediately(element,add);remove&&this.$$removeClassImmediately(element,remove);applyStyles(element,options);return asyncPromise()},"enabled":noop,"cancel":noop}}]}];$compileMinErr=minErr("$compile");$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];PREFIX_REGEXP=/^(x[\:\-_]|data[\:\-_])/i;$interpolateMinErr=minErr("$interpolate");PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={"http":80,"https":443,"ftp":21};$locationMinErr=minErr("$location");locationPrototype={"$$html5":!1,"$$replace":!1,"absUrl":locationGetter("$$absUrl"),"url":function(url){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);match[1]&&this.path(decodeURIComponent(match[1]));(match[2]||match[1])&&this.search(match[3]||"");this.hash(match[5]||"");return this},"protocol":locationGetter("$$protocol"),"host":locationGetter("$$host"),"port":locationGetter("$$port"),"path":locationGetterSetter("$$path",function(path){path=null!==path?path.toString():"";return"/"==path.charAt(0)?path:"/"+path}),"search":function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search)){search=search.toString();this.$$search=parseKeyValue(search)}else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");search=copy(search,{});forEach(search,function(value,key){null==value&&delete search[key]});this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}this.$$compose();return this},"hash":locationGetterSetter("$$hash",function(hash){return null!==hash?hash.toString():""}),"replace":function(){this.$$replace=!0;return this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype);Location.prototype.state=function(state){if(!arguments.length)return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5)throw $locationMinErr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");this.$$state=isUndefined(state)?null:state;return this}});$parseMinErr=minErr("$parse");CALL=Function.prototype.call;APPLY=Function.prototype.apply;BIND=Function.prototype.bind;CONSTANTS=createMap();forEach({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},"undefined":function(){}},function(constantGetter,name){constantGetter.constant=constantGetter.literal=constantGetter.sharedGetter=!0;CONSTANTS[name]=constantGetter});CONSTANTS.this=function(self){return self};CONSTANTS.this.sharedGetter=!0;OPERATORS=extend(createMap(),{"+":function(self,locals,a,b){a=a(self,locals);b=b(self,locals);if(isDefined(a)){if(isDefined(b))return a+b;return a}return isDefined(b)?b:undefined},"-":function(self,locals,a,b){a=a(self,locals);b=b(self,locals);return(isDefined(a)?a:0)-(isDefined(b)?b:0)},"*":function(self,locals,a,b){return a(self,locals)*b(self,locals)},"/":function(self,locals,a,b){return a(self,locals)/b(self,locals)},"%":function(self,locals,a,b){return a(self,locals)%b(self,locals)},"===":function(self,locals,a,b){return a(self,locals)===b(self,locals)},"!==":function(self,locals,a,b){return a(self,locals)!==b(self,locals)},"==":function(self,locals,a,b){return a(self,locals)==b(self,locals)},"!=":function(self,locals,a,b){return a(self,locals)!=b(self,locals)},"<":function(self,locals,a,b){return a(self,locals)<b(self,locals)},">":function(self,locals,a,b){return a(self,locals)>b(self,locals)},"<=":function(self,locals,a,b){return a(self,locals)<=b(self,locals)},">=":function(self,locals,a,b){return a(self,locals)>=b(self,locals)},"&&":function(self,locals,a,b){return a(self,locals)&&b(self,locals)},"||":function(self,locals,a,b){return a(self,locals)||b(self,locals)},"!":function(self,locals,a){return!a(self,locals)},"=":!0,"|":!0});ESCAPE={"n":"\n","f":"\f","r":"\r","t":"	","v":"","'":"'",'"':'"'};Lexer=function(options){this.options=options};Lexer.prototype={"constructor":Lexer,"lex":function(text){var ch2,ch3,fn,fn2,fn3;this.text=text;this.index=0;this.ch=undefined;this.tokens=[];for(;this.index<this.text.length;){this.ch=this.text.charAt(this.index);if(this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?")){this.tokens.push({"index":this.index,"text":this.ch});this.index++}else if(this.isWhitespace(this.ch))this.index++;else{ch2=this.ch+this.peek();ch3=ch2+this.peek(2);fn=OPERATORS[this.ch];fn2=OPERATORS[ch2];fn3=OPERATORS[ch3];if(fn3){this.tokens.push({"index":this.index,"text":ch3,"fn":fn3});this.index+=3}else if(fn2){this.tokens.push({"index":this.index,"text":ch2,"fn":fn2});this.index+=2}else if(fn){this.tokens.push({"index":this.index,"text":this.ch,"fn":fn});this.index+=1}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},"is":function(chars){return-1!==chars.indexOf(this.ch)},"peek":function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):!1},"isNumber":function(ch){return ch>="0"&&"9">=ch},"isWhitespace":function(ch){return" "===ch||"\r"===ch||"	"===ch||"\n"===ch||""===ch||" "===ch},"isIdent":function(ch){return ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch||"_"===ch||"$"===ch},"isExpOperator":function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},"throwError":function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},"readNumber":function(){var ch,peekCh,number="",start=this.index;for(;this.index<this.text.length;){ch=lowercase(this.text.charAt(this.index));if("."==ch||this.isNumber(ch))number+=ch;else{peekCh=this.peek();if("e"==ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}number=1*number;this.tokens.push({"index":start,"text":number,"constant":!0,"fn":function(){return number}})},"readIdent":function(){var lastDot,peekIndex,methodName,ch,expression=this.text,ident="",start=this.index;for(;this.index<this.text.length;){ch=this.text.charAt(this.index);if("."!==ch&&!this.isIdent(ch)&&!this.isNumber(ch))break;"."===ch&&(lastDot=this.index);ident+=ch;this.index++}if(lastDot&&"."===ident[ident.length-1]){this.index--;ident=ident.slice(0,-1);lastDot=ident.lastIndexOf(".");-1===lastDot&&(lastDot=undefined)}if(lastDot){peekIndex=this.index;for(;peekIndex<this.text.length;){ch=this.text.charAt(peekIndex);if("("===ch){methodName=ident.substr(lastDot-start+1);ident=ident.substr(0,lastDot-start);this.index=peekIndex;break}if(!this.isWhitespace(ch))break;peekIndex++}}this.tokens.push({"index":start,"text":ident,"fn":CONSTANTS[ident]||getterFn(ident,this.options,expression)});if(methodName){this.tokens.push({"index":lastDot,"text":"."});this.tokens.push({"index":lastDot+1,"text":methodName})}},"readString":function(quote){var string,rawString,escape,ch,hex,rep,start=this.index;this.index++;string="";rawString=quote;escape=!1;for(;this.index<this.text.length;){ch=this.text.charAt(this.index);rawString+=ch;if(escape){if("u"===ch){hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]");this.index+=4;string+=String.fromCharCode(parseInt(hex,16))}else{rep=ESCAPE[ch];string+=rep||ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote){this.index++;this.tokens.push({"index":start,"text":rawString,"string":string,"constant":!0,"fn":function(){return string}});return}string+=ch}this.index++}this.throwError("Unterminated quote",start)}};Parser=function(lexer,$filter,options){this.lexer=lexer;this.$filter=$filter;this.options=options};Parser.ZERO=extend(function(){return 0},{"sharedGetter":!0,"constant":!0});Parser.prototype={"constructor":Parser,"parse":function(text){this.text=text;this.tokens=this.lexer.lex(text);var value=this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);
value.literal=!!value.literal;value.constant=!!value.constant;return value},"primary":function(){var primary,token,next,context;if(this.expect("(")){primary=this.filterChain();this.consume(")")}else if(this.expect("["))primary=this.arrayDeclaration();else if(this.expect("{"))primary=this.object();else{token=this.expect();primary=token.fn;primary||this.throwError("not a primary expression",token);if(token.constant){primary.constant=!0;primary.literal=!0}}for(;next=this.expect("(","[",".");)if("("===next.text){primary=this.functionCall(primary,context);context=null}else if("["===next.text){context=primary;primary=this.objectIndex(primary)}else if("."===next.text){context=primary;primary=this.fieldAccess(primary)}else this.throwError("IMPOSSIBLE");return primary},"throwError":function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},"peekToken":function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},"peek":function(e1,e2,e3,e4){var token,t;if(this.tokens.length>0){token=this.tokens[0];t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},"expect":function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);if(token){this.tokens.shift();return token}return!1},"consume":function(e1){this.expect(e1)||this.throwError("is unexpected, expecting ["+e1+"]",this.peek())},"unaryFn":function(fn,right){return extend(function(self,locals){return fn(self,locals,right)},{"constant":right.constant,"inputs":[right]})},"binaryFn":function(left,fn,right,isBranching){return extend(function(self,locals){return fn(self,locals,left,right)},{"constant":left.constant&&right.constant,"inputs":!isBranching&&[left,right]})},"statements":function(){var statements=[];for(;;){this.tokens.length>0&&!this.peek("}",")",";","]")&&statements.push(this.filterChain());if(!this.expect(";"))return 1===statements.length?statements[0]:function(self,locals){var value,i,ii;for(i=0,ii=statements.length;ii>i;i++)value=statements[i](self,locals);return value}}},"filterChain":function(){var token,left=this.expression();for(;token=this.expect("|");)left=this.filter(left);return left},"filter":function(inputFn){var argsFn,args,inputs,token=this.expect(),fn=this.$filter(token.text);if(this.peek(":")){argsFn=[];args=[];for(;this.expect(":");)argsFn.push(this.expression())}inputs=[inputFn].concat(argsFn||[]);return extend(function(self,locals){var i,input=inputFn(self,locals);if(args){args[0]=input;i=argsFn.length;for(;i--;)args[i+1]=argsFn[i](self,locals);return fn.apply(undefined,args)}return fn(input)},{"constant":!fn.$stateful&&inputs.every(isConstant),"inputs":!fn.$stateful&&inputs})},"expression":function(){return this.assignment()},"assignment":function(){var right,token,left=this.ternary();if(token=this.expect("=")){left.assign||this.throwError("implies assignment but ["+this.text.substring(0,token.index)+"] can not be assigned to",token);right=this.ternary();return extend(function(scope,locals){return left.assign(scope,right(scope,locals),locals)},{"inputs":[left,right]})}return left},"ternary":function(){var middle,token,right,left=this.logicalOR();if(token=this.expect("?")){middle=this.assignment();if(token=this.expect(":")){right=this.assignment();return extend(function(self,locals){return left(self,locals)?middle(self,locals):right(self,locals)},{"constant":left.constant&&middle.constant&&right.constant})}this.throwError("expected :",token)}return left},"logicalOR":function(){var token,left=this.logicalAND();for(;token=this.expect("||");)left=this.binaryFn(left,token.fn,this.logicalAND(),!0);return left},"logicalAND":function(){var token,left=this.equality();(token=this.expect("&&"))&&(left=this.binaryFn(left,token.fn,this.logicalAND(),!0));return left},"equality":function(){var token,left=this.relational();(token=this.expect("==","!=","===","!=="))&&(left=this.binaryFn(left,token.fn,this.equality()));return left},"relational":function(){var token,left=this.additive();(token=this.expect("<",">","<=",">="))&&(left=this.binaryFn(left,token.fn,this.relational()));return left},"additive":function(){var token,left=this.multiplicative();for(;token=this.expect("+","-");)left=this.binaryFn(left,token.fn,this.multiplicative());return left},"multiplicative":function(){var token,left=this.unary();for(;token=this.expect("*","/","%");)left=this.binaryFn(left,token.fn,this.unary());return left},"unary":function(){var token;return this.expect("+")?this.primary():(token=this.expect("-"))?this.binaryFn(Parser.ZERO,token.fn,this.unary()):(token=this.expect("!"))?this.unaryFn(token.fn,this.unary()):this.primary()},"fieldAccess":function(object){var expression=this.text,field=this.expect().text,getter=getterFn(field,this.options,expression);return extend(function(scope,locals,self){return getter(self||object(scope,locals))},{"assign":function(scope,value,locals){var o=object(scope,locals);o||object.assign(scope,o={});return setter(o,field,value,expression)}})},"objectIndex":function(obj){var expression=this.text,indexFn=this.expression();this.consume("]");return extend(function(self,locals){var v,o=obj(self,locals),i=indexFn(self,locals);ensureSafeMemberName(i,expression);if(!o)return undefined;v=ensureSafeObject(o[i],expression);return v},{"assign":function(self,value,locals){var key=ensureSafeMemberName(indexFn(self,locals),expression),o=ensureSafeObject(obj(self,locals),expression);o||obj.assign(self,o={});return o[key]=value}})},"functionCall":function(fnGetter,contextGetter){var expressionText,args,argsFn=[];if(")"!==this.peekToken().text)do argsFn.push(this.expression());while(this.expect(","));this.consume(")");expressionText=this.text;args=argsFn.length?[]:null;return function(scope,locals){var i,v,context=contextGetter?contextGetter(scope,locals):scope,fn=fnGetter(scope,locals,context)||noop;if(args){i=argsFn.length;for(;i--;)args[i]=ensureSafeObject(argsFn[i](scope,locals),expressionText)}ensureSafeObject(context,expressionText);ensureSafeFunction(fn,expressionText);v=fn.apply?fn.apply(context,args):fn(args[0],args[1],args[2],args[3],args[4]);return ensureSafeObject(v,expressionText)}},"arrayDeclaration":function(){var elementFn,elementFns=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;elementFn=this.expression();elementFns.push(elementFn)}while(this.expect(","));this.consume("]");return extend(function(self,locals){var i,ii,array=[];for(i=0,ii=elementFns.length;ii>i;i++)array.push(elementFns[i](self,locals));return array},{"literal":!0,"constant":elementFns.every(isConstant),"inputs":elementFns})},"object":function(){var token,value,keys=[],valueFns=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;token=this.expect();keys.push(token.string||token.text);this.consume(":");value=this.expression();valueFns.push(value)}while(this.expect(","));this.consume("}");return extend(function(self,locals){var i,ii,object={};for(i=0,ii=valueFns.length;ii>i;i++)object[keys[i]]=valueFns[i](self,locals);return object},{"literal":!0,"constant":valueFns.every(isConstant),"inputs":valueFns})}};getterFnCache=createMap();$sceMinErr=minErr("$sce");SCE_CONTEXTS={"HTML":"html","CSS":"css","URL":"url","RESOURCE_URL":"resourceUrl","JS":"js"};$compileMinErr=minErr("$compile");urlParsingNode=document.createElement("a");originUrl=urlResolve(window.location.href,!0);$FilterProvider.$inject=["$provide"];currencyFilter.$inject=["$locale"];numberFilter.$inject=["$locale"];DECIMAL_SEP=".";DATE_FORMATS={"yyyy":dateGetter("FullYear",4),"yy":dateGetter("FullYear",2,0,!0),"y":dateGetter("FullYear",1),"MMMM":dateStrGetter("Month"),"MMM":dateStrGetter("Month",!0),"MM":dateGetter("Month",2,1),"M":dateGetter("Month",1,1),"dd":dateGetter("Date",2),"d":dateGetter("Date",1),"HH":dateGetter("Hours",2),"H":dateGetter("Hours",1),"hh":dateGetter("Hours",2,-12),"h":dateGetter("Hours",1,-12),"mm":dateGetter("Minutes",2),"m":dateGetter("Minutes",1),"ss":dateGetter("Seconds",2),"s":dateGetter("Seconds",1),"sss":dateGetter("Milliseconds",3),"EEEE":dateStrGetter("Day"),"EEE":dateStrGetter("Day",!0),"a":ampmGetter,"Z":timeZoneGetter,"ww":weekGetter(2),"w":weekGetter(1)};DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];lowercaseFilter=valueFn(lowercase);uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];htmlAnchorDirective=valueFn({"restrict":"E","compile":function(element,attr){if(!attr.href&&!attr.xlinkHref&&!attr.name)return function(scope,element){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";element.on("click",function(event){element.attr(href)||event.preventDefault()})}}});ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if("multiple"==propName)return;var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{"restrict":"A","priority":100,"link":function(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}}}});forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{"priority":100,"link":function(scope,element,attr){if("ngPattern"===ngAttr&&"/"==attr.ngPattern.charAt(0)){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match){attr.$set("ngPattern",new RegExp(match[1],match[2]));return}}scope.$watch(attr[ngAttr],function(value){attr.$set(ngAttr,value)})}}}});forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{"priority":99,"link":function(scope,element,attr){var propName=attrName,name=attrName;if("href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))){name="xlinkHref";attr.$attr[name]="xlink:href";propName=null}attr.$observe(normalized,function(value){if(!value){"href"===attrName&&attr.$set(name,null);return}var flag=value.indexOf("//static.console.hwclouds.com/")>=0;window.bussinessVersion&&!flag?value=value+"?ttl="+window.bussinessVersion:window.frameworkVersion&&flag&&(value=value+"?ttf="+window.frameworkVersion);attr.$set(name,value);msie&&propName&&element.prop(propName,attr[name])})}}}});nullFormCtrl={"$addControl":noop,"$$renameControl":nullFormRenameControl,"$removeControl":noop,"$setValidity":noop,"$setDirty":noop,"$setPristine":noop,"$setSubmitted":noop},SUBMITTED_CLASS="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];formDirectiveFactory=function(isNgForm){return["$timeout",function($timeout){var formDirective={"name":"form","restrict":isNgForm?"EAC":"E","controller":FormController,"compile":function(formElement){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);return{"pre":function(scope,formElement,attr,controller){var handleFormSubmission,parentFormCtrl,alias;if(!("action"in attr)){handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue();controller.$setSubmitted()});event.preventDefault?event.preventDefault():event.returnValue=!1};addEventListenerFn(formElement[0],"submit",handleFormSubmission);formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",handleFormSubmission)},0,!1)})}parentFormCtrl=controller.$$parentForm,alias=controller.$name;if(alias){setter(scope,alias,controller,alias);attr.$observe(attr.name?"name":"ngForm",function(newValue){if(alias===newValue)return;setter(scope,alias,undefined,alias);alias=newValue;setter(scope,alias,controller,alias);parentFormCtrl.$$renameControl(controller,alias)})}formElement.on("$destroy",function(){parentFormCtrl.$removeControl(controller);alias&&setter(scope,alias,undefined,alias);extend(controller,nullFormCtrl)})}}}};return formDirective}]};formDirective=formDirectiveFactory();ngFormDirective=formDirectiveFactory(!0);ISO_DATE_REGEXP=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/;URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;EMAIL_REGEXP=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/;DATE_REGEXP=/^(\d{4})-(\d{2})-(\d{2})$/;DATETIMELOCAL_REGEXP=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;WEEK_REGEXP=/^(\d{4})-W(\d\d)$/;MONTH_REGEXP=/^(\d{4})-(\d\d)$/;TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/;DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/;$ngModelMinErr=new minErr("ngModel");inputType={"text":textInputType,"date":createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),"time":createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),"week":createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),"month":createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),"number":numberInputType,"url":urlInputType,"email":emailInputType,"radio":radioInputType,"checkbox":checkboxInputType,"hidden":noop,"button":noop,"submit":noop,"reset":noop,"file":noop};inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{"restrict":"E","require":["?ngModel"],"link":{"pre":function(scope,element,attr,ctrls){ctrls[0]&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}];VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",PENDING_CLASS="ng-pending";NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$rootScope,$q,$interpolate){var parsedNgModel,pendingDebounce,ctrl,ngModelGet,ngModelSet,parentForm,currentValidationRunId;this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=undefined;this.$name=$interpolate($attr.name||"",!1)($scope);parsedNgModel=$parse($attr.ngModel),pendingDebounce=null,ctrl=this;ngModelGet=function(){var modelValue=parsedNgModel($scope);ctrl.$options&&ctrl.$options.getterSetter&&isFunction(modelValue)&&(modelValue=modelValue());return modelValue};ngModelSet=function(newValue){var getterSetter;ctrl.$options&&ctrl.$options.getterSetter&&isFunction(getterSetter=parsedNgModel($scope))?getterSetter(ctrl.$modelValue):parsedNgModel.assign($scope,ctrl.$modelValue)};this.$$setOptions=function(options){ctrl.$options=options;if(!(parsedNgModel.assign||options&&options.getterSetter))throw $ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element))};this.$render=noop;this.$isEmpty=function(value){return isUndefined(value)||""===value||null===value||value!==value};parentForm=$element.inheritedData("$formController")||nullFormCtrl,currentValidationRunId=0;addSetValidityMethod({"ctrl":this,"$element":$element,"set":function(object,property){object[property]=!0},"unset":function(object,property){delete object[property]},"parentForm":parentForm,"$animate":$animate});this.$setPristine=function(){ctrl.$dirty=!1;ctrl.$pristine=!0;$animate.removeClass($element,DIRTY_CLASS);$animate.addClass($element,PRISTINE_CLASS)};this.$setUntouched=function(){ctrl.$touched=!1;ctrl.$untouched=!0;$animate.setClass($element,UNTOUCHED_CLASS,TOUCHED_CLASS)};this.$setTouched=function(){ctrl.$touched=!0;ctrl.$untouched=!1;$animate.setClass($element,TOUCHED_CLASS,UNTOUCHED_CLASS)};this.$rollbackViewValue=function(){$timeout.cancel(pendingDebounce);ctrl.$viewValue=ctrl.$$lastCommittedViewValue;ctrl.$render()};this.$validate=function(){if(isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue))return;this.$$parseAndValidate()};this.$$runValidators=function(parseValid,modelValue,viewValue,doneCallback){function processParseErrors(parseValid){var errorKey=ctrl.$$parserName||"parse";if(parseValid===undefined)setValidity(errorKey,null);else{setValidity(errorKey,parseValid);if(!parseValid){forEach(ctrl.$validators,function(v,name){setValidity(name,null)});forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)});return!1}}return!0}function processSyncValidators(){var syncValidatorsValid=!0;forEach(ctrl.$validators,function(validator,name){var result=validator(modelValue,viewValue);syncValidatorsValid=syncValidatorsValid&&result;setValidity(name,result)});if(!syncValidatorsValid){forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)});return!1}return!0}function processAsyncValidators(){var validatorPromises=[],allValid=!0;forEach(ctrl.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise))throw $ngModelMinErr("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);setValidity(name,undefined);validatorPromises.push(promise.then(function(){setValidity(name,!0)},function(error){allValid=!1;setValidity(name,!1)}))});validatorPromises.length?$q.all(validatorPromises).then(function(){validationDone(allValid)},noop):validationDone(!0)}function setValidity(name,isValid){localValidationRunId===currentValidationRunId&&ctrl.$setValidity(name,isValid)}function validationDone(allValid){localValidationRunId===currentValidationRunId&&doneCallback(allValid)}currentValidationRunId++;var localValidationRunId=currentValidationRunId;if(!processParseErrors(parseValid)){validationDone(!1);return}if(!processSyncValidators()){validationDone(!1);return}processAsyncValidators()};this.$commitViewValue=function(){var viewValue=ctrl.$viewValue;$timeout.cancel(pendingDebounce);if(ctrl.$$lastCommittedViewValue===viewValue&&(""!==viewValue||!ctrl.$$hasNativeValidators))return;ctrl.$$lastCommittedViewValue=viewValue;if(ctrl.$pristine){ctrl.$dirty=!0;ctrl.$pristine=!1;$animate.removeClass($element,PRISTINE_CLASS);$animate.addClass($element,DIRTY_CLASS);parentForm.$setDirty()}this.$$parseAndValidate()};this.$$parseAndValidate=function(){function writeToModelIfNeeded(){ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope()}var i,prevModelValue,allowInvalid,viewValue=ctrl.$$lastCommittedViewValue,modelValue=viewValue,parserValid=isUndefined(modelValue)?undefined:!0;if(parserValid)for(i=0;i<ctrl.$parsers.length;i++){modelValue=ctrl.$parsers[i](modelValue);if(isUndefined(modelValue)){parserValid=!1;break}}isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)&&(ctrl.$modelValue=ngModelGet());prevModelValue=ctrl.$modelValue;allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;if(allowInvalid){ctrl.$modelValue=modelValue;writeToModelIfNeeded()}ctrl.$$runValidators(parserValid,modelValue,viewValue,function(allValid){if(!allowInvalid){ctrl.$modelValue=allValid?modelValue:undefined;writeToModelIfNeeded()}})};this.$$writeModelToScope=function(){ngModelSet(ctrl.$modelValue);forEach(ctrl.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}})};this.$setViewValue=function(value,trigger){ctrl.$viewValue=value;(!ctrl.$options||ctrl.$options.updateOnDefault)&&ctrl.$$debounceViewValueCommit(trigger)};this.$$debounceViewValueCommit=function(trigger){var debounce,debounceDelay=0,options=ctrl.$options;if(options&&isDefined(options.debounce)){debounce=options.debounce;isNumber(debounce)?debounceDelay=debounce:isNumber(debounce[trigger])?debounceDelay=debounce[trigger]:isNumber(debounce.default)&&(debounceDelay=debounce.default)}$timeout.cancel(pendingDebounce);debounceDelay?pendingDebounce=$timeout(function(){ctrl.$commitViewValue()},debounceDelay):$rootScope.$$phase?ctrl.$commitViewValue():$scope.$apply(function(){ctrl.$commitViewValue()})};$scope.$watch(function(){var formatters,idx,viewValue,modelValue=ngModelGet();if(modelValue!==ctrl.$modelValue){ctrl.$modelValue=modelValue;formatters=ctrl.$formatters,idx=formatters.length;viewValue=modelValue;for(;idx--;)viewValue=formatters[idx](viewValue);if(ctrl.$viewValue!==viewValue){ctrl.$viewValue=ctrl.$$lastCommittedViewValue=viewValue;ctrl.$render();ctrl.$$runValidators(undefined,modelValue,viewValue,noop)}}return modelValue})}];ngModelDirective=function(){return{"restrict":"A","require":["ngModel","^?form","^?ngModelOptions"],"controller":NgModelController,"priority":1,"compile":function(element){element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS);return{"pre":function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||nullFormCtrl;modelCtrl.$$setOptions(ctrls[2]&&ctrls[2].$options);formCtrl.$addControl(modelCtrl);attr.$observe("name",function(newValue){modelCtrl.$name!==newValue&&formCtrl.$$renameControl(modelCtrl,newValue)});scope.$on("$destroy",function(){formCtrl.$removeControl(modelCtrl)})},"post":function(scope,element,attr,ctrls){var modelCtrl=ctrls[0];modelCtrl.$options&&modelCtrl.$options.updateOn&&element.on(modelCtrl.$options.updateOn,function(ev){modelCtrl.$$debounceViewValueCommit(ev&&ev.type)});element.on("blur",function(ev){if(modelCtrl.$touched)return;scope.$apply(function(){modelCtrl.$setTouched()})})}}}}};ngChangeDirective=valueFn({"restrict":"A","require":"ngModel","link":function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}});requiredDirective=function(){return{"restrict":"A","require":"?ngModel","link":function(scope,elm,attr,ctrl){if(!ctrl)return;attr.required=!0;ctrl.$validators.required=function(value){return!attr.required||!ctrl.$isEmpty(value)};attr.$observe("required",function(){ctrl.$validate()})}}};patternDirective=function(){return{"restrict":"A","require":"?ngModel","link":function(scope,elm,attr,ctrl){if(!ctrl)return;var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){isString(regex)&&regex.length>0&&(regex=new RegExp(regex));if(regex&&!regex.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm));regexp=regex||undefined;ctrl.$validate()});ctrl.$validators.pattern=function(value){return ctrl.$isEmpty(value)||isUndefined(regexp)||regexp.test(value)}}}};maxlengthDirective=function(){return{"restrict":"A","require":"?ngModel","link":function(scope,elm,attr,ctrl){if(!ctrl)return;var maxlength=0;attr.$observe("maxlength",function(value){maxlength=int(value)||0;ctrl.$validate()});ctrl.$validators.maxlength=function(modelValue,viewValue){return ctrl.$isEmpty(modelValue)||viewValue.length<=maxlength}}}};minlengthDirective=function(){return{"restrict":"A","require":"?ngModel","link":function(scope,elm,attr,ctrl){if(!ctrl)return;var minlength=0;attr.$observe("minlength",function(value){minlength=int(value)||0;ctrl.$validate()});ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(modelValue)||viewValue.length>=minlength}}}};ngListDirective=function(){return{"restrict":"A","priority":100,"require":"ngModel","link":function(scope,element,attr,ctrl){var ngList=element.attr(attr.$attr.ngList)||", ",trimValues="false"!==attr.ngTrim,separator=trimValues?trim(ngList):ngList,parse=function(viewValue){if(isUndefined(viewValue))return;var list=[];viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trimValues?trim(value):value)});return list};ctrl.$parsers.push(parse);ctrl.$formatters.push(function(value){if(isArray(value))return value.join(ngList);return undefined});ctrl.$isEmpty=function(value){return!value||!value.length}}}};CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/;ngValueDirective=function(){return{"restrict":"A","priority":100,"compile":function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value)})}}}};ngModelOptionsDirective=function(){return{"restrict":"A","controller":["$scope","$attrs",function($scope,$attrs){var that=this;this.$options=$scope.$eval($attrs.ngModelOptions);if(this.$options.updateOn!==undefined){this.$options.updateOnDefault=!1;this.$options.updateOn=trim(this.$options.updateOn.replace(DEFAULT_REGEXP,function(){that.$options.updateOnDefault=!0;return" "}))}else this.$options.updateOnDefault=!0}]}};ngBindDirective=["$compile",function($compile){return{"restrict":"AC","compile":function(templateElement){$compile.$$addBindingClass(templateElement);return function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind);element=element[0];scope.$watch(attr.ngBind,function(value){element.textContent=value===undefined?"":value})}}}}];ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{"compile":function(templateElement){$compile.$$addBindingClass(templateElement);return function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions);element=element[0];attr.$observe("ngBindTemplate",function(value){element.textContent=value===undefined?"":value})}}}}];ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{"restrict":"A","compile":function(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml),ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function(value){return(value||"").toString()});$compile.$$addBindingClass(tElement);return function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml);scope.$watch(ngBindHtmlWatch,function(){element.html($sce.getTrustedHtml(ngBindHtmlGetter(scope))||"")})}}}}];ngClassDirective=classDirective("",!0);ngClassOddDirective=classDirective("Odd",0);ngClassEvenDirective=classDirective("Even",1);ngCloakDirective=ngDirective({"compile":function(element,attr){attr.$set("ngCloak",undefined);element.removeClass("ng-cloak")}});ngControllerDirective=[function(){return{"restrict":"A","scope":!0,"controller":"@","priority":500}}];ngEventDirectives={};forceAsyncEvents={"blur":!0,"focus":!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{"restrict":"A","compile":function($element,attr){var fn=$parse(attr[directiveName]);return function(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{"$event":event})};forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}}]});ngIfDirective=["$animate",function($animate){return{"multiElement":!0,"transclude":"element","priority":600,"terminal":!0,"restrict":"A","$$tlb":!0,"link":function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function(value){if(value)childScope||$transclude(function(clone,newScope){childScope=newScope;clone[clone.length++]=document.createComment(" end ngIf: "+$attr.ngIf+" ");block={"clone":clone};$animate.enter(clone,$element.parent(),$element)});else{if(previousElements){previousElements.remove();previousElements=null}if(childScope){childScope.$destroy();childScope=null}if(block){previousElements=getBlockNodes(block.clone);$animate.leave(previousElements).then(function(){previousElements=null});block=null}}})}}}];ngIncludeDirective=["$templateRequest","$anchorScroll","$animate","$sce",function($templateRequest,$anchorScroll,$animate,$sce){return{"restrict":"ECA","priority":400,"terminal":!0,"transclude":"element","controller":angular.noop,"compile":function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){if(previousElement){previousElement.remove();previousElement=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){$animate.leave(currentElement).then(function(){previousElement=null});previousElement=currentElement;currentElement=null}};scope.$watch($sce.parseAsResourceUrl(srcExp),function(src){var afterAnimation=function(){!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;if(src){$templateRequest(src,!0).then(function(response){var newScope,clone;if(thisChangeId!==changeCounter)return;newScope=scope.$new();ctrl.template=response;clone=$transclude(newScope,function(clone){cleanupLastIncludeContent();$animate.enter(clone,null,$element).then(afterAnimation)});currentScope=newScope;currentElement=clone;currentScope.$emit("$includeContentLoaded",src);scope.$eval(onloadExp)},function(){if(thisChangeId===changeCounter){cleanupLastIncludeContent();scope.$emit("$includeContentError",src)}});scope.$emit("$includeContentRequested",src)}else{cleanupLastIncludeContent();ctrl.template=null}})}}}}];ngIncludeFillContentDirective=["$compile",function($compile){return{"restrict":"ECA","priority":-400,"require":"ngInclude","link":function(scope,$element,$attr,ctrl){if(/SVG/.test($element[0].toString())){$element.empty();$compile(jqLiteBuildFragment(ctrl.template,document).childNodes)(scope,function(clone){$element.append(clone)},undefined,undefined,$element);return}$element.html(ctrl.template);$compile($element.contents())(scope)}}}];ngInitDirective=ngDirective({"priority":450,"compile":function(){return{"pre":function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}});ngNonBindableDirective=ngDirective({"terminal":!0,"priority":1e3});ngPluralizeDirective=["$locale","$interpolate",function($locale,$interpolate){var BRACE=/{}/g;return{"restrict":"EA","link":function(scope,element,attr){var numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),isWhen=/^when(Minus)?(.+)$/;forEach(attr,function(expression,attributeName){isWhen.test(attributeName)&&(whens[lowercase(attributeName.replace("when","").replace("Minus","-"))]=element.attr(attr.$attr[attributeName]))});forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,startSymbol+numberExp+"-"+offset+endSymbol))});scope.$watch(function(){var value=parseFloat(scope.$eval(numberExp));if(isNaN(value))return"";value in whens||(value=$locale.pluralCat(value-offset));return whensExpFns[value](scope)},function(newVal){element.text(newVal)})}}}];ngRepeatDirective=["$parse","$animate",function($parse,$animate){var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat"),updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value;keyIdentifier&&(scope[keyIdentifier]=key);scope.$index=index;scope.$first=0===index;scope.$last=index===arrayLength-1;scope.$middle=!(scope.$first||scope.$last);scope.$odd=!(scope.$even=0===(1&index))},getBlockStart=function(block){return block.clone[0]},getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{"restrict":"A","multiElement":!0,"transclude":"element","priority":1e3,
"terminal":!0,"$$tlb":!0,"compile":function($element,$attr){var lhs,rhs,aliasAs,trackByExp,valueIdentifier,keyIdentifier,trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,hashFnLocals,expression=$attr.ngRepeat,ngRepeatEndComment=document.createComment(" end ngRepeat: "+expression+" "),match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);lhs=match[1];rhs=match[2];aliasAs=match[3];trackByExp=match[4];match=lhs.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);valueIdentifier=match[3]||match[1];keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent)$/.test(aliasAs)))throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);hashFnLocals={"$id":hashKey};if(trackByExp)trackByExpGetter=$parse(trackByExp);else{trackByIdArrayFn=function(key,value){return hashKey(value)};trackByIdObjFn=function(key){return key}}return function($scope,$element,$attr,ctrl,$transclude){trackByExpGetter&&(trackByIdExpFn=function(key,value,index){keyIdentifier&&(hashFnLocals[keyIdentifier]=key);hashFnLocals[valueIdentifier]=value;hashFnLocals.$index=index;return trackByExpGetter($scope,hashFnLocals)});var lastBlockMap=createMap();$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove,itemKey,blockKey,previousNode=$element[0],nextBlockMap=createMap();aliasAs&&($scope[aliasAs]=collection);if(isArrayLike(collection)){collectionKeys=collection;trackByIdFn=trackByIdExpFn||trackByIdArrayFn}else{trackByIdFn=trackByIdExpFn||trackByIdObjFn;collectionKeys=[];for(itemKey in collection)collection.hasOwnProperty(itemKey)&&"$"!=itemKey.charAt(0)&&collectionKeys.push(itemKey);collectionKeys.sort()}collectionLength=collectionKeys.length;nextBlockOrder=new Array(collectionLength);for(index=0;collectionLength>index;index++){key=collection===collectionKeys?index:collectionKeys[index];value=collection[key];trackById=trackByIdFn(key,value,index);if(lastBlockMap[trackById]){block=lastBlockMap[trackById];delete lastBlockMap[trackById];nextBlockMap[trackById]=block;nextBlockOrder[index]=block}else{if(nextBlockMap[trackById]){forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)});throw ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,toJson(value))}nextBlockOrder[index]={"id":trackById,"scope":undefined,"clone":undefined};nextBlockMap[trackById]=!0}}for(blockKey in lastBlockMap){block=lastBlockMap[blockKey];elementsToRemove=getBlockNodes(block.clone);$animate.leave(elementsToRemove);if(elementsToRemove[0].parentNode)for(index=0,length=elementsToRemove.length;length>index;index++)elementsToRemove[index][NG_REMOVED]=!0;block.scope.$destroy()}for(index=0;collectionLength>index;index++){key=collection===collectionKeys?index:collectionKeys[index];value=collection[key];block=nextBlockOrder[index];if(block.scope){nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!=nextNode&&$animate.move(getBlockNodes(block.clone),null,jqLite(previousNode));previousNode=getBlockEnd(block);updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else $transclude(function(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(!1);clone[clone.length++]=endNode;$animate.enter(clone,null,jqLite(previousNode));previousNode=endNode;block.clone=clone;nextBlockMap[block.id]=block;updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)})}lastBlockMap=nextBlockMap})}}}}];NG_HIDE_CLASS="ng-hide";NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate";ngShowDirective=["$animate",function($animate){return{"restrict":"A","multiElement":!0,"link":function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{"tempClasses":NG_HIDE_IN_PROGRESS_CLASS})})}}}];ngHideDirective=["$animate",function($animate){return{"restrict":"A","multiElement":!0,"link":function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{"tempClasses":NG_HIDE_IN_PROGRESS_CLASS})})}}}];ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")});newStyles&&element.css(newStyles)},!0)});ngSwitchDirective=["$animate",function($animate){return{"restrict":"EA","require":"ngSwitch","controller":["$scope",function(){this.cases={}}],"link":function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[],spliceFactory=function(array,index){return function(){array.splice(index,1)}};scope.$watch(watchExpr,function(value){var i,ii,selected,promise;for(i=0,ii=previousLeaveAnimations.length;ii>i;++i)$animate.cancel(previousLeaveAnimations[i]);previousLeaveAnimations.length=0;for(i=0,ii=selectedScopes.length;ii>i;++i){selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();promise=previousLeaveAnimations[i]=$animate.leave(selected);promise.then(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0;selectedScopes.length=0;(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){var anchor,block;selectedScopes.push(selectedScope);anchor=selectedTransclude.element;caseElement[caseElement.length++]=document.createComment(" end ngSwitchWhen: ");block={"clone":caseElement};selectedElements.push(block);$animate.enter(caseElement,anchor.parent(),anchor)})})})}}}];ngSwitchWhenDirective=ngDirective({"transclude":"element","priority":1200,"require":"^ngSwitch","multiElement":!0,"link":function(scope,element,attrs,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[];ctrl.cases["!"+attrs.ngSwitchWhen].push({"transclude":$transclude,"element":element})}});ngSwitchDefaultDirective=ngDirective({"transclude":"element","priority":1200,"require":"^ngSwitch","multiElement":!0,"link":function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[];ctrl.cases["?"].push({"transclude":$transclude,"element":element})}});ngTranscludeDirective=ngDirective({"restrict":"EAC","link":function($scope,$element,$attrs,controller,$transclude){if(!$transclude)throw minErr("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$transclude(function(clone){$element.empty();$element.append(clone)})}});scriptDirective=["$templateCache",function($templateCache){return{"restrict":"E","terminal":!0,"compile":function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}];ngOptionsMinErr=minErr("ngOptions");ngOptionsDirective=valueFn({"restrict":"A","terminal":!0});selectDirective=["$compile","$parse",function($compile,$parse){var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,nullModelCtrl={"$setViewValue":noop};return{"restrict":"E","require":["select","?ngModel"],"controller":["$element","$scope","$attrs",function($element,$scope,$attrs){var nullOption,unknownOption,self=this,optionsMap={},ngModelCtrl=nullModelCtrl;self.databound=$attrs.ngModel;self.init=function(ngModelCtrl_,nullOption_,unknownOption_){ngModelCtrl=ngModelCtrl_;nullOption=nullOption_;unknownOption=unknownOption_};self.addOption=function(value,element){assertNotHasOwnProperty(value,'"option value"');optionsMap[value]=!0;if(ngModelCtrl.$viewValue==value){$element.val(value);unknownOption.parent()&&unknownOption.remove()}element&&element[0].hasAttribute("selected")&&(element[0].selected=!0)};self.removeOption=function(value){if(this.hasOption(value)){delete optionsMap[value];ngModelCtrl.$viewValue==value&&this.renderUnknownOption(value)}};self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";unknownOption.val(unknownVal);$element.prepend(unknownOption);$element.val(unknownVal);unknownOption.prop("selected",!0)};self.hasOption=function(value){return optionsMap.hasOwnProperty(value)};$scope.$on("$destroy",function(){self.renderUnknownOption=noop})}],"link":function(scope,element,attr,ctrls){function setupAsSingle(scope,selectElement,ngModelCtrl,selectCtrl){ngModelCtrl.$render=function(){var viewValue=ngModelCtrl.$viewValue;if(selectCtrl.hasOption(viewValue)){unknownOption.parent()&&unknownOption.remove();selectElement.val(viewValue);""===viewValue&&emptyOption.prop("selected",!0)}else isUndefined(viewValue)&&emptyOption?selectElement.val(""):selectCtrl.renderUnknownOption(viewValue)};selectElement.on("change",function(){scope.$apply(function(){unknownOption.parent()&&unknownOption.remove();ngModelCtrl.$setViewValue(selectElement.val())})})}function setupAsMultiple(scope,selectElement,ctrl){var lastView;ctrl.$render=function(){var items=new HashMap(ctrl.$viewValue);forEach(selectElement.find("option"),function(option){option.selected=isDefined(items.get(option.value))})};scope.$watch(function(){if(!equals(lastView,ctrl.$viewValue)){lastView=shallowCopy(ctrl.$viewValue);ctrl.$render()}});selectElement.on("change",function(){scope.$apply(function(){var array=[];forEach(selectElement.find("option"),function(option){option.selected&&array.push(option.value)});ctrl.$setViewValue(array)})})}function setupAsOptions(scope,selectElement,ctrl){function callExpression(exprFn,key,value){locals[valueName]=value;keyName&&(locals[keyName]=key);return exprFn(scope,locals)}function selectionChanged(){scope.$apply(function(){var viewValue,selectedKey,collection=valuesFn(scope)||[];if(multiple){viewValue=[];forEach(selectElement.val(),function(selectedKey){viewValue.push(getViewValue(selectedKey,collection[selectedKey]))})}else{selectedKey=selectElement.val();viewValue=getViewValue(selectedKey,collection[selectedKey])}ctrl.$setViewValue(viewValue);render()})}function getViewValue(key,value){if("?"===key)return undefined;if(""===key)return null;var viewValueFn=selectAsFn?selectAsFn:valueFn;return callExpression(viewValueFn,key,value)}function getLabels(){var toDisplay,i,ii,prop,values=valuesFn(scope);if(values&&isArray(values)){toDisplay=new Array(values.length);for(i=0,ii=values.length;ii>i;i++)toDisplay[i]=callExpression(displayFn,i,values[i]);return toDisplay}if(values){toDisplay={};for(prop in values)values.hasOwnProperty(prop)&&(toDisplay[prop]=callExpression(displayFn,prop,values[prop]))}return toDisplay}function createIsSelectedFn(viewValue){var selectedSet,trackIndex;if(multiple)if(trackFn&&isArray(viewValue)){selectedSet=new HashMap([]);for(trackIndex=0;trackIndex<viewValue.length;trackIndex++)selectedSet.put(callExpression(trackFn,null,viewValue[trackIndex]),!0)}else selectedSet=new HashMap(viewValue);else trackFn&&(viewValue=callExpression(trackFn,null,viewValue));return function(key,value){var compareValueFn;compareValueFn=trackFn?trackFn:selectAsFn?selectAsFn:valueFn;return multiple?isDefined(selectedSet.remove(callExpression(compareValueFn,key,value))):viewValue==callExpression(compareValueFn,key,value)}}function scheduleRendering(){if(!renderScheduled){scope.$$postDigest(render);renderScheduled=!0}}function updateLabelMap(labelMap,label,added){labelMap[label]=labelMap[label]||0;labelMap[label]+=added?1:-1}function render(){renderScheduled=!1;var optionGroupName,optionGroup,option,existingParent,existingOptions,existingOption,key,value,groupLength,length,groupIndex,index,selected,lastElement,element,label,optionGroups={"":[]},optionGroupNames=[""],viewValue=ctrl.$viewValue,values=valuesFn(scope)||[],keys=keyName?sortedKeys(values):values,labelMap={},isSelected=createIsSelectedFn(viewValue),anySelected=!1;for(index=0;length=keys.length,length>index;index++){key=index;if(keyName){key=keys[index];if("$"===key.charAt(0))continue}value=values[key];optionGroupName=callExpression(groupByFn,key,value)||"";if(!(optionGroup=optionGroups[optionGroupName])){optionGroup=optionGroups[optionGroupName]=[];optionGroupNames.push(optionGroupName)}selected=isSelected(key,value);anySelected=anySelected||selected;label=callExpression(displayFn,key,value);label=isDefined(label)?label:"";optionGroup.push({"id":keyName?keys[index]:index,"label":label,"selected":selected})}multiple||(nullOption||null===viewValue?optionGroups[""].unshift({"id":"","label":"","selected":!anySelected}):anySelected||optionGroups[""].unshift({"id":"?","label":"","selected":!0}));for(groupIndex=0,groupLength=optionGroupNames.length;groupLength>groupIndex;groupIndex++){optionGroupName=optionGroupNames[groupIndex];optionGroup=optionGroups[optionGroupName];if(optionGroupsCache.length<=groupIndex){existingParent={"element":optGroupTemplate.clone().attr("label",optionGroupName),"label":optionGroup.label};existingOptions=[existingParent];optionGroupsCache.push(existingOptions);selectElement.append(existingParent.element)}else{existingOptions=optionGroupsCache[groupIndex];existingParent=existingOptions[0];existingParent.label!=optionGroupName&&existingParent.element.attr("label",existingParent.label=optionGroupName)}lastElement=null;for(index=0,length=optionGroup.length;length>index;index++){option=optionGroup[index];if(existingOption=existingOptions[index+1]){lastElement=existingOption.element;if(existingOption.label!==option.label){updateLabelMap(labelMap,existingOption.label,!1);updateLabelMap(labelMap,option.label,!0);lastElement.text(existingOption.label=option.label)}existingOption.id!==option.id&&lastElement.val(existingOption.id=option.id);if(lastElement[0].selected!==option.selected){lastElement.prop("selected",existingOption.selected=option.selected);msie&&lastElement.prop("selected",existingOption.selected)}}else{""===option.id&&nullOption?element=nullOption:(element=optionTemplate.clone()).val(option.id).prop("selected",option.selected).attr("selected",option.selected).text(option.label);existingOptions.push(existingOption={"element":element,"label":option.label,"id":option.id,"selected":option.selected});updateLabelMap(labelMap,option.label,!0);lastElement?lastElement.after(element):existingParent.element.append(element);lastElement=element}}index++;for(;existingOptions.length>index;){option=existingOptions.pop();updateLabelMap(labelMap,option.label,!1);option.element.remove()}forEach(labelMap,function(count,label){count>0?selectCtrl.addOption(label):0>count&&selectCtrl.removeOption(label)})}for(;optionGroupsCache.length>groupIndex;)optionGroupsCache.pop()[0].element.remove()}var match,displayFn,valueName,selectAs,selectAsFn,keyName,groupByFn,valueFn,valuesFn,track,trackFn,optionGroupsCache,locals;if(!(match=optionsExp.match(NG_OPTIONS_REGEXP)))throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));displayFn=$parse(match[2]||match[1]),valueName=match[4]||match[6],selectAs=/ as /.test(match[0])&&match[1],selectAsFn=selectAs?$parse(selectAs):null,keyName=match[5],groupByFn=$parse(match[3]||""),valueFn=$parse(match[2]?match[1]:valueName),valuesFn=$parse(match[7]),track=match[8],trackFn=track?$parse(match[8]):null,optionGroupsCache=[[{"element":selectElement,"label":""}]],locals={};if(nullOption){$compile(nullOption)(scope);nullOption.removeClass("ng-scope");nullOption.remove()}selectElement.empty();selectElement.on("change",selectionChanged);ctrl.$render=render;scope.$watchCollection(valuesFn,scheduleRendering);scope.$watchCollection(getLabels,scheduleRendering);multiple&&scope.$watchCollection(function(){return ctrl.$modelValue},scheduleRendering)}var selectCtrl,ngModelCtrl,multiple,optionsExp,nullOption,emptyOption,renderScheduled,optionTemplate,optGroupTemplate,unknownOption,i,children,ii;if(!ctrls[1])return;selectCtrl=ctrls[0],ngModelCtrl=ctrls[1],multiple=attr.multiple,optionsExp=attr.ngOptions,nullOption=!1,renderScheduled=!1,optionTemplate=jqLite(document.createElement("option")),optGroupTemplate=jqLite(document.createElement("optgroup")),unknownOption=optionTemplate.clone();for(i=0,children=element.children(),ii=children.length;ii>i;i++)if(""===children[i].value){emptyOption=nullOption=children.eq(i);break}selectCtrl.init(ngModelCtrl,nullOption,unknownOption);multiple&&(ngModelCtrl.$isEmpty=function(value){return!value||0===value.length});optionsExp?setupAsOptions(scope,element,ngModelCtrl):multiple?setupAsMultiple(scope,element,ngModelCtrl):setupAsSingle(scope,element,ngModelCtrl,selectCtrl)}}}];optionDirective=["$interpolate",function($interpolate){var nullSelectCtrl={"addOption":noop,"removeOption":noop};return{"restrict":"E","priority":100,"compile":function(element,attr){if(isUndefined(attr.value)){var interpolateFn=$interpolate(element.text(),!0);interpolateFn||attr.$set("value",element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.databound||(selectCtrl=nullSelectCtrl);interpolateFn?scope.$watch(interpolateFn,function(newVal,oldVal){attr.$set("value",newVal);oldVal!==newVal&&selectCtrl.removeOption(oldVal);selectCtrl.addOption(newVal,element)}):selectCtrl.addOption(attr.value,element);element.on("$destroy",function(){selectCtrl.removeOption(attr.value)})}}}}];styleDirective=valueFn({"restrict":"E","terminal":!1});if(window.angular.bootstrap)return;bindJQuery();publishExternalAPI(angular);jqLite(document).ready(function(){angularInit(document,bootstrap)})})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');define("tiny-lib/angular",["tiny-lib/jquery"],function(global){return function(){var ret;return ret||global.angular}}(this));define("tiny-widgets/common",["tiny-lib/jquery","tiny-lib/underscore","tiny-lib/angular","tiny-lib/Class"],function($,_,angluar,Class){var WIDGET_MODULE_NAME="wcc",result={"WIDGET_MODULE_NAME":WIDGET_MODULE_NAME};return result});define("tiny-widgets/Observable",["tiny-lib/Class"],function(Class){var Observable=Class.extend({"init":function(options){this.listeners={}},"trigger":function(ev,args){if(this.listeners[ev]){args="[object Array]"===Object.prototype.toString.call(args)?args:[];for(var i=0;i<this.listeners[ev].length;i++)this.listeners[ev][i].apply(null,args)}},"on":function(ev,fn){this.listeners[ev]||(this.listeners[ev]=[]);fn instanceof Function&&this.listeners[ev].push(fn)},"off":function(ev,fn){var fns,i;if(this.listeners[ev]&&this.listeners[ev].length>0)if(fn){fns=[];for(i=0;i<this.listeners[ev].length;i++)fn!=this.listeners[ev][i]&&fns.push(this.listeners[ev][i]);this.listeners[ev]=fns}else this.listeners[ev]=[]}});return Observable});define("i18n/en/widgetsLanguage",[],function(){var widgetsLanguage={"noDataLineplot":"No Data","gotoTitleText":"Go","nextTitleText":"Next","prevTitleText":"Previous","totRecText":"Total Records: ","promptTitle":"Information","errorTitle":"Error","warnTitle":"Warning","confirmTitle":"Confirm","systemNoticeTitle":"System Notice","detailMsgHeading":"Details","okBtnTitile":"OK","cancelBtnTitile":"Cancel","yesBtnTitile":"Yes","noBtnTitile":"No","uploadFile":"upload:","beginUpload":"OK","uploading":"uploading...","uploadSuccess":"Successfully!","del":"Delete","uploadFail":"Failed","uploaded":"Uploaded","moreTitle":"more","title":"File Upload:","upload":"Upload","selectFile":"Add File","totalProgress":"Total Upload Progress:","uploadProgress":"Uploaded","totalSize":"Total Size","uploadWaiting":"(Waiting...)","multiFailed":"(Uploading failed!)","reload":"Reload","multiFailed":"(Failed!)","regional":{"okBtn":"OK","clearBtn":"Clear","closeText":"Done","prevText":"Prev","nextText":"Next","currentText":"Today","monthNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dayNamesMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"weekHeader":"Wk","dateFormat":"mm/dd/yy","firstDay":0,"isRTL":!1,"showMonthAfterYear":!1,"yearSuffix":""},"selectAll":"All","comboboxTip":"Input keyword...","comboboxNoSearch":"No result","emptyTable":"No data available in table","colVisRestore":"Restore original","colVisText":"Show/hide columns","unifyValid":{"required":"The input cannot be blank.","maxSize":"The length of input cannot exceed {0}.","minSize":"The length of input cannot be less than {0}.","rangeSize":"The length of input must range from {0} to {1}.","maxValue":"The input value cannot exceed {0}.","minValue":"The input value cannot be less than {0}.","rangeValue":"The input value must range from {0} to {1}.","regularCheck":"The input value is invalid.","notContains":"The input value cannot contain illegal character(s) {0}.","checkScriptInfo":"The input value cannot contain script tag.","equal":"The input value must be equal to {0}.","port":"The port number is an integer ranging from 0 to 65535.","path":"The input value does not meet the path format requirement.","email":"The input value is not a valid email address.","date":"The input value is not a valid date.","url":"The input value is not a valid URL","integer":"The input value is not a valid integer.","number":"The input value is not a valid number.","floatCheck":"The input value is not a valid float number.","digits":"The input value is not a valid digits.","ipv4":"The input value is not a valid IPv4 address.","ipv6":"The input value is not a valid IPv6 address.","phoneNumber":{"invalidNumber":"The input value is not a valid phone number.","tooShort":"The input value is too short to be a phone number.","tooLong":"The input value is too long to be a phone number."}},"preview":"Preview","previousBtnTitle":"Previous","nextBtnTitle":"Next","finishBtnTitle":"Finish","on":"ON","off":"OFF","noDataCirque":"No Data"};return widgetsLanguage});define("i18n/zh/widgetsLanguage",[],function(){var widgetsLanguage={"noDataLineplot":"当前没有数据","gotoTitleText":"跳转","nextTitleText":"下一页","prevTitleText":"上一页","totRecText":"总条数: ","promptTitle":"提示","errorTitle":"错误","warnTitle":"警告","confirmTitle":"确认","systemNoticeTitle":"系统通知","detailMsgHeading":"详细信息","okBtnTitile":"确定","cancelBtnTitile":"取消","yesBtnTitile":"是","noBtnTitile":"否","uploadFile":"上传文件：","beginUpload":"开始上传","uploading":"正在上传...","uploadSuccess":"上传成功！","del":"删除","uploadFail":"上传失败!","uploaded":"已上传","moreTitle":"更多","title":"文件上传:","upload":"上传","selectFile":"添加文件","totalProgress":"上传总进度:","uploadProgress":"已上传","totalSize":"总文件大小","uploadWaiting":"(等待上传中...)","reload":"重新上传","multiFailed":"(上传失败，服务器链接错误！)","regional":{"okBtn":"确认","clearBtn":"清除","closeText":"关闭","prevText":"&#x3C;上月","nextText":"下月&#x3E;","currentText":"今天","monthNamesShort":["1","2","3","4","5","6","7","8","9","10","11","12"],"monthNames":["01月","02月","03月","04月","05月","06月","07月","08月","09月","10月","11月","12月"],"dayNames":["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],"dayNamesShort":["周日","周一","周二","周三","周四","周五","周六"],"dayNamesMin":["日","一","二","三","四","五","六"],"weekHeader":"周","dateFormat":"yy-mm-dd","firstDay":1,"isRTL":!1,"showMonthAfterYear":!0,"yearSuffix":"年","monthSuffix":"月"},"selectAll":"全部","comboboxTip":"输入关键字...","comboboxNoSearch":"无匹配结果","emptyTable":"暂无表格数据","colVisRestore":"恢复初始列","colVisText":"显示/隐藏列","unifyValid":{"required":"输入不能为空。","maxSize":"输入长度不能超过{0}。","minSize":"输入长度不能小于{0}。","rangeSize":"输入长度范围为{0}到{1}。","maxValue":"输入值不能超过{0}。","minValue":"输入值不能小于{0}。","rangeValue":"输入值必须在{0}到{1}之间。","regularCheck":"输入值无效。","notContains":"输入值不能含有非法字符{0}。","checkScriptInfo":"输入值不能含有script标签。","equal":"输入值必须等于{0}。","port":"端口号为0到65535的整数。","path":"输入值未满足路径格式要求。","email":"输入email地址无效。","date":"输入日期无效。","url":"输入URL无效。","integer":"输入值不是有效整数。","number":"输入值不是有效数字。","floatCheck":"输入值不是有效浮点数。","digits":"输入值不是有效数字字符。","ipv4":"输入值不是有效IPV4地址。","ipv6":"输入值不是有效IPV6地址。","phoneNumber":{"invalidNumber":"输入值不是有效电话号码。","tooShort":"输入电话号码位数太少","tooLong":"输入电话号码位数太多"}},"preview":"预览","previousBtnTitle":"上一步","nextBtnTitle":"下一步","finishBtnTitle":"完成","on":"开启","off":"关闭","noDataCirque":"当前没有数据"};return widgetsLanguage});define("i18n/internationalization",["i18n/en/widgetsLanguage","i18n/zh/widgetsLanguage"],function(enLanguage,zhLanguage){var languageToken,language_key="tiny_language";window.tinyLanguage={};window.tinyLanguage.getTinyLanguageToken=function(){var i,tempArr,cookieStr=document.cookie.split("; "),arrLength=cookieStr.length;for(i=0;arrLength>i;i++){tempArr=cookieStr[i].split("=");if(language_key===tempArr[0])return tempArr[1]}};window.tinyLanguage.setTinyLanguageToken=function(token){var cookieString=language_key+"="+escape(token);document.cookie=cookieString};languageToken=tinyLanguage.getTinyLanguageToken()||window.tinyLanguageToken||"zh";"en"===languageToken?window.tinyLanguage.language=enLanguage:window.tinyLanguage.language=zhLanguage;return window.tinyLanguage});define("tiny-widgets/Widget",["tiny-widgets/Observable","tiny-lib/jquery","tiny-lib/underscore","tiny-widgets/common","i18n/internationalization"],function(Observable,$,_,common){var WCC_WIDGET_INSTANCE_KEY,DEFAULT_CONFIG,Widget;window.tinyWidget={};WCC_WIDGET_INSTANCE_KEY="wcc-widget-instance";$.fn.extend({"widget":function(obj){if(_.isUndefined(obj))return this.data(WCC_WIDGET_INSTANCE_KEY);this.data(WCC_WIDGET_INSTANCE_KEY,obj)}});DEFAULT_CONFIG={"template":"<div> for test only, never instantiate Widget </div>"};Widget=Observable.extend({"init":function(options){var widgetThis=this;widgetThis._super(options);widgetThis.options={};_.extend(widgetThis.options,DEFAULT_CONFIG,options);widgetThis._generateElement();widgetThis._element.widget(widgetThis);widgetThis._addBehavior()},"getDom":function(){var widgetThis=this;return widgetThis._element},"remove":function(){var widgetThis=this;widgetThis._element.remove();widgetThis._element=null},"rendTo":function(elementId){var widgetThis=this,element=null;element=$("object"==typeof elementId?elementId:"#"+elementId);widgetThis._element.appendTo(element);widgetThis.options.focused&&widgetThis._element.find(':input[focused="true"]').focus();return widgetThis},"option":function(key,value){var widgetThis=this,options={};if(0===arguments.length)return _.extend({},widgetThis.options);if(_.isString(key)){if(_.isUndefined(value))return void 0===widgetThis.options[key]?null:this.options[key];options[key]=value}else{if(!_.isObject(key))return;options=key}widgetThis._setOptions(options)},"_setOptions":function(options){var key;for(key in options)this._setOption(key,options[key]);return this},"_setOption":function(key,value){_.isFunction(value)?this.options[key]=value:_.isArray(value)?this.options[key]=$.extend(!0,[],value):_.isObject(value)?this.options[key]=$.extend(!0,{},value):this.options[key]=value;return this},"_generateElement":function(){var widgetThis=this;widgetThis._element=$(_.template(widgetThis.options.template)(this))},"_addBehavior":function(){return},"_updateId":function(id){var widgetThis=this;if($("#"+id).length>0)return;widgetThis._element.prop("id",id)}});return Widget});angular.module("tiny.ui.bootstrap",["tiny.ui.bootstrap.tpls","tiny.ui.bootstrap.collapse","tiny.ui.bootstrap.transition","tiny.ui.bootstrap.accordion","tiny.ui.bootstrap.buttons"]);angular.module("tiny.ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html"]);angular.module("tiny.ui.bootstrap.collapse",["tiny.ui.bootstrap.transition"]).directive("tinyplusCollapse",["$transition",function($transition){return{"link":function(scope,element,attrs){function doTransition(change){function newTransitionDone(){currentTransition===newTransition&&(currentTransition=void 0)}var newTransition=$transition(element,change);currentTransition&&currentTransition.cancel();currentTransition=newTransition;newTransition.then(newTransitionDone,newTransitionDone);return newTransition}function expand(){if(initialAnimSkip){initialAnimSkip=!1;expandDone()}else{element.removeClass("tinyplus-collapse").addClass("tinyplus-collapsing");doTransition({"height":element[0].scrollHeight+"px"}).then(expandDone)}}function expandDone(){element.removeClass("tinyplus-collapsing");element.addClass("tinyplus-collapse tinyplus-in");element.css({"height":"auto"})}function collapse(){if(initialAnimSkip){initialAnimSkip=!1;collapseDone();element.css({"height":0})}else{element.css({"height":element[0].scrollHeight+"px"});element[0].offsetWidth;element.removeClass("tinyplus-collapse tinyplus-in").addClass("tinyplus-collapsing");doTransition({"height":0}).then(collapseDone)}}function collapseDone(){element.removeClass("tinyplus-collapsing");element.addClass("tinyplus-collapse")}var currentTransition,initialAnimSkip=!0;scope.$watch(attrs.tinyplusCollapse,function(shouldCollapse){shouldCollapse?collapse():expand()})}}}]);angular.module("tiny.ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function($q,$timeout,$rootScope){function findEndEventName(endEventNames){for(var name in endEventNames)if(void 0!==transElement.style[name])return endEventNames[name]}var $transition=function(element,trigger,options){var deferred,endEventName,transitionEndHandler;options=options||{};deferred=$q.defer();endEventName=$transition[options.animation?"animationEndEventName":"transitionEndEventName"];transitionEndHandler=function(event){$rootScope.$apply(function(){element.unbind(endEventName,transitionEndHandler);deferred.resolve(element)})};endEventName&&element.bind(endEventName,transitionEndHandler);$timeout(function(){angular.isString(trigger)?element.addClass(trigger):angular.isFunction(trigger)?trigger(element):angular.isObject(trigger)&&element.css(trigger);endEventName||deferred.resolve(element)});deferred.promise.cancel=function(){endEventName&&element.unbind(endEventName,transitionEndHandler);deferred.reject("Transition cancelled")};return deferred.promise},transElement=document.createElement("trans"),transitionEndEventNames={"WebkitTransition":"webkitTransitionEnd","MozTransition":"transitionend","OTransition":"oTransitionEnd","transition":"transitionend"},animationEndEventNames={"WebkitTransition":"webkitAnimationEnd","MozTransition":"animationend","OTransition":"oAnimationEnd","transition":"animationend"};$transition.transitionEndEventName=findEndEventName(transitionEndEventNames);$transition.animationEndEventName=findEndEventName(animationEndEventNames);return $transition}]);angular.module("tiny.ui.bootstrap.accordion",["tiny.ui.bootstrap.collapse"]).constant("accordionConfig",{"closeOthers":!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function($scope,$attrs,accordionConfig){
this.groups=[];this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})};this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope);groupScope.$on("$destroy",function(event){that.removeGroup(groupScope)})};this.removeGroup=function(group){var index=this.groups.indexOf(group);-1!==index&&this.groups.splice(index,1)}}]).directive("tinyplusAccordion",function(){return{"restrict":"EA","controller":"AccordionController","transclude":!0,"replace":!1,"templateUrl":"template/accordion/accordion.html"}}).directive("tinyplusAccordionGroup",function(){return{"require":"^tinyplusAccordion","restrict":"EA","transclude":!0,"replace":!0,"templateUrl":"template/accordion/accordion-group.html","scope":{"heading":"@","isOpen":"=?","isDisabled":"=?","headClick":"&"},"controller":function(){this.setHeading=function(element){this.heading=element}},"link":function(scope,element,attrs,accordionCtrl){accordionCtrl.addGroup(scope);scope.$watch("isOpen",function(value){value&&accordionCtrl.closeOthers(scope)});scope.toggleOpen=function(){"function"==typeof scope.headClick()?scope.headClick()():scope.isDisabled||(scope.isOpen=!scope.isOpen)}}}}).directive("tinyplusAccordionHeading",function(){return{"restrict":"EA","transclude":!0,"template":"","replace":!0,"require":"^tinyplusAccordionGroup","link":function(scope,element,attr,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,function(){}))}}}).directive("accordionTransclude",function(){return{"require":"^tinyplusAccordionGroup","link":function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){if(heading){element.html("");element.append(heading)}})}}});angular.module("tiny.ui.bootstrap.buttons",[]).constant("buttonConfig",{"activeClass":"active","toggleEvent":"click"}).controller("ButtonsController",["buttonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active";this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("tinyplusBtnRadio",function(){return{"require":["tinyplusBtnRadio","ngModel"],"controller":"ButtonsController","link":function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.tinyplusBtnRadio)))};element.bind(buttonsCtrl.toggleEvent,function(){var isActive=element.hasClass(buttonsCtrl.activeClass);(!isActive||angular.isDefined(attrs.uncheckable))&&scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.tinyplusBtnRadio));ngModelCtrl.$render()})})}}}).directive("tinyplusBtnCheckbox",function(){return{"require":["tinyplusBtnCheckbox","ngModel"],"controller":"ButtonsController","link":function(scope,element,attrs,ctrls){function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,!0)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,!1)}function getCheckboxValue(attributeValue,defaultValue){var val=scope.$eval(attributeValue);return angular.isDefined(val)?val:defaultValue}var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))};element.bind(buttonsCtrl.toggleEvent,function(){scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue());ngModelCtrl.$render()})})}}});angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion-group.html",'<div class="tinyplus-panel tinyplus-panel-default">\n  <div class="tinyplus-panel-heading" ng-click="toggleOpen()">\n    <div class="tinyplus-panel-title">\n      <span class="tinyplus-accordion-toggle" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></span>\n    </div>\n  </div>\n  <div class="tinyplus-panel-collapse" tinyplus-collapse="!isOpen">\n	  <div class="tinyplus-panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]);angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion.html",'<div class="tinyplus-panel-group" ng-transclude></div>')}]);define("tiny-lib/ui-bootstrap-custom-tpls-0.12.1",["tiny-lib/angular"],function(){});angular.module("tiny.ui.timeline",[]).directive("tinyplusTimeline",function(){return{"restrict":"EA","transclude":!0,"replace":!0,"template":'<ul class="tinypuls-tl" ng-transclude></ul>'}}).directive("tinyplusTimelineAxis",function(){return{"require":"^tinyplusTimeline","restrict":"EA","transclude":!0,"replace":!0,"template":'<div class="tinypuls-tl-axis-default" ng-transclude></ul>'}}).directive("tinyplusTimelineItem",function(){return{"require":"^tinyplusTimeline","restrict":"EA","transclude":!0,"replace":!0,"template":'<li class="tinypuls-tl-item" ng-transclude></li>'}}).directive("tinyplusTimelineBadge",function(){return{"require":"^tinyplusTimelineItem","restrict":"EA","transclude":!0,"replace":!0,"template":'<div class="tinypuls-tl-badge-default" ng-transclude ></div>'}}).directive("tinyplusTimelinePanel",function(){return{"require":"^tinyplusTimelineItem","restrict":"EA","transclude":!0,"replace":!0,"template":'<div><div class="tinypuls-tl-panel-default" ng-transclude></div></div>'}});define("tiny-directives/Timeline",["tiny-lib/angular"],function(){});(function(e,t){function i(t,i){var s,n,r,o=t.nodeName.toLowerCase();return"area"===o?(s=t.parentNode,n=s.name,t.href&&n&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap=#"+n+"]")[0],!!r&&a(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&a(t)}function a(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,n=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{"version":"1.10.3","keyCode":{"BACKSPACE":8,"COMMA":188,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"LEFT":37,"NUMPAD_ADD":107,"NUMPAD_DECIMAL":110,"NUMPAD_DIVIDE":111,"NUMPAD_ENTER":108,"NUMPAD_MULTIPLY":106,"NUMPAD_SUBTRACT":109,"PAGE_DOWN":34,"PAGE_UP":33,"PERIOD":190,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38}}),e.fn.extend({"focus":function(t){return function(i,a){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),a&&a.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),"scrollParent":function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},"zIndex":function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var a,s,n=e(this[0]);n.length&&n[0]!==document;){if(a=n.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0},"uniqueId":function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},"removeUniqueId":function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{"data":e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,a){return!!e.data(t,a[3])},"focusable":function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},"tabbable":function(t){var a=e.attr(t,"tabindex"),s=isNaN(a);return(s||a>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,a){function s(t,i,a,s){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,a&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===a?["Left","Right"]:["Top","Bottom"],r=a.toLowerCase(),o={"innerWidth":e.fn.innerWidth,"innerHeight":e.fn.innerHeight,"outerWidth":e.fn.outerWidth,"outerHeight":e.fn.outerHeight};e.fn["inner"+a]=function(i){return i===t?o["inner"+a].call(this):this.each(function(){e(this).css(r,s(this,i)+"px")})},e.fn["outer"+a]=function(t,i){return"number"!=typeof t?o["outer"+a].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({"disableSelection":function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},"enableSelection":function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{"plugin":{"add":function(t,i,a){var s,n=e.ui[t].prototype;for(s in a)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([i,a[s]])},"call":function(e,t,i){var a,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(a=0;s.length>a;a++)e.options[s[a][0]]&&s[a][1].apply(e.element,i)}},"hasScroll":function(t,i){if("hidden"===e(t).css("overflow"))return!1;var a=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[a]>0?!0:(t[a]=1,s=t[a]>0,t[a]=0,s)}})})(jQuery);(function(e,t){var i=0,a=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,a=0;null!=(i=t[a]);a++)try{e(i).triggerHandler("remove")}catch(n){}s(t)},e.widget=function(i,a,s){var n,r,o,h,l={},u=i.split(".")[0];i=i.split(".")[1],n=u+"-"+i,s||(s=a,a=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[u]=e[u]||{},r=e[u][i],o=e[u][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,r,{"version":s.version,"_proto":e.extend({},s),"_childConstructors":[]}),h=new a,h.options=e.widget.extend({},h.options),e.each(s,function(i,s){return e.isFunction(s)?(l[i]=function(){var e=function(){return a.prototype[i].apply(this,arguments)},t=function(e){return a.prototype[i].apply(this,e)};return function(){var i,a=this._super,n=this._superApply;return this._super=e,this._superApply=t,i=s.apply(this,arguments),this._super=a,this._superApply=n,i}}(),t):(l[i]=s,t)}),o.prototype=e.widget.extend(h,{"widgetEventPrefix":r?h.widgetEventPrefix:i},l,{"constructor":o,"namespace":u,"widgetName":i,"widgetFullName":n}),r?(e.each(r._childConstructors,function(t,i){var a=i.prototype;e.widget(a.namespace+"."+a.widgetName,o,i._proto)}),delete r._childConstructors):a._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var s,n,r=a.call(arguments,1),o=0,h=r.length;h>o;o++)for(s in r[o])n=r[o][s],r[o].hasOwnProperty(s)&&n!==t&&(i[s]=e.isPlainObject(n)?e.isPlainObject(i[s])?e.widget.extend({},i[s],n):e.widget.extend({},n):n);return i},e.widget.bridge=function(i,s){var n=s.prototype.widgetFullName||i;e.fn[i]=function(r){var o="string"==typeof r,h=a.call(arguments,1),l=this;return r=!o&&h.length?e.widget.extend.apply(null,[r].concat(h)):r,o?this.each(function(){var a,s=e.data(this,n);return s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(a=s[r].apply(s,h),a!==s&&a!==t?(l=a&&a.jquery?l.pushStack(a.get()):a,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,n);t?t.option(r||{})._init():e.data(this,n,new s(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={"widgetName":"widget","widgetEventPrefix":"","defaultElement":"<div>","options":{"disabled":!1,"create":null},"_createWidget":function(t,a){a=e(a||this.defaultElement||this)[0],this.element=e(a),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),a!==this&&(e.data(a,this.widgetFullName,this),this._on(!0,this.element,{"remove":function(e){e.target===a&&this.destroy()}}),this.document=e(a.style?a.ownerDocument:a.document||a),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},"_getCreateOptions":e.noop,"_getCreateEventData":e.noop,"_create":e.noop,"_init":e.noop,"destroy":function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},"_destroy":e.noop,"widget":function(){return this.element},"option":function(i,a){var s,n,r,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},s=i.split("."),i=s.shift(),s.length){for(n=o[i]=e.widget.extend({},this.options[i]),r=0;s.length-1>r;r++)n[s[r]]=n[s[r]]||{},n=n[s[r]];if(i=s.pop(),a===t)return n[i]===t?null:n[i];n[i]=a}else{if(a===t)return this.options[i]===t?null:this.options[i];o[i]=a}return this._setOptions(o),this},"_setOptions":function(e){var t;for(t in e)this._setOption(t,e[t]);return this},"_setOption":function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},"enable":function(){return this._setOption("disabled",!1)},"disable":function(){return this._setOption("disabled",!0)},"_on":function(i,a,s){var n,r=this;"boolean"!=typeof i&&(s=a,a=i,i=!1),s?(a=n=e(a),this.bindings=this.bindings.add(a)):(s=a,a=this.element,n=this.widget()),e.each(s,function(s,o){function h(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(h.guid=o.guid=o.guid||h.guid||e.guid++);var l=s.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,d=l[2];d?n.delegate(d,u,h):a.bind(u,h)})},"_off":function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},"_delay":function(e,t){function i(){return("string"==typeof e?a[e]:e).apply(a,arguments)}var a=this;return setTimeout(i,t||0)},"_hoverable":function(t){this.hoverable=this.hoverable.add(t),this._on(t,{"mouseenter":function(t){e(t.currentTarget).addClass("ui-state-hover")},"mouseleave":function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},"_focusable":function(t){this.focusable=this.focusable.add(t),this._on(t,{"focusin":function(t){e(t.currentTarget).addClass("ui-state-focus")},"focusout":function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},"_trigger":function(t,i,a){var s,n,r=this.options[t];if(a=a||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(s in n)s in i||(i[s]=n[s]);return this.element.trigger(i,a),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(a))===!1||i.isDefaultPrevented())}},e.each({"show":"fadeIn","hide":"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(a,s,n){"string"==typeof s&&(s={"effect":s});var r,o=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={"duration":s}),r=!e.isEmptyObject(s),s.complete=n,s.delay&&a.delay(s.delay),r&&e.effects&&e.effects.effect[o]?a[t](s):o!==t&&a[o]?a[o](s.duration,s.easing,n):a.queue(function(i){e(this)[t](),n&&n.call(a[0]),i()})}})})(jQuery);(function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{"version":"1.10.3","options":{"cancel":"input,textarea,button,select,option","distance":1,"delay":0},"_mouseInit":function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},"_mouseDestroy":function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},"_mouseDown":function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var a=this,s=1===i.which,n="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return a._mouseMove(e)},this._mouseUpDelegate=function(e){return a._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},"_mouseMove":function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},"_mouseUp":function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},"_mouseDistanceMet":function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},"_mouseDelayMet":function(){return this.mouseDelayMet},"_mouseStart":function(){},"_mouseDrag":function(){},"_mouseStop":function(){},"_mouseCapture":function(){return!0}})})(jQuery);(function(e,t){function i(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function s(t,i){return parseInt(e.css(t,i),10)||0}function a(t){var i=t[0];return 9===i.nodeType?{"width":t.width(),"height":t.height(),"offset":{"top":0,"left":0}}:e.isWindow(i)?{"width":t.width(),"height":t.height(),"offset":{"top":t.scrollTop(),"left":t.scrollLeft()}}:i.preventDefault?{"width":0,"height":0,"offset":{"top":i.pageY,"left":i.pageX}}:{"width":t.outerWidth(),"height":t.outerHeight(),"offset":t.offset()}}e.ui=e.ui||{};var n,r=Math.max,o=Math.abs,l=Math.round,h=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=e.fn.position;e.position={"scrollbarWidth":function(){if(n!==t)return n;var i,s,a=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=a.children()[0];return e("body").append(a),i=r.offsetWidth,a.css("overflow","scroll"),s=r.offsetWidth,i===s&&(s=a[0].clientWidth),a.remove(),n=i-s},"getScrollInfo":function(t){var i=t.isWindow?"":t.element.css("overflow-x"),s=t.isWindow?"":t.element.css("overflow-y"),a="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,n="scroll"===s||"auto"===s&&t.height<t.element[0].scrollHeight;return{"width":n?e.position.scrollbarWidth():0,"height":a?e.position.scrollbarWidth():0}},"getWithinInfo":function(t){var i=e(t||window),s=e.isWindow(i[0]);return{"element":i,"isWindow":s,"offset":i.offset()||{"left":0,"top":0},"scrollLeft":i.scrollLeft(),"scrollTop":i.scrollTop(),"width":s?i.width():i.outerWidth(),"height":s?i.height():i.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return f.apply(this,arguments);t=e.extend({},t);var n,p,m,g,v,y,b=e(t.of),_=e.position.getWithinInfo(t.within),x=e.position.getScrollInfo(_),k=(t.collision||"flip").split(" "),w={};return y=a(b),b[0].preventDefault&&(t.at="left top"),p=y.width,m=y.height,g=y.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,i,s=(t[this]||"").split(" ");1===s.length&&(s=h.test(s[0])?s.concat(["center"]):u.test(s[0])?["center"].concat(s):["center","center"]),s[0]=h.test(s[0])?s[0]:"center",s[1]=u.test(s[1])?s[1]:"center",e=c.exec(s[0]),i=c.exec(s[1]),w[this]=[e?e[0]:0,i?i[0]:0],t[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===t.at[0]?v.left+=p:"center"===t.at[0]&&(v.left+=p/2),"bottom"===t.at[1]?v.top+=m:"center"===t.at[1]&&(v.top+=m/2),n=i(w.at,p,m),v.left+=n[0],v.top+=n[1],this.each(function(){var a,h,u=e(this),c=u.outerWidth(),d=u.outerHeight(),f=s(this,"marginLeft"),y=s(this,"marginTop"),D=c+f+s(this,"marginRight")+x.width,T=d+y+s(this,"marginBottom")+x.height,M=e.extend({},v),S=i(w.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?M.left-=c:"center"===t.my[0]&&(M.left-=c/2),"bottom"===t.my[1]?M.top-=d:"center"===t.my[1]&&(M.top-=d/2),M.left+=S[0],M.top+=S[1],e.support.offsetFractions||(M.left=l(M.left),M.top=l(M.top)),a={"marginLeft":f,"marginTop":y},e.each(["left","top"],function(i,s){e.ui.position[k[i]]&&e.ui.position[k[i]][s](M,{"targetWidth":p,"targetHeight":m,"elemWidth":c,"elemHeight":d,"collisionPosition":a,"collisionWidth":D,"collisionHeight":T,"offset":[n[0]+S[0],n[1]+S[1]],"my":t.my,"at":t.at,"within":_,"elem":u})}),t.using&&(h=function(e){var i=g.left-M.left,s=i+p-c,a=g.top-M.top,n=a+m-d,l={"target":{"element":b,"left":g.left,"top":g.top,"width":p,"height":m},"element":{"element":u,"left":M.left,"top":M.top,"width":c,"height":d},"horizontal":0>s?"left":i>0?"right":"center","vertical":0>n?"top":a>0?"bottom":"middle"};c>p&&p>o(i+s)&&(l.horizontal="center"),d>m&&m>o(a+n)&&(l.vertical="middle"),l.important=r(o(i),o(s))>r(o(a),o(n))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(M,{"using":h}))})},e.ui.position={"fit":{"left":function(e,t){var i,s=t.within,a=s.isWindow?s.scrollLeft:s.offset.left,n=s.width,o=e.left-t.collisionPosition.marginLeft,l=a-o,h=o+t.collisionWidth-n-a;t.collisionWidth>n?l>0&&0>=h?(i=e.left+l+t.collisionWidth-n-a,e.left+=l-i):e.left=h>0&&0>=l?a:l>h?a+n-t.collisionWidth:a:l>0?e.left+=l:h>0?e.left-=h:e.left=r(e.left-o,e.left)},"top":function(e,t){var i,s=t.within,a=s.isWindow?s.scrollTop:s.offset.top,n=t.within.height,o=e.top-t.collisionPosition.marginTop,l=a-o,h=o+t.collisionHeight-n-a;t.collisionHeight>n?l>0&&0>=h?(i=e.top+l+t.collisionHeight-n-a,e.top+=l-i):e.top=h>0&&0>=l?a:l>h?a+n-t.collisionHeight:a:l>0?e.top+=l:h>0?e.top-=h:e.top=r(e.top-o,e.top)}},"flip":{"left":function(e,t){var i,s,a=t.within,n=a.offset.left+a.scrollLeft,r=a.width,l=a.isWindow?a.scrollLeft:a.offset.left,h=e.left-t.collisionPosition.marginLeft,u=h-l,c=h+t.collisionWidth-r-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+d+p+f+t.collisionWidth-r-n,(0>i||o(u)>i)&&(e.left+=d+p+f)):c>0&&(s=e.left-t.collisionPosition.marginLeft+d+p+f-l,(s>0||c>o(s))&&(e.left+=d+p+f))},"top":function(e,t){var i,s,a=t.within,n=a.offset.top+a.scrollTop,r=a.height,l=a.isWindow?a.scrollTop:a.offset.top,h=e.top-t.collisionPosition.marginTop,u=h-l,c=h+t.collisionHeight-r-l,d="top"===t.my[1],p=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(s=e.top+p+f+m+t.collisionHeight-r-n,e.top+p+f+m>u&&(0>s||o(u)>s)&&(e.top+=p+f+m)):c>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,e.top+p+f+m>c&&(i>0||c>o(i))&&(e.top+=p+f+m))}},"flipfit":{"left":function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},"top":function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,s,a,n,r=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(r?"div":"body"),s={"visibility":"hidden","width":0,"height":0,"border":0,"margin":0,"background":"none"},r&&e.extend(s,{"position":"absolute","left":"-1000px","top":"-1000px"});for(n in s)t.style[n]=s[n];t.appendChild(o),i=r||document.documentElement,i.insertBefore(t,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",a=e(o).offset().left,e.support.offsetFractions=a>10&&11>a,t.innerHTML="",i.removeChild(t)}()})(jQuery);(function(e){e.widget("ui.draggable",e.ui.mouse,{"version":"1.10.3","widgetEventPrefix":"drag","options":{"addClasses":!0,"appendTo":"parent","axis":!1,"connectToSortable":!1,"containment":!1,"cursor":"auto","cursorAt":!1,"grid":!1,"handle":!1,"helper":"original","iframeFix":!1,"opacity":!1,"refreshPositions":!1,"revert":!1,"revertDuration":500,"scope":"default","scroll":!0,"scrollSensitivity":20,"scrollSpeed":20,"snap":!1,"snapMode":"both","snapTolerance":20,"stack":!1,"zIndex":!1,"drag":null,"start":null,"stop":null},"_create":function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},"_destroy":function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},"_mouseCapture":function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({"width":this.offsetWidth+"px","height":this.offsetHeight+"px","position":"absolute","opacity":"0.001","zIndex":1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},"_mouseStart":function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={"top":this.offset.top-this.margins.top,"left":this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{"click":{"left":t.pageX-this.offset.left,"top":t.pageY-this.offset.top},"parent":this._getParentOffset(),"relative":this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},"_mouseDrag":function(t,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},"_mouseStop":function(t){var i=this,s=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(s=e.ui.ddmanager.drop(this,t)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},"_mouseUp":function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},"cancel":function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},"_getHandle":function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},"_createHelper":function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},"_adjustOffsetFromHelper":function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={"left":+t[0],"top":+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},"_getParentOffset":function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={"top":0,"left":0}),{"top":t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),"left":t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},"_getRelativeOffset":function(){if("relative"===this.cssPosition){var e=this.element.position();return{"top":e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),"left":e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{"top":0,"left":0}},"_cacheMargins":function(){this.margins={"left":parseInt(this.element.css("marginLeft"),10)||0,"top":parseInt(this.element.css("marginTop"),10)||0,"right":parseInt(this.element.css("marginRight"),10)||0,"bottom":parseInt(this.element.css("marginBottom"),10)||0}},"_cacheHelperProportions":function(){this.helperProportions={"width":this.helper.outerWidth(),"height":this.helper.outerHeight()}},"_setContainment":function(){var t,i,s,a=this.options;return a.containment?"window"===a.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===a.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):a.containment.constructor===Array?void(this.containment=a.containment):("parent"===a.containment&&(a.containment=this.helper[0].parentNode),
i=e(a.containment),s=i[0],void(s&&(t="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},"_convertPositionTo":function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={"top":a.scrollTop(),"left":a.scrollLeft()}),{"top":i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,"left":i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},"_generatePosition":function(t){var i,s,a,n,r=this.options,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,h=t.pageY;return this.offset.scroll||(this.offset.scroll={"top":o.scrollTop(),"left":o.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),r.grid&&(a=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=i?a-this.offset.click.top>=i[1]||a-this.offset.click.top>i[3]?a:a-this.offset.click.top>=i[1]?a-r.grid[1]:a+r.grid[1]:a,n=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-r.grid[0]:n+r.grid[0]:n)),{"top":h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),"left":l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},"_clear":function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},"_trigger":function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,s)},"plugins":{},"_uiHash":function(){return{"helper":this.helper,"position":this.position,"originalPosition":this.originalPosition,"offset":this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{"start":function(t,i){var s=e(this).data("ui-draggable"),a=s.options,n=e.extend({},i,{"item":s.element});s.sortables=[],e(a.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({"instance":i,"shouldRevert":i.options.revert}),i.refreshPositions(),i._trigger("activate",t,n))})},"stop":function(t,i){var s=e(this).data("ui-draggable"),a=e.extend({},i,{"item":s.element});e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({"top":"auto","left":"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,a))})},"drag":function(t,i){var s=e(this).data("ui-draggable"),a=this;e.each(s.sortables,function(){var n=!1,r=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,e.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(r.instance.element[0],this.instance.element[0])&&(n=!1),n})),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(a).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{"start":function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},"stop":function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{"start":function(t,i){var s=e(i.helper),a=e(this).data("ui-draggable").options;s.css("opacity")&&(a._opacity=s.css("opacity")),s.css("opacity",a.opacity)},"stop":function(t,i){var s=e(this).data("ui-draggable").options;s._opacity&&e(i.helper).css("opacity",s._opacity)}}),e.ui.plugin.add("draggable","scroll",{"start":function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},"drag":function(t){var i=e(this).data("ui-draggable"),s=i.options,a=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=a=i.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=a=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=a=i.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=a=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-e(document).scrollTop()<s.scrollSensitivity?a=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(a=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-e(document).scrollLeft()<s.scrollSensitivity?a=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(a=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed)))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{"start":function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),s=i.offset();this!==t.element[0]&&t.snapElements.push({"item":this,"width":i.outerWidth(),"height":i.outerHeight(),"top":s.top,"left":s.left})})},"drag":function(t,i){var s,a,n,r,o,l,h,u,d,c,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,y=i.offset.top,b=y+p.helperProportions.height;for(d=p.snapElements.length-1;d>=0;d--)o=p.snapElements[d].left,l=o+p.snapElements[d].width,h=p.snapElements[d].top,u=h+p.snapElements[d].height,o-m>v||g>l+m||h-m>b||y>u+m||!e.contains(p.snapElements[d].item.ownerDocument,p.snapElements[d].item)?(p.snapElements[d].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{"snapItem":p.snapElements[d].item})),p.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(s=m>=Math.abs(h-b),a=m>=Math.abs(u-y),n=m>=Math.abs(o-v),r=m>=Math.abs(l-g),s&&(i.position.top=p._convertPositionTo("relative",{"top":h-p.helperProportions.height,"left":0}).top-p.margins.top),a&&(i.position.top=p._convertPositionTo("relative",{"top":u,"left":0}).top-p.margins.top),n&&(i.position.left=p._convertPositionTo("relative",{"top":0,"left":o-p.helperProportions.width}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{"top":0,"left":l}).left-p.margins.left)),c=s||a||n||r,"outer"!==f.snapMode&&(s=m>=Math.abs(h-y),a=m>=Math.abs(u-b),n=m>=Math.abs(o-g),r=m>=Math.abs(l-v),s&&(i.position.top=p._convertPositionTo("relative",{"top":h,"left":0}).top-p.margins.top),a&&(i.position.top=p._convertPositionTo("relative",{"top":u-p.helperProportions.height,"left":0}).top-p.margins.top),n&&(i.position.left=p._convertPositionTo("relative",{"top":0,"left":o}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{"top":0,"left":l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[d].snapping&&(s||a||n||r||c)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{"snapItem":p.snapElements[d].item})),p.snapElements[d].snapping=s||a||n||r||c)}}),e.ui.plugin.add("draggable","stack",{"start":function(){var t,i=this.data("ui-draggable").options,s=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});s.length&&(t=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+s.length))}}),e.ui.plugin.add("draggable","zIndex",{"start":function(t,i){var s=e(i.helper),a=e(this).data("ui-draggable").options;s.css("zIndex")&&(a._zIndex=s.css("zIndex")),s.css("zIndex",a.zIndex)},"stop":function(t,i){var s=e(this).data("ui-draggable").options;s._zIndex&&e(i.helper).css("zIndex",s._zIndex)}})})(jQuery);(function(e){function t(e,t,i){return e>t&&t+i>e}e.widget("ui.droppable",{"version":"1.10.3","widgetEventPrefix":"drop","options":{"accept":"*","activeClass":!1,"addClasses":!0,"greedy":!1,"hoverClass":!1,"scope":"default","tolerance":"intersect","activate":null,"deactivate":null,"drop":null,"out":null,"over":null},"_create":function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions={"width":this.element[0].offsetWidth,"height":this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},"_destroy":function(){for(var t=0,i=e.ui.ddmanager.droppables[this.options.scope];i.length>t;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},"_setOption":function(t,i){"accept"===t&&(this.accept=e.isFunction(i)?i:function(e){return e.is(i)}),e.Widget.prototype._setOption.apply(this,arguments)},"_activate":function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},"_deactivate":function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},"_over":function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},"_out":function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},"_drop":function(t,i){var s=i||e.ui.ddmanager.current,a=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===s.options.scope&&t.accept.call(t.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(t,{"offset":t.element.offset()}),t.options.tolerance)?(a=!0,!1):void 0}),a?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1):!1},"ui":function(e){return{"draggable":e.currentItem||e.element,"helper":e.helper,"position":e.position,"offset":e.positionAbs}}}),e.ui.intersect=function(e,i,s){if(!i.offset)return!1;var a,n,r=(e.positionAbs||e.position.absolute).left,o=r+e.helperProportions.width,l=(e.positionAbs||e.position.absolute).top,h=l+e.helperProportions.height,u=i.offset.left,d=u+i.proportions.width,c=i.offset.top,p=c+i.proportions.height;switch(s){case"fit":return r>=u&&d>=o&&l>=c&&p>=h;case"intersect":return r+e.helperProportions.width/2>u&&d>o-e.helperProportions.width/2&&l+e.helperProportions.height/2>c&&p>h-e.helperProportions.height/2;case"pointer":return a=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,n=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,t(n,c,i.proportions.height)&&t(a,u,i.proportions.width);case"touch":return(l>=c&&p>=l||h>=c&&p>=h||c>l&&h>p)&&(r>=u&&d>=r||o>=u&&d>=o||u>r&&o>d);default:return!1}},e.ui.ddmanager={"current":null,"droppables":{"default":[]},"prepareOffsets":function(t,i){var s,a,n=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,o=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(s=0;n.length>s;s++)if(!(n[s].options.disabled||t&&!n[s].accept.call(n[s].element[0],t.currentItem||t.element))){for(a=0;o.length>a;a++)if(o[a]===n[s].element[0]){n[s].proportions.height=0;continue e}n[s].visible="none"!==n[s].element.css("display"),n[s].visible&&("mousedown"===r&&n[s]._activate.call(n[s],i),n[s].offset=n[s].element.offset(),n[s].proportions={"width":n[s].element[0].offsetWidth,"height":n[s].element[0].offsetHeight})}},"drop":function(t,i){var s=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},"dragStart":function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},"drag":function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,a,n,r=e.ui.intersect(t,this,this.options.tolerance),o=!r&&this.isover?"isout":r&&!this.isover?"isover":null;o&&(this.options.greedy&&(a=this.options.scope,n=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===a}),n.length&&(s=e.data(n[0],"ui-droppable"),s.greedyChild="isover"===o)),s&&"isover"===o&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,i),s&&"isout"===o&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},"dragStop":function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}}})(jQuery);(function(e){function t(e){return parseInt(e,10)||0}function i(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{"version":"1.10.3","widgetEventPrefix":"resize","options":{"alsoResize":!1,"animate":!1,"animateDuration":"slow","animateEasing":"swing","aspectRatio":!1,"autoHide":!1,"containment":!1,"ghost":!1,"grid":!1,"handles":"e,s,se","helper":!1,"maxHeight":null,"maxWidth":null,"minHeight":10,"minWidth":10,"zIndex":90,"resize":null,"start":null,"stop":null},"_create":function(){var t,i,s,a,n,r=this,o=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{"_aspectRatio":!!o.aspectRatio,"aspectRatio":o.aspectRatio,"originalElement":this.element,"_proportionallyResizeElements":[],"_helper":o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({"position":this.element.css("position"),"width":this.element.outerWidth(),"height":this.element.outerHeight(),"top":this.element.css("top"),"left":this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({"marginLeft":this.originalElement.css("marginLeft"),"marginTop":this.originalElement.css("marginTop"),"marginRight":this.originalElement.css("marginRight"),"marginBottom":this.originalElement.css("marginBottom")}),this.originalElement.css({"marginLeft":0,"marginTop":0,"marginRight":0,"marginBottom":0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({"position":"static","zoom":1,"display":"block"})),this.originalElement.css({"margin":this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{"n":".ui-resizable-n","e":".ui-resizable-e","s":".ui-resizable-s","w":".ui-resizable-w","se":".ui-resizable-se","sw":".ui-resizable-sw","ne":".ui-resizable-ne","nw":".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)s=e.trim(t[i]),n="ui-resizable-"+s,a=e("<div class='ui-resizable-handle "+n+"'></div>"),a.css({"zIndex":o.zIndex}),"se"===s&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(a);this._renderAxis=function(t){var i,s,a,n;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=e(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=e(this.handles[i],this.element),n=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),a=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(a,n),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=a&&a[1]?a[1]:"se")}),o.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){o.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},"_destroy":function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({"position":t.css("position"),"width":t.outerWidth(),"height":t.outerHeight(),"top":t.css("top"),"left":t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},"_mouseCapture":function(t){var i,s,a=!1;for(i in this.handles)s=e(this.handles[i])[0],(s===t.target||e.contains(s,t.target))&&(a=!0);return!this.options.disabled&&a},"_mouseStart":function(i){var s,a,n,r=this.options,o=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({"position":"absolute","top":h.css("top"),"left":h.css("left")}):h.is(".ui-draggable")&&h.css({"position":"absolute","top":o.top,"left":o.left}),this._renderProxy(),s=t(this.helper.css("left")),a=t(this.helper.css("top")),r.containment&&(s+=e(r.containment).scrollLeft()||0,a+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={"left":s,"top":a},this.size=this._helper?{"width":h.outerWidth(),"height":h.outerHeight()}:{"width":h.width(),"height":h.height()},this.originalSize=this._helper?{"width":h.outerWidth(),"height":h.outerHeight()}:{"width":h.width(),"height":h.height()},this.originalPosition={"left":s,"top":a},this.sizeDiff={"width":h.outerWidth()-h.width(),"height":h.outerHeight()-h.height()},this.originalMousePosition={"left":i.pageX,"top":i.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),h.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},"_mouseDrag":function(t){var i,s=this.helper,a={},n=this.originalMousePosition,r=this.axis,o=this.position.top,h=this.position.left,l=this.size.width,u=this.size.height,c=t.pageX-n.left||0,d=t.pageY-n.top||0,p=this._change[r];return p?(i=p.apply(this,[t,c,d]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==o&&(a.top=this.position.top+"px"),this.position.left!==h&&(a.left=this.position.left+"px"),this.size.width!==l&&(a.width=this.size.width+"px"),this.size.height!==u&&(a.height=this.size.height+"px"),s.css(a),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(a)||this._trigger("resize",t,this.ui()),!1):!1},"_mouseStop":function(t){this.resizing=!1;var i,s,a,n,r,o,h,l=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),a=s&&e.ui.hasScroll(i[0],"left")?0:u.sizeDiff.height,n=s?0:u.sizeDiff.width,r={"width":u.helper.width()-n,"height":u.helper.height()-a},o=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,h=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(e.extend(r,{"top":h,"left":o})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},"_updateVirtualBoundaries":function(e){var t,s,a,n,r,o=this.options;r={"minWidth":i(o.minWidth)?o.minWidth:0,"maxWidth":i(o.maxWidth)?o.maxWidth:1/0,"minHeight":i(o.minHeight)?o.minHeight:0,"maxHeight":i(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=r.minHeight*this.aspectRatio,a=r.minWidth/this.aspectRatio,s=r.maxHeight*this.aspectRatio,n=r.maxWidth/this.aspectRatio,t>r.minWidth&&(r.minWidth=t),a>r.minHeight&&(r.minHeight=a),r.maxWidth>s&&(r.maxWidth=s),r.maxHeight>n&&(r.maxHeight=n)),this._vBoundaries=r},"_updateCache":function(e){this.offset=this.helper.offset(),i(e.left)&&(this.position.left=e.left),i(e.top)&&(this.position.top=e.top),i(e.height)&&(this.size.height=e.height),i(e.width)&&(this.size.width=e.width)},"_updateRatio":function(e){var t=this.position,s=this.size,a=this.axis;return i(e.height)?e.width=e.height*this.aspectRatio:i(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===a&&(e.left=t.left+(s.width-e.width),e.top=null),"nw"===a&&(e.top=t.top+(s.height-e.height),e.left=t.left+(s.width-e.width)),e},"_respectSize":function(e){var t=this._vBoundaries,s=this.axis,a=i(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=i(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=i(e.width)&&t.minWidth&&t.minWidth>e.width,o=i(e.height)&&t.minHeight&&t.minHeight>e.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(s),c=/nw|ne|n/.test(s);return r&&(e.width=t.minWidth),o&&(e.height=t.minHeight),a&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),r&&u&&(e.left=h-t.minWidth),a&&u&&(e.left=h-t.maxWidth),o&&c&&(e.top=l-t.minHeight),n&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},"_proportionallyResize":function(){if(this._proportionallyResizeElements.length){var e,t,i,s,a,n=this.helper||this.element;for(e=0;this._proportionallyResizeElements.length>e;e++){if(a=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],s=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")],t=0;i.length>t;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(s[t],10)||0);a.css({"height":n.height()-this.borderDif[0]-this.borderDif[2]||0,"width":n.width()-this.borderDif[1]-this.borderDif[3]||0})}}},"_renderProxy":function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({"width":this.element.outerWidth()-1,"height":this.element.outerHeight()-1,"position":"absolute","left":this.elementOffset.left+"px","top":this.elementOffset.top+"px","zIndex":++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},"_change":{"e":function(e,t){return{"width":this.originalSize.width+t}},"w":function(e,t){var i=this.originalSize,s=this.originalPosition;return{"left":s.left+t,"width":i.width-t}},"n":function(e,t,i){var s=this.originalSize,a=this.originalPosition;return{"top":a.top+i,"height":s.height-i}},"s":function(e,t,i){return{"height":this.originalSize.height+i}},"se":function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},"sw":function(t,i,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,s]))},"ne":function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,s]))},"nw":function(t,i,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,s]))}},"_propagate":function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},"plugins":{},"ui":function(){return{"originalElement":this.originalElement,"element":this.element,"helper":this.helper,"position":this.position,"size":this.size,"originalSize":this.originalSize,"originalPosition":this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{"stop":function(t){var i=e(this).data("ui-resizable"),s=i.options,a=i._proportionallyResizeElements,n=a.length&&/textarea/i.test(a[0].nodeName),r=n&&e.ui.hasScroll(a[0],"left")?0:i.sizeDiff.height,o=n?0:i.sizeDiff.width,h={"width":i.size.width-o,"height":i.size.height-r},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(h,u&&l?{"top":u,"left":l}:{}),{"duration":s.animateDuration,"easing":s.animateEasing,"step":function(){var s={"width":parseInt(i.element.css("width"),10),"height":parseInt(i.element.css("height"),10),"top":parseInt(i.element.css("top"),10),"left":parseInt(i.element.css("left"),10)};a&&a.length&&e(a[0]).css({"width":s.width,"height":s.height}),i._updateCache(s),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{"start":function(){var i,s,a,n,r,o,h,l=e(this).data("ui-resizable"),u=l.options,c=l.element,d=u.containment,p=d instanceof e?d.get(0):/parent/.test(d)?c.parent().get(0):d;p&&(l.containerElement=e(p),/document/.test(d)||d===document?(l.containerOffset={"left":0,"top":0},l.containerPosition={"left":0,"top":0},l.parentData={"element":e(document),"left":0,"top":0,"width":e(document).width(),"height":e(document).height()||document.body.parentNode.scrollHeight}):(i=e(p),s=[],e(["Top","Right","Left","Bottom"]).each(function(e,a){s[e]=t(i.css("padding"+a))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={"height":i.innerHeight()-s[3],"width":i.innerWidth()-s[1]},a=l.containerOffset,n=l.containerSize.height,r=l.containerSize.width,o=e.ui.hasScroll(p,"left")?p.scrollWidth:r,h=e.ui.hasScroll(p)?p.scrollHeight:n,l.parentData={"element":p,"left":a.left,"top":a.top,"width":o,"height":h}))},"resize":function(t){var i,s,a,n,r=e(this).data("ui-resizable"),o=r.options,h=r.containerOffset,l=r.position,u=r._aspectRatio||t.shiftKey,c={"top":0,"left":0},d=r.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(c=h),l.left<(r._helper?h.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-h.left:r.position.left-c.left),u&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=o.helper?h.left:0),l.top<(r._helper?h.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-h.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?h.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,i=Math.abs((r._helper?r.offset.left-c.left:r.offset.left-c.left)+r.sizeDiff.width),s=Math.abs((r._helper?r.offset.top-c.top:r.offset.top-h.top)+r.sizeDiff.height),a=r.containerElement.get(0)===r.element.parent().get(0),n=/relative|absolute/.test(r.containerElement.css("position")),a&&n&&(i-=r.parentData.left),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,u&&(r.size.height=r.size.width/r.aspectRatio)),s+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-s,u&&(r.size.width=r.size.height*r.aspectRatio))},"stop":function(){var t=e(this).data("ui-resizable"),i=t.options,s=t.containerOffset,a=t.containerPosition,n=t.containerElement,r=e(t.helper),o=r.offset(),h=r.outerWidth()-t.sizeDiff.width,l=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(n.css("position"))&&e(this).css({
"left":o.left-a.left-s.left,"width":h,"height":l}),t._helper&&!i.animate&&/static/.test(n.css("position"))&&e(this).css({"left":o.left-a.left-s.left,"width":h,"height":l})}}),e.ui.plugin.add("resizable","alsoResize",{"start":function(){var t=e(this).data("ui-resizable"),i=t.options,s=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{"width":parseInt(t.width(),10),"height":parseInt(t.height(),10),"left":parseInt(t.css("left"),10),"top":parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)})},"resize":function(t,i){var s=e(this).data("ui-resizable"),a=s.options,n=s.originalSize,r=s.originalPosition,o={"height":s.size.height-n.height||0,"width":s.size.width-n.width||0,"top":s.position.top-r.top||0,"left":s.position.left-r.left||0},h=function(t,s){e(t).each(function(){var t=e(this),a=e(this).data("ui-resizable-alsoresize"),n={},r=s&&s.length?s:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(a[t]||0)+(o[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})};"object"!=typeof a.alsoResize||a.alsoResize.nodeType?h(a.alsoResize):e.each(a.alsoResize,function(e,t){h(e,t)})},"stop":function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{"start":function(){var t=e(this).data("ui-resizable"),i=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({"opacity":.25,"display":"block","position":"relative","height":s.height,"width":s.width,"margin":0,"left":0,"top":0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},"resize":function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({"position":"relative","height":t.size.height,"width":t.size.width})},"stop":function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{"resize":function(){var t=e(this).data("ui-resizable"),i=t.options,s=t.size,a=t.originalSize,n=t.originalPosition,r=t.axis,o="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=o[0]||1,l=o[1]||1,u=Math.round((s.width-a.width)/h)*h,c=Math.round((s.height-a.height)/l)*l,d=a.width+u,p=a.height+c,f=i.maxWidth&&d>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,g=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=o,g&&(d+=h),v&&(p+=l),f&&(d-=h),m&&(p-=l),/^(se|s|e)$/.test(r)?(t.size.width=d,t.size.height=p):/^(ne)$/.test(r)?(t.size.width=d,t.size.height=p,t.position.top=n.top-c):/^(sw)$/.test(r)?(t.size.width=d,t.size.height=p,t.position.left=n.left-u):(t.size.width=d,t.size.height=p,t.position.top=n.top-c,t.position.left=n.left-u)}})})(jQuery);(function(e){e.widget("ui.selectable",e.ui.mouse,{"version":"1.10.3","options":{"appendTo":"body","autoRefresh":!0,"distance":0,"filter":"*","tolerance":"touch","selected":null,"selecting":null,"start":null,"stop":null,"unselected":null,"unselecting":null},"_create":function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{"element":this,"$element":t,"left":i.left,"top":i.top,"right":i.left+t.outerWidth(),"bottom":i.top+t.outerHeight(),"startselected":!1,"selected":t.hasClass("ui-selected"),"selecting":t.hasClass("ui-selecting"),"unselecting":t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},"_destroy":function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},"_mouseStart":function(t){var i=this,a=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(a.filter,this.element[0]),this._trigger("start",t),e(a.appendTo).append(this.helper),this.helper.css({"left":t.pageX,"top":t.pageY,"width":0,"height":0}),a.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var a=e.data(this,"selectable-item");a.startselected=!0,t.metaKey||t.ctrlKey||(a.$element.removeClass("ui-selected"),a.selected=!1,a.$element.addClass("ui-unselecting"),a.unselecting=!0,i._trigger("unselecting",t,{"unselecting":a.element}))}),e(t.target).parents().addBack().each(function(){var a,s=e.data(this,"selectable-item");return s?(a=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(a?"ui-unselecting":"ui-selected").addClass(a?"ui-selecting":"ui-unselecting"),s.unselecting=!a,s.selecting=a,s.selected=a,a?i._trigger("selecting",t,{"selecting":s.element}):i._trigger("unselecting",t,{"unselecting":s.element}),!1):void 0}))},"_mouseDrag":function(t){if(this.dragged=!0,!this.options.disabled){var i,a=this,s=this.options,n=this.opos[0],r=this.opos[1],o=t.pageX,h=t.pageY;return n>o&&(i=o,o=n,n=i),r>h&&(i=h,h=r,r=i),this.helper.css({"left":n,"top":r,"width":o-n,"height":h-r}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),l=!1;i&&i.element!==a.element[0]&&("touch"===s.tolerance?l=!(i.left>o||n>i.right||i.top>h||r>i.bottom):"fit"===s.tolerance&&(l=i.left>n&&o>i.right&&i.top>r&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,a._trigger("selecting",t,{"selecting":i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),a._trigger("unselecting",t,{"unselecting":i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,a._trigger("unselecting",t,{"unselecting":i.element})))))}),!1}},"_mouseStop":function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var a=e.data(this,"selectable-item");a.$element.removeClass("ui-unselecting"),a.unselecting=!1,a.startselected=!1,i._trigger("unselected",t,{"unselected":a.element})}),e(".ui-selecting",this.element[0]).each(function(){var a=e.data(this,"selectable-item");a.$element.removeClass("ui-selecting").addClass("ui-selected"),a.selecting=!1,a.selected=!0,a.startselected=!0,i._trigger("selected",t,{"selected":a.element})}),this._trigger("stop",t),this.helper.remove(),!1}})})(jQuery);(function(e){function t(e,t,i){return e>t&&t+i>e}function i(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{"version":"1.10.3","widgetEventPrefix":"sort","ready":!1,"options":{"appendTo":"parent","axis":!1,"connectWith":!1,"containment":!1,"cursor":"auto","cursorAt":!1,"dropOnEmpty":!0,"forcePlaceholderSize":!1,"forceHelperSize":!1,"grid":!1,"handle":!1,"helper":"original","items":"> *","opacity":!1,"placeholder":!1,"revert":!1,"scroll":!0,"scrollSensitivity":20,"scrollSpeed":20,"scope":"default","tolerance":"intersect","zIndex":1e3,"activate":null,"beforeStop":null,"change":null,"deactivate":null,"out":null,"over":null,"receive":null,"remove":null,"sort":null,"start":null,"stop":null,"update":null},"_create":function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},"_destroy":function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},"_setOption":function(t,i){"disabled"===t?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):e.Widget.prototype._setOption.apply(this,arguments)},"_mouseCapture":function(t,i){var s=null,a=!1,n=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,n.widgetName+"-item")===n?(s=e(this),!1):void 0}),e.data(t.target,n.widgetName+"-item")===n&&(s=e(t.target)),s&&(!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(a=!0)}),a))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},"_mouseStart":function(t,i,s){var a,n,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={"top":this.offset.top-this.margins.top,"left":this.offset.left-this.margins.left},e.extend(this.offset,{"click":{"left":t.pageX-this.offset.left,"top":t.pageY-this.offset.top},"parent":this._getParentOffset(),"relative":this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={"prev":this.currentItem.prev()[0],"parent":this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(n)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},"_mouseDrag":function(t){var i,s,a,n,r=this.options,o=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-e(document).scrollTop()<r.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed)),t.pageX-e(document).scrollLeft()<r.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))),o!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],a=s.item[0],n=this._intersectsWithPointer(s),n&&s.instance===this.currentContainer&&a!==this.currentItem[0]&&this.placeholder[1===n?"next":"prev"]()[0]!==a&&!e.contains(this.placeholder[0],a)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],a):!0)){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},"_mouseStop":function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,a=this.placeholder.offset(),n=this.options.axis,r={};n&&"x"!==n||(r.left=a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(r.top=a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},"cancel":function(){if(this.dragging){this._mouseUp({"target":null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{"helper":null,"dragging":!1,"reverting":!1,"_noFinalSort":null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},"serialize":function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},"toArray":function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},"_intersectsWith":function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,s=this.positionAbs.top,a=s+this.helperProportions.height,n=e.left,r=n+e.width,o=e.top,h=o+e.height,l=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||s+l>o&&h>s+l,d="y"===this.options.axis||t+u>n&&r>t+u,p=c&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>n&&r>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>o&&h>a-this.helperProportions.height/2},"_intersectsWithPointer":function(e){var i="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),s="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),a=i&&s,n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return a?this.floating?r&&"right"===r||"down"===n?2:1:n&&("down"===n?2:1):!1},"_intersectsWithSides":function(e){var i=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),s=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),a=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&s||"left"===n&&!s:a&&("down"===a&&i||"up"===a&&!i)},"_getDragVerticalDirection":function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},"_getDragHorizontalDirection":function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},"refresh":function(e){return this._refreshItems(e),this.refreshPositions(),this},"_connectWith":function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},"_getItemsAsjQuery":function(t){var i,s,a,n,r=[],o=[],h=this._connectWith();if(h&&t)for(i=h.length-1;i>=0;i--)for(a=e(h[i]),s=a.length-1;s>=0;s--)n=e.data(a[s],this.widgetFullName),n&&n!==this&&!n.options.disabled&&o.push([e.isFunction(n.options.items)?n.options.items.call(n.element):e(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);for(o.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{"options":this.options,"item":this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=o.length-1;i>=0;i--)o[i][0].each(function(){r.push(this)});return e(r)},"_removeCurrentsFromItems":function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},"_refreshItems":function(t){this.items=[],this.containers=[this];var i,s,a,n,r,o,h,l,u=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{"item":this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(a=e(d[i]),s=a.length-1;s>=0;s--)n=e.data(a[s],this.widgetFullName),n&&n!==this&&!n.options.disabled&&(c.push([e.isFunction(n.options.items)?n.options.items.call(n.element[0],t,{"item":this.currentItem}):e(n.options.items,n.element),n]),this.containers.push(n));for(i=c.length-1;i>=0;i--)for(r=c[i][1],o=c[i][0],s=0,l=o.length;l>s;s++)h=e(o[s]),h.data(this.widgetName+"-item",r),u.push({"item":h,"instance":r,"width":0,"height":0,"left":0,"top":0})},"refreshPositions":function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,a,n;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(a=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=a.outerWidth(),s.height=a.outerHeight()),n=a.offset(),s.left=n.left,s.top=n.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)n=this.containers[i].element.offset(),this.containers[i].containerCache.left=n.left,this.containers[i].containerCache.top=n.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},"_createPlaceholder":function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={"element":function(){var s=t.currentItem[0].nodeName.toLowerCase(),a=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(a)}):"img"===s&&a.attr("src",t.currentItem.attr("src")),i||a.css("visibility","hidden"),a},"update":function(e,a){(!i||s.forcePlaceholderSize)&&(a.height()||a.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),a.width()||a.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},"_contactContainers":function(s){var a,n,r,o,h,l,u,c,d,p,f=null,m=null;for(a=this.containers.length-1;a>=0;a--)if(!e.contains(this.currentItem[0],this.containers[a].element[0]))if(this._intersectsWith(this.containers[a].containerCache)){if(f&&e.contains(this.containers[a].element[0],f.element[0]))continue;f=this.containers[a],m=a}else this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",s,this._uiHash(this)),this.containers[a].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",s,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(r=1e4,o=null,p=f.floating||i(this.currentItem),h=p?"left":"top",l=p?"width":"height",u=this.positionAbs[h]+this.offset.click[h],n=this.items.length-1;n>=0;n--)e.contains(this.containers[m].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(!p||t(this.positionAbs.top+this.offset.click.top,this.items[n].top,this.items[n].height))&&(c=this.items[n].item.offset()[h],d=!1,Math.abs(c-u)>Math.abs(c+this.items[n][l]-u)&&(d=!0,c+=this.items[n][l]),r>Math.abs(c-u)&&(r=Math.abs(c-u),o=this.items[n],this.direction=d?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;o?this._rearrange(s,o,null,!0):this._rearrange(s,null,this.containers[m].element,!0),this._trigger("change",s,this._uiHash()),this.containers[m]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",s,this._uiHash(this)),this.containers[m].containerCache.over=1}},"_createHelper":function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={"width":this.currentItem[0].style.width,"height":this.currentItem[0].style.height,"position":this.currentItem.css("position"),"top":this.currentItem.css("top"),"left":this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},"_adjustOffsetFromHelper":function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={"left":+t[0],"top":+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},"_getParentOffset":function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={"top":0,"left":0}),{"top":t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),"left":t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},"_getRelativeOffset":function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{"top":e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),"left":e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{"top":0,"left":0}},"_cacheMargins":function(){this.margins={"left":parseInt(this.currentItem.css("marginLeft"),10)||0,"top":parseInt(this.currentItem.css("marginTop"),10)||0}},"_cacheHelperProportions":function(){this.helperProportions={"width":this.helper.outerWidth(),"height":this.helper.outerHeight()}},"_setContainment":function(){var t,i,s,a=this.options;"parent"===a.containment&&(a.containment=this.helper[0].parentNode),("document"===a.containment||"window"===a.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===a.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(a.containment)||(t=e(a.containment)[0],i=e(a.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},"_convertPositionTo":function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(a[0].tagName);return{"top":i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:a.scrollTop())*s,"left":i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:a.scrollLeft())*s}},"_generatePosition":function(t){var i,s,a=this.options,n=t.pageX,r=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),a.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/a.grid[1])*a.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-a.grid[1]:i+a.grid[1]:i,s=this.originalPageX+Math.round((n-this.originalPageX)/a.grid[0])*a.grid[0],n=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-a.grid[0]:s+a.grid[0]:s)),{"top":r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:o.scrollTop()),"left":n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:o.scrollLeft())}},"_rearrange":function(e,t,i,s){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a===this.counter&&this.refreshPositions(!s)})},"_clear":function(e,t){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||s.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(s.push(function(e){this._trigger("remove",e,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||s.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;s.length>i;i++)s[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;s.length>i;i++)s[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},"_trigger":function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},"_uiHash":function(t){var i=t||this;return{"helper":i.helper,"placeholder":i.placeholder||e([]),"position":i.position,"originalPosition":i.originalPosition,"offset":i.positionAbs,"item":i.currentItem,"sender":t?t.element:null}}})})(jQuery);(function(e){var t=0,i={},a={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show",e.widget("ui.accordion",{"version":"1.10.3","options":{"active":0,"animate":{},"collapsible":!1,"event":"click","header":"> li > :first-child,> :not(li):even","heightStyle":"auto","icons":{"activeHeader":"ui-icon-triangle-1-s","header":"ui-icon-triangle-1-e"},"activate":null,"beforeActivate":null},"_create":function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},"_getCreateEventData":function(){return{"header":this.active,"panel":this.active.length?this.active.next():e(),
"content":this.active.length?this.active.next():e()}},"_createIcons":function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},"_destroyIcons":function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},"_destroy":function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},"_setOption":function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))},"_keydown":function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,a=this.headers.length,s=this.headers.index(t.target),n=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:n=this.headers[(s+1)%a];break;case i.LEFT:case i.UP:n=this.headers[(s-1+a)%a];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:n=this.headers[0];break;case i.END:n=this.headers[a-1]}n&&(e(t.target).attr("tabIndex",-1),e(n).attr("tabIndex",0),n.focus(),t.preventDefault())}},"_panelKeyDown":function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},"refresh":function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},"_processPanels":function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},"_refresh":function(){var i,a=this.options,s=a.heightStyle,n=this.element.parent(),r=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),a=i.attr("id"),s=i.next(),n=s.attr("id");a||(a=r+"-header-"+t,i.attr("id",a)),n||(n=r+"-panel-"+t,s.attr("id",n)),i.attr("aria-controls",n),s.attr("aria-labelledby",a)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","tabIndex":-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","tabIndex":0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(a.event),"fill"===s?(i=n.height(),this.element.siblings(":visible").each(function(){var t=e(this),a=t.css("position");"absolute"!==a&&"fixed"!==a&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},"_activate":function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({"target":i,"currentTarget":i,"preventDefault":e.noop}))},"_findActive":function(t){return"number"==typeof t?this.headers.eq(t):e()},"_setupEvents":function(t){var i={"keydown":"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{"keydown":"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},"_eventHandler":function(t){var i=this.options,a=this.active,s=e(t.currentTarget),n=s[0]===a[0],r=n&&i.collapsible,o=r?e():s.next(),h=a.next(),l={"oldHeader":a,"oldPanel":h,"newHeader":r?e():s,"newPanel":o};t.preventDefault(),n&&!i.collapsible||this._trigger("beforeActivate",t,l)===!1||(i.active=r?!1:this.headers.index(s),this.active=n?e():s,this._toggle(l),a.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&a.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),n||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},"_toggle":function(t){var i=t.newPanel,a=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=a,this.options.animate?this._animate(i,a,t):(a.hide(),i.show(),this._toggleComplete(t)),a.attr({"aria-expanded":"false","aria-hidden":"true"}),a.prev().attr("aria-selected","false"),i.length&&a.length?a.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true","tabIndex":0})},"_animate":function(e,t,s){var n,r,o,h=this,l=0,u=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},c=u&&d.down||d,p=function(){h._toggleComplete(s)};return"number"==typeof c&&(o=c),"string"==typeof c&&(r=c),r=r||c.easing||d.easing,o=o||c.duration||d.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(i,{"duration":o,"easing":r,"step":function(e,t){t.now=Math.round(e)}}),void e.hide().animate(a,{"duration":o,"easing":r,"complete":p,"step":function(e,i){i.now=Math.round(e),"height"!==i.prop?l+=i.now:"content"!==h.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-l),l=0)}})):t.animate(i,o,r,p):e.animate(a,o,r,p)},"_toggleComplete":function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})})(jQuery);(function(e,t){var i="ui-effects-";e.effects={"effect":{}},function(e,t){function i(e,t,i){var s=c[t.type]||{};return null==e?i||!t.def?null:t.def:(e=s.floor?~~e:parseFloat(e),isNaN(e)?t.def:s.mod?(e+s.mod)%s.mod:0>e?0:e>s.max?s.max:e)}function s(i){var s=h(),a=s._rgba=[];return i=i.toLowerCase(),f(l,function(e,n){var r,o=n.re.exec(i),l=o&&n.parse(o),h=n.space||"rgba";return l?(r=s[h](l),s[u[h].cache]=r[u[h].cache],a=s._rgba=r._rgba,!1):t}),a.length?("0,0,0,0"===a.join()&&e.extend(a,n.transparent),s):n[i]}function a(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var n,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",o=/^([\-+])=\s*(\d+\.?\d*)/,l=[{"re":/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,"parse":function(e){return[e[1],e[2],e[3],e[4]]}},{"re":/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,"parse":function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{"re":/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,"parse":function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{"re":/#([a-f0-9])([a-f0-9])([a-f0-9])/,"parse":function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{"re":/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,"space":"hsla","parse":function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=e.Color=function(t,i,s,a){return new e.Color.fn.parse(t,i,s,a)},u={"rgba":{"props":{"red":{"idx":0,"type":"byte"},"green":{"idx":1,"type":"byte"},"blue":{"idx":2,"type":"byte"}}},"hsla":{"props":{"hue":{"idx":0,"type":"degrees"},"saturation":{"idx":1,"type":"percent"},"lightness":{"idx":2,"type":"percent"}}}},c={"byte":{"floor":!0,"max":255},"percent":{"max":1},"degrees":{"mod":360,"floor":!0}},d=h.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={"idx":3,"type":"percent","def":1}}),h.fn=e.extend(h.prototype,{"parse":function(a,r,o,l){if(a===t)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=e(a).css(r),r=t);var c=this,d=e.type(a),p=this._rgba=[];return r!==t&&(a=[a,r,o,l],d="array"),"string"===d?this.parse(s(a)||n._default):"array"===d?(f(u.rgba.props,function(e,t){p[t.idx]=i(a[t.idx],t)}),this):"object"===d?(a instanceof h?f(u,function(e,t){a[t.cache]&&(c[t.cache]=a[t.cache].slice())}):f(u,function(t,s){var n=s.cache;f(s.props,function(e,t){if(!c[n]&&s.to){if("alpha"===e||null==a[e])return;c[n]=s.to(c._rgba)}c[n][t.idx]=i(a[e],t,!0)}),c[n]&&0>e.inArray(null,c[n].slice(0,3))&&(c[n][3]=1,s.from&&(c._rgba=s.from(c[n])))}),this):t},"is":function(e){var i=h(e),s=!0,a=this;return f(u,function(e,n){var r,o=i[n.cache];return o&&(r=a[n.cache]||n.to&&n.to(a._rgba)||[],f(n.props,function(e,i){return null!=o[i.idx]?s=o[i.idx]===r[i.idx]:t})),s}),s},"_space":function(){var e=[],t=this;return f(u,function(i,s){t[s.cache]&&e.push(i)}),e.pop()},"transition":function(e,t){var s=h(e),a=s._space(),n=u[a],r=0===this.alpha()?h("transparent"):this,o=r[n.cache]||n.to(r._rgba),l=o.slice();return s=s[n.cache],f(n.props,function(e,a){var n=a.idx,r=o[n],h=s[n],u=c[a.type]||{};null!==h&&(null===r?l[n]=h:(u.mod&&(h-r>u.mod/2?r+=u.mod:r-h>u.mod/2&&(r-=u.mod)),l[n]=i((h-r)*t+r,a)))}),this[a](l)},"blend":function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),a=h(t)._rgba;return h(e.map(i,function(e,t){return(1-s)*a[t]+s*e}))},"toRgbaString":function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},"toHslaString":function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},"toHexString":function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},"toString":function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,s=e[0]/255,a=e[1]/255,n=e[2]/255,r=e[3],o=Math.max(s,a,n),l=Math.min(s,a,n),h=o-l,u=o+l,c=.5*u;return t=l===o?0:s===o?60*(a-n)/h+360:a===o?60*(n-s)/h+120:60*(s-a)/h+240,i=0===h?0:.5>=c?h/u:h/(2-u),[Math.round(t)%360,i,c,null==r?1:r]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],s=e[2],n=e[3],r=.5>=s?s*(1+i):s+i-s*i,o=2*s-r;return[Math.round(255*a(o,r,t+1/3)),Math.round(255*a(o,r,t)),Math.round(255*a(o,r,t-1/3)),n]},f(u,function(s,a){var n=a.props,r=a.cache,l=a.to,u=a.from;h.fn[s]=function(s){if(l&&!this[r]&&(this[r]=l(this._rgba)),s===t)return this[r].slice();var a,o=e.type(s),c="array"===o||"object"===o?s:arguments,d=this[r].slice();return f(n,function(e,t){var s=c["object"===o?e:t.idx];null==s&&(s=d[t.idx]),d[t.idx]=i(s,t)}),u?(a=h(u(d)),a[r]=d,a):h(d)},f(n,function(t,i){h.fn[t]||(h.fn[t]=function(a){var n,r=e.type(a),l="alpha"===t?this._hsla?"hsla":"rgba":s,h=this[l](),u=h[i.idx];return"undefined"===r?u:("function"===r&&(a=a.call(this,u),r=e.type(a)),null==a&&i.empty?this:("string"===r&&(n=o.exec(a),n&&(a=u+parseFloat(n[2])*("+"===n[1]?1:-1))),h[i.idx]=a,this[l](h)))})})}),h.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={"set":function(t,a){var n,r,o="";if("transparent"!==a&&("string"!==e.type(a)||(n=s(a)))){if(a=h(n||a),!d.rgba&&1!==a._rgba[3]){for(r="backgroundColor"===i?t.parentNode:t;(""===o||"transparent"===o)&&r&&r.style;)try{o=e.css(r,"backgroundColor"),r=r.parentNode}catch(l){}a=a.blend(o&&"transparent"!==o?o:"_default")}a=a.toRgbaString()}try{t.style[i]=a}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=h(t.elem,i),t.end=h(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},h.hook(r),e.cssHooks.borderColor={"expand":function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,s){t["border"+s+"Color"]=e}),t}},n=e.Color.names={"aqua":"#00ffff","black":"#000000","blue":"#0000ff","fuchsia":"#ff00ff","gray":"#808080","green":"#008000","lime":"#00ff00","maroon":"#800000","navy":"#000080","olive":"#808000","purple":"#800080","red":"#ff0000","silver":"#c0c0c0","teal":"#008080","white":"#ffffff","yellow":"#ffff00","transparent":[null,null,null,0],"_default":"#ffffff"}}(jQuery),function(){function i(t){var i,s,a=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(a&&a.length&&a[0]&&a[a[0]])for(s=a.length;s--;)i=a[s],"string"==typeof a[i]&&(n[e.camelCase(i)]=a[i]);else for(i in a)"string"==typeof a[i]&&(n[i]=a[i]);return n}function s(t,i){var s,a,r={};for(s in i)a=i[s],t[s]!==a&&(n[s]||(e.fx.step[s]||!isNaN(parseFloat(a)))&&(r[s]=a));return r}var a=["add","remove","toggle"],n={"border":1,"borderBottom":1,"borderColor":1,"borderLeft":1,"borderRight":1,"borderTop":1,"borderWidth":1,"margin":1,"padding":1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(t,n,r,o){var l=e.speed(n,r,o);return this.queue(function(){var n,r=e(this),o=r.attr("class")||"",h=l.children?r.find("*").addBack():r;h=h.map(function(){var t=e(this);return{"el":t,"start":i(this)}}),n=function(){e.each(a,function(e,i){t[i]&&r[i+"Class"](t[i])})},n(),h=h.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),r.attr("class",o),h=h.map(function(){var t=this,i=e.Deferred(),s=e.extend({},l,{"queue":!1,"complete":function(){i.resolve(t)}});return this.el.animate(this.diff,s),i.promise()}),e.when.apply(e,h.get()).done(function(){n(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({"addClass":function(t){return function(i,s,a,n){return s?e.effects.animateClass.call(this,{"add":i},s,a,n):t.apply(this,arguments)}}(e.fn.addClass),"removeClass":function(t){return function(i,s,a,n){return arguments.length>1?e.effects.animateClass.call(this,{"remove":i},s,a,n):t.apply(this,arguments)}}(e.fn.removeClass),"toggleClass":function(i){return function(s,a,n,r,o){return"boolean"==typeof a||a===t?n?e.effects.animateClass.call(this,a?{"add":s}:{"remove":s},n,r,o):i.apply(this,arguments):e.effects.animateClass.call(this,{"toggle":s},a,n,r)}}(e.fn.toggleClass),"switchClass":function(t,i,s,a,n){return e.effects.animateClass.call(this,{"add":i,"remove":t},s,a,n)}})}(),function(){function s(t,i,s,a){return e.isPlainObject(t)&&(i=t,t=t.effect),t={"effect":t},null==i&&(i={}),e.isFunction(i)&&(a=i,s=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(a=s,s=i,i={}),e.isFunction(s)&&(a=s,s=null),i&&e.extend(t,i),s=s||i.duration,t.duration=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,t.complete=a||i.complete,t}function a(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{"version":"1.10.3","save":function(e,t){for(var s=0;t.length>s;s++)null!==t[s]&&e.data(i+t[s],e[0].style[t[s]])},"restore":function(e,s){var a,n;for(n=0;s.length>n;n++)null!==s[n]&&(a=e.data(i+s[n]),a===t&&(a=""),e.css(s[n],a))},"setMode":function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},"getBaseline":function(e,t){var i,s;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{"x":s,"y":i}},"createWrapper":function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={"width":t.outerWidth(!0),"height":t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({"fontSize":"100%","background":"transparent","border":"none","margin":0,"padding":0}),a={"width":t.width(),"height":t.height()},n=document.activeElement;try{n.id}catch(r){n=document.body}return t.wrap(s),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),s=t.parent(),"static"===t.css("position")?(s.css({"position":"relative"}),t.css({"position":"relative"})):(e.extend(i,{"position":t.css("position"),"zIndex":t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){i[s]=t.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),t.css({"position":"relative","top":0,"left":0,"right":"auto","bottom":"auto"})),t.css(a),s.css(i).show()},"removeWrapper":function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},"setTransition":function(t,i,s,a){return a=a||{},e.each(i,function(e,i){var n=t.cssUnit(i);n[0]>0&&(a[i]=n[0]*s+n[1])}),a}}),e.fn.extend({"effect":function(){function t(t){function s(){e.isFunction(n)&&n.call(a[0]),e.isFunction(t)&&t()}var a=e(this),n=i.complete,o=i.mode;(a.is(":hidden")?"hide"===o:"show"===o)?(a[o](),s()):r.call(a[0],i,s)}var i=s.apply(this,arguments),a=i.mode,n=i.queue,r=e.effects.effect[i.effect];return e.fx.off||!r?a?this[a](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):n===!1?this.each(t):this.queue(n||"fx",t)},"show":function(e){return function(t){if(a(t))return e.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),"hide":function(e){return function(t){if(a(t))return e.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),"toggle":function(e){return function(t){if(a(t)||"boolean"==typeof t)return e.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),"cssUnit":function(t){var i=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(s=[parseFloat(i),t])}),s}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{"Sine":function(e){return 1-Math.cos(e*Math.PI/2)},"Circ":function(e){return 1-Math.sqrt(1-e*e)},"Elastic":function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},"Back":function(e){return e*e*(3*e-2)},"Bounce":function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}()})(jQuery);(function(e){var t=/up|down|vertical/,i=/up|left|vertical|horizontal/;e.effects.effect.blind=function(s,a){var n,r,o,l=e(this),h=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(l,s.mode||"hide"),d=s.direction||"up",c=t.test(d),p=c?"height":"width",f=c?"top":"left",m=i.test(d),g={},v="show"===u;l.parent().is(".ui-effects-wrapper")?e.effects.save(l.parent(),h):e.effects.save(l,h),l.show(),n=e.effects.createWrapper(l).css({"overflow":"hidden"}),r=n[p](),o=parseFloat(n.css(f))||0,g[p]=v?r:0,m||(l.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({"position":"absolute"}),g[f]=v?o:r+o),v&&(n.css(p,0),m||n.css(f,o+r)),n.animate(g,{"duration":s.duration,"easing":s.easing,"queue":!1,"complete":function(){"hide"===u&&l.hide(),e.effects.restore(l,h),e.effects.removeWrapper(l),a()}})}})(jQuery);(function(e){e.effects.effect.bounce=function(t,i){var s,a,n,r=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"effect"),h="hide"===l,u="show"===l,d=t.direction||"up",c=t.distance,p=t.times||5,f=2*p+(u||h?1:0),m=t.duration/f,g=t.easing,v="up"===d||"down"===d?"top":"left",y="up"===d||"left"===d,b=r.queue(),_=b.length;for((u||h)&&o.push("opacity"),e.effects.save(r,o),r.show(),e.effects.createWrapper(r),c||(c=r["top"===v?"outerHeight":"outerWidth"]()/3),u&&(n={"opacity":1},n[v]=0,r.css("opacity",0).css(v,y?2*-c:2*c).animate(n,m,g)),h&&(c/=Math.pow(2,p-1)),n={},n[v]=0,s=0;p>s;s++)a={},a[v]=(y?"-=":"+=")+c,r.animate(a,m,g).animate(n,m,g),c=h?2*c:c/2;h&&(a={"opacity":0},a[v]=(y?"-=":"+=")+c,r.animate(a,m,g)),r.queue(function(){h&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),r.dequeue()}})(jQuery);(function(e){e.effects.effect.clip=function(t,i){var s,a,n,r=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"hide"),h="show"===l,u=t.direction||"vertical",d="vertical"===u,c=d?"height":"width",p=d?"top":"left",f={};e.effects.save(r,o),r.show(),s=e.effects.createWrapper(r).css({"overflow":"hidden"}),a="IMG"===r[0].tagName?s:r,n=a[c](),h&&(a.css(c,0),a.css(p,n/2)),f[c]=h?n:0,f[p]=h?0:n/2,a.animate(f,{"queue":!1,"duration":t.duration,"easing":t.easing,"complete":function(){h||r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),i()}})}})(jQuery);(function(e){e.effects.effect.drop=function(t,i){var s,a=e(this),n=["position","top","bottom","left","right","opacity","height","width"],r=e.effects.setMode(a,t.mode||"hide"),o="show"===r,l=t.direction||"left",h="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",d={"opacity":o?1:0};e.effects.save(a,n),a.show(),e.effects.createWrapper(a),s=t.distance||a["top"===h?"outerHeight":"outerWidth"](!0)/2,o&&a.css("opacity",0).css(h,"pos"===u?-s:s),d[h]=(o?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+s,a.animate(d,{"queue":!1,"duration":t.duration,"easing":t.easing,"complete":function(){"hide"===r&&a.hide(),e.effects.restore(a,n),e.effects.removeWrapper(a),i()}})}})(jQuery);(function(e){e.effects.effect.explode=function(t,i){function s(){b.push(this),b.length===d*c&&a()}function a(){p.css({"visibility":"visible"}),e(b).remove(),m||p.hide(),i()}var n,r,o,l,h,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=d,p=e(this),f=e.effects.setMode(p,t.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/c),y=Math.ceil(p.outerHeight()/d),b=[];for(n=0;d>n;n++)for(l=g.top+n*y,u=n-(d-1)/2,r=0;c>r;r++)o=g.left+r*v,h=r-(c-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({"position":"absolute","visibility":"visible","left":-r*v,"top":-n*y}).parent().addClass("ui-effects-explode").css({"position":"absolute","overflow":"hidden","width":v,"height":y,"left":o+(m?h*v:0),"top":l+(m?u*y:0),"opacity":m?0:1}).animate({"left":o+(m?0:h*v),"top":l+(m?0:u*y),"opacity":m?1:0},t.duration||500,t.easing,s)}})(jQuery);(function(e){e.effects.effect.fade=function(t,i){var s=e(this),a=e.effects.setMode(s,t.mode||"toggle");s.animate({"opacity":a},{"queue":!1,"duration":t.duration,"easing":t.easing,"complete":i})}})(jQuery);(function(e){e.effects.effect.fold=function(t,i){var s,a,n=e(this),r=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(n,t.mode||"hide"),l="show"===o,h="hide"===o,u=t.size||15,d=/([0-9]+)%/.exec(u),c=!!t.horizFirst,p=l!==c,f=p?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(n,r),n.show(),s=e.effects.createWrapper(n).css({"overflow":"hidden"}),a=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(u=parseInt(d[1],10)/100*a[h?0:1]),l&&s.css(c?{"height":0,"width":u}:{"height":u,"width":0}),g[f[0]]=l?a[0]:u,v[f[1]]=l?a[1]:0,s.animate(g,m,t.easing).animate(v,m,t.easing,function(){h&&n.hide(),e.effects.restore(n,r),e.effects.removeWrapper(n),i()})}})(jQuery);(function(e){e.effects.effect.highlight=function(t,i){var s=e(this),a=["backgroundImage","backgroundColor","opacity"],n=e.effects.setMode(s,t.mode||"show"),r={"backgroundColor":s.css("backgroundColor")};"hide"===n&&(r.opacity=0),e.effects.save(s,a),s.show().css({"backgroundImage":"none","backgroundColor":t.color||"#ffff99"}).animate(r,{"queue":!1,"duration":t.duration,"easing":t.easing,"complete":function(){"hide"===n&&s.hide(),e.effects.restore(s,a),i()}})}})(jQuery);(function(e){e.effects.effect.pulsate=function(t,i){var s,a=e(this),n=e.effects.setMode(a,t.mode||"show"),r="show"===n,o="hide"===n,l=r||"hide"===n,h=2*(t.times||5)+(l?1:0),u=t.duration/h,d=0,c=a.queue(),p=c.length;for((r||!a.is(":visible"))&&(a.css("opacity",0).show(),d=1),s=1;h>s;s++)a.animate({"opacity":d},u,t.easing),d=1-d;a.animate({"opacity":d},u,t.easing),a.queue(function(){o&&a.hide(),i()}),p>1&&c.splice.apply(c,[1,0].concat(c.splice(p,h+1))),a.dequeue()}})(jQuery);(function(e){e.effects.effect.puff=function(t,i){var s=e(this),a=e.effects.setMode(s,t.mode||"hide"),n="hide"===a,r=parseInt(t.percent,10)||150,o=r/100,h={"height":s.height(),"width":s.width(),"outerHeight":s.outerHeight(),"outerWidth":s.outerWidth()};e.extend(t,{"effect":"scale","queue":!1,"fade":!0,"mode":a,"complete":i,"percent":n?r:100,"from":n?h:{"height":h.height*o,"width":h.width*o,"outerHeight":h.outerHeight*o,"outerWidth":h.outerWidth*o}}),s.effect(t)},e.effects.effect.scale=function(t,i){var s=e(this),a=e.extend(!0,{},t),n=e.effects.setMode(s,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===n?0:100),o=t.direction||"both",h=t.origin,l={"height":s.height(),"width":s.width(),"outerHeight":s.outerHeight(),"outerWidth":s.outerWidth()},u={"y":"horizontal"!==o?r/100:1,"x":"vertical"!==o?r/100:1};a.effect="size",a.queue=!1,a.complete=i,"effect"!==n&&(a.origin=h||["middle","center"],a.restore=!0),a.from=t.from||("show"===n?{"height":0,"width":0,"outerHeight":0,"outerWidth":0}:l),a.to={"height":l.height*u.y,"width":l.width*u.x,"outerHeight":l.outerHeight*u.y,"outerWidth":l.outerWidth*u.x},a.fade&&("show"===n&&(a.from.opacity=0,a.to.opacity=1),"hide"===n&&(a.from.opacity=1,a.to.opacity=0)),s.effect(a)},e.effects.effect.size=function(t,i){var s,a,n,r=e(this),o=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],u=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(r,t.mode||"effect"),f=t.restore||"effect"!==p,m=t.scale||"both",g=t.origin||["middle","center"],v=r.css("position"),y=f?o:h,b={"height":0,"width":0,"outerHeight":0,"outerWidth":0};"show"===p&&r.show(),s={"height":r.height(),"width":r.width(),"outerHeight":r.outerHeight(),"outerWidth":r.outerWidth()},"toggle"===t.mode&&"show"===p?(r.from=t.to||b,r.to=t.from||s):(r.from=t.from||("show"===p?b:s),r.to=t.to||("hide"===p?b:s)),n={"from":{"y":r.from.height/s.height,"x":r.from.width/s.width},"to":{"y":r.to.height/s.height,"x":r.to.width/s.width}},("box"===m||"both"===m)&&(n.from.y!==n.to.y&&(y=y.concat(d),r.from=e.effects.setTransition(r,d,n.from.y,r.from),r.to=e.effects.setTransition(r,d,n.to.y,r.to)),n.from.x!==n.to.x&&(y=y.concat(c),r.from=e.effects.setTransition(r,c,n.from.x,r.from),r.to=e.effects.setTransition(r,c,n.to.x,r.to))),("content"===m||"both"===m)&&n.from.y!==n.to.y&&(y=y.concat(u).concat(l),r.from=e.effects.setTransition(r,u,n.from.y,r.from),r.to=e.effects.setTransition(r,u,n.to.y,r.to)),e.effects.save(r,y),r.show(),e.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(a=e.effects.getBaseline(g,s),r.from.top=(s.outerHeight-r.outerHeight())*a.y,r.from.left=(s.outerWidth-r.outerWidth())*a.x,r.to.top=(s.outerHeight-r.to.outerHeight)*a.y,r.to.left=(s.outerWidth-r.to.outerWidth)*a.x),r.css(r.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(u),c=c.concat(["marginLeft","marginRight"]),l=o.concat(d).concat(c),r.find("*[width]").each(function(){var i=e(this),s={"height":i.height(),"width":i.width(),"outerHeight":i.outerHeight(),"outerWidth":i.outerWidth()};f&&e.effects.save(i,l),i.from={"height":s.height*n.from.y,"width":s.width*n.from.x,"outerHeight":s.outerHeight*n.from.y,"outerWidth":s.outerWidth*n.from.x},i.to={"height":s.height*n.to.y,"width":s.width*n.to.x,"outerHeight":s.height*n.to.y,"outerWidth":s.width*n.to.x},n.from.y!==n.to.y&&(i.from=e.effects.setTransition(i,d,n.from.y,i.from),i.to=e.effects.setTransition(i,d,n.to.y,i.to)),n.from.x!==n.to.x&&(i.from=e.effects.setTransition(i,c,n.from.x,i.from),i.to=e.effects.setTransition(i,c,n.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,l)})})),r.animate(r.to,{"queue":!1,"duration":t.duration,"easing":t.easing,"complete":function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===p&&r.hide(),e.effects.restore(r,y),f||("static"===v?r.css({"position":"relative","top":r.to.top,"left":r.to.left}):e.each(["top","left"],function(e,t){r.css(t,function(t,i){var s=parseInt(i,10),a=e?r.to.left:r.to.top;return"auto"===i?a+"px":s+a+"px"})})),e.effects.removeWrapper(r),i()}})}})(jQuery);(function(e){e.effects.effect.shake=function(t,i){var s,a=e(this),n=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(a,t.mode||"effect"),o=t.direction||"left",h=t.distance||20,l=t.times||3,u=2*l+1,d=Math.round(t.duration/u),c="up"===o||"down"===o?"top":"left",p="up"===o||"left"===o,f={},m={},g={},v=a.queue(),y=v.length;for(e.effects.save(a,n),a.show(),e.effects.createWrapper(a),f[c]=(p?"-=":"+=")+h,m[c]=(p?"+=":"-=")+2*h,g[c]=(p?"-=":"+=")+2*h,a.animate(f,d,t.easing),s=1;l>s;s++)a.animate(m,d,t.easing).animate(g,d,t.easing);a.animate(m,d,t.easing).animate(f,d/2,t.easing).queue(function(){"hide"===r&&a.hide(),e.effects.restore(a,n),e.effects.removeWrapper(a),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),a.dequeue()}})(jQuery);(function(e){e.effects.effect.slide=function(t,i){var s,a=e(this),n=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(a,t.mode||"show"),o="show"===r,h=t.direction||"left",l="up"===h||"down"===h?"top":"left",u="up"===h||"left"===h,d={};e.effects.save(a,n),a.show(),s=t.distance||a["top"===l?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(a).css({"overflow":"hidden"}),o&&a.css(l,u?isNaN(s)?"-"+s:-s:s),d[l]=(o?u?"+=":"-=":u?"-=":"+=")+s,a.animate(d,{"queue":!1,"duration":t.duration,"easing":t.easing,
"complete":function(){"hide"===r&&a.hide(),e.effects.restore(a,n),e.effects.removeWrapper(a),i()}})}})(jQuery);(function(e){e.effects.effect.transfer=function(t,i){var s=e(this),a=e(t.to),n="fixed"===a.css("position"),r=e("body"),o=n?r.scrollTop():0,h=n?r.scrollLeft():0,l=a.offset(),u={"top":l.top-o,"left":l.left-h,"height":a.innerHeight(),"width":a.innerWidth()},d=s.offset(),c=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({"top":d.top-o,"left":d.left-h,"height":s.innerHeight(),"width":s.innerWidth(),"position":n?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),i()})}})(jQuery);define("tiny-lib/jquery-ui.custom.min",["tiny-lib/jquery"],function(){});(function(window,angular,$,undefined){var jqyoui=angular.module("tiny.ui.ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse","$q",function($timeout,$parse,$q){this.draggableScope=null;this.droppableScope=null;angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>');this.callEventCallback=function(scope,callbackName,event,ui){function extract(callbackName){var atStartBracket=-1!==callbackName.indexOf("(")?callbackName.indexOf("("):callbackName.length,atEndBracket=-1!==callbackName.lastIndexOf(")")?callbackName.lastIndexOf(")"):callbackName.length,args=callbackName.substring(atStartBracket+1,atEndBracket),constructor=-1!==callbackName.indexOf(".")?callbackName.substr(0,callbackName.indexOf(".")):null;constructor=scope[constructor]&&"function"==typeof scope[constructor].constructor?constructor:null;return{"callback":callbackName.substring(constructor&&constructor.length+1||0,atStartBracket),"args":$.map(args&&args.split(",")||[],function(item){return[$parse(item)(scope)]}),"constructor":constructor}}if(!callbackName)return;var objExtract=extract(callbackName),callback=objExtract.callback,constructor=objExtract.constructor,args=[event,ui].concat(objExtract.args);return(scope[callback]||scope[constructor][callback]).apply(scope,args)};this.invokeDrop=function($draggable,$droppable,event,ui){var dragModelValue,dropModelValue,dragModel="",dropModel="",dragSettings={},dropSettings={},jqyoui_pos=null,dragItem={},dropItem={},$droppableDraggable=null,droppableScope=this.droppableScope,draggableScope=this.draggableScope,$helper=null,promises=[];dragModel=$draggable.ngattr("ng-model");dropModel=$droppable.ngattr("ng-model");dragModelValue=draggableScope.$eval(dragModel);dropModelValue=droppableScope.$eval(dropModel);$droppableDraggable=$droppable.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last");dropSettings=droppableScope.$eval($droppable.attr("jqyoui-droppable")||$droppable.attr("data-jqyoui-droppable"))||[];dragSettings=draggableScope.$eval($draggable.attr("jqyoui-draggable")||$draggable.attr("data-jqyoui-draggable"))||[];dragSettings.index=this.fixIndex(draggableScope,dragSettings,dragModelValue);dropSettings.index=this.fixIndex(droppableScope,dropSettings,dropModelValue);jqyoui_pos=angular.isArray(dragModelValue)?dragSettings.index:null;dragItem=angular.isArray(dragModelValue)?dragModelValue[jqyoui_pos]:dragModelValue;dragSettings.deepCopy&&(dragItem=angular.copy(dragItem));dropItem=angular.isArray(dropModelValue)&&dropSettings&&dropSettings.index!==undefined?dropModelValue[dropSettings.index]:angular.isArray(dropModelValue)?{}:dropModelValue;dropSettings.deepCopy&&(dropItem=angular.copy(dropItem));dragSettings.beforeDrop&&promises.push(this.callEventCallback(draggableScope,dragSettings.beforeDrop,event,ui));$q.all(promises).then(angular.bind(this,function(){if(dragSettings.animate===!0){$helper=$draggable.clone();$helper.css({"position":"absolute"}).css($draggable.offset());angular.element(document).find("body").append($helper);$draggable.addClass("angular-dragdrop-hide");this.move($helper,$droppableDraggable.length>0?$droppableDraggable:$droppable,null,"fast",dropSettings,function(){$helper.remove()});this.move($droppableDraggable.length>0&&!dropSettings.multiple?$droppableDraggable:[],$draggable.parent("[jqyoui-droppable],[data-jqyoui-droppable]"),jqyoui.startXY,"fast",dropSettings,angular.bind(this,function(){$timeout(angular.bind(this,function(){$draggable.css({"position":"relative","left":"","top":""}).removeClass("angular-dragdrop-hide");$droppableDraggable.css({"position":"relative","left":"","top":"","display":"none"===$droppableDraggable.css("display")?"":$droppableDraggable.css("display")});this.mutateDraggable(draggableScope,dropSettings,dragSettings,dragModel,dropModel,dropItem,$draggable);this.mutateDroppable(droppableScope,dropSettings,dragSettings,dropModel,dragItem,jqyoui_pos);this.callEventCallback(droppableScope,dropSettings.onDrop,event,ui)}))}))}else $timeout(angular.bind(this,function(){this.mutateDraggable(draggableScope,dropSettings,dragSettings,dragModel,dropModel,dropItem,$draggable);this.mutateDroppable(droppableScope,dropSettings,dragSettings,dropModel,dragItem,jqyoui_pos);this.callEventCallback(droppableScope,dropSettings.onDrop,event,ui)}))}),function(){ui.draggable.css({"left":"","top":""})})};this.move=function($fromEl,$toEl,toPos,duration,dropSettings,callback){if(0===$fromEl.length){callback&&window.setTimeout(function(){callback()},300);return!1}var zIndex=$fromEl.css("z-index"),fromPos=$fromEl[dropSettings.containment||"offset"](),displayProperty=$toEl.css("display"),hadNgHideCls=$toEl.hasClass("ng-hide");if(null===toPos&&$toEl.length>0)if(($toEl.attr("jqyoui-draggable")||$toEl.attr("data-jqyoui-draggable"))!==undefined&&$toEl.ngattr("ng-model")!==undefined&&$toEl.is(":visible")&&dropSettings&&dropSettings.multiple){toPos=$toEl[dropSettings.containment||"offset"]();dropSettings.stack===!1?toPos.left+=$toEl.outerWidth(!0):toPos.top+=$toEl.outerHeight(!0)}else{hadNgHideCls&&$toEl.removeClass("ng-hide");toPos=$toEl.css({"visibility":"hidden","display":"block"})[dropSettings.containment||"offset"]();$toEl.css({"visibility":"","display":displayProperty})}$fromEl.css({"position":"absolute","z-index":9999}).css(fromPos).animate(toPos,duration,function(){hadNgHideCls&&$toEl.addClass("ng-hide");$fromEl.css("z-index",zIndex);callback&&callback()})};this.mutateDroppable=function(scope,dropSettings,dragSettings,dropModel,dragItem,jqyoui_pos){var dropModelValue=scope.$eval(dropModel);scope.dndDragItem=dragItem;if(angular.isArray(dropModelValue)){dropSettings&&dropSettings.index>=0?dropModelValue[dropSettings.index]=dragItem:dropModelValue.push(dragItem);dragSettings&&dragSettings.placeholder===!0&&(dropModelValue[dropModelValue.length-1].jqyoui_pos=jqyoui_pos)}else{$parse(dropModel+" = dndDragItem")(scope);dragSettings&&dragSettings.placeholder===!0&&(dropModelValue.jqyoui_pos=jqyoui_pos)}};this.mutateDraggable=function(scope,dropSettings,dragSettings,dragModel,dropModel,dropItem,$draggable){var isEmpty=angular.equals(dropItem,{})||!dropItem,dragModelValue=scope.$eval(dragModel);scope.dndDropItem=dropItem;if(dragSettings&&dragSettings.placeholder)"keep"!=dragSettings.placeholder&&(angular.isArray(dragModelValue)&&dragSettings.index!==undefined?dragModelValue[dragSettings.index]=dropItem:$parse(dragModel+" = dndDropItem")(scope));else if(angular.isArray(dragModelValue))isEmpty?dragSettings&&dragSettings.placeholder!==!0&&"keep"!==dragSettings.placeholder&&dragModelValue.splice(dragSettings.index,1):dragModelValue[dragSettings.index]=dropItem;else{$parse(dragModel+" = dndDropItem")(scope);scope.$parent&&$parse(dragModel+" = dndDropItem")(scope.$parent)}$draggable.css({"z-index":"","left":"","top":""})};this.fixIndex=function(scope,settings,modelValue){if(settings.applyFilter&&angular.isArray(modelValue)&&modelValue.length>0){var dragModelValueFiltered=scope[settings.applyFilter](),lookup=dragModelValueFiltered[settings.index],actualIndex=undefined;modelValue.forEach(function(item,i){angular.equals(item,lookup)&&(actualIndex=i)});return actualIndex}return settings.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(ngDragDropService){return{"require":"?jqyouiDroppable","restrict":"A","link":function(scope,element,attrs){var dragSettings,jqyouiOptions,zIndex,updateDraggable=function(newValue,oldValue){if(newValue){dragSettings=scope.$eval(element.attr("jqyoui-draggable")||element.attr("data-jqyoui-draggable"))||{};jqyouiOptions=scope.$eval(attrs.jqyouiOptions)||{};element.draggable({"disabled":!1}).draggable(jqyouiOptions).draggable({"start":function(event,ui){ngDragDropService.draggableScope=scope;zIndex=angular.element(jqyouiOptions.helper?ui.helper:this).css("z-index");angular.element(jqyouiOptions.helper?ui.helper:this).css("z-index",9999);jqyoui.startXY=angular.element(this)[dragSettings.containment||"offset"]();ngDragDropService.callEventCallback(scope,dragSettings.onStart,event,ui)},"stop":function(event,ui){angular.element(jqyouiOptions.helper?ui.helper:this).css("z-index",zIndex);ngDragDropService.callEventCallback(scope,dragSettings.onStop,event,ui)},"drag":function(event,ui){ngDragDropService.callEventCallback(scope,dragSettings.onDrag,event,ui)}})}else element.draggable({"disabled":!0});if(killWatcher&&angular.isDefined(newValue)&&(angular.equals(attrs.drag,"true")||angular.equals(attrs.drag,"false"))){killWatcher();killWatcher=null}},killWatcher=scope.$watch(function(){return scope.$eval(attrs.drag)},updateDraggable);updateDraggable();element.on("$destroy",function(){element.draggable({"disabled":!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(ngDragDropService,$q){return{"restrict":"A","priority":1,"link":function(scope,element,attrs){var dropSettings,updateDroppable=function(newValue,oldValue){if(newValue){dropSettings=scope.$eval(angular.element(element).attr("jqyoui-droppable")||angular.element(element).attr("data-jqyoui-droppable"))||{};element.droppable({"disabled":!1}).droppable(scope.$eval(attrs.jqyouiOptions)||{}).droppable({"over":function(event,ui){ngDragDropService.callEventCallback(scope,dropSettings.onOver,event,ui)},"out":function(event,ui){ngDragDropService.callEventCallback(scope,dropSettings.onOut,event,ui)},"drop":function(event,ui){var beforeDropPromise=null;beforeDropPromise=dropSettings.beforeDrop?ngDragDropService.callEventCallback(scope,dropSettings.beforeDrop,event,ui):function(){var deferred=$q.defer();deferred.resolve();return deferred.promise}();beforeDropPromise.then(angular.bind(this,function(){if(angular.element(ui.draggable).ngattr("ng-model")&&attrs.ngModel){ngDragDropService.droppableScope=scope;ngDragDropService.invokeDrop(angular.element(ui.draggable),angular.element(this),event,ui)}else ngDragDropService.callEventCallback(scope,dropSettings.onDrop,event,ui)}),function(){ui.draggable.css({"left":"","top":""})})}})}else element.droppable({"disabled":!0});if(killWatcher&&angular.isDefined(newValue)&&(angular.equals(attrs.drop,"true")||angular.equals(attrs.drop,"false"))){killWatcher();killWatcher=null}},killWatcher=scope.$watch(function(){return scope.$eval(attrs.drop)},updateDroppable);updateDroppable();element.on("$destroy",function(){element.droppable({"disabled":!0}).droppable("destroy")})}}}]);angular.element.prototype.ngattr=function(name,value){var element=angular.element(this).get(0);return element.getAttribute(name)||element.getAttribute("data-"+name)}})(window,window.angular,window.jQuery);define("tiny-lib/angular-dragdrop",["tiny-lib/angular","tiny-lib/jquery-ui.custom.min"],function(){});angular.module("tiny.ui.charts",[]).directive("tinyplusCharts",["agileUiTheme",function(agileUiTheme){return{"restrict":"EA","template":"<div></div>","replace":!0,"scope":{"options":"=","loading":"=","events":"=","connect":"="},"link":function(scope,element,attrs){function mergeOptions(agileOptions,userOptions){var userOptionsClone=angular.copy(userOptions),agileOptionsClone=angular.copy(agileOptions);mergeAxisOptions("xAxis",agileOptionsClone,userOptionsClone);mergeAxisOptions("yAxis",agileOptionsClone,userOptionsClone);return userOptionsClone}function mergeAxisOptions(axis,agileOptions,userOptions){var i,userAxisOpts=userOptions[axis];if(!angular.isObject(userAxisOpts))return;if(angular.isArray(userAxisOpts))for(i=0;i<userAxisOpts.length;i++)userAxisOpts[i]=angular.extend({},agileOptions[axis],userAxisOpts[i]);else userAxisOpts=angular.extend({},userAxisOpts,userAxisOpts)}function getTheme(userTheme,agileUiTheme){if(!userTheme)return agileUiTheme;if(angular.isObject(userTheme))return angular.extend({},agileUiTheme,userTheme);if(angular.isString(userTheme))return userTheme}var chartInstance,parentScope,id,userTheme,echarts=window.echarts;if(!echarts||!scope.options)return;parentScope=scope.$parent,id=scope.options.id,userTheme=scope.options.theme;parentScope.$tinyCharts||(parentScope.$tinyCharts={});chartInstance=id?parentScope.$tinyCharts[id]=echarts.init(element[0],getTheme(userTheme,agileUiTheme.theme)):parentScope.$tinyCharts=echarts.init(element[0],getTheme(userTheme,agileUiTheme.theme));window.onresize=function(){chartInstance.resize()};scope.$watch("options",function(newValue,oldValue){var options=mergeOptions(agileUiTheme.options,newValue);chartInstance.setOption(options)},!0);scope.$watch("loading",function(newValue,oldValue){if(!newValue)return;"true"===String(newValue.show)?chartInstance.showLoading(newValue):chartInstance.hideLoading()},!0);scope.$watch("events",function(newValue,oldValue){function handleEvents(eventConfig,eventType){"off"===eventConfig.state?chartInstance.un(eventType,eventConfig.fn):chartInstance.on(eventType,eventConfig.fn)}if(!newValue)return;angular.isObject(newValue)&&angular.forEach(newValue,function(eventConfig,eventType){angular.isArray(eventConfig)?angular.forEach(eventConfig,function(itemConfig,key){handleEvents(itemConfig,eventType)}):handleEvents(eventConfig,eventType)})},!0);scope.$watch("connect",function(newValue,oldValue){if(!newValue)return;setTimeout(function(){if(angular.isArray(newValue.connectTarget)){var targetInstance=[];angular.forEach(newValue.connectTarget,function(targetId,key){targetInstance.push(scope.$tinyCharts[targetId])});"false"===String(newValue.enableConnect)?chartInstance.connect(targetInstance):chartInstance.disConnect(targetInstance)}},0)},!0)}}}]).factory("agileUiTheme",[function(){return{"theme":{"color":["#5ecc49","#42ccef","#9592f0","#ffa235","#a7e52d","#fc5043","#777777","#468bf3","#efe034","#f87fa7"],"title":{"itemGap":8,"textStyle":{"fontWeight":"normal","color":"#666666"}},"axis":{"splitLine":{"show":!1}},"dataRange":{"color":["#1178ad","#72bbd0"]},"toolbox":{"show":!1,"color":["#42ccef","#42ccef","#42ccef","#42ccef"]},"legend":{"itemWidth":20,"itemHeight":20,"x":"right","y":"top","padding":[5,40,5,5]},"tooltip":{"backgroundColor":"#ffffff","borderWidth":1,"borderRadius":4,"borderColor":"#dfdfdf","padding":5,"textStyle":{"color":"#666","fontSize":11,"fontFamily":"Helvetica, 微软雅黑, Arial, Verdana, sans-serif"},"axisPointer":{"type":"line","lineStyle":{"color":"#d5d5d5","width":1,"type":"solid"}}},"dataZoom":{"showDetail":!1,"axis":{"axisLine":{"show":!1},"axisLabel":{"textStyle":{"fontSize":10,"color":"#999"}},"axisTick":{"length":8,"lineStyle":{"color":"#999","width":1}}},"handleSize":5,"dataBackgroundColor":"#5ecc49","fillerColor":"rgba(255,255,255,0)","handleColor":"#008acd"},"noDataLoadingOption":{"effect":"noEffect"},"grid":{"borderWidth":0,"x":40,"y":40,"x2":40,"y2":40},"polar":{"axisLine":{"lineStyle":{"color":"#ddd"}},"splitArea":{"show":!0,"areaStyle":{"color":["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},"splitLine":{"lineStyle":{"color":"#ddd"}}},"timeline":{"lineStyle":{"color":"#008acd"},"controlStyle":{"normal":{"color":"#008acd"},"emphasis":{"color":"#008acd"}},"symbol":"emptyCircle","symbolSize":3},"bar":{"itemStyle":{"normal":{"barBorderRadius":5},"emphasis":{"barBorderRadius":5}}},"line":{"smooth":!0,"symbol":"emptyCircle","symbolSize":3},"k":{"itemStyle":{"normal":{"color":"#d87a80","color0":"#2ec7c9","lineStyle":{"color":"#d87a80","color0":"#2ec7c9"}}}},"scatter":{"symbol":"circle","symbolSize":4},"radar":{"symbol":"emptyCircle","symbolSize":3},"map":{"itemStyle":{"normal":{"areaStyle":{"color":"#ddd"},"label":{"textStyle":{"color":"#d87a80"}}},"emphasis":{"areaStyle":{"color":"#fe994e"}}}},"force":{"itemStyle":{"normal":{"linkStyle":{"color":"#1e90ff"}}}},"chord":{"itemStyle":{"normal":{"borderWidth":1,"borderColor":"rgba(128, 128, 128, 0.5)","chordStyle":{"lineStyle":{"color":"rgba(128, 128, 128, 0.5)"}}},"emphasis":{"borderWidth":1,"borderColor":"rgba(128, 128, 128, 0.5)","chordStyle":{"lineStyle":{"color":"rgba(128, 128, 128, 0.5)"}}}}},"gauge":{"axisLine":{"lineStyle":{"color":[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],"width":10}},"axisTick":{"splitNumber":10,"length":15,"lineStyle":{"color":"auto"}},"splitLine":{"length":22,"lineStyle":{"color":"auto"}},"pointer":{"width":5}},"textStyle":{"fontFamily":"微软雅黑, Arial, Verdana, sans-serif"}},"options":{"xAxis":{"splitLine":{"show":!1},"axisLine":{"lineStyle":{"color":"#cfcfcf","width":1,"type":"solid"}},"axisTick":{"show":!0,"length":5,"lineStyle":{"color":"#cfcfcf","width":1}},"axisLabel":{"textStyle":{"fontSize":11,"fontFamily":"Helvetica, 微软雅黑, Arial, Verdana, sans-serif","fontWeight":"normal","color":"#666"}}},"yAxis":{"splitLine":{"show":!0,"lineStyle":{"color":["#cfcfcf"],"width":1,"type":"dotted"}},"axisLine":{"lineStyle":{"color":"#cfcfcf","width":1,"type":"solid"}},"axisTick":{"show":!0,"length":5,"lineStyle":{"color":"#cfcfcf","width":1}},"axisLabel":{"textStyle":{"fontSize":11,"fontFamily":"Helvetica, 微软雅黑, Arial, Verdana, sans-serif","fontWeight":"normal","color":"#666"}}}}}}]);define("tiny-directives/Charts",function(){});(function(){var module=angular.module("tiny.ui.toggleSwitch",["ng"]);module.provider("toggleSwitchConfig",[function(){this.onLabel="ON";this.offLabel="OFF";this.knobLabel=" ";this.height=18;var self=this;this.$get=function(){return{"onLabel":self.onLabel,"offLabel":self.offLabel,"knobLabel":self.knobLabel,"height":self.height}}}]);module.directive("tinyplusSwitch",["toggleSwitchConfig",function(toggleSwitchConfig){return{"restrict":"EA","replace":!0,"require":"ngModel","scope":{"disabled":"@","onLabel":"@","offLabel":"@","knobLabel":"@"},"template":'<div role="radio" class="tinyplus-toggle-switch" ng-class="{ \'disabled\': disabled }"><div class="tinyplus-toggle-switch-animate" ng-class="{\'tinyplus-switch-off\': !model, \'tinyplus-switch-on\': model}"><span class="tinyplus-switch-left" ng-bind="offLabel"></span><span class="tinyplus-knob" ng-bind="knobLabel"></span><span class="tinyplus-switch-right" ng-bind="onLabel"></span></div></div>',"compile":function(element,attrs){attrs.onLabel||(attrs.onLabel=toggleSwitchConfig.onLabel);attrs.offLabel||(attrs.offLabel=toggleSwitchConfig.offLabel);attrs.knobLabel||(attrs.knobLabel=toggleSwitchConfig.knobLabel);return this.link},"link":function(scope,element,attrs,ngModelCtrl){var borderRadius,lineHeight,KEY_SPACE=32,height=element.height();if(height&&toggleSwitchConfig.height!==height){borderRadius=height/2+"px",lineHeight=height-2+"px";height+="px";element.find(".tinyplus-toggle-switch-animate").css({"line-height":lineHeight,"border-radius":borderRadius});element.find(".tinyplus-switch-left").css({"min-width":height,"border-radius":borderRadius});element.find(".tinyplus-switch-right").css({"min-width":height,"border-radius":borderRadius})}element.on("click",function(){scope.$apply(scope.toggle)});element.on("keydown",function(e){var key=e.which?e.which:e.keyCode;key===KEY_SPACE&&scope.$apply(scope.toggle)});ngModelCtrl.$formatters.push(function(modelValue){return modelValue});ngModelCtrl.$parsers.push(function(viewValue){return viewValue});ngModelCtrl.$viewChangeListeners.push(function(){scope.$eval(attrs.ngChange)});ngModelCtrl.$render=function(){scope.model=ngModelCtrl.$viewValue};scope.toggle=function(){if(!scope.disabled){scope.model=!scope.model;ngModelCtrl.$setViewValue(scope.model)}}}}}])})();define("tiny-lib/angular-toggle-switch",function(){});define("tiny-directives/Directive",["tiny-lib/Class","tiny-lib/underscore","tiny-lib/jquery","tiny-lib/angular","tiny-widgets/common","tiny-widgets/Widget","tiny-lib/ui-bootstrap-custom-tpls-0.12.1","tiny-directives/Timeline","tiny-lib/angular-dragdrop","tiny-directives/Charts","tiny-lib/angular-toggle-switch"],function(Class,_,$,angular,common,Widget){var DEFAULT_CONFIG,Directive,tinyModule=angular.module(common.WIDGET_MODULE_NAME,["tiny.ui.bootstrap","tiny.ui.timeline","tiny.ui.ngDragDrop","tiny.ui.charts","tiny.ui.toggleSwitch"]);tinyModule.config(["$compileProvider",function($compileProvider){tinyModule.directive=$compileProvider.directive}]);DEFAULT_CONFIG={"restrict":"E","scope":{},"moduleName":common.WIDGET_MODULE_NAME,"directiveName":"wccDirective","widgetClass":Widget,"constantProperties":[],"controllerDependencies":["$scope","$attrs","$element","$parse"]};Directive=Class.extend({"compile":function(element,attrMap,transclude){var directiveThis=this,widgetInstance=new directiveThis.widgetClass(_.pick(attrMap,directiveThis.constantProperties)),dom=widgetInstance.getDom();element.replaceWith(dom);return directiveThis.link},"link":function(scope,element,attrMap){},"controller":function(scope,attr,element,parse){},"init":function(options){var directiveThis=this,scope=_.extend({},_.isObject(directiveThis.scope)?directiveThis.scope:{},_.isObject(DEFAULT_CONFIG.scope)?DEFAULT_CONFIG.scope:{},options&&_.isObject(options.scope)?options.scope:{});_.extend(directiveThis,DEFAULT_CONFIG,options);directiveThis.scope=scope;directiveThis.compile=_.bind(directiveThis.compile,directiveThis);directiveThis.link=_.bind(directiveThis.link,directiveThis);directiveThis.controller=_.bind(directiveThis.controller,directiveThis);directiveThis.controller.$inject=directiveThis.controllerDependencies},"toAngularDirective":function(){var directiveThis=this;tinyModule.directive(directiveThis.directiveName,function(){var directiveConfig=directiveThis;return directiveConfig})},"camelPropToSnake":function(opts){var prop,destOpts={},destPropName="";for(prop in opts)if(opts.hasOwnProperty(prop)&&!_.isUndefined(opts[prop])){destPropName=prop.replace(/([a-z\d])([A-Z]+)/g,"$1-$2").toLowerCase();destOpts[destPropName]=opts[prop]}return destOpts},"setAttr":function(scope,attr,val,attrMap){var fn,directiveThis=this;if("undefined"==typeof attrMap[attr])return;fn=function(){scope[attr]=val;scope.changeFlag=!0};directiveThis.safeApply(scope.$root,fn)},"safeApply":function($scope,fn){var $$phase=$scope.$root.$$phase;"$digest"==$$phase||"$apply"==$$phase?"function"==typeof fn&&fn():$scope.$apply(fn)}});return Directive});d3=function(){function n(n){return null!=n&&!isNaN(n)}function t(n){return n.length}function e(n){for(var t=1;n*t%1;)t*=10;return t}function r(n,t){try{for(var e in t)Object.defineProperty(n.prototype,e,{"value":t[e],"enumerable":!1})}catch(r){n.prototype=t}}function u(){}function i(){}function o(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function a(n,t){var e,r,u;if(t in n)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(e=0,r=aa.length;r>e;++e){u=aa[e]+t;if(u in n)return u}}function c(){}function s(){}function l(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new u;return t.on=function(t,u){var i,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{"on":u})),n)},t}function f(){Zo.event.preventDefault()}function h(){for(var n,t=Zo.event;n=t.sourceEvent;)t=n;return t}function g(n){for(var t=new s,e=0,r=arguments.length;++e<r;)t[arguments[e]]=l(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=Zo.event;u.target=n,Zo.event=u,t[u.type].apply(e,r)}finally{Zo.event=i}}},t}function p(n){return sa(n,pa),n}function v(n){return"function"==typeof n?n:function(){return la(n,this)}}function d(n){return"function"==typeof n?n:function(){return fa(n,this)}}function m(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=Zo.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?i:u}function y(n){return n.trim().replace(/\s+/g," ")}function x(n){return new RegExp("(?:^|\\s+)"+Zo.requote(n)+"(?:\\s+|$)","g")}function M(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=n.trim().split(/\s+/).map(_);var u=n.length;return"function"==typeof t?r:e}function _(n){var t=x(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",y(u+" "+n))):e.setAttribute("class",y(u.replace(t," ")))}}function b(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function w(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function S(n){return"function"==typeof n?n:(n=Zo.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n)}}function k(n){return{"__data__":n}}function E(n){return function(){return ga(this,n)}}function A(n){return arguments.length||(n=Zo.ascending),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function C(n,t){var e,r,u,i,o,a;for(e=0,r=n.length;r>e;e++)for(i=n[e],o=0,a=i.length;a>o;o++)(u=i[o])&&t(u,o,e);return n}function N(n){return sa(n,da),n}function L(n){var t,e;return function(r,u,i){var o,a=n[i].update,c=a.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(o=a[t])&&++t<c;);return o}}function T(){var n=this.__transition__;n&&++n.active}function q(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=s(t,Xo(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t,r,u,e=new RegExp("^__on([^.]+)"+Zo.requote(n)+"$");for(r in this)if(t=r.match(e)){u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var l,o="__on"+n,a=n.indexOf("."),s=z;a>0&&(n=n.substring(0,a));l=ya.get(n);return l&&(n=l,s=R),a?t?u:r:t?c:i}function z(n,t){return function(e){var r=Zo.event;Zo.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{Zo.event=r}}}function R(n,t){var e=z(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function D(){var n=".dragsuppress-"+ ++Ma,t="touchmove"+n,e="selectstart"+n,r="dragstart"+n,u="click"+n,i=Zo.select(Wo).on(t,f).on(e,f).on(r,f),o=Bo.style,a=o[xa];return o[xa]="none",function(t){function e(){i.on(u,null)}i.on(n,null),o[xa]=a,t&&(i.on(u,function(){f(),e()},!0),setTimeout(e,0))}}function P(n,t){var e,r,u,i;t.changedTouches&&(t=t.changedTouches[0]);e=n.ownerSVGElement||n;if(e.createSVGPoint){r=e.createSVGPoint();if(0>_a&&(Wo.scrollX||Wo.scrollY)){e=Zo.select("body").append("svg").style({"position":"absolute","top":0,"left":0,"margin":0,"padding":0,"border":"none"},"important");u=e[0][0].getScreenCTM();_a=!(u.f||u.e),e.remove()}return _a?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}function U(n){return n>0?1:0>n?-1:0}function j(n){return n>1?0:-1>n?ba:Math.acos(n)}function H(n){return n>1?Sa:-1>n?-Sa:Math.asin(n)}function F(n){return((n=Math.exp(n))-1/n)/2}function O(n){return((n=Math.exp(n))+1/n)/2}function Y(n){return((n=Math.exp(2*n))-1)/(n+1)}function I(n){return(n=Math.sin(n/2))*n}function Z(){}function V(n,t,e){return new X(n,t,e)}function X(n,t,e){this.h=n,this.s=t,this.l=e}function $(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(o-i)*n/60:180>n?o:240>n?i+(o-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,i=2*e-o,ot(u(n+120),u(n),u(n-120))}function B(n,t,e){return new W(n,t,e)}function W(n,t,e){this.h=n,this.c=t,this.l=e}function J(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),G(e,Math.cos(n*=Aa)*t,Math.sin(n)*t)}function G(n,t,e){return new K(n,t,e)}function K(n,t,e){this.l=n,this.a=t,this.b=e}function Q(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=tt(u)*ja,r=tt(r)*Ha,i=tt(i)*Fa,ot(rt(3.2404542*u-1.5371385*r-.4985314*i),rt(-.969266*u+1.8760108*r+.041556*i),rt(.0556434*u-.2040259*r+1.0572252*i))}function nt(n,t,e){return n>0?B(Math.atan2(e,t)*Ca,Math.sqrt(t*t+e*e),n):B(NaN,NaN,n)}function tt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function et(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function rt(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function ut(n){return ot(n>>16,255&n>>8,255&n)}function it(n){return ut(n)+""}function ot(n,t,e){return new at(n,t,e)}function at(n,t,e){this.r=n,this.g=t,this.b=e}function ct(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function st(n,t,e){var r,u,i,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(n))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(gt(u[0]),gt(u[1]),gt(u[2]))}return(i=Ia.get(n))?t(i.r,i.g,i.b):(null!=n&&"#"===n.charAt(0)&&(4===n.length?(o=n.charAt(1),o+=o,a=n.charAt(2),a+=a,c=n.charAt(3),c+=c):7===n.length&&(o=n.substring(1,3),a=n.substring(3,5),c=n.substring(5,7)),o=parseInt(o,16),a=parseInt(a,16),c=parseInt(c,16)),t(o,a,c))}function lt(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-i,c=(o+i)/2;return a?(u=.5>c?a/(o+i):a/(2-o-i),r=n==o?(t-e)/a+(e>t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=NaN,u=c>0&&1>c?0:r),V(r,u,c)}function ft(n,t,e){n=ht(n),t=ht(t),e=ht(e);var r=et((.4124564*n+.3575761*t+.1804375*e)/ja),u=et((.2126729*n+.7151522*t+.072175*e)/Ha),i=et((.0193339*n+.119192*t+.9503041*e)/Fa);return G(116*u-16,500*(r-u),200*(u-i))}function ht(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function gt(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function pt(n){return"function"==typeof n?n:function(){return n}}function vt(n){return n}function dt(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),mt(t,e,n,r)}}function mt(n,t,e,r){function u(){var n,t=c.status;if(!t&&c.responseText||t>=200&&300>t||304===t){try{n=e.call(i,c)}catch(r){return void o.error.call(i,r)}o.load.call(i,n)}else o.error.call(i,c)}var i={},o=Zo.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,s=null;return!Wo.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState>3&&u()},c.onprogress=function(n){var t=Zo.event;Zo.event=n;try{o.progress.call(i,c)}finally{Zo.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(s=n,i):s},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(Xo(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),
c.setRequestHeader)for(var l in a)c.setRequestHeader(l,a[l]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=s&&(c.responseType=s),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},Zo.rebind(i,o,"on"),null==r?i:i.get(yt(r))}function yt(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function xt(){var n=Mt(),t=_t()-n;t>24?(isFinite(t)&&(clearTimeout($a),$a=setTimeout(xt,t)),Xa=0):(Xa=1,Wa(xt))}function Mt(){var n=Date.now();for(Ba=Za;Ba;)n>=Ba.t&&(Ba.f=Ba.c(n-Ba.t)),Ba=Ba.n;return n}function _t(){for(var n,t=Za,e=1/0;t;)t.f?t=n?n.n=t.n:Za=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return Va=n,e}function bt(n,t){var e=Math.pow(10,3*ua(8-t));return{"scale":t>8?function(n){return n/e}:function(n){return n*e},"symbol":n}}function wt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function St(n){return n+""}function kt(){}function Et(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function At(n,t){n&&ac.hasOwnProperty(n.type)&&ac[n.type](n,t)}function Ct(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function Nt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)Ct(n[e],t,1);t.polygonEnd()}function Lt(){function n(n,t){n*=Aa,t=t*Aa/2+ba/4;var e=n-r,o=Math.cos(t),a=Math.sin(t),c=i*a,s=u*o+c*Math.cos(e),l=c*Math.sin(e);sc.add(Math.atan2(l,s)),r=n,u=o,i=a}var t,e,r,u,i;lc.point=function(o,a){lc.point=n,r=(t=o)*Aa,u=Math.cos(a=(e=a)*Aa/2+ba/4),i=Math.sin(a)},lc.lineEnd=function(){n(t,e)}}function Tt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function qt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function zt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Rt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Dt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Pt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Ut(n){return[Math.atan2(n[1],n[0]),H(n[2])]}function jt(n,t){return ua(n[0]-t[0])<ka&&ua(n[1]-t[1])<ka}function Ht(n,t){n*=Aa;var e=Math.cos(t*=Aa);Ft(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function Ft(n,t,e){++fc,gc+=(n-gc)/fc,pc+=(t-pc)/fc,vc+=(e-vc)/fc}function Ot(){function n(n,u){n*=Aa;var i=Math.cos(u*=Aa),o=i*Math.cos(n),a=i*Math.sin(n),c=Math.sin(u),s=Math.atan2(Math.sqrt((s=e*c-r*a)*s+(s=r*o-t*c)*s+(s=t*a-e*o)*s),t*o+e*a+r*c);hc+=s,dc+=s*(t+(t=o)),mc+=s*(e+(e=a)),yc+=s*(r+(r=c)),Ft(t,e,r)}var t,e,r;bc.point=function(u,i){u*=Aa;var o=Math.cos(i*=Aa);t=o*Math.cos(u),e=o*Math.sin(u),r=Math.sin(i),bc.point=n,Ft(t,e,r)}}function Yt(){bc.point=Ht}function It(){function n(n,t){n*=Aa;var e=Math.cos(t*=Aa),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),s=u*c-i*a,l=i*o-r*c,f=r*a-u*o,h=Math.sqrt(s*s+l*l+f*f),g=r*o+u*a+i*c,p=h&&-j(g)/h,v=Math.atan2(h,g);xc+=p*s,Mc+=p*l,_c+=p*f,hc+=v,dc+=v*(r+(r=o)),mc+=v*(u+(u=a)),yc+=v*(i+(i=c)),Ft(r,u,i)}var t,e,r,u,i;bc.point=function(o,a){t=o,e=a,bc.point=n,o*=Aa;var c=Math.cos(a*=Aa);r=c*Math.cos(o),u=c*Math.sin(o),i=Math.sin(a),Ft(r,u,i)},bc.lineEnd=function(){n(t,e),bc.lineEnd=Yt,bc.point=Ht}}function Zt(){return!0}function Vt(n,t,e,r,u){var a,c,s,l,f,h,g,p,i=[],o=[];if(n.forEach(function(n){var t,e,r,a,c,s;if(!((t=n.length-1)<=0)){e=n[0],r=n[t];if(jt(e,r)){u.lineStart();for(a=0;t>a;++a)u.point((e=n[a])[0],e[1]);return void u.lineEnd()}c=new $t(e,n,null,!0),s=new $t(e,null,c,!1);c.o=s,i.push(c),o.push(s),c=new $t(r,n,null,!1),s=new $t(r,null,c,!0),c.o=s,i.push(c),o.push(s)}}),o.sort(t),Xt(i),Xt(o),i.length){for(a=0,c=e,s=o.length;s>a;++a)o[a].e=c=!c;for(h=i[0];;){for(g=h,p=!0;g.v;)if((g=g.n)===h)return;l=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(a=0,s=l.length;s>a;++a)u.point((f=l[a])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){l=g.p.z;for(a=l.length-1;a>=0;--a)u.point((f=l[a])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,l=g.z,p=!p}while(!g.v);u.lineEnd()}}}function Xt(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function $t(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Bt(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function a(n,t){var e=u(n,t);d.point(e[0],e[1])}function c(){y.point=a,d.lineStart()}function s(){y.point=o,d.lineEnd()}function l(n,t){v.push([n,t]);var e=u(n,t);M.point(e[0],e[1])}function f(){M.lineStart(),v=[]}function h(){var n,t,e,r,u,o;l(v[0][0],v[0][1]),M.lineEnd();t=M.clean(),e=x.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r){if(1&t){n=e[0];r=n.length-1,o=-1;for(i.lineStart();++o<r;)i.point((u=n[o])[0],u[1]);return void i.lineEnd()}r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Wt))}}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={"point":o,"lineStart":c,"lineEnd":s,"polygonStart":function(){y.point=l,y.lineStart=f,y.lineEnd=h,g=[],p=[],i.polygonStart()},"polygonEnd":function(){y.point=o,y.lineStart=c,y.lineEnd=s,g=Zo.merge(g);var n=Kt(m,p);g.length?Vt(g,Gt,n,e,i):n&&(i.lineStart(),e(null,null,1,i),i.lineEnd()),i.polygonEnd(),g=p=null},"sphere":function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},x=Jt(),M=t(x);return y}}function Wt(n){return n.length>1}function Jt(){var n,t=[];return{"lineStart":function(){t.push(n=[])},"point":function(t,e){n.push([t,e])},"lineEnd":c,"buffer":function(){var e=t;return t=[],n=null,e},"rejoin":function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Gt(n,t){return((n=n.x)[0]<0?n[1]-Sa-ka:Sa-n[1])-((t=t.x)[0]<0?t[1]-Sa-ka:Sa-t[1])}function Kt(n,t){var a,c,s,l,f,h,g,p,v,d,m,y,x,M,_,b,w,S,k,E,e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;sc.reset();for(a=0,c=t.length;c>a;++a){s=t[a],l=s.length;if(l)for(f=s[0],h=f[0],g=f[1]/2+ba/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===l&&(d=0),n=s[d];m=n[0],y=n[1]/2+ba/4,x=Math.sin(y),M=Math.cos(y),_=m-h,b=ua(_)>ba,w=p*x;if(sc.add(Math.atan2(w*Math.sin(_),v*M+w*Math.cos(_))),i+=b?_+(_>=0?wa:-wa):_,b^h>=e^m>=e){S=zt(Tt(f),Tt(n));Pt(S);k=zt(u,S);Pt(k);E=(b^_>=0?-1:1)*H(k[2]);(r>E||r===E&&(S[0]||S[1]))&&(o+=b^_>=0?1:-1)}if(!d++)break;h=m,p=x,v=M,f=n}}return(-ka>i||ka>i&&0>sc)^1&o}function Qt(n){var t,e=NaN,r=NaN,u=NaN;return{"lineStart":function(){n.lineStart(),t=1},"point":function(i,o){var a=i>0?ba:-ba,c=ua(i-e);ua(c-ba)<ka?(n.point(e,r=(r+o)/2>0?Sa:-Sa),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(i,r),t=0):u!==a&&c>=ba&&(ua(e-u)<ka&&(e-=u*ka),ua(i-a)<ka&&(i-=a*ka),r=ne(e,r,i,o),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=i,r=o),u=a},"lineEnd":function(){n.lineEnd(),e=r=NaN},"clean":function(){return 2-t}}}function ne(n,t,e,r){var u,i,o=Math.sin(n-e);return ua(o)>ka?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+r)/2}function te(n,t,e,r){var u,i;if(null==n)u=e*Sa,r.point(-ba,u),r.point(0,u),r.point(ba,u),r.point(ba,0),r.point(ba,-u),r.point(0,-u),r.point(-ba,-u),r.point(-ba,0),r.point(-ba,u);else if(ua(n[0]-t[0])>ka){i=n[0]<t[0]?ba:-ba;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function ee(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,c,s,l;return{"lineStart":function(){s=c=!1,l=1},"point":function(f,h){var g,m,p=[f,h],v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0>f?ba:-ba),h):0;!e&&(s=c=v)&&n.lineStart(),v!==c&&(g=r(e,p),(jt(e,g)||jt(p,g))&&(p[0]+=ka,p[1]+=ka,v=t(p[0],p[1]))),v!==c?(l=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g):a&&e&&o^v&&(d&i||!(m=r(p,e,!0))||(l=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1]))));!v||e&&jt(e,p)||n.point(p[0],p[1]),e=p,c=v,i=d},"lineEnd":function(){c&&n.lineEnd(),e=null},"clean":function(){return l|(s&&c)<<1}}}function r(n,t,e){var f,h,g,p,v,d,m,y,x,M,_,b,w,S,k,E,A,C,N,L,r=Tt(n),u=Tt(t),o=[1,0,0],a=zt(r,u),c=qt(a,a),s=a[0],l=c-s*s;if(!l)return!e&&n;f=i*c/l,h=-i*s/l,g=zt(o,a),p=Dt(o,f),v=Dt(a,h);Rt(p,v);d=g,m=qt(p,d),y=qt(d,d),x=m*m-y*(qt(p,p)-1);if(!(0>x)){M=Math.sqrt(x),_=Dt(d,(-m-M)/y);if(Rt(_,p),_=Ut(_),!e)return _;w=n[0],S=t[0],k=n[1],E=t[1];w>S&&(b=w,w=S,S=b);A=S-w,C=ua(A-ba)<ka,N=C||ka>A;if(!C&&k>E&&(b=k,k=E,E=b),N?C?k+E>0^_[1]<(ua(_[0]-w)<ka?k:E):k<=_[1]&&_[1]<=E:A>ba^(w<=_[0]&&_[0]<=S)){L=Dt(d,(-m+M)/y);return Rt(L,p),[_,Ut(L)]}}}function u(t,e){var r=o?n:ba-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),o=i>0,a=ua(i)>ka,c=Ne(n,6*Aa);return Bt(t,e,c,o?[0,-n]:[-ba,n-ba])}function re(n,t,e,r){return function(u){var i,o=u.a,a=u.b,c=o.x,s=o.y,l=a.x,f=a.y,h=0,g=1,p=l-c,v=f-s;if(i=n-c,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-c,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-s,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-s,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={"x":c+h*p,"y":s+h*v}),1>g&&(u.b={"x":c+g*p,"y":s+g*v}),u}}}}}}function ue(n,t,e,r){function u(r,u){return ua(r[0]-n)<ka?u>0?0:3:ua(r[0]-e)<ka?u>0?2:1:ua(r[1]-t)<ka?u>0?1:0:u>0?3:2}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){var t,e,r,u,i,o,a,c,l;for(t=0,e=m.length,r=n[1],u=0;e>u;++u)for(o=1,a=m[u],c=a.length,l=a[0];c>o;++o)i=a[o],l[1]<=r?i[1]>r&&s(l,i,n)>0&&++t:i[1]<=r&&s(l,i,n)<0&&--t,l=i;return 0!==t}function s(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(e[0]-n[0])*(t[1]-n[1])}function l(i,a,c,s){var l=0,f=0;if(null==i||(l=u(i,c))!==(f=u(a,c))||o(i,a)<0^c>0)do s.point(0===l||3===l?n:e,l>1?r:t);while((l=(l+c+4)%4)!==f);else s.point(a[0],a[1])}function f(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function h(n,t){f(n,t)&&a.point(n,t)}function g(){L.point=v,m&&m.push(y=[]),k=!0,S=!1,b=w=NaN}function p(){d&&(v(x,M),_&&S&&C.rejoin(),d.push(C.buffer())),L.point=h,S&&a.lineEnd()}function v(n,t){var e,r;n=Math.max(-Sc,Math.min(Sc,n)),t=Math.max(-Sc,Math.min(Sc,t));e=f(n,t);if(m&&y.push([n,t]),k)x=n,M=t,_=e,k=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&S)a.point(n,t);else{r={"a":{"x":b,"y":w},"b":{"x":n,"y":t}};N(r)?(S||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),E=!1):e&&(a.lineStart(),a.point(n,t),E=!1)}b=n,w=t,S=e}var d,m,y,x,M,_,b,w,S,k,E,A=a,C=Jt(),N=re(n,t,e,r),L={"point":h,"lineStart":g,"lineEnd":p,"polygonStart":function(){a=C,d=[],m=[],E=!0},"polygonEnd":function(){a=A,d=Zo.merge(d);var t=c([n,r]),e=E&&t,u=d.length;(e||u)&&(a.polygonStart(),e&&(a.lineStart(),l(null,null,1,a),a.lineEnd()),u&&Vt(d,i,t,l,a),a.polygonEnd()),d=m=y=null}};return L}}function ie(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function oe(n){var t=0,e=ba/3,r=_e(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*ba/180,e=n[1]*ba/180):[180*(t/ba),180*(e/ba)]},u}function ae(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),o-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/u,H((i-(n*n+e*e)*u*u)/(2*u))]},e}function ce(){function n(n,t){Ec+=u*n-r*t,r=n,u=t}var t,e,r,u;Tc.point=function(i,o){Tc.point=n,t=r=i,e=u=o},Tc.lineEnd=function(){n(t,e)}}function se(n,t){Ac>n&&(Ac=n),n>Nc&&(Nc=n),Cc>t&&(Cc=t),t>Lc&&(Lc=t)}function le(){function n(n,t){o.push("M",n,",",t,i)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function u(){o.push("Z")}var i=fe(4.5),o=[],a={"point":n,"lineStart":function(){a.point=t},"lineEnd":r,"polygonStart":function(){a.lineEnd=u},"polygonEnd":function(){a.lineEnd=r,a.point=n},"pointRadius":function(n){return i=fe(n),a},"result":function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function fe(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function he(n,t){gc+=n,pc+=t,++vc}function ge(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(u*u+i*i);dc+=o*(t+n)/2,mc+=o*(e+r)/2,yc+=o,he(t=n,e=r)}var t,e;zc.point=function(r,u){zc.point=n,he(t=r,e=u)}}function pe(){zc.point=he}function ve(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(e*e+i*i);dc+=o*(r+n)/2,mc+=o*(u+t)/2,yc+=o,o=u*n-r*t,xc+=o*(r+n),Mc+=o*(u+t),_c+=3*o,he(r=n,u=t)}var t,e,r,u;zc.point=function(i,o){zc.point=n,he(t=r=i,e=u=o)},zc.lineEnd=function(){n(t,e)}}function de(n){function t(t,e){n.moveTo(t,e),n.arc(t,e,o,0,wa)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={"point":t,"lineStart":function(){a.point=e},"lineEnd":u,"polygonStart":function(){a.lineEnd=i},"polygonEnd":function(){a.lineEnd=u,a.point=t},"pointRadius":function(n){return o=n,a},"result":c};return a}function me(n){function t(t){function r(e,r){e=n(e,r),t.point(e[0],e[1])}function u(){x=NaN,S.point=o,t.lineStart()}function o(r,u){var o=Tt([r,u]),a=n(r,u);e(x,M,y,_,b,w,x=a[0],M=a[1],y=r,_=o[0],b=o[1],w=o[2],i,t),t.point(x,M)}function a(){S.point=r,t.lineEnd()}function c(){u(),S.point=s,S.lineEnd=l}function s(n,t){o(f=n,h=t),g=x,p=M,v=_,d=b,m=w,S.point=o}function l(){e(x,M,y,_,b,w,g,p,f,v,d,m,i,t),S.lineEnd=a,a()}var f,h,g,p,v,d,m,y,x,M,_,b,w,S={"point":r,"lineStart":u,"lineEnd":a,"polygonStart":function(){t.polygonStart(),S.lineStart=c},"polygonEnd":function(){t.polygonEnd(),S.lineStart=u}};return S}function e(t,i,o,a,c,s,l,f,h,g,p,v,d,m){var _,b,w,S,k,E,A,C,N,L,T,q,y=l-t,x=f-i,M=y*y+x*x;if(M>4*r&&d--){_=a+g,b=c+p,w=s+v,S=Math.sqrt(_*_+b*b+w*w),k=Math.asin(w/=S),E=ua(ua(w)-1)<ka?(o+h)/2:Math.atan2(b,_),A=n(E,k),C=A[0],N=A[1],L=C-t,T=N-i,q=x*L-y*T;(q*q/M>r||ua((y*L+x*T)/M-.5)>.3||u>a*g+c*p+s*v)&&(e(t,i,o,a,c,s,C,N,E,_/=S,b/=S,w,d,m),m.point(C,N),e(C,N,E,_,b,w,l,f,h,g,p,v,d,m))}}var r=.5,u=Math.cos(30*Aa),i=16;return t.precision=function(n){return arguments.length?(i=(r=n*n)>0&&16,t):Math.sqrt(r)},t}function ye(n){this.stream=n}function xe(n){var t=me(function(t,e){return n([t*Ca,e*Ca])});return function(n){var e=new ye(n=t(n));return e.point=function(t,e){n.point(t*Aa,e*Aa)},e}}function Me(n){return _e(function(){return n})()}function _e(n){function t(n){return n=a(n[0]*Aa,n[1]*Aa),[n[0]*h+c,s-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(s-n[1])/h),n&&[n[0]*Ca,n[1]*Ca]}function r(){a=ie(o=ke(m,y,x),i);var n=i(v,d);return c=g-n[0]*h,s=p+n[1]*h,u()}function u(){return l&&(l.valid=!1,l=null),t}var i,o,a,c,s,l,f=me(function(n,t){return n=i(n,t),[n[0]*h+c,s-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,y=0,x=0,M=wc,_=vt,b=null,w=null;return t.stream=function(n){return l&&(l.valid=!1),l=be(M(o,f(_(n)))),l.valid=!0,l},t.clipAngle=function(n){return arguments.length?(M=null==n?(b=n,wc):ee((b=+n)*Aa),u()):b},t.clipExtent=function(n){return arguments.length?(w=n,_=n?ue(n[0][0],n[0][1],n[1][0],n[1][1]):vt,u()):w},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Aa,d=n[1]%360*Aa,r()):[v*Ca,d*Ca]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Aa,y=n[1]%360*Aa,x=n.length>2?n[2]%360*Aa:0,r()):[m*Ca,y*Ca,x*Ca]},Zo.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function be(n){var t=new ye(n);return t.point=function(t,e){n.point(t*Aa,e*Aa)},t}function we(n,t){return[n,t]}function Se(n,t){return[n>ba?n-wa:-ba>n?n+wa:n,t]}function ke(n,t,e){return n?t||e?ie(Ae(n),Ce(t,e)):Ae(n):t||e?Ce(t,e):Se}function Ee(n){return function(t,e){return t+=n,[t>ba?t-wa:-ba>t?t+wa:t,e]}}function Ae(n){var t=Ee(n);return t.invert=Ee(-n),t}function Ce(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,s=Math.sin(t),l=s*r+a*u;return[Math.atan2(c*i-l*o,a*r-s*u),H(l*i+c*o)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,s=Math.sin(t),l=s*i-c*o;return[Math.atan2(c*i+s*o,a*r+l*u),H(l*r-a*u)]},e}function Ne(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var s,l,c=o*t;null!=u?(u=Le(e,u),i=Le(e,i),(o>0?i>u:u>i)&&(u+=o*wa)):(u=n+o*wa,i=n-.5*c);for(l=u;o>0?l>i:i>l;l-=c)a.point((s=Ut([e,-r*Math.cos(l),-r*Math.sin(l)]))[0],s[1])}}function Le(n,t){var r,e=Tt(t);e[0]-=n,Pt(e);r=j(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-ka)%(2*Math.PI)}function Te(n,t,e){var r=Zo.range(n,t-ka,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function qe(n,t,e){var r=Zo.range(n,t-ka,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function ze(n){return n.source}function Re(n){return n.target}function De(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=u*Math.cos(n),s=u*Math.sin(n),l=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(I(r-t)+u*o*I(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*l,u=e*s+t*f,o=e*i+t*a;return[Math.atan2(u,r)*Ca,Math.atan2(o,Math.sqrt(r*r+u*u))*Ca]}:function(){return[n*Ca,t*Ca]};return p.distance=h,p}function Pe(){function n(n,u){var i=Math.sin(u*=Aa),o=Math.cos(u),a=ua((n*=Aa)-t),c=Math.cos(a);Rc+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*i-e*o*c)*a),e*i+r*o*c),t=n,e=i,r=o}var t,e,r;Dc.point=function(u,i){t=u*Aa,e=Math.sin(i*=Aa),r=Math.cos(i),Dc.point=n},Dc.lineEnd=function(){Dc.point=Dc.lineEnd=c}}function Ue(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,r*o),Math.asin(r&&e*i/r)]},e}function je(n,t){function e(n,t){var e=ua(ua(t)-Sa)<ka?0:o/Math.pow(u(t),i);return[e*Math.sin(i*n),o-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(ba/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=U(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(o/r,1/i))-Sa]},e):Fe}function He(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return ua(u)<ka?we:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-U(u)*Math.sqrt(n*n+e*e)]},e)}function Fe(n,t){return[n,Math.log(Math.tan(ba/4+t/2))]}function Oe(n){var t,e=Me(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var a,c,o=i.apply(e,arguments);if(o===e){if(t=null==n){a=ba*r(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Ye(n,t){var e=Math.cos(t)*Math.sin(n);return[Math.log((1+e)/(1-e))/2,Math.atan2(Math.tan(t),Math.cos(n))]}function Ie(n){return n[0]}function Ze(n){return n[1]}function Ve(n,t,e,r){var u,i,o,a,c,s,l;return u=r[n],i=u[0],o=u[1],u=r[t],a=u[0],c=u[1],u=r[e],s=u[0],l=u[1],(l-o)*(a-i)-(c-o)*(s-i)>0}function Xe(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function $e(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,c=n[1],s=e[1],l=t[1]-c,f=r[1]-s,h=(a*(c-s)-f*(u-i))/(f*o-a*l);return[u+h*o,c+h*l]}function Be(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function We(){dr(this),this.edge=this.site=this.circle=null}function Je(n){var t=$c.pop()||new We;return t.site=n,t}function Ge(n){ar(n),Zc.remove(n),$c.push(n),dr(n)}function Ke(n){var c,s,l,f,t=n.circle,e=t.x,r=t.cy,u={"x":e,"y":r},i=n.P,o=n.N,a=[n];Ge(n);for(c=i;c.circle&&ua(e-c.circle.x)<ka&&ua(r-c.circle.cy)<ka;)i=c.P,a.unshift(c),Ge(c),c=i;a.unshift(c),ar(c);for(s=o;s.circle&&ua(e-s.circle.x)<ka&&ua(r-s.circle.cy)<ka;)o=s.N,a.push(s),Ge(s),s=o;a.push(s),ar(s);f=a.length;for(l=1;f>l;++l)s=a[l],c=a[l-1],gr(s.edge,c.site,s.site,u);c=a[0],s=a[f-1],s.edge=fr(c.site,s.site,null,u),or(c),or(s)}function Qe(n){var t,e,r,u,i,o,a,c,s,l,f,h,g,p,v,d,m,y,x,M;for(i=n.x,o=n.y,a=Zc._;a;)if(r=nr(a,o)-i,r>ka)a=a.L;else{if(u=i-tr(a,o),!(u>ka)){r>-ka?(t=a.P,e=a):u>-ka?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}c=Je(n);if(Zc.insert(t,c),t||e){if(t===e)return ar(t),e=Je(t.site),Zc.insert(c,e),c.edge=e.edge=fr(t.site,c.site),or(t),void or(e);if(!e)return void(c.edge=fr(t.site,c.site));ar(t),ar(e);s=t.site,l=s.x,f=s.y,h=n.x-l,g=n.y-f,p=e.site,v=p.x-l,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,x=v*v+d*d,M={"x":(d*y-g*x)/m+l,"y":(h*x-v*y)/m+f};gr(e.edge,s,p,M),c.edge=fr(s,n,null,M),e.edge=fr(n,p,null,M),or(t),or(e)}}function nr(n,t){var o,a,c,s,l,f,h,e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;o=n.P;if(!o)return-1/0;e=o.site;a=e.x,c=e.y,s=c-t;if(!s)return a;l=a-r,f=1/i-1/s,h=l/s;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*s)-c+s/2+u-i/2)))/f+r:(r+a)/2}function tr(n,t){var r,e=n.N;if(e)return nr(e,t);r=n.site;return r.y===t?r.x:1/0}function er(n){this.site=n,this.edges=[]}function rr(n){for(var t,e,r,u,i,o,a,c,s,l,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Ic,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(a=i.edges,c=a.length,o=0;c>o;)l=a[o].end(),r=l.x,u=l.y,s=a[++o%c].start(),t=s.x,e=s.y,(ua(r-t)>ka||ua(u-e)>ka)&&(a.splice(o,0,new pr(hr(i.site,l,ua(r-f)<ka&&p-u>ka?{"x":f,"y":ua(t-f)<ka?e:p}:ua(u-p)<ka&&h-r>ka?{"x":ua(e-p)<ka?t:h,"y":p}:ua(r-h)<ka&&u-g>ka?{"x":h,"y":ua(t-h)<ka?e:g}:ua(u-g)<ka&&r-f>ka?{"x":ua(e-g)<ka?t:f,"y":g}:null),i.site,null)),++c)}function ur(n,t){return t.angle-n.angle}function ir(){dr(this),this.x=this.y=this.arc=this.site=this.cy=null}function or(n){var r,u,i,o,a,c,s,l,f,h,g,p,v,d,m,y,x,t=n.P,e=n.N;if(t&&e){r=t.site,u=n.site,i=e.site;if(r!==i){o=u.x,a=u.y,c=r.x-o,s=r.y-a,l=i.x-o,f=i.y-a,h=2*(c*f-s*l);if(!(h>=-Ea)){g=c*c+s*s,p=l*l+f*f,v=(f*g-s*p)/h,d=(c*p-l*g)/h,f=d+a,m=Bc.pop()||new ir;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(y=null,x=Xc._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}Xc.insert(y,m),y||(Vc=m)}}}}function ar(n){var t=n.circle;t&&(t.P||(Vc=t.N),Xc.remove(t),Bc.push(t),dr(t),n.circle=null)}function cr(n){for(var t,e=Yc,r=re(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!sr(t,n)||!r(t)||ua(t.a.x-t.b.x)<ka&&ua(t.a.y-t.b.y)<ka)&&(t.a=t.b=null,e.splice(u,1))}function sr(n,t){var r,u,i,o,a,c,s,l,f,h,g,p,v,d,m,e=n.b;if(e)return!0;i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],s=t[1][1],l=n.l,f=n.r,h=l.x,g=l.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(o>d||d>=a)return;if(h>p){if(i){if(i.y>=s)return}else i={"x":d,"y":c};e={"x":d,"y":s}}else{if(i){if(i.y<c)return}else i={"x":d,"y":s};e={"x":d,"y":c}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=s)return}else i={"x":(c-u)/r,"y":c};e={"x":(s-u)/r,"y":s}}else{if(i){if(i.y<c)return}else i={"x":(s-u)/r,"y":s};e={"x":(c-u)/r,"y":c}}else if(v>g){if(i){if(i.x>=a)return}else i={"x":o,"y":r*o+u};e={"x":a,"y":r*a+u}}else{if(i){if(i.x<o)return}else i={"x":a,"y":r*a+u};e={"x":o,"y":r*o+u}}return n.a=i,n.b=e,!0}function lr(n,t){this.l=n,this.r=t,this.a=this.b=null}function fr(n,t,e,r){var u=new lr(n,t);return Yc.push(u),e&&gr(u,n,t,e),r&&gr(u,t,n,r),Ic[n.i].edges.push(new pr(u,n,t)),Ic[t.i].edges.push(new pr(u,t,n)),u}function hr(n,t,e){var r=new lr(n,null);return r.a=t,r.b=e,Yc.push(r),r}function gr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function pr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function vr(){this._=null}function dr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function mr(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function yr(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function xr(n){for(;n.L;)n=n.L;return n}function Mr(n,t){var e,r,u,o,i=n.sort(_r).pop();for(Yc=[],Ic=new Array(n.length),Zc=new vr,Xc=new vr;;)if(u=Vc,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(Ic[i.i]=new er(i),Qe(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;Ke(u.arc)}t&&(cr(t),rr(t));o={"cells":Ic,"edges":Yc};return Zc=Xc=Yc=Ic=null,o}function _r(n,t){return t.y-n.y||t.x-n.x}function br(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function wr(n){return n.x}function Sr(n){return n.y}function kr(){return{"leaf":!0,"nodes":[],"point":null,"x":null,"y":null}}function Er(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5*(e+u),a=.5*(r+i),c=t.nodes;c[0]&&Er(n,c[0],e,r,o,a),c[1]&&Er(n,c[1],o,r,u,a),c[2]&&Er(n,c[2],e,a,o,i),c[3]&&Er(n,c[3],o,a,u,i)}}function Ar(n,t){n=Zo.rgb(n),t=Zo.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return"#"+ct(Math.round(e+i*n))+ct(Math.round(r+o*n))+ct(Math.round(u+a*n))}}function Cr(n,t){var e,r={},u={};for(e in n)e in t?r[e]=Tr(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function Nr(n,t){return t-=n=+n,function(e){return n+t*e}}function Lr(n,t){var e,r,u,i,o,a=0,c=0,s=[],l=[];for(n+="",t+="",Jc.lastIndex=0,r=0;e=Jc.exec(t);++r)e.index&&s.push(t.substring(a,c=e.index)),l.push({"i":s.length,"x":e[0]}),s.push(null),a=Jc.lastIndex;for(a<t.length&&s.push(t.substring(a)),r=0,i=l.length;(e=Jc.exec(n))&&i>r;++r)if(o=l[r],o.x==e[0]){if(o.i)if(null==s[o.i+1])for(s[o.i-1]+=o.x,s.splice(o.i,1),u=r+1;i>u;++u)l[u].i--;else for(s[o.i-1]+=o.x+s[o.i+1],s.splice(o.i,2),u=r+1;i>u;++u)l[u].i-=2;else if(null==s[o.i+1])s[o.i]=o.x;else for(s[o.i]=o.x+s[o.i+1],s.splice(o.i+1,1),u=r+1;i>u;++u)l[u].i--;l.splice(r,1),i--,r--}else o.x=Nr(parseFloat(e[0]),parseFloat(o.x));for(;i>r;)o=l.pop(),null==s[o.i+1]?s[o.i]=o.x:(s[o.i]=o.x+s[o.i+1],s.splice(o.i+1,1)),i--;return 1===s.length?null==s[0]?(o=l[0].x,function(n){return o(n)+""}):function(){return t}:function(n){for(r=0;i>r;++r)s[(o=l[r]).i]=o.x(n);return s.join("")}}function Tr(n,t){for(var e,r=Zo.interpolators.length;--r>=0&&!(e=Zo.interpolators[r](n,t)););return e}function qr(n,t){var e,r=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a>e;++e)r.push(Tr(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;o>e;++e)u[e]=t[e];return function(n){for(e=0;a>e;++e)u[e]=r[e](n);return u}}function zr(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function Rr(n){return function(t){return 1-n(1-t)}}function Dr(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function Pr(n){return n*n}function Ur(n){return n*n*n}function jr(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function Hr(n){return function(t){return Math.pow(t,n)}}function Fr(n){return 1-Math.cos(n*Sa)}function Or(n){return Math.pow(2,10*(n-1))}function Yr(n){return 1-Math.sqrt(1-n*n)}function Ir(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/wa*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*wa/t)}}function Zr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Vr(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Xr(n,t){n=Zo.hcl(n),t=Zo.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return J(e+i*n,r+o*n,u+a*n)+""}}function $r(n,t){n=Zo.hsl(n),t=Zo.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return $(e+i*n,r+o*n,u+a*n)+""}}function Br(n,t){n=Zo.lab(n),t=Zo.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return Q(e+i*n,r+o*n,u+a*n)+""}}function Wr(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Jr(n){var t=[n.a,n.b],e=[n.c,n.d],r=Kr(t),u=Gr(t,e),i=Kr(Qr(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Ca,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Ca:0}function Gr(n,t){return n[0]*t[0]+n[1]*t[1]}function Kr(n){var t=Math.sqrt(Gr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Qr(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function nu(n,t){var e,r=[],u=[],i=Zo.transform(n),o=Zo.transform(t),a=i.translate,c=o.translate,s=i.rotate,l=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),u.push({"i":1,"x":Nr(a[0],c[0])},{"i":3,"x":Nr(a[1],c[1])})):c[0]||c[1]?r.push("translate("+c+")"):r.push(""),s!=l?(s-l>180?l+=360:l-s>180&&(s+=360),u.push({"i":r.push(r.pop()+"rotate(",null,")")-2,"x":Nr(s,l)})):l&&r.push(r.pop()+"rotate("+l+")"),f!=h?u.push({"i":r.push(r.pop()+"skewX(",null,")")-2,"x":Nr(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),u.push({"i":e-4,"x":Nr(g[0],p[0])},{"i":e-2,"x":Nr(g[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),e=u.length,function(n){for(var t,i=-1;++i<e;)r[(t=u[i]).i]=t.x(n);return r.join("")}}function tu(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return(e-n)*t}}function eu(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return Math.max(0,Math.min(1,(e-n)*t))}}function ru(n){var t,e,r,u,i;for(t=n.source,e=n.target,r=iu(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function uu(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function iu(n,t){if(n===t)return n;for(var e=uu(n),r=uu(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function ou(n){n.fixed|=2}function au(n){n.fixed&=-7}function cu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function su(n){n.fixed&=-5}function lu(n,t,e){var i,o,a,c,s,r=0,u=0;if(n.charge=0,!n.leaf)for(o=n.nodes,a=o.length,c=-1;++c<a;)i=o[c],null!=i&&(lu(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);s=t*e[n.point.index];n.charge+=n.pointCharge=s,r+=s*n.point.x,u+=s*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function fu(n,t){return Zo.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=vu,n}function hu(n){return n.children}function gu(n){return n.value}function pu(n,t){return t.value-n.value}function vu(n){return Zo.merge(n.map(function(n){return(n.children||[]).map(function(t){return{"source":n,"target":t}})}))}function du(n){return n.x}function mu(n){return n.y}function yu(n,t,e){n.y0=t,n.y=e}function xu(n){return Zo.range(n.length)}function Mu(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function _u(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function bu(n){return n.reduce(wu,0)}function wu(n,t){return n+t[1]}function Su(n,t){return ku(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ku(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function Eu(n){return[Zo.min(n),Zo.max(n)]}function Au(n,t){return n.parent==t.parent?1:2}function Cu(n){var t=n.children;return t&&t.length?t[0]:n._tree.thread}function Nu(n){var t,e=n.children;return e&&(t=e.length)?e[t-1]:n._tree.thread}function Lu(n,t){var r,u,i,e=n.children;if(e&&(u=e.length))for(i=-1;++i<u;)t(r=Lu(e[i],t),n)>0&&(n=r);return n}function Tu(n,t){return n.x-t.x}function qu(n,t){return t.x-n.x}function zu(n,t){return n.depth-t.depth}function Ru(n,t){function e(n,r){var i,o,a,c,u=n.children;if(u&&(o=u.length))for(a=null,c=-1;++c<o;)i=u[c],e(i,a),a=i;t(n,r)}e(n,null)}function Du(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i]._tree,t.prelim+=e,t.mod+=e,e+=t.shift+(r+=t.change)}function Pu(n,t,e){n=n._tree,t=t._tree;var r=e/(t.number-n.number);n.change+=r,t.change-=r,t.shift+=e,t.prelim+=e,t.mod+=e}function Uu(n,t,e){return n._tree.ancestor.parent==t.parent?n._tree.ancestor:e;
}function ju(n,t){return n.value-t.value}function Hu(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function Fu(n,t){n._pack_next=t,t._pack_prev=n}function Ou(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function Yu(n){function t(n){l=Math.min(n.x-n.r,l),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}var e,r,u,i,o,a,c,s,l,f,h,g,p,v,d,m,y,x;if((e=n.children)&&(s=e.length)){l=1/0,f=-1/0,h=1/0,g=-1/0;if(e.forEach(Iu),r=e[0],r.x=-r.r,r.y=0,t(r),s>1&&(u=e[1],u.x=u.r,u.y=0,t(u),s>2))for(i=e[2],Xu(r,u,i),t(i),Hu(r,i),r._pack_prev=i,Hu(i,u),u=r._pack_next,o=3;s>o;o++){Xu(r,u,i=e[o]);p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)if(Ou(a,i)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&&!Ou(c,i);c=c._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?Fu(r,u=a):Fu(r=c,u),o--):(Hu(r,i),u=i,t(i))}m=(l+f)/2,y=(h+g)/2,x=0;for(o=0;s>o;o++)i=e[o],i.x-=m,i.y-=y,x=Math.max(x,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=x,e.forEach(Zu)}}function Iu(n){n._pack_next=n._pack_prev=n}function Zu(n){delete n._pack_next,delete n._pack_prev}function Vu(n,t,e,r){var i,o,u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(i=-1,o=u.length;++i<o;)Vu(u[i],t,e,r)}function Xu(n,t,e){var o,a,c,s,r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){o=t.r+e.r,a=u*u+i*i;o*=o,r*=r;c=.5+(r-o)/(2*a),s=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*u+s*i,e.y=n.y+c*i-s*u}else e.x=n.x+r,e.y=n.y}function $u(n){return 1+Zo.max(n,function(n){return n.y})}function Bu(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Wu(n){var t=n.children;return t&&t.length?Wu(t[0]):n}function Ju(n){var t,e=n.children;return e&&(t=e.length)?Ju(e[t-1]):n}function Gu(n){return{"x":n.x,"y":n.y,"dx":n.dx,"dy":n.dy}}function Ku(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{"x":e,"y":r,"dx":u,"dy":i}}function Qu(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function ni(n){return n.rangeExtent?n.rangeExtent():Qu(n.range())}function ti(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function ei(n,t){var e,r=0,u=n.length-1,i=n[r],o=n[u];return i>o&&(e=r,r=u,u=e,e=i,i=o,o=e),n[r]=t.floor(i),n[u]=t.ceil(o),n}function ri(n){return n?{"floor":function(t){return Math.floor(t/n)*n},"ceil":function(t){return Math.ceil(t/n)*n}}:os}function ui(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=Zo.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function ii(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?ui:ti,c=r?eu:tu;return o=u(n,t,c,e),a=u(t,n,c,Tr),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(Wr)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return si(n,t)},i.tickFormat=function(t,e){return li(n,t,e)},i.nice=function(t){return ai(n,t),u()},i.copy=function(){return ii(n,t,e,r)},u()}function oi(n,t){return Zo.rebind(n,t,"range","rangeRound","interpolate","clamp")}function ai(n,t){return ei(n,ri(ci(n,t)[2]))}function ci(n,t){null==t&&(t=10);var e=Qu(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function si(n,t){return Zo.range.apply(Zo,ci(n,t))}function li(n,t,e){var r=-Math.floor(Math.log(ci(n,t)[2])/Math.LN10+.01);return Zo.format(e?e.replace(tc,function(n,t,e,u,i,o,a,c,s,l){return[t,e,u,i,o,a,c,s||"."+(r-2*("%"===l)),l].join("")}):",."+r+"f")}function fi(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),o):t},o.nice=function(){var t=ei(r.map(u),e?Math:cs);return n.domain(t),r=t.map(i),o},o.ticks=function(){var h,n=Qu(r),o=[],a=n[0],c=n[1],s=Math.floor(u(a)),l=Math.ceil(u(c)),f=t%1?2:t;if(isFinite(l-s)){if(e){for(;l>s;s++)for(h=1;f>h;h++)o.push(i(s)*h);o.push(i(s))}else for(o.push(i(s));s++<l;)for(h=f-1;h>0;h--)o.push(i(s)*h);for(s=0;o[s]<a;s++);for(l=o.length;o[l-1]>c;l--);o=o.slice(s,l)}return o},o.tickFormat=function(n,t){if(!arguments.length)return as;arguments.length<2?t=as:"function"!=typeof t&&(t=Zo.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/i(c(u(n)+r))<=a?t(n):""}},o.copy=function(){return fi(n.copy(),t,e,r)},oi(o,n)}function hi(n,t,e){function r(t){return n(u(t))}var u=gi(t),i=gi(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return si(e,n)},r.tickFormat=function(n,t){return li(e,n,t)},r.nice=function(n){return r.domain(ai(e,n))},r.exponent=function(o){return arguments.length?(u=gi(t=o),i=gi(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return hi(n.copy(),t,e)},oi(r,n)}function gi(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function pi(n,t){function e(e){return o[((i.get(e)||"range"===t.t&&i.set(e,n.push(e)))-1)%o.length]}function r(t,e){return Zo.range(n.length).map(function(n){return t+e*n})}var i,o,a;return e.domain=function(r){if(!arguments.length)return n;n=[],i=new u;for(var o,a=-1,c=r.length;++a<c;)i.has(o=r[a])||i.set(o,n.push(o));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(o=n,a=0,t={"t":"range","a":arguments},e):o},e.rangePoints=function(u,i){arguments.length<2&&(i=0);var c=u[0],s=u[1],l=(s-c)/(Math.max(1,n.length-1)+i);return o=r(n.length<2?(c+s)/2:c+l*i/2,l),a=0,t={"t":"rangePoints","a":arguments},e},e.rangeBands=function(u,i,c){arguments.length<2&&(i=0),arguments.length<3&&(c=i);var s=u[1]<u[0],l=u[s-0],f=u[1-s],h=(f-l)/(n.length-i+2*c);return o=r(l+h*c,h),s&&o.reverse(),a=h*(1-i),t={"t":"rangeBands","a":arguments},e},e.rangeRoundBands=function(u,i,c){arguments.length<2&&(i=0),arguments.length<3&&(c=i);var s=u[1]<u[0],l=u[s-0],f=u[1-s],h=Math.floor((f-l)/(n.length-i+2*c)),g=f-l-(n.length-i)*h;return o=r(l+Math.round(g/2),h),s&&o.reverse(),a=Math.round(h*(1-i)),t={"t":"rangeRoundBands","a":arguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return Qu(t.a[0])},e.copy=function(){return pi(n,t)},e.domain(n)}function vi(n,t){function e(){var e=0,i=t.length;for(u=[];++e<i;)u[e-1]=Zo.quantile(n,e/i);return r}function r(n){return isNaN(n=+n)?void 0:t[Zo.bisect(u,n)]}var u;return r.domain=function(t){return arguments.length?(n=t.filter(function(n){return!isNaN(n)}).sort(Zo.ascending),e()):n},r.range=function(n){return arguments.length?(t=n,e()):t},r.quantiles=function(){return u},r.invertExtent=function(e){return e=t.indexOf(e),0>e?[NaN,NaN]:[e>0?u[e-1]:n[0],e<u.length?u[e]:n[n.length-1]]},r.copy=function(){return vi(n,t)},e()}function di(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?NaN:t/i+n,[t,t+1/i]},r.copy=function(){return di(n,t,e)},u()}function mi(n,t){function e(e){return e>=e?t[Zo.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return mi(n,t)},e}function yi(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return si(n,t)},t.tickFormat=function(t,e){return li(n,t,e)},t.copy=function(){return yi(n)},t}function xi(n){return n.innerRadius}function Mi(n){return n.outerRadius}function _i(n){return n.startAngle}function bi(n){return n.endAngle}function wi(n){function t(t){function o(){s.push("M",i(n(l),a))}for(var c,s=[],l=[],f=-1,h=t.length,g=pt(e),p=pt(r);++f<h;)u.call(this,c=t[f],f)?l.push([+g.call(this,c,f),+p.call(this,c,f)]):l.length&&(o(),l=[]);return l.length&&o(),s.length?s.join(""):null}var e=Ie,r=Ze,u=Zt,i=Si,o=i.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=vs.get(n)||Si).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function Si(n){return n.join("L")}function ki(n){return Si(n)+"Z"}function Ei(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function Ai(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function Ci(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function Ni(n,t){return n.length<4?Si(n):n[1]+qi(n.slice(1,n.length-1),zi(n,t))}function Li(n,t){return n.length<3?Si(n):n[0]+qi((n.push(n[0]),n),zi([n[n.length-2]].concat(n,[n[1]]),t))}function Ti(n,t){return n.length<3?Si(n):n[0]+qi(n,zi(n,t))}function qi(n,t){var e,r,u,i,o,a,c,s,l;if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return Si(n);e=n.length!=t.length,r="",u=n[0],i=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],u=n[1],c=2),t.length>1){a=t[1],i=n[c],c++,r+="C"+(u[0]+o[0])+","+(u[1]+o[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(s=2;s<t.length;s++,c++)i=n[c],a=t[s],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){l=n[c];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+l[0]+","+l[1]}return r}function zi(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],o=n[1],a=1,c=n.length;++a<c;)e=i,i=o,o=n[a],r.push([u*(o[0]-e[0]),u*(o[1]-e[1])]);return r}function Ri(n){if(n.length<3)return Si(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],c=[u,",",i,"L",ji(ys,o),",",ji(ys,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Hi(c,o,a);return n.pop(),c.push("L",r),c.join("")}function Di(n){if(n.length<4)return Si(n);for(var t,e=[],r=-1,u=n.length,i=[0],o=[0];++r<3;)t=n[r],i.push(t[0]),o.push(t[1]);for(e.push(ji(ys,i)+","+ji(ys,o)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Hi(e,i,o);return e.join("")}function Pi(n){for(var t,e,r=-1,u=n.length,i=u+4,o=[],a=[];++r<4;)e=n[r%u],o.push(e[0]),a.push(e[1]);for(t=[ji(ys,o),",",ji(ys,a)],--r;++r<i;)e=n[r%u],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Hi(t,o,a);return t.join("")}function Ui(n,t){var r,u,i,o,a,c,s,e=n.length-1;if(e)for(i=n[0][0],o=n[0][1],a=n[e][0]-i,c=n[e][1]-o,s=-1;++s<=e;)r=n[s],u=s/e,r[0]=t*r[0]+(1-t)*(i+u*a),r[1]=t*r[1]+(1-t)*(o+u*c);return Ri(n)}function ji(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Hi(n,t,e){n.push("C",ji(ds,t),",",ji(ds,e),",",ji(ms,t),",",ji(ms,e),",",ji(ys,t),",",ji(ys,e))}function Fi(n,t){return(t[1]-n[1])/(t[0]-n[0])}function Oi(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=Fi(u,i);++t<e;)r[t]=(o+(o=Fi(u=i,i=n[t+1])))/2;return r[t]=o,r}function Yi(n){for(var t,e,r,u,i=[],o=Oi(n),a=-1,c=n.length-1;++a<c;)t=Fi(n[a],n[a+1]),ua(t)<ka?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),o[a]=u*e,o[a+1]=u*r));for(a=-1;++a<=c;)u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),i.push([u||0,o[a]*u||0]);return i}function Ii(n){return n.length<3?Si(n):n[0]+qi(n,Yi(n))}function Zi(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]+gs,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Vi(n){function t(t){function c(){v.push("M",a(n(m),f),l,s(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,x=t.length,M=pt(e),_=pt(u),b=e===r?function(){return g}:pt(r),w=u===i?function(){return p}:pt(i);++y<x;)o.call(this,h=t[y],y)?(d.push([g=+M.call(this,h,y),p=+_.call(this,h,y)]),m.push([+b.call(this,h,y),+w.call(this,h,y)])):d.length&&(c(),d=[],m=[]);return d.length&&c(),v.length?v.join(""):null}var e=Ie,r=Ie,u=0,i=Ze,o=Zt,a=Si,c=a.key,s=a,l="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=vs.get(n)||Si).key,s=a.reverse||a,l=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Xi(n){return n.radius}function $i(n){return[n.x,n.y]}function Bi(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]+gs;return[e*Math.cos(r),e*Math.sin(r)]}}function Wi(){return 64}function Ji(){return"circle"}function Gi(n){var t=Math.sqrt(n/ba);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Ki(n,t){return sa(n,Ss),n.id=t,n}function Qi(n,t,e,r){var u=n.id;return C(n,"function"==typeof e?function(n,i,o){n.__transition__[u].tween.set(t,r(e.call(n,n.__data__,i,o)))}:(e=r(e),function(n){n.__transition__[u].tween.set(t,e)}))}function no(n){return null==n&&(n=""),function(){this.textContent=n}}function to(n,t,e,r){var a,i=n.__transition__||(n.__transition__={"active":0,"count":0}),o=i[e];if(!o){a=r.time;o=i[e]={"tween":new u,"time":a,"ease":r.ease,"delay":r.delay,"duration":r.duration},++i.count,Zo.timer(function(r){function u(r){return i.active>e?s():(i.active=e,o.event&&o.event.start.call(n,l,t),o.tween.forEach(function(e,r){(r=r.call(n,l,t))&&v.push(r)}),void Zo.timer(function(){return p.c=c(r||1)?Zt:c,1},0,a))}function c(r){if(i.active!==e)return s();for(var u=r/g,a=f(u),c=v.length;c>0;)v[--c].call(n,a);return u>=1?(o.event&&o.event.end.call(n,l,t),s()):void 0}function s(){return--i.count?delete i[e]:delete n.__transition__,1}var l=n.__data__,f=o.ease,h=o.delay,g=o.duration,p=Ba,v=[];return p.t=h+a,r>=h?u(r-h):void(p.c=u)},0,a)}}function eo(n,t){n.attr("transform",function(n){return"translate("+t(n)+",0)"})}function ro(n,t){n.attr("transform",function(n){return"translate(0,"+t(n)+")"})}function uo(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function io(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new Ts(e-1)),1),e}function i(n,e){return t(n=new Ts(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i>1)for(;r>o;)e(o)%i||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{Ts=uo;var r=new uo;return r._=n,o(r,t,e)}finally{Ts=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=oo(n);return c.floor=c,c.round=oo(r),c.ceil=oo(u),c.offset=oo(i),c.range=a,n}function oo(n){return function(t,e){try{Ts=uo;var r=new uo;return r._=t,n(r,e)._}finally{Ts=Date}}}function ao(n){function t(t){for(var r,u,i,o=[],a=-1,c=0;++a<e;)37===n.charCodeAt(a)&&(o.push(n.substring(c,a)),null!=(u=Js[r=n.charAt(++a)])&&(r=n.charAt(++a)),(i=Gs[r])&&(r=i(t,null==u?"e"===r?" ":"0":u)),o.push(r),c=a+1);return o.push(n.substring(c,a)),o.join("")}var e=n.length;return t.parse=function(t){var u,i,e={"y":1900,"m":0,"d":1,"H":0,"M":0,"S":0,"L":0,"Z":null},r=co(e,n,t,0);if(r!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);u=null!=e.Z&&Ts!==uo,i=new(u?uo:Ts);return"j"in e?i.setFullYear(e.y,0,e.j):"w"in e&&("W"in e||"U"in e)?(i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+Math.floor(e.Z/100),e.M+e.Z%100,e.S,e.L),u?i._:i},t.toString=function(){return n},t}function co(n,t,e,r){for(var u,i,o,a=0,c=t.length,s=e.length;c>a;){if(r>=s)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=Ks[o in Js?t.charAt(a++):o],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function so(n){return new RegExp("^(?:"+n.map(Zo.requote).join("|")+")","i")}function lo(n){for(var t=new u,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function fo(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function ho(n,t,e){Is.lastIndex=0;var r=Is.exec(t.substring(e));return r?(n.w=Zs.get(r[0].toLowerCase()),e+r[0].length):-1}function go(n,t,e){Os.lastIndex=0;var r=Os.exec(t.substring(e));return r?(n.w=Ys.get(r[0].toLowerCase()),e+r[0].length):-1}function po(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function vo(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e));return r?(n.U=+r[0],e+r[0].length):-1}function mo(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e));return r?(n.W=+r[0],e+r[0].length):-1}function yo(n,t,e){$s.lastIndex=0;var r=$s.exec(t.substring(e));return r?(n.m=Bs.get(r[0].toLowerCase()),e+r[0].length):-1}function xo(n,t,e){Vs.lastIndex=0;var r=Vs.exec(t.substring(e));return r?(n.m=Xs.get(r[0].toLowerCase()),e+r[0].length):-1}function Mo(n,t,e){return co(n,Gs.c.toString(),t,e)}function _o(n,t,e){return co(n,Gs.x.toString(),t,e)}function bo(n,t,e){return co(n,Gs.X.toString(),t,e)}function wo(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function So(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+2));return r?(n.y=Eo(+r[0]),e+r[0].length):-1}function ko(n,t,e){return/^[+-]\d{4}$/.test(t=t.substring(e,e+5))?(n.Z=+t,e+5):-1}function Eo(n){return n+(n>68?1900:2e3)}function Ao(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Co(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function No(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function Lo(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function To(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function qo(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function zo(n,t,e){Qs.lastIndex=0;var r=Qs.exec(t.substring(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function Ro(n,t,e){var r=nl.get(t.substring(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}function Do(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=~~(ua(t)/60),u=ua(t)%60;return e+fo(r,"0",2)+fo(u,"0",2)}function Po(n,t,e){Ws.lastIndex=0;var r=Ws.exec(t.substring(e,e+1));return r?e+r[0].length:-1}function Uo(n){function t(n){try{Ts=uo;var t=new Ts;return t._=n,e(t)}finally{Ts=Date}}var e=ao(n);return t.parse=function(n){try{Ts=uo;var t=e.parse(n);return t&&t._}finally{Ts=Date}},t.toString=e.toString,t}function jo(n){return n.toISOString()}function Ho(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=Zo.bisect(el,u);return i==el.length?[t.year,ci(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/el[i-1]<el[i]/u?i-1:i]:[ol,ci(n,e)[2]]}return r.invert=function(t){return Fo(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Fo)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Fo(+e+1),t).length}var i=r.domain(),o=Qu(i),a=null==n?u(o,10):"number"==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),r.domain(ei(i,t>1?{"floor":function(t){for(;e(t=n.floor(t));)t=Fo(t-1);return t},"ceil":function(t){for(;e(t=n.ceil(t));)t=Fo(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Qu(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{"range":n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],Fo(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Ho(n.copy(),t,e)},oi(r,n)}function Fo(n){return new Date(n)}function Oo(n){return function(t){for(var e=n.length-1,r=n[e];!r[1](t);)r=n[--e];return r[0](t)}}function Yo(n){return JSON.parse(n.responseText)}function Io(n){var t=$o.createRange();return t.selectNode($o.body),t.createContextualFragment(n.responseText)}var Vo,Xo,$o,Bo,Wo,Ko,Qo,na,ta,ea,ra,ua,ia,oa,aa,ca,sa,la,fa,ha,ga,pa,va,da,ma,ya,xa,Ma,_a,ba,wa,Sa,ka,Ea,Aa,Ca,Na,La,Ta,qa,za,Ra,Da,Pa,Ua,ja,Ha,Fa,Oa,Ya,Ia,Za,Va,Xa,$a,Ba,Wa,Ja,Ga,Ka,Qa,nc,tc,ec,rc,uc,ic,oc,ac,cc,sc,lc,fc,hc,gc,pc,vc,dc,mc,yc,xc,Mc,_c,bc,wc,Sc,kc,Ec,Ac,Cc,Nc,Lc,Tc,qc,zc,Rc,Dc,Pc,Uc,jc,Hc,Fc,Oc,Yc,Ic,Zc,Vc,Xc,$c,Bc,Wc,Jc,Gc,Kc,Qc,ns,ts,es,rs,us,is,os,as,cs,ss,ls,fs,hs,gs,ps,vs,ds,ms,ys,xs,Ms,_s,bs,ws,Ss,ks,Es,As,Cs,Ns,Ls,Ts,qs,zs,Rs,Ds,Ps,Us,js,Hs,Fs,Os,Ys,Is,Zs,Vs,Xs,$s,Bs,Ws,Js,Gs,Ks,Qs,nl,tl,el,rl,ul,il,ol,al,cl,sl,Zo={"version":"3.3.8"};Date.now||(Date.now=function(){return+new Date});Vo=[].slice,Xo=function(n){return Vo.call(n)},$o=document,Bo=$o.documentElement,Wo=window;try{Xo(Bo.childNodes)[0].nodeType}catch(Jo){Xo=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}try{$o.createElement("div").style.setProperty("opacity",0,"")}catch(Go){Ko=Wo.Element.prototype,Qo=Ko.setAttribute,na=Ko.setAttributeNS,ta=Wo.CSSStyleDeclaration.prototype,ea=ta.setProperty;Ko.setAttribute=function(n,t){Qo.call(this,n,t+"")},Ko.setAttributeNS=function(n,t,e){na.call(this,n,t,e+"")},ta.setProperty=function(n,t,e){ea.call(this,n,t+"",e)}}Zo.ascending=function(n,t){return t>n?-1:n>t?1:n>=t?0:NaN},Zo.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:NaN},Zo.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i&&!(null!=(e=n[u])&&e>=e);)e=void 0;for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i&&!(null!=(e=t.call(n,n[u],u))&&e>=e);)e=void 0;for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},Zo.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i&&!(null!=(e=n[u])&&e>=e);)e=void 0;for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i&&!(null!=(e=t.call(n,n[u],u))&&e>=e);)e=void 0;for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},Zo.extent=function(n,t){var e,r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o&&!(null!=(e=u=n[i])&&e>=e);)e=u=void 0;for(;++i<o;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<o&&!(null!=(e=u=t.call(n,n[i],i))&&e>=e);)e=void 0;for(;++i<o;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},Zo.sum=function(n,t){var e,r=0,u=n.length,i=-1;if(1===arguments.length)for(;++i<u;)isNaN(e=+n[i])||(r+=e);else for(;++i<u;)isNaN(e=+t.call(n,n[i],i))||(r+=e);return r},Zo.mean=function(t,e){var r,u=t.length,i=0,o=-1,a=0;if(1===arguments.length)for(;++o<u;)n(r=t[o])&&(i+=(r-i)/++a);else for(;++o<u;)n(r=e.call(t,t[o],o))&&(i+=(r-i)/++a);return a?i:void 0},Zo.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},Zo.median=function(t,e){return arguments.length>1&&(t=t.map(e)),t=t.filter(n),t.length?Zo.quantile(t.sort(Zo.ascending),.5):void 0},Zo.bisector=function(n){return{"left":function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n.call(t,t[i],i)<e?r=i+1:u=i}return r},"right":function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;e<n.call(t,t[i],i)?u=i:r=i+1}return r}}};ra=Zo.bisector(function(n){return n});Zo.bisectLeft=ra.left,Zo.bisect=Zo.bisectRight=ra.right,Zo.shuffle=function(n){for(var t,e,r=n.length;r;)e=0|Math.random()*r--,t=n[r],n[r]=n[e],n[e]=t;return n},Zo.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},Zo.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},Zo.zip=function(){var n,e,r,u,i,o;if(!(u=arguments.length))return[];for(n=-1,e=Zo.min(arguments,t),r=new Array(e);++n<e;)for(i=-1,o=r[n]=new Array(u);++i<u;)o[i]=arguments[i][n];return r},Zo.transpose=function(n){return Zo.zip.apply(Zo,n)},Zo.keys=function(n){var e,t=[];for(e in n)t.push(e);return t},Zo.values=function(n){var e,t=[];for(e in n)t.push(n[e]);return t},Zo.entries=function(n){var e,t=[];for(e in n)t.push({"key":e,"value":n[e]});return t},Zo.merge=function(n){for(var t,e,r,u=n.length,i=-1,o=0;++i<u;)o+=n[i].length;for(e=new Array(o);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--o]=r[t];return e};ua=Math.abs;Zo.range=function(n,t,r){if(arguments.length<3&&(r=1,arguments.length<2&&(t=n,n=0)),1/0===(t-n)/r)throw new Error("infinite range");var u,i=[],o=e(ua(r)),a=-1;if(n*=o,t*=o,r*=o,0>r)for(;(u=n+r*++a)>t;)i.push(u/o);else for(;(u=n+r*++a)<t;)i.push(u/o);return i},Zo.map=function(n){var e,t=new u;if(n instanceof u)n.forEach(function(n,e){t.set(n,e)});else for(e in n)t.set(e,n[e]);return t},r(u,{"has":function(n){return ia+n in this},"get":function(n){return this[ia+n]},"set":function(n,t){return this[ia+n]=t},"remove":function(n){return n=ia+n,n in this&&delete this[n]},"keys":function(){var n=[];return this.forEach(function(t){n.push(t)}),n},"values":function(){var n=[];return this.forEach(function(t,e){n.push(e)}),n},"entries":function(){var n=[];return this.forEach(function(t,e){n.push({"key":t,"value":e})}),n},"forEach":function(n){for(var t in this)t.charCodeAt(0)===oa&&n.call(this,t.substring(1),this[t])}});ia="\x00",oa=ia.charCodeAt(0);Zo.nest=function(){function n(t,a,c){if(c>=o.length)return r?r.call(i,a):e?a.sort(e):a;for(var s,l,f,h,g=-1,p=a.length,v=o[c++],d=new u;++g<p;)(h=d.get(s=v(l=a[g])))?h.push(l):d.set(s,[l]);return t?(l=t(),f=function(e,r){l.set(e,n(t,r,c))}):(l={},f=function(e,r){l[e]=n(t,r,c)}),d.forEach(f),l}function t(n,e){if(e>=o.length)return n;var r=[],u=a[e++];return n.forEach(function(n,u){r.push({"key":n,"values":t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,i={},o=[],a=[];return i.map=function(t,e){return n(e,t,0)},i.entries=function(e){return t(n(Zo.map,e,0),0)},i.key=function(n){return o.push(n),i},i.sortKeys=function(n){return a[o.length-1]=n,i},i.sortValues=function(n){return e=n,i},i.rollup=function(n){return r=n,i},i},Zo.set=function(n){var e,r,t=new i;if(n)for(e=0,r=n.length;r>e;++e)t.add(n[e]);return t},r(i,{"has":function(n){return ia+n in this},"add":function(n){return this[ia+n]=!0,n},"remove":function(n){return n=ia+n,n in this&&delete this[n]},"values":function(){var n=[];return this.forEach(function(t){n.push(t)}),n},"forEach":function(n){for(var t in this)t.charCodeAt(0)===oa&&n.call(this,t.substring(1))}}),Zo.behavior={},Zo.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=o(n,t,t[e]);return n};aa=["webkit","ms","moz","Moz","o","O"];Zo.dispatch=function(){for(var n=new s,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=l(n);return n},s.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.substring(e+1),n=n.substring(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},Zo.event=null,Zo.requote=function(n){return n.replace(ca,"\\$&")};ca=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,sa={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},la=function(n,t){return t.querySelector(n)},fa=function(n,t){return t.querySelectorAll(n)},ha=Bo[a(Bo,"matchesSelector")],ga=function(n,t){return ha.call(n,t)};"function"==typeof Sizzle&&(la=function(n,t){return Sizzle(n,t)[0]||null},fa=function(n,t){return Sizzle.uniqueSort(Sizzle(n,t))},ga=Sizzle.matchesSelector),Zo.selection=function(){return ma};pa=Zo.selection.prototype=[];pa.select=function(n){var t,e,r,u,o,a,c,s,i=[];n=v(n);for(o=-1,a=this.length;++o<a;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(c=-1,s=r.length;++c<s;)(u=r[c])?(t.push(e=n.call(u,u.__data__,c,o)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return p(i)},pa.selectAll=function(n){var t,e,u,i,o,a,c,r=[];n=d(n);for(u=-1,i=this.length;++u<i;)for(o=this[u],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=Xo(n.call(e,e.__data__,a,u))),t.parentNode=e);return p(r)};va={"svg":"http://www.w3.org/2000/svg","xhtml":"http://www.w3.org/1999/xhtml","xlink":"http://www.w3.org/1999/xlink","xml":"http://www.w3.org/XML/1998/namespace","xmlns":"http://www.w3.org/2000/xmlns/"};Zo.ns={"prefix":va,"qualify":function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.substring(0,t),n=n.substring(t+1)),va.hasOwnProperty(e)?{"space":va[e],"local":n}:n}},pa.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=Zo.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(m(t,n[t]));return this}return this.each(m(n,t))},pa.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=n.trim().split(/^|\s+/g)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!x(n[u]).test(t))return!1;return!0}for(t in n)this.each(M(t,n[t]));return this}return this.each(M(n,t))},pa.style=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t="");for(e in n)this.each(b(e,n[e],t));return this}if(2>r)return Wo.getComputedStyle(this.node(),null).getPropertyValue(n);e=""}return this.each(b(n,t,e))},pa.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(w(t,n[t]));return this}return this.each(w(n,t))},pa.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},pa.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},pa.append=function(n){return n=S(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},pa.insert=function(n,t){return n=S(n),t=v(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},pa.remove=function(){return this.each(function(){var n=this.parentNode;n&&n.removeChild(this)})},pa.data=function(n,t){function e(n,e){var r,i,o,d,m,y,x,a=n.length,f=e.length,h=Math.min(a,f),g=new Array(f),p=new Array(f),v=new Array(a);if(t){m=new u,y=new u,x=[];for(r=-1;++r<a;)d=t.call(i=n[r],i.__data__,r),m.has(d)?v[r]=i:m.set(d,i),x.push(d);for(r=-1;++r<f;)d=t.call(e,o=e[r],r),(i=m.get(d))?(g[r]=i,i.__data__=o):y.has(d)||(p[r]=k(o)),y.set(d,o),m.remove(d);for(r=-1;++r<a;)m.has(x[r])&&(v[r]=n[r])}else{for(r=-1;++r<h;)i=n[r],o=e[r],i?(i.__data__=o,g[r]=i):p[r]=k(o);for(;f>r;++r)p[r]=k(e[r]);for(;a>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,c.push(p),s.push(g),l.push(v)}var r,i,c,s,l,o=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(n[o]=i.__data__);return n}c=N([]),s=p([]),l=p([]);if("function"==typeof n)for(;++o<a;)e(r=this[o],n.call(r,r.parentNode.__data__,o));else for(;++o<a;)e(r=this[o],n);return s.enter=function(){return c},s.exit=function(){return l},s},pa.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},pa.filter=function(n){var t,e,r,i,o,a,c,u=[];"function"!=typeof n&&(n=E(n));for(i=0,o=this.length;o>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a)&&t.push(r)}return p(u)},pa.order=function(){
var n,t,e,r,u,i;for(n=-1,t=this.length;++n<t;)for(r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},pa.sort=function(n){n=A.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},pa.each=function(n){return C(this,function(t,e,r){n.call(t,t.__data__,e,r)})},pa.call=function(n){var t=Xo(arguments);return n.apply(t[0]=this,t),this},pa.empty=function(){return!this.node()},pa.node=function(){var n,t,e,r,u,i;for(n=0,t=this.length;t>n;n++)for(e=this[n],r=0,u=e.length;u>r;r++){i=e[r];if(i)return i}return null},pa.size=function(){var n=0;return this.each(function(){++n}),n};da=[];Zo.selection.enter=N,Zo.selection.enter.prototype=da,da.append=pa.append,da.empty=pa.empty,da.node=pa.node,da.call=pa.call,da.size=pa.size,da.select=function(n){var t,e,r,u,i,o,a,c,s,l;for(o=[],a=-1,c=this.length;++a<c;){r=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(s=-1,l=u.length;++s<l;)(i=u[s])?(t.push(r[s]=e=n.call(u.parentNode,i.__data__,s,a)),e.__data__=i.__data__):t.push(null)}return p(o)},da.insert=function(n,t){return arguments.length<2&&(t=L(this)),pa.insert.call(this,n,t)},pa.transition=function(){var n,t,e,r,u,i,o,a,c,s;for(e=Ms||++ks,r=[],u=_s||{"time":Date.now(),"ease":jr,"delay":0,"duration":250},i=-1,o=this.length;++i<o;){r.push(n=[]);for(a=this[i],c=-1,s=a.length;++c<s;)(t=a[c])&&to(t,c,e,u),n.push(t)}return Ki(r,e)},pa.interrupt=function(){return this.each(T)},Zo.select=function(n){var t=["string"==typeof n?la(n,$o):n];return t.parentNode=Bo,p([t])},Zo.selectAll=function(n){var t=Xo("string"==typeof n?fa(n,$o):n);return t.parentNode=Bo,p([t])};ma=Zo.select(Bo);pa.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(q(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(q(n,t,e))};ya=Zo.map({"mouseenter":"mouseover","mouseleave":"mouseout"});ya.forEach(function(n){"on"+n in $o&&ya.remove(n)});xa=a(Bo.style,"userSelect"),Ma=0;Zo.mouse=function(n){return P(n,h())};_a=/WebKit/.test(Wo.navigator.userAgent)?-1:0;Zo.touches=function(n,t){return arguments.length<2&&(t=h().touches),t?Xo(t).map(function(t){var e=P(n,t);return e.identifier=t.identifier,e}):[]},Zo.behavior.drag=function(){function n(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function t(){return Zo.event.changedTouches[0].identifier}function e(n,t){return Zo.touches(n).filter(function(n){return n.identifier===t})[0]}function r(n,t,e,r){return function(){function o(){var n=t(l,g),e=n[0]-v[0],r=n[1]-v[1];d|=e|r,v=n,f({"type":"drag","x":n[0]+c[0],"y":n[1]+c[1],"dx":e,"dy":r})}function a(){m.on(e+"."+p,null).on(r+"."+p,null),y(d&&Zo.event.target===h),f({"type":"dragend"})}var c,s=this,l=s.parentNode,f=u.of(s,arguments),h=Zo.event.target,g=n(),p=null==g?"drag":"drag-"+g,v=t(l,g),d=0,m=Zo.select(Wo).on(e+"."+p,o).on(r+"."+p,a),y=D();i?(c=i.apply(s,arguments),c=[c.x-v[0],c.y-v[1]]):c=[0,0],f({"type":"dragstart"})}}var u=g(n,"drag","dragstart","dragend"),i=null,o=r(c,Zo.mouse,"mousemove","mouseup"),a=r(t,e,"touchmove","touchend");return n.origin=function(t){return arguments.length?(i=t,n):i},Zo.rebind(n,u,"on")};ba=Math.PI,wa=2*ba,Sa=ba/2,ka=1e-6,Ea=ka*ka,Aa=ba/180,Ca=180/ba,Na=Math.SQRT2,La=2,Ta=4;Zo.interpolateZoom=function(n,t){function e(n){var e,o,t=n*y;if(m){e=O(v),o=i/(La*h)*(e*Y(Na*t+v)-F(v));return[r+o*s,u+o*l,i*e/O(Na*t+v)]}return[r+n*s,u+n*l,i*Math.exp(Na*t)]}var r=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],s=o-r,l=a-u,f=s*s+l*l,h=Math.sqrt(f),g=(c*c-i*i+Ta*f)/(2*i*La*h),p=(c*c-i*i-Ta*f)/(2*c*La*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p),m=d-v,y=(m||Math.log(c/i))/Na;return e.duration=1e3*y,e},Zo.behavior.zoom=function(){function n(n){n.on(A,s).on(Ra+".zoom",h).on(C,p).on("dblclick.zoom",v).on(L,l)}function t(n){return[(n[0]-S.x)/S.k,(n[1]-S.y)/S.k]}function e(n){return[n[0]*S.k+S.x,n[1]*S.k+S.y]}function r(n){S.k=Math.max(E[0],Math.min(E[1],n))}function u(n,t){t=e(t),S.x+=n[0]-t[0],S.y+=n[1]-t[1]}function i(){_&&_.domain(M.range().map(function(n){return(n-S.x)/S.k}).map(M.invert)),w&&w.domain(b.range().map(function(n){return(n-S.y)/S.k}).map(b.invert))}function o(n){n({"type":"zoomstart"})}function a(n){i(),n({"type":"zoom","scale":S.k,"translate":[S.x,S.y]})}function c(n){n({"type":"zoomend"})}function s(){function n(){l=1,u(Zo.mouse(r),h),a(i)}function e(){f.on(C,Wo===r?p:null).on(N,null),g(l&&Zo.event.target===s),c(i)}var r=this,i=q.of(r,arguments),s=Zo.event.target,l=0,f=Zo.select(Wo).on(C,n).on(N,e),h=t(Zo.mouse(r)),g=D();T.call(r),o(i)}function l(){function n(){var n=Zo.touches(p);return g=S.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=t(n))}),n}function e(){var t,e,i,o,c,s,l,h,g,p;for(t=Zo.event.changedTouches,e=0,i=t.length;i>e;++e)d[t[e].identifier]=null;o=n(),c=Date.now();if(1===o.length){if(500>c-x){s=o[0],l=d[s.identifier];r(2*S.k),u(s,l),f(),a(v)}x=c}else if(o.length>1){s=o[0],h=o[1],g=s[0]-h[0],p=s[1]-h[1];m=g*g+p*p}}function i(){var n,t,e,i,o,c,s,l,f;for(o=Zo.touches(p),c=0,s=o.length;s>c;++c,i=null)if(e=o[c],i=d[e.identifier]){if(t)break;n=e,t=i}if(i){l=(l=e[0]-n[0])*l+(l=e[1]-n[1])*l,f=m&&Math.sqrt(l/m);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],r(f*g)}x=null,u(n,t),a(v)}function h(){var t,e,r;if(Zo.event.touches.length){for(t=Zo.event.changedTouches,e=0,r=t.length;r>e;++e)delete d[t[e].identifier];for(u in d)return void n()}b.on(M,null).on(_,null),w.on(A,s).on(L,l),k(),c(v)}var g,p=this,v=q.of(p,arguments),d={},m=0,y=Zo.event.changedTouches[0].identifier,M="touchmove.zoom-"+y,_="touchend.zoom-"+y,b=Zo.select(Wo).on(M,i).on(_,h),w=Zo.select(p).on(A,null).on(L,e),k=D();T.call(p),e(),o(v)}function h(){var e,n=q.of(this,arguments);y?clearTimeout(y):(T.call(this),o(n)),y=setTimeout(function(){y=null,c(n)},50),f();e=m||Zo.mouse(this);d||(d=t(e)),r(Math.pow(2,.002*qa())*S.k),u(e,d),a(n)}function p(){d=null}function v(){var n=q.of(this,arguments),e=Zo.mouse(this),i=t(e),s=Math.log(S.k)/Math.LN2;o(n),r(Math.pow(2,Zo.event.shiftKey?Math.ceil(s)-1:Math.floor(s)+1)),u(e,i),a(n),c(n)}var d,m,y,x,M,_,b,w,S={"x":0,"y":0,"k":1},k=[960,500],E=za,A="mousedown.zoom",C="mousemove.zoom",N="mouseup.zoom",L="touchstart.zoom",q=g(n,"zoomstart","zoom","zoomend");return n.event=function(n){n.each(function(){var n=q.of(this,arguments),t=S;Ms?Zo.select(this).transition().each("start.zoom",function(){S=this.__chart__||{"x":0,"y":0,"k":1},o(n)}).tween("zoom:zoom",function(){var e=k[0],r=k[1],u=e/2,i=r/2,o=Zo.interpolateZoom([(u-S.x)/S.k,(i-S.y)/S.k,e/S.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=o(t),c=e/r[2];this.__chart__=S={"x":u-r[0]*c,"y":i-r[1]*c,"k":c},a(n)}}).each("end.zoom",function(){c(n)}):(this.__chart__=S,o(n),a(n),c(n))})},n.translate=function(t){return arguments.length?(S={"x":+t[0],"y":+t[1],"k":S.k},i(),n):[S.x,S.y]},n.scale=function(t){return arguments.length?(S={"x":S.x,"y":S.y,"k":+t},i(),n):S.k},n.scaleExtent=function(t){return arguments.length?(E=null==t?za:[+t[0],+t[1]],n):E},n.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],n):m},n.size=function(t){return arguments.length?(k=t&&[+t[0],+t[1]],n):k},n.x=function(t){return arguments.length?(_=t,M=t.copy(),S={"x":0,"y":0,"k":1},n):_},n.y=function(t){return arguments.length?(w=t,b=t.copy(),S={"x":0,"y":0,"k":1},n):w},Zo.rebind(n,q,"on")};za=[0,1/0],Ra="onwheel"in $o?(qa=function(){return-Zo.event.deltaY*(Zo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in $o?(qa=function(){return Zo.event.wheelDelta},"mousewheel"):(qa=function(){return-Zo.event.detail},"MozMousePixelScroll");Z.prototype.toString=function(){return this.rgb()+""},Zo.hsl=function(n,t,e){return 1===arguments.length?n instanceof X?V(n.h,n.s,n.l):st(""+n,lt,V):V(+n,+t,+e)};Da=X.prototype=new Z;Da.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),V(this.h,this.s,this.l/n)},Da.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),V(this.h,this.s,n*this.l)},Da.rgb=function(){return $(this.h,this.s,this.l)},Zo.hcl=function(n,t,e){return 1===arguments.length?n instanceof W?B(n.h,n.c,n.l):n instanceof K?nt(n.l,n.a,n.b):nt((n=ft((n=Zo.rgb(n)).r,n.g,n.b)).l,n.a,n.b):B(+n,+t,+e)};Pa=W.prototype=new Z;Pa.brighter=function(n){return B(this.h,this.c,Math.min(100,this.l+Ua*(arguments.length?n:1)))},Pa.darker=function(n){return B(this.h,this.c,Math.max(0,this.l-Ua*(arguments.length?n:1)))},Pa.rgb=function(){return J(this.h,this.c,this.l).rgb()},Zo.lab=function(n,t,e){return 1===arguments.length?n instanceof K?G(n.l,n.a,n.b):n instanceof W?J(n.l,n.c,n.h):ft((n=Zo.rgb(n)).r,n.g,n.b):G(+n,+t,+e)};Ua=18,ja=.95047,Ha=1,Fa=1.08883,Oa=K.prototype=new Z;Oa.brighter=function(n){return G(Math.min(100,this.l+Ua*(arguments.length?n:1)),this.a,this.b)},Oa.darker=function(n){return G(Math.max(0,this.l-Ua*(arguments.length?n:1)),this.a,this.b)},Oa.rgb=function(){return Q(this.l,this.a,this.b)},Zo.rgb=function(n,t,e){return 1===arguments.length?n instanceof at?ot(n.r,n.g,n.b):st(""+n,ot,$):ot(~~n,~~t,~~e)};Ya=at.prototype=new Z;Ya.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),ot(Math.min(255,~~(t/n)),Math.min(255,~~(e/n)),Math.min(255,~~(r/n)))):ot(u,u,u)},Ya.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),ot(~~(n*this.r),~~(n*this.g),~~(n*this.b))},Ya.hsl=function(){return lt(this.r,this.g,this.b)},Ya.toString=function(){return"#"+ct(this.r)+ct(this.g)+ct(this.b)};Ia=Zo.map({"aliceblue":15792383,"antiquewhite":16444375,"aqua":65535,"aquamarine":8388564,"azure":15794175,"beige":16119260,"bisque":16770244,"black":0,"blanchedalmond":16772045,"blue":255,"blueviolet":9055202,"brown":10824234,"burlywood":14596231,"cadetblue":6266528,"chartreuse":8388352,"chocolate":13789470,"coral":16744272,"cornflowerblue":6591981,"cornsilk":16775388,"crimson":14423100,"cyan":65535,"darkblue":139,"darkcyan":35723,"darkgoldenrod":12092939,"darkgray":11119017,"darkgreen":25600,"darkgrey":11119017,"darkkhaki":12433259,"darkmagenta":9109643,"darkolivegreen":5597999,"darkorange":16747520,"darkorchid":10040012,"darkred":9109504,"darksalmon":15308410,"darkseagreen":9419919,"darkslateblue":4734347,"darkslategray":3100495,"darkslategrey":3100495,"darkturquoise":52945,"darkviolet":9699539,"deeppink":16716947,"deepskyblue":49151,"dimgray":6908265,"dimgrey":6908265,"dodgerblue":2003199,"firebrick":11674146,"floralwhite":16775920,"forestgreen":2263842,"fuchsia":16711935,"gainsboro":14474460,"ghostwhite":16316671,"gold":16766720,"goldenrod":14329120,"gray":8421504,"green":32768,"greenyellow":11403055,"grey":8421504,"honeydew":15794160,"hotpink":16738740,"indianred":13458524,"indigo":4915330,"ivory":16777200,"khaki":15787660,"lavender":15132410,"lavenderblush":16773365,"lawngreen":8190976,"lemonchiffon":16775885,"lightblue":11393254,"lightcoral":15761536,"lightcyan":14745599,"lightgoldenrodyellow":16448210,"lightgray":13882323,"lightgreen":9498256,"lightgrey":13882323,"lightpink":16758465,"lightsalmon":16752762,"lightseagreen":2142890,"lightskyblue":8900346,"lightslategray":7833753,"lightslategrey":7833753,"lightsteelblue":11584734,"lightyellow":16777184,"lime":65280,"limegreen":3329330,"linen":16445670,"magenta":16711935,"maroon":8388608,"mediumaquamarine":6737322,"mediumblue":205,"mediumorchid":12211667,"mediumpurple":9662683,"mediumseagreen":3978097,"mediumslateblue":8087790,"mediumspringgreen":64154,"mediumturquoise":4772300,"mediumvioletred":13047173,"midnightblue":1644912,"mintcream":16121850,"mistyrose":16770273,"moccasin":16770229,"navajowhite":16768685,"navy":128,"oldlace":16643558,"olive":8421376,"olivedrab":7048739,"orange":16753920,"orangered":16729344,"orchid":14315734,"palegoldenrod":15657130,"palegreen":10025880,"paleturquoise":11529966,"palevioletred":14381203,"papayawhip":16773077,"peachpuff":16767673,"peru":13468991,"pink":16761035,"plum":14524637,"powderblue":11591910,"purple":8388736,"red":16711680,"rosybrown":12357519,"royalblue":4286945,"saddlebrown":9127187,"salmon":16416882,"sandybrown":16032864,"seagreen":3050327,"seashell":16774638,"sienna":10506797,"silver":12632256,"skyblue":8900331,"slateblue":6970061,"slategray":7372944,"slategrey":7372944,"snow":16775930,"springgreen":65407,"steelblue":4620980,"tan":13808780,"teal":32896,"thistle":14204888,"tomato":16737095,"turquoise":4251856,"violet":15631086,"wheat":16113331,"white":16777215,"whitesmoke":16119285,"yellow":16776960,"yellowgreen":10145074});Ia.forEach(function(n,t){Ia.set(n,ut(t))}),Zo.functor=pt,Zo.xhr=dt(vt),Zo.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var o=Zo.xhr(n,t,i);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:u(n)):e},o.row(e)}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function o(t){return t.map(a).join(n)}function a(n){return c.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var c=new RegExp('["'+n+"\n]"),s=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){var t,e,r,a;if(l>=c)return o;if(u)return u=!1,i;t=l;if(34===n.charCodeAt(t)){for(e=t;e++<c;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}l=e+2;r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++l):10===r&&(u=!0),n.substring(t+1,e).replace(/""/g,'"')}for(;c>l;){r=n.charCodeAt(l++),a=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(l)&&(++l,++a);else if(r!==s)continue;return n.substring(t,l-a)}return n.substring(t)}var r,u,i,o,a,c,l,f,h;for(i={},o={},a=[],c=n.length,l=0,f=0;(r=e())!==o;){for(h=[];r!==i&&r!==o;)h.push(r),r=e();(!t||(h=t(h,f++)))&&a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new i,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(a).join(n)].concat(t.map(function(t){return u.map(function(n){return a(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(o).join("\n")},e},Zo.csv=Zo.dsv(",","text/csv"),Zo.tsv=Zo.dsv("	","text/tab-separated-values");Wa=Wo[a(Wo,"requestAnimationFrame")]||function(n){setTimeout(n,17)};Zo.timer=function(n,t,e){var u,i,r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());u=e+t,i={"c":n,"t":u,"f":!1,"n":null};Va?Va.n=i:Za=i,Va=i,Xa||($a=clearTimeout($a),Xa=1,Wa(xt))},Zo.timer.flush=function(){Mt(),_t()};Ja=".",Ga=",",Ka=[3,3],Qa="$",nc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(bt);Zo.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=Zo.round(n,wt(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((0>=e?e+1:e-1)/3)))),nc[8+e/3]},Zo.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)},Zo.format=function(n){var p,t=tc.exec(n),e=t[1]||" ",r=t[2]||">",u=t[3]||"",i=t[4]||"",o=t[5],a=+t[6],c=t[7],s=t[8],l=t[9],f=1,h="",g=!1;switch(s&&(s=+s.substring(1)),(o||"0"===e&&"="===r)&&(o=e="0",r="=",c&&(a-=Math.floor((a-1)/4))),l){case"n":c=!0,l="g";break;case"%":f=100,h="%",l="f";break;case"p":f=100,h="%",l="r";break;case"b":case"o":case"x":case"X":"#"===i&&(i="0"+l.toLowerCase());case"c":case"d":g=!0,s=0;break;case"s":f=-1,l="r"}"#"===i?i="":"$"===i&&(i=Qa),"r"!=l||s||(l="g"),null!=s&&("g"==l?s=Math.max(1,Math.min(21,s)):("e"==l||"f"==l)&&(s=Math.max(0,Math.min(20,s)))),l=ec.get(l)||St;p=o&&c;return function(n){var t,v,d,m,y,x,M;if(g&&n%1)return"";t=0>n||0===n&&0>1/n?(n=-n,"-"):u;if(0>f){v=Zo.formatPrefix(n,s);n=v.scale(n),h=v.symbol}else n*=f;n=l(n,s);d=n.lastIndexOf("."),m=0>d?n:n.substring(0,d),y=0>d?"":Ja+n.substring(d+1);!o&&c&&(m=rc(m));x=i.length+m.length+y.length+(p?0:t.length),M=a>x?new Array(x=a-x+1).join(e):"";return p&&(m=rc(M+m)),t+=i,n=m+y,("<"===r?t+n+M:">"===r?M+t+n:"^"===r?M.substring(0,x>>=1)+t+n+M.substring(x):t+(p?n:M+n))+h}};tc=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ec=Zo.map({"b":function(n){return n.toString(2)},"c":function(n){return String.fromCharCode(n)},"o":function(n){return n.toString(8)},"x":function(n){return n.toString(16)},"X":function(n){return n.toString(16).toUpperCase()},"g":function(n,t){return n.toPrecision(t)},"e":function(n,t){return n.toExponential(t)},"f":function(n,t){return n.toFixed(t)},"r":function(n,t){return(n=Zo.round(n,wt(n,t))).toFixed(Math.max(0,Math.min(20,wt(n*(1+1e-15),t))))}}),rc=vt;if(Ka){uc=Ka.length;rc=function(n){for(var t=n.length,e=[],r=0,u=Ka[0];t>0&&u>0;)e.push(n.substring(t-=u,t+u)),u=Ka[r=(r+1)%uc];return e.reverse().join(Ga)}}Zo.geo={},kt.prototype={"s":0,"t":0,"add":function(n){Et(n,this.t,ic),Et(ic.s,this.s,this),this.s?this.t+=ic.t:this.s=ic.t},"reset":function(){this.s=this.t=0},"valueOf":function(){return this.s}};ic=new kt;Zo.geo.stream=function(n,t){n&&oc.hasOwnProperty(n.type)?oc[n.type](n,t):At(n,t)};oc={"Feature":function(n,t){At(n.geometry,t)},"FeatureCollection":function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)At(e[r].geometry,t)}},ac={"Sphere":function(n,t){t.sphere()},"Point":function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},"MultiPoint":function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},"LineString":function(n,t){Ct(n.coordinates,t,0)},"MultiLineString":function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)Ct(e[r],t,0)},"Polygon":function(n,t){Nt(n.coordinates,t)},"MultiPolygon":function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)Nt(e[r],t)},"GeometryCollection":function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)At(e[r],t)}};Zo.geo.area=function(n){return cc=0,Zo.geo.stream(n,lc),cc};sc=new kt,lc={"sphere":function(){cc+=4*ba},"point":c,"lineStart":c,"lineEnd":c,"polygonStart":function(){sc.reset(),lc.lineStart=Lt},"polygonEnd":function(){var n=2*sc;cc+=0>n?4*ba+n:n,lc.lineStart=lc.lineEnd=lc.point=c}};Zo.geo.bounds=function(){function n(n,t){x.push(M=[l=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var u,i,o,c,s,v,d,y,r=Tt([t*Aa,e*Aa]);if(m){u=zt(m,r),i=[u[1],-u[0],0],o=zt(i,u);Pt(o),o=Ut(o);c=t-p,s=c>0?1:-1,v=o[0]*Ca*s,d=ua(c)>180;if(d^(v>s*p&&s*t>v)){y=o[1]*Ca;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>s*p&&s*t>v)){y=-o[1]*Ca;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?a(l,t)>a(l,h)&&(h=t):a(t,h)>a(l,h)&&(l=t):h>=l?(l>t&&(l=t),t>h&&(h=t)):t>p?a(l,t)>a(l,h)&&(h=t):a(t,h)>a(l,h)&&(l=t)}else n(t,e);m=r,p=t}function e(){_.point=t}function r(){M[0]=l,M[1]=h,_.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=ua(r)>180?r+(r>0?360:-360):r}else v=n,d=e;lc.point(n,e),t(n,e)}function i(){lc.lineStart()}function o(){u(v,d),lc.lineEnd(),ua(y)>ka&&(l=-(h=180)),M[0]=l,M[1]=h,m=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function s(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var l,f,h,g,p,v,d,m,y,x,M,_={"point":n,"lineStart":e,"lineEnd":r,"polygonStart":function(){_.point=u,_.lineStart=i,_.lineEnd=o,y=0,lc.polygonStart()},"polygonEnd":function(){lc.polygonEnd(),_.point=n,_.lineStart=e,_.lineEnd=r,0>sc?(l=-(h=180),f=-(g=90)):y>ka?g=90:-ka>y&&(f=-90),M[0]=l,M[1]=h}};return function(n){var t,e,r,u,i,o,p;g=h=-(l=f=1/0),x=[],Zo.geo.stream(n,_);t=x.length;if(t){x.sort(c);for(r=1,u=x[0],i=[u];t>r;++r)e=x[r],s(e[0],u)||s(e[1],u)?(a(u[0],e[1])>a(u[0],u[1])&&(u[1]=e[1]),a(e[0],u[1])>a(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(p=-1/0,t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(o=a(u[1],e[0]))>p&&(p=o,l=e[0],h=u[1])}return x=M=null,1/0===l||1/0===f?[[NaN,NaN],[NaN,NaN]]:[[l,f],[h,g]]}}(),Zo.geo.centroid=function(n){fc=hc=gc=pc=vc=dc=mc=yc=xc=Mc=_c=0,Zo.geo.stream(n,bc);var t=xc,e=Mc,r=_c,u=t*t+e*e+r*r;return Ea>u&&(t=dc,e=mc,r=yc,ka>hc&&(t=gc,e=pc,r=vc),u=t*t+e*e+r*r,Ea>u)?[NaN,NaN]:[Math.atan2(e,t)*Ca,H(r/Math.sqrt(u))*Ca]};bc={"sphere":c,"point":Ht,"lineStart":Ot,"lineEnd":Yt,"polygonStart":function(){bc.lineStart=It},"polygonEnd":function(){bc.lineStart=Ot}},wc=Bt(Zt,Qt,te,[-ba,-ba/2]),Sc=1e9;Zo.geo.clipExtent=function(){var n,t,e,r,u,i,o={"stream":function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},"extent":function(a){return arguments.length?(i=ue(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&&(u.valid=!1,u=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(Zo.geo.conicEqualArea=function(){return oe(ae)}).raw=ae,Zo.geo.albers=function(){return Zo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Zo.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,e(i,o),t||(r(i,o),t)||u(i,o),t}var t,e,r,u,i=Zo.geo.albers(),o=Zo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=Zo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={"point":function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?o:u>=.166&&.234>u&&r>=-.214&&-.115>r?a:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=o.stream(n),r=a.stream(n);return{"point":function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},"sphere":function(){t.sphere(),e.sphere(),r.sphere()},"lineStart":function(){t.lineStart(),e.lineStart(),r.lineStart()},"lineEnd":function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},"polygonStart":function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},"polygonEnd":function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var s=i.scale(),l=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[l-.455*s,f-.238*s],[l+.455*s,f+.238*s]]).stream(c).point,r=o.translate([l-.307*s,f+.201*s]).clipExtent([[l-.425*s+ka,f+.12*s+ka],[l-.214*s-ka,f+.234*s-ka]]).stream(c).point,u=a.translate([l-.205*s,f+.212*s]).clipExtent([[l-.214*s+ka,f+.166*s+ka],[l-.115*s-ka,f+.234*s-ka]]).stream(c).point,n},n.scale(1070)};Tc={"point":c,"lineStart":c,"lineEnd":c,"polygonStart":function(){Ec=0,Tc.lineStart=ce},"polygonEnd":function(){Tc.lineStart=Tc.lineEnd=Tc.point=c,kc+=ua(Ec/2)}},qc={"point":se,"lineStart":c,"lineEnd":c,"polygonStart":c,"polygonEnd":c},zc={"point":he,"lineStart":ge,"lineEnd":pe,"polygonStart":function(){zc.lineStart=ve},"polygonEnd":function(){zc.point=he,zc.lineStart=ge,zc.lineEnd=pe}};Zo.geo.transform=function(n){return{"stream":function(t){var r,e=new ye(t);for(r in n)e[r]=n[r];return e}}},ye.prototype={"point":function(n,t){this.stream.point(n,t)},"sphere":function(){this.stream.sphere()},"lineStart":function(){this.stream.lineStart()},"lineEnd":function(){this.stream.lineEnd()},"polygonStart":function(){this.stream.polygonStart()},"polygonEnd":function(){this.stream.polygonEnd()}},Zo.geo.path=function(){function n(n){return n&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=u(i)),Zo.geo.stream(n,o)),i.result()}function t(){return o=null,n}var e,r,u,i,o,a=4.5;return n.area=function(n){return kc=0,Zo.geo.stream(n,u(Tc)),kc},n.centroid=function(n){return gc=pc=vc=dc=mc=yc=xc=Mc=_c=0,Zo.geo.stream(n,u(zc)),_c?[xc/_c,Mc/_c]:yc?[dc/yc,mc/yc]:vc?[gc/vc,pc/vc]:[NaN,NaN]},n.bounds=function(n){return Nc=Lc=-(Ac=Cc=1/0),Zo.geo.stream(n,u(qc)),[[Ac,Cc],[Nc,Lc]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||xe(n):vt,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new le:new de(n),"function"!=typeof a&&i.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),n):a},n.projection(Zo.geo.albersUsa()).context(null)},Zo.geo.projection=Me,Zo.geo.projectionMutator=_e,(Zo.geo.equirectangular=function(){return Me(we)}).raw=we.invert=we,Zo.geo.rotation=function(n){function t(t){return t=n(t[0]*Aa,t[1]*Aa),t[0]*=Ca,t[1]*=Ca,t}return n=ke(n[0]%360*Aa,n[1]*Aa,n.length>2?n[2]*Aa:0),t.invert=function(t){return t=n.invert(t[0]*Aa,t[1]*Aa),t[0]*=Ca,t[1]*=Ca,t},t},Se.invert=we,Zo.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=ke(-n[0]*Aa,-n[1]*Aa,0).invert,u=[];return e(null,null,1,{"point":function(n,e){u.push(n=t(n,e)),n[0]*=Ca,n[1]*=Ca}}),{"type":"Polygon","coordinates":[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=Ne((t=+r)*Aa,u*Aa),n):t},n.precision=function(r){return arguments.length?(e=Ne(t*Aa,(u=+r)*Aa),n):u},n.angle(90)},Zo.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Aa,u=n[1]*Aa,i=t[1]*Aa,o=Math.sin(r),a=Math.cos(r),c=Math.sin(u),s=Math.cos(u),l=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*o)*e+(e=s*l-c*f*a)*e),c*l+s*f*a)},Zo.geo.graticule=function(){function n(){return{"type":"MultiLineString","coordinates":t()}}function t(){return Zo.range(Math.ceil(i/d)*d,u,d).map(h).concat(Zo.range(Math.ceil(s/m)*m,c,m).map(g)).concat(Zo.range(Math.ceil(r/p)*p,e,p).filter(function(n){return ua(n%d)>ka}).map(l)).concat(Zo.range(Math.ceil(a/v)*v,o,v).filter(function(n){return ua(n%m)>ka}).map(f))}var e,r,u,i,o,a,c,s,l,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{"type":"LineString","coordinates":n}})},n.outline=function(){return{"type":"Polygon","coordinates":[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(s).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],s=+t[0][1],c=+t[1][1],i>u&&(t=i,i=u,u=t),s>c&&(t=s,s=c,c=t),n.precision(y)):[[i,s],[u,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(y)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,l=Te(a,o,90),f=qe(r,e,y),h=Te(s,c,90),g=qe(i,u,y),n):y},n.majorExtent([[-180,-90+ka],[180,90-ka]]).minorExtent([[-180,-80-ka],[180,80+ka]])},Zo.geo.greatArc=function(){function n(){return{"type":"LineString","coordinates":[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=ze,u=Re;return n.distance=function(){return Zo.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},Zo.geo.interpolate=function(n,t){return De(n[0]*Aa,n[1]*Aa,t[0]*Aa,t[1]*Aa)},Zo.geo.length=function(n){return Rc=0,Zo.geo.stream(n,Dc),Rc};Dc={"sphere":c,"point":c,"lineStart":Pe,"lineEnd":c,"polygonStart":c,"polygonEnd":c},Pc=Ue(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(Zo.geo.azimuthalEqualArea=function(){return Me(Pc)}).raw=Pc;Uc=Ue(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},vt);(Zo.geo.azimuthalEquidistant=function(){return Me(Uc)}).raw=Uc,(Zo.geo.conicConformal=function(){return oe(je)}).raw=je,(Zo.geo.conicEquidistant=function(){return oe(He)}).raw=He;jc=Ue(function(n){return 1/n},Math.atan);(Zo.geo.gnomonic=function(){return Me(jc)}).raw=jc,Fe.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Sa]},(Zo.geo.mercator=function(){return Oe(Fe)}).raw=Fe;Hc=Ue(function(){return 1},Math.asin);(Zo.geo.orthographic=function(){return Me(Hc)}).raw=Hc;Fc=Ue(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(Zo.geo.stereographic=function(){return Me(Fc)}).raw=Fc,Ye.invert=function(n,t){return[Math.atan2(F(n),Math.cos(t)),H(Math.sin(t)/O(n))]},(Zo.geo.transverseMercator=function(){return Oe(Ye)}).raw=Ye,Zo.geom={},Zo.geom.hull=function(n){function t(n){var t,u,i,o,a,c,s,l,f,h,g,p,v,d,m,y,x,M,_,b;if(n.length<3)return[];v=pt(e),d=pt(r),m=n.length,y=m-1,x=[],M=[],_=0;if(v===Ie&&r===Ze)t=n;else for(i=0,t=[];m>i;++i)t.push([+v.call(this,u=n[i],i),+d.call(this,u,i)]);for(i=1;m>i;++i)(t[i][1]<t[_][1]||t[i][1]==t[_][1]&&t[i][0]<t[_][0])&&(_=i);for(i=0;m>i;++i)i!==_&&(c=t[i][1]-t[_][1],a=t[i][0]-t[_][0],x.push({"angle":Math.atan2(c,a),"index":i}));for(x.sort(function(n,t){return n.angle-t.angle}),g=x[0].angle,h=x[0].index,f=0,i=1;y>i;++i){if(o=x[i].index,g==x[i].angle){if(a=t[h][0]-t[_][0],c=t[h][1]-t[_][1],s=t[o][0]-t[_][0],l=t[o][1]-t[_][1],a*a+c*c>=s*s+l*l){x[i].index=-1;continue}x[f].index=-1}g=x[i].angle,f=i,h=o}for(M.push(_),i=0,o=0;2>i;++o)x[o].index>-1&&(M.push(x[o].index),i++);for(p=M.length;y>o;++o)if(!(x[o].index<0)){for(;!Ve(M[p-2],M[p-1],x[o].index,t);)--p;M[p++]=x[o].index}b=[];for(i=p-1;i>=0;--i)b.push(n[M[i]]);return b}var e=Ie,r=Ze;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},Zo.geom.polygon=function(n){return sa(n,Oc),n};Oc=Zo.geom.polygon.prototype=[];Oc.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},Oc.centroid=function(n){var t,e,r=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],i+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[i*n,o*n]},Oc.clip=function(n){for(var t,e,r,u,i,o,a=Be(n),c=-1,s=this.length-Be(this),l=this[s-1];++c<s;){for(t=n.slice(),n.length=0,u=this[c],i=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],Xe(o,l,u)?(Xe(i,l,u)||n.push($e(i,o,l,u)),n.push(o)):Xe(i,l,u)&&n.push($e(i,o,l,u)),i=o;a&&n.push(n[0]),l=u}return n};$c=[],Bc=[];er.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(ur),t.length},pr.prototype={"start":function(){return this.edge.l===this.site?this.edge.a:this.edge.b},"end":function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},vr.prototype={"insert":function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=xr(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(mr(this,e),n=e,e=n.U),e.C=!1,r.C=!0,yr(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(yr(this,e),n=e,e=n.U),e.C=!1,r.C=!0,mr(this,r))),e=n.U;this._.C=!1},"remove":function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,o=n.R;if(e=i?o?xr(o):i:o,u?u.L===n?u.L=e:u.R=e:this._=e,i&&o?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==o?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=o,o.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,mr(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,yr(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,mr(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,yr(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,mr(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,yr(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},Zo.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return Mr(e(n),a).cells.forEach(function(e,a){var c=e.edges,s=e.site,l=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):s.x>=r&&s.x<=i&&s.y>=u&&s.y<=o?[[r,o],[i,o],[i,u],[r,u]]:[];l.point=n[a]}),t}function e(n){return n.map(function(n,t){return{"x":Math.round(i(n,t)/ka)*ka,"y":Math.round(o(n,t)/ka)*ka,"i":t}})}var r=Ie,u=Ze,i=r,o=u,a=Wc;return n?t(n):(t.links=function(n){return Mr(e(n)).edges.filter(function(n){return n.l&&n.r;
}).map(function(t){return{"source":n[t.l.i],"target":n[t.r.i]}})},t.triangles=function(n){var t=[];return Mr(e(n)).cells.forEach(function(e,r){for(var u,i,o=e.site,a=e.edges.sort(ur),c=-1,s=a.length,l=a[s-1].edge,f=l.l===o?l.r:l.l;++c<s;)u=l,i=f,l=a[c].edge,f=l.l===o?l.r:l.l,r<i.i&&r<f.i&&br(o,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=pt(r=n),t):r},t.y=function(n){return arguments.length?(o=pt(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?Wc:n,t):a===Wc?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===Wc?null:a&&a[1]},t)};Wc=[[-1e6,-1e6],[1e6,1e6]];Zo.geom.delaunay=function(n){return Zo.geom.voronoi().triangles(n)},Zo.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){var c,l,f;if(!isNaN(e)&&!isNaN(r))if(n.leaf){c=n.x,l=n.y;if(null!=c)if(ua(c-e)+ua(l-r)<.01)s(n,t,e,r,u,i,o,a);else{f=n.point;n.x=n.y=n.point=null,s(n,f,c,l,u,i,o,a),s(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else s(n,t,e,r,u,i,o,a)}function s(n,t,e,r,u,o,a,c){var s=.5*(u+a),l=.5*(o+c),f=e>=s,h=r>=l,g=(h<<1)+f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=kr()),f?u=s:a=s,h?o=l:c=l,i(n,t,e,r,u,o,a,c)}var l,f,h,g,p,v,d,m,y,_,b,w,S,k,x=pt(a),M=pt(c);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,o)for(g=0;p>g;++g)l=n[g],l.x<v&&(v=l.x),l.y<d&&(d=l.y),l.x>m&&(m=l.x),l.y>y&&(y=l.y),f.push(l.x),h.push(l.y);else for(g=0;p>g;++g){_=+x(l=n[g],g),b=+M(l,g);v>_&&(v=_),d>b&&(d=b),_>m&&(m=_),b>y&&(y=b),f.push(_),h.push(b)}w=m-v,S=y-d;w>S?y=d+w:m=v+S;k=kr();if(k.add=function(n){i(k,n,+x(n,++g),+M(n,g),v,d,m,y)},k.visit=function(n){Er(n,k,v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=l=null,k}var o,a=Ie,c=Ze;return(o=arguments.length)?(a=wr,c=Sr,3===o&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(a=n,i):a},i.y=function(n){return arguments.length?(c=n,i):c},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},Zo.interpolateRgb=Ar,Zo.interpolateObject=Cr,Zo.interpolateNumber=Nr,Zo.interpolateString=Lr;Jc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Zo.interpolate=Tr,Zo.interpolators=[function(n,t){var e=typeof t;return("string"===e?Ia.has(t)||/^(#|rgb\(|hsl\()/.test(t)?Ar:Lr:t instanceof Z?Ar:"object"===e?Array.isArray(t)?qr:Cr:Nr)(n,t)}],Zo.interpolateArray=qr;Gc=function(){return vt},Kc=Zo.map({"linear":Gc,"poly":Hr,"quad":function(){return Pr},"cubic":function(){return Ur},"sin":function(){return Fr},"exp":function(){return Or},"circle":function(){return Yr},"elastic":Ir,"back":Zr,"bounce":function(){return Vr}}),Qc=Zo.map({"in":vt,"out":Rr,"in-out":Dr,"out-in":function(n){return Dr(Rr(n))}});Zo.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.substring(0,t):n,r=t>=0?n.substring(t+1):"in";return e=Kc.get(e)||Gc,r=Qc.get(r)||vt,zr(r(e.apply(null,Vo.call(arguments,1))))},Zo.interpolateHcl=Xr,Zo.interpolateHsl=$r,Zo.interpolateLab=Br,Zo.interpolateRound=Wr,Zo.transform=function(n){var t=$o.createElementNS(Zo.ns.prefix.svg,"g");return(Zo.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Jr(e?e.matrix:ns)})(n)},Jr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};ns={"a":1,"b":0,"c":0,"d":1,"e":0,"f":0};Zo.interpolateTransform=nu,Zo.layout={},Zo.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(ru(n[e]));return t}},Zo.layout.chord=function(){function n(){var n,s,f,h,g,y,x,M,_,b,w,S,p={},v=[],d=Zo.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(s=0,g=-1;++g<i;)s+=u[h][g];v.push(s),m.push(Zo.range(i)),n+=s}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&m.forEach(function(n,t){n.sort(function(n,e){return a(u[t][n],u[t][e])})}),n=(wa-l*i)/n,s=0,h=-1;++h<i;){for(f=s,g=-1;++g<i;){y=d[h],x=m[y][g],M=u[y][x],_=s,b=s+=M*n;p[y+"-"+x]={"index":y,"subindex":x,"startAngle":_,"endAngle":b,"value":M}}r[y]={"index":y,"startAngle":f,"endAngle":s,"value":(s-f)/n},s+=l}for(h=-1;++h<i;)for(g=h-1;++g<i;){w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{"source":S,"target":w}:{"source":w,"target":S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,o,a,c,s={},l=0;return s.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,s):u},s.padding=function(n){return arguments.length?(l=n,e=r=null,s):l},s.sortGroups=function(n){return arguments.length?(o=n,e=r=null,s):o},s.sortSubgroups=function(n){return arguments.length?(a=n,e=null,s):a},s.sortChords=function(n){return arguments.length?(c=n,e&&t(),s):c},s.chords=function(){return e||n(),e},s.groups=function(){return r||n(),r},s},Zo.layout.force=function(){function n(n){return function(t,e,r,u){var i,o,a,c;if(t.point!==n){i=t.cx-n.x,o=t.cy-n.y,a=1/Math.sqrt(i*i+o*o);if(v>(u-e)*a){c=t.charge*a*a;return n.px-=i*c,n.py-=o*c,!0}if(t.point&&isFinite(a)){c=t.pointCharge*a*a;n.px-=i*c,n.py-=o*c}}return!t.charge}}function t(n){n.px=Zo.event.x,n.py=Zo.event.y,a.resume()}var e,r,u,i,o,a={},c=Zo.dispatch("start","tick","end"),s=[1,1],l=.9,f=ts,h=es,g=-30,p=.1,v=.8,d=[],m=[];return a.tick=function(){if((r*=.99)<.005)return c.end({"type":"end","alpha":r=0}),!0;var t,e,a,f,h,v,y,x,M,_=d.length,b=m.length;for(e=0;b>e;++e)a=m[e],f=a.source,h=a.target,x=h.x-f.x,M=h.y-f.y,(v=x*x+M*M)&&(v=r*i[e]*((v=Math.sqrt(v))-u[e])/v,x*=v,M*=v,h.x-=x*(y=f.weight/(h.weight+f.weight)),h.y-=M*y,f.x+=x*(y=1-y),f.y+=M*y);if((y=r*p)&&(x=s[0]/2,M=s[1]/2,e=-1,y))for(;++e<_;)a=d[e],a.x+=(x-a.x)*y,a.y+=(M-a.y)*y;if(g)for(lu(t=Zo.geom.quadtree(d),r,o),e=-1;++e<_;)(a=d[e]).fixed||t.visit(n(a));for(e=-1;++e<_;)a=d[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*l,a.y-=(a.py-(a.py=a.y))*l);c.tick({"type":"tick","alpha":r})},a.nodes=function(n){return arguments.length?(d=n,a):d},a.links=function(n){return arguments.length?(m=n,a):m},a.size=function(n){return arguments.length?(s=n,a):s},a.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,a):f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(l=+n,a):l},a.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,a):g},a.gravity=function(n){return arguments.length?(p=+n,a):p},a.theta=function(n){return arguments.length?(v=+n,a):v},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({"type":"start","alpha":r=n}),Zo.timer(a.tick)),a):r},a.start=function(){function n(n,r){var u,i,o,a,s;if(!e){for(e=new Array(c),a=0;c>a;++a)e[a]=[];for(a=0;s>a;++a){u=m[a];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(o=e[t],a=-1,s=o.length;++a<s;)if(!isNaN(i=o[a][n]))return i;return Math.random()*r}var t,e,r,c=d.length,l=m.length,p=s[0],v=s[1];for(t=0;c>t;++t)(r=d[t]).index=t,r.weight=0;for(t=0;l>t;++t)r=m[t],"number"==typeof r.source&&(r.source=d[r.source]),"number"==typeof r.target&&(r.target=d[r.target]),++r.source.weight,++r.target.weight;for(t=0;c>t;++t)r=d[t],isNaN(r.x)&&(r.x=n("x",p)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof f)for(t=0;l>t;++t)u[t]=+f.call(this,m[t],t);else for(t=0;l>t;++t)u[t]=f;if(i=[],"function"==typeof h)for(t=0;l>t;++t)i[t]=+h.call(this,m[t],t);else for(t=0;l>t;++t)i[t]=h;if(o=[],"function"==typeof g)for(t=0;c>t;++t)o[t]=+g.call(this,d[t],t);else for(t=0;c>t;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=Zo.behavior.drag().origin(vt).on("dragstart.force",ou).on("drag.force",t).on("dragend.force",au)),arguments.length?void this.on("mouseover.force",cu).on("mouseout.force",su).call(e):e},Zo.rebind(a,c,"on")};ts=20,es=1;Zo.layout.hierarchy=function(){function n(t,o,a){var s,l,f,h,g,p,c=u.call(e,t,o);if(t.depth=o,a.push(t),c&&(s=c.length)){for(f=-1,h=t.children=new Array(s),g=0,p=o+1;++f<s;)l=h[f]=n(c[f],p,a),l.parent=t,g+=l.value;r&&h.sort(r),i&&(t.value=g)}else delete t.children,i&&(t.value=+i.call(e,t,o)||0);return t}function t(n,r){var a,c,s,u=n.children,o=0;if(u&&(a=u.length))for(c=-1,s=r+1;++c<a;)o+=t(u[c],s);else i&&(o=+i.call(e,n,r)||0);return i&&(n.value=o),o}function e(t){var e=[];return n(t,0,e),e}var r=pu,u=hu,i=gu;return e.sort=function(n){return arguments.length?(r=n,e):r},e.children=function(n){return arguments.length?(u=n,e):u},e.value=function(n){return arguments.length?(i=n,e):i},e.revalue=function(n){return t(n,0),n},e},Zo.layout.partition=function(){function n(t,e,r,u){var o,a,c,s,i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(o=i.length)){s=-1;for(r=t.value?r/t.value:0;++s<o;)n(a=i[s],e,c=a.value*r,u),e+=c}}function t(n){var u,i,e=n.children,r=0;if(e&&(u=e.length))for(i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}var r=Zo.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},fu(e,r)},Zo.layout.pie=function(){function n(i){var l,o=i.map(function(e,r){return+t.call(n,e,r)}),a=+("function"==typeof r?r.apply(this,arguments):r),c=(("function"==typeof u?u.apply(this,arguments):u)-a)/Zo.sum(o),s=Zo.range(i.length);null!=e&&s.sort(e===rs?function(n,t){return o[t]-o[n]}:function(n,t){return e(i[n],i[t])});l=[];return s.forEach(function(n){var t;l[n]={"data":i[n],"value":t=o[n],"startAngle":a,"endAngle":a+=t*c}}),l}var t=Number,e=rs,r=0,u=wa;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n};rs={};Zo.layout.stack=function(){function n(a,c){var h,g,p,v,d,m,s=a.map(function(e,r){return t.call(n,e,r)}),l=s.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,l,c);s=Zo.permute(s,f),l=Zo.permute(l,f);v=r.call(n,l,c),d=s.length,m=s[0].length;for(g=0;m>g;++g)for(u.call(n,s[0][g],p=v[g],l[0][g][1]),h=1;d>h;++h)u.call(n,s[h][g],p+=l[h-1][g][1],l[h][g][1]);return a}var t=vt,e=xu,r=Mu,u=yu,i=du,o=mu;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:us.get(t)||xu,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:is.get(t)||Mu,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};us=Zo.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(_u),i=n.map(bu),o=Zo.range(r).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,s=[],l=[];for(t=0;r>t;++t)e=o[t],c>a?(a+=i[e],s.push(e)):(c+=i[e],l.push(e));return l.reverse().concat(s)},"reverse":function(n){return Zo.range(n.length).reverse()},"default":xu}),is=Zo.map({"silhouette":function(n){var t,e,r,u=n.length,i=n[0].length,o=[],a=0,c=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;i>e;++e)c[e]=(a-o[e])/2;return c},"wiggle":function(n){var t,e,r,u,i,o,a,c,s,l=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=s=0,e=1;h>e;++e){for(t=0,u=0;l>t;++t)u+=n[t][e][1];for(t=0,i=0,a=f[e][0]-f[e-1][0];l>t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t>r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;i+=o*n[t][e][1]}g[e]=c-=u?i/u*a:0,s>c&&(s=c)}for(e=0;h>e;++e)g[e]-=s;return g},"expand":function(n){var t,e,r,u=n.length,i=n[0].length,o=1/u,a=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=o}for(e=0;i>e;++e)a[e]=0;return a},"zero":Mu});Zo.layout.histogram=function(){function n(n,i){for(var o,a,c=[],s=n.map(e,this),l=r.call(this,s,i),f=u.call(this,l,s,i),i=-1,h=s.length,g=f.length-1,p=t?1:1/h;++i<g;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g>0)for(i=-1;++i<h;)a=s[i],a>=l[0]&&a<=l[1]&&(o=c[Zo.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}var t=!0,e=Number,r=Eu,u=Su;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=pt(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return ku(n,t)}:pt(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},Zo.layout.tree=function(){function n(n,i){function o(n,t){var i,a,s,l,f,h,g,r=n.children,u=n._tree;if(r&&(i=r.length)){for(l=r[0],f=l,h=-1;++h<i;)s=r[h],o(s,a),f=c(s,a,f),a=s;Du(n);g=.5*(l._tree.prelim+s._tree.prelim);t?(u.prelim=t._tree.prelim+e(n,t),u.mod=u.prelim-g):u.prelim=g}else t&&(u.prelim=t._tree.prelim+e(n,t))}function a(n,t){var e,r,u;n.x=n._tree.prelim+t;e=n.children;if(e&&(r=e.length)){u=-1;for(t+=n._tree.mod;++u<r;)a(e[u],t)}}function c(n,t,r){if(t){for(var u,i=n,o=n,a=t,c=n.parent.children[0],s=i._tree.mod,l=o._tree.mod,f=a._tree.mod,h=c._tree.mod;a=Nu(a),i=Cu(i),a&&i;)c=Cu(c),o=Nu(o),o._tree.ancestor=n,u=a._tree.prelim+f-i._tree.prelim-s+e(a,i),u>0&&(Pu(Uu(a,n,r),n,u),s+=u,l+=u),f+=a._tree.mod,s+=i._tree.mod,h+=c._tree.mod,l+=o._tree.mod;a&&!Nu(o)&&(o._tree.thread=a,o._tree.mod+=f-l),i&&!Cu(c)&&(c._tree.thread=i,c._tree.mod+=s-h,r=n)}return r}var f,h,g,p,v,d,s=t.call(this,n,i),l=s[0];Ru(l,function(n,t){n._tree={"ancestor":n,"prelim":0,"mod":0,"change":0,"shift":0,"number":t?t._tree.number+1:0}}),o(l),a(l,-l._tree.prelim);f=Lu(l,qu),h=Lu(l,Tu),g=Lu(l,zu),p=f.x-e(f,h)/2,v=h.x+e(h,f)/2,d=g.depth||1;return Ru(l,u?function(n){n.x*=r[0],n.y=n.depth*r[1],delete n._tree}:function(n){n.x=(n.x-p)/(v-p)*r[0],n.y=n.depth/d*r[1],delete n._tree}),s}var t=Zo.layout.hierarchy().sort(null).value(null),e=Au,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},fu(n,t)},Zo.layout.pack=function(){function n(n,i){var f,o=e.call(this,n,i),a=o[0],c=u[0],s=u[1],l=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Ru(a,function(n){n.r=+l(n.value)}),Ru(a,Yu),r){f=r*(t?1:Math.max(2*a.r/c,2*a.r/s))/2;Ru(a,function(n){n.r+=f}),Ru(a,Yu),Ru(a,function(n){n.r-=f})}return Vu(a,c/2,s/2,t?1:1/Math.max(2*a.r/c,2*a.r/s)),o}var t,e=Zo.layout.hierarchy().sort(ju),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},fu(n,e)},Zo.layout.cluster=function(){function n(n,i){var o,l,f,h,g,a=t.call(this,n,i),c=a[0],s=0;Ru(c,function(n){var t=n.children;t&&t.length?(n.x=Bu(t),n.y=$u(t)):(n.x=o?s+=e(n,o):0,n.y=0,o=n)});l=Wu(c),f=Ju(c),h=l.x-e(l,f)/2,g=f.x+e(f,l)/2;return Ru(c,u?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=Zo.layout.hierarchy().sort(null).value(null),e=Au,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},fu(n,t)},Zo.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var o,a,c,s,l,h,p,v,i=e.children;if(i&&i.length){s=f(e),l=[],h=i.slice(),p=1/0,v="slice"===g?s.dx:"dice"===g?s.dy:"slice-dice"===g?1&e.depth?s.dy:s.dx:Math.min(s.dx,s.dy);for(n(h,s.dx*s.dy/e.value),l.area=0;(c=h.length)>0;)l.push(o=h[c-1]),l.area+=o.area,"squarify"!==g||(a=r(l,v))<=p?(h.pop(),p=a):(l.area-=l.pop().area,u(l,v,s,!1),v=Math.min(s.dx,s.dy),l.length=l.area=0,p=1/0);l.length&&(u(l,v,s,!0),l.length=l.area=0),i.forEach(t)}}function e(t){var i,o,a,c,r=t.children;if(r&&r.length){o=f(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;i=a.pop();)c.push(i),c.area+=i.area,null!=i.z&&(u(c,i.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,o=n.length,a=e.x,s=e.y,l=t?c(n.area/t):0;if(t==e.dx){for((r||l>e.dy)&&(l=e.dy);++i<o;)u=n[i],u.x=a,u.y=s,u.dy=l,a+=u.dx=Math.min(e.x+e.dx-a,l?c(u.area/l):0);u.z=!0,u.dx+=e.x+e.dx-a,e.y+=l,e.dy-=l}else{for((r||l>e.dx)&&(l=e.dx);++i<o;)u=n[i],u.x=a,u.y=s,u.dx=l,s+=u.dy=Math.min(e.y+e.dy-s,l?c(u.area/l):0);u.z=!1,u.dy+=e.y+e.dy-s,e.x+=l,e.dx-=l}}function i(r){var u=o||a(r),i=u[0];return i.x=0,i.y=0,i.dx=s[0],i.dy=s[1],o&&a.revalue(i),n([i],i.dx*i.dy/i.value),(o?e:t)(i),h&&(o=u),u}var o,a=Zo.layout.hierarchy(),c=Math.round,s=[1,1],l=null,f=Gu,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(n){return arguments.length?(s=n,i):s},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Gu(t):Ku(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Ku(t,n)}if(!arguments.length)return l;var r;return f=null==(l=n)?Gu:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(c=n?Math.round:Number,i):c!=Number},i.sticky=function(n){return arguments.length?(h=n,o=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},fu(i,a)},Zo.random={"normal":function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},"logNormal":function(){var n=Zo.random.normal.apply(Zo,arguments);return function(){return Math.exp(n())}},"irwinHall":function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t/n}}},Zo.scale={};os={"floor":vt,"ceil":vt};Zo.scale.linear=function(){return ii([0,1],[0,1],Tr,!1)},Zo.scale.log=function(){return fi(Zo.scale.linear().domain([0,1]),10,!0,[1,10])};as=Zo.format(".0e"),cs={"floor":function(n){return-Math.ceil(-n)},"ceil":function(n){return-Math.floor(-n)}};Zo.scale.pow=function(){return hi(Zo.scale.linear(),1,[0,1])},Zo.scale.sqrt=function(){return Zo.scale.pow().exponent(.5)},Zo.scale.ordinal=function(){return pi([],{"t":"range","a":[[]]})},Zo.scale.category10=function(){return Zo.scale.ordinal().range(ss)},Zo.scale.category20=function(){return Zo.scale.ordinal().range(ls)},Zo.scale.category20b=function(){return Zo.scale.ordinal().range(fs)},Zo.scale.category20c=function(){return Zo.scale.ordinal().range(hs)};ss=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(it),ls=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(it),fs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(it),hs=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(it);Zo.scale.quantile=function(){return vi([],[])},Zo.scale.quantize=function(){return di(0,1,[0,1])},Zo.scale.threshold=function(){return mi([.5],[0,1])},Zo.scale.identity=function(){return yi([0,1])},Zo.svg={},Zo.svg.arc=function(){function n(){var n=t.apply(this,arguments),i=e.apply(this,arguments),o=r.apply(this,arguments)+gs,a=u.apply(this,arguments)+gs,c=(o>a&&(c=o,o=a,a=c),a-o),s=ba>c?"0":"1",l=Math.cos(o),f=Math.sin(o),h=Math.cos(a),g=Math.sin(a);return c>=ps?n?"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"M0,"+n+"A"+n+","+n+" 0 1,0 0,"+-n+"A"+n+","+n+" 0 1,0 0,"+n+"Z":"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z":n?"M"+i*l+","+i*f+"A"+i+","+i+" 0 "+s+",1 "+i*h+","+i*g+"L"+n*h+","+n*g+"A"+n+","+n+" 0 "+s+",0 "+n*l+","+n*f+"Z":"M"+i*l+","+i*f+"A"+i+","+i+" 0 "+s+",1 "+i*h+","+i*g+"L0,0Z"}var t=xi,e=Mi,r=_i,u=bi;return n.innerRadius=function(e){return arguments.length?(t=pt(e),n):t},n.outerRadius=function(t){return arguments.length?(e=pt(t),n):e},n.startAngle=function(t){return arguments.length?(r=pt(t),n):r},n.endAngle=function(t){return arguments.length?(u=pt(t),n):u},n.centroid=function(){var n=(t.apply(this,arguments)+e.apply(this,arguments))/2,i=(r.apply(this,arguments)+u.apply(this,arguments))/2+gs;return[Math.cos(i)*n,Math.sin(i)*n]},n};gs=-Sa,ps=wa-ka;Zo.svg.line=function(){return wi(vt)};vs=Zo.map({"linear":Si,"linear-closed":ki,"step":Ei,"step-before":Ai,"step-after":Ci,"basis":Ri,"basis-open":Di,"basis-closed":Pi,"bundle":Ui,"cardinal":Ti,"cardinal-open":Ni,"cardinal-closed":Li,"monotone":Ii});vs.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});ds=[0,2/3,1/3,0],ms=[0,1/3,2/3,0],ys=[0,1/6,2/3,1/6];Zo.svg.line.radial=function(){var n=wi(Zi);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},Ai.reverse=Ci,Ci.reverse=Ai,Zo.svg.area=function(){return Vi(vt)},Zo.svg.area.radial=function(){var n=Vi(Zi);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},Zo.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),s=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,s)?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,s.r,s.p0)+r(s.r,s.p1,s.a1-s.a0)+u(s.r,s.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=c.call(n,u,r)+gs,l=s.call(n,u,r)+gs;return{"r":i,"a0":o,"a1":l,"p0":[i*Math.cos(o),i*Math.sin(o)],"p1":[i*Math.cos(l),i*Math.sin(l)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>ba)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=ze,o=Re,a=Xi,c=_i,s=bi;return n.radius=function(t){return arguments.length?(a=pt(t),n):a},n.source=function(t){return arguments.length?(i=pt(t),n):i},n.target=function(t){return arguments.length?(o=pt(t),n):o},n.startAngle=function(t){return arguments.length?(c=pt(t),n):c},n.endAngle=function(t){return arguments.length?(s=pt(t),n):s},n},Zo.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)/2,c=[i,{"x":i.x,"y":a},{"x":o.x,"y":a},o];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=ze,e=Re,r=$i;return n.source=function(e){return arguments.length?(t=pt(e),n):t},n.target=function(t){return arguments.length?(e=pt(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},Zo.svg.diagonal.radial=function(){var n=Zo.svg.diagonal(),t=$i,e=n.projection;return n.projection=function(n){return arguments.length?e(Bi(t=n)):t},n},Zo.svg.symbol=function(){function n(n,r){return(xs.get(t.call(this,n,r))||Gi)(e.call(this,n,r))}var t=Ji,e=Wi;return n.type=function(e){return arguments.length?(t=pt(e),n):t},n.size=function(t){return arguments.length?(e=pt(t),n):e},n};xs=Zo.map({"circle":Gi,"cross":function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},"diamond":function(n){var t=Math.sqrt(n/(2*ws)),e=t*ws;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},"square":function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/bs),e=t*bs/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/bs),e=t*bs/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});Zo.svg.symbolTypes=xs.keys();bs=Math.sqrt(3),ws=Math.tan(30*Aa),Ss=[],ks=0;Ss.call=pa.call,Ss.empty=pa.empty,Ss.node=pa.node,Ss.size=pa.size,Zo.transition=function(n){return arguments.length?Ms?n.transition():n:ma.transition()},Zo.transition.prototype=Ss,Ss.select=function(n){var t,e,r,o,a,c,s,l,u=this.id,i=[];n=v(n);for(o=-1,a=this.length;++o<a;){i.push(t=[]);for(c=this[o],s=-1,l=c.length;++s<l;)(r=c[s])&&(e=n.call(r,r.__data__,s,o))?("__data__"in r&&(e.__data__=r.__data__),to(e,s,u,r.__transition__[u]),t.push(e)):t.push(null)}return Ki(i,u)},Ss.selectAll=function(n){var t,e,r,u,i,c,s,l,f,h,g,p,o=this.id,a=[];n=d(n);for(c=-1,s=this.length;++c<s;)for(l=this[c],f=-1,h=l.length;++f<h;)if(r=l[f]){i=r.__transition__[o],e=n.call(r,r.__data__,f,c),a.push(t=[]);for(g=-1,p=e.length;++g<p;)(u=e[g])&&to(u,g,o,i),t.push(u)}return Ki(a,o)},Ss.filter=function(n){var t,e,r,i,o,a,c,u=[];"function"!=typeof n&&(n=E(n));for(i=0,o=this.length;o>i;i++){u.push(t=[]);for(e=this[i],a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a)&&t.push(r)}return Ki(u,this.id)},Ss.tween=function(n,t){var e=this.id;return arguments.length<2?this.node().__transition__[e].tween.get(n):C(this,null==t?function(t){t.__transition__[e].tween.remove(n)}:function(r){r.__transition__[e].tween.set(n,t)})},Ss.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?nu:Tr,a=Zo.ns.qualify(n);return Qi(this,"attr."+n,t,a.local?i:u)},Ss.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=Zo.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Ss.style=function(n,t,e){function r(){this.style.removeProperty(n)}function u(t){return null==t?r:(t+="",function(){var r,u=Wo.getComputedStyle(this,null).getPropertyValue(n);return u!==t&&(r=Tr(u,t),function(t){this.style.setProperty(n,r(t),e)})})}var i=arguments.length;if(3>i){if("string"!=typeof n){2>i&&(t="");for(e in n)this.style(e,n[e],t);return this}e=""}return Qi(this,"style."+n,t,u)},Ss.styleTween=function(n,t,e){function r(r,u){var i=t.call(this,r,u,Wo.getComputedStyle(this,null).getPropertyValue(n));return i&&function(t){this.style.setProperty(n,i(t),e)}}return arguments.length<3&&(e=""),this.tween("style."+n,r)},Ss.text=function(n){return Qi(this,"text",n,no)},Ss.remove=function(){return this.each("end.transition",function(){var n;this.__transition__.count<2&&(n=this.parentNode)&&n.removeChild(this)})},Ss.ease=function(n){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof n&&(n=Zo.ease.apply(Zo,arguments)),C(this,function(e){e.__transition__[t].ease=n}))},Ss.delay=function(n){var t=this.id;return C(this,"function"==typeof n?function(e,r,u){e.__transition__[t].delay=+n.call(e,e.__data__,r,u)}:(n=+n,function(e){e.__transition__[t].delay=n}))},Ss.duration=function(n){var t=this.id;return C(this,"function"==typeof n?function(e,r,u){e.__transition__[t].duration=Math.max(1,n.call(e,e.__data__,r,u))}:(n=Math.max(1,n),function(e){e.__transition__[t].duration=n}))},Ss.each=function(n,t){var r,u,e=this.id;if(arguments.length<2){r=_s,u=Ms;Ms=e,C(this,function(t,r,u){_s=t.__transition__[e],n.call(t,t.__data__,r,u)}),_s=r,Ms=u}else C(this,function(r){var u=r.__transition__[e];(u.event||(u.event=Zo.dispatch("start","end"))).on(n,t)});return this},Ss.transition=function(){var n,t,e,r,u,i,o,a,c,s,l;for(u=this.id,i=++ks,o=[],a=0,c=this.length;c>a;a++){o.push(n=[]);for(t=this[a],s=0,l=t.length;l>s;s++)(e=t[s])&&(r=Object.create(e.__transition__[u]),r.delay+=r.duration,to(e,s,i,r)),n.push(e)}return Ki(o,i)},Zo.svg.axis=function(){function n(n){n.each(function(){var n,_,b,w,S,k,E,A,s=Zo.select(this),l=this.__chart__||e,f=this.__chart__=e.copy(),h=null==c?f.ticks?f.ticks.apply(f,a):f.domain():c,g=null==t?f.tickFormat?f.tickFormat.apply(f,a):vt:t,p=s.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",ka),d=Zo.transition(p.exit()).style("opacity",ka).remove(),m=Zo.transition(p).style("opacity",1),y=ni(f),x=s.selectAll(".domain").data([0]),M=(x.enter().append("path").attr("class","domain"),Zo.transition(x));v.append("line"),v.append("text");_=v.select("line"),b=m.select("line"),w=p.select("text").text(g),S=v.select("text"),k=m.select("text");switch(r){case"bottom":n=eo,_.attr("y2",u),S.attr("y",Math.max(u,0)+o),b.attr("x2",0).attr("y2",u),k.attr("x",0).attr("y",Math.max(u,0)+o),w.attr("dy",".71em").style("text-anchor","middle"),M.attr("d","M"+y[0]+","+i+"V0H"+y[1]+"V"+i);break;case"top":n=eo,_.attr("y2",-u),S.attr("y",-(Math.max(u,0)+o)),b.attr("x2",0).attr("y2",-u),k.attr("x",0).attr("y",-(Math.max(u,0)+o)),w.attr("dy","0em").style("text-anchor","middle"),M.attr("d","M"+y[0]+","+-i+"V0H"+y[1]+"V"+-i);break;case"left":n=ro,_.attr("x2",-u),S.attr("x",-(Math.max(u,0)+o)),b.attr("x2",-u).attr("y2",0),k.attr("x",-(Math.max(u,0)+o)).attr("y",0),w.attr("dy",".32em").style("text-anchor","end"),M.attr("d","M"+-i+","+y[0]+"H0V"+y[1]+"H"+-i);break;case"right":n=ro,_.attr("x2",u),S.attr("x",Math.max(u,0)+o),b.attr("x2",u).attr("y2",0),k.attr("x",Math.max(u,0)+o).attr("y",0),w.attr("dy",".32em").style("text-anchor","start"),M.attr("d","M"+i+","+y[0]+"H0V"+y[1]+"H"+i)}if(f.rangeBand){E=f.rangeBand()/2,A=function(n){return f(n)+E};v.call(n,A),m.call(n,A)}else v.call(n,l),m.call(n,f),d.call(n,f)})}var t,e=Zo.scale.linear(),r=Es,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in As?t+"":Es,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};Es="bottom",As={"top":1,"right":1,"bottom":1,"left":1};Zo.svg.brush=function(){function n(i){i.each(function(){var a,l,f,h,i=Zo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),o=i.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");a=i.selectAll(".resize").data(d,vt);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Cs[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);f=Zo.transition(i),h=Zo.transition(o);c&&(l=ni(c),h.attr("x",l[0]).attr("width",l[1]-l[0]),e(f)),s&&(l=ni(s),h.attr("y",l[0]).attr("height",l[1]-l[0]),r(f)),t(f)})}function t(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+l[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function e(n){n.select(".extent").attr("x",l[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function r(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function u(){function u(){32==Zo.event.keyCode&&(C||(x=null,L[0]-=l[1],L[1]-=h[1],C=2),f())}function g(){32==Zo.event.keyCode&&2==C&&(L[0]+=l[1],
L[1]+=h[1],C=0,f())}function d(){var n=Zo.mouse(_),u=!1;M&&(n[0]+=M[0],n[1]+=M[1]),C||(Zo.event.altKey?(x||(x=[(l[0]+l[1])/2,(h[0]+h[1])/2]),L[0]=l[+(n[0]<x[0])],L[1]=h[+(n[1]<x[1])]):x=null),E&&m(n,c,0)&&(e(S),u=!0),A&&m(n,s,1)&&(r(S),u=!0),u&&(t(S),w({"type":"brush","mode":C?"move":"resize"}))}function m(n,t,e){var r,u,a=ni(t),c=a[0],s=a[1],f=L[e],g=e?h:l,d=g[1]-g[0];return C&&(c-=f,s-=d+f),r=(e?v:p)?Math.max(c,Math.min(s,n[e])):n[e],C?u=(r+=f)+d:(x&&(f=Math.max(c,Math.min(s,2*x[e]-r))),r>f?(u=r,r=f):u=f),g[0]!=r||g[1]!=u?(e?o=null:i=null,g[0]=r,g[1]=u,!0):void 0}function y(){d(),S.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),Zo.select("body").style("cursor",null),T.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),N(),w({"type":"brushend"})}var x,M,q,z,_=this,b=Zo.select(Zo.event.target),w=a.of(_,arguments),S=Zo.select(_),k=b.datum(),E=!/^(n|s)$/.test(k)&&c,A=!/^(e|w)$/.test(k)&&s,C=b.classed("extent"),N=D(),L=Zo.mouse(_),T=Zo.select(Wo).on("keydown.brush",u).on("keyup.brush",g);if(Zo.event.changedTouches?T.on("touchmove.brush",d).on("touchend.brush",y):T.on("mousemove.brush",d).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),C)L[0]=l[0]-L[0],L[1]=h[0]-L[1];else if(k){q=+/w$/.test(k),z=+/^n/.test(k);M=[l[1-q]-L[0],h[1-z]-L[1]],L[0]=l[q],L[1]=h[z]}else Zo.event.altKey&&(x=L.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),Zo.select("body").style("cursor",b.style("cursor")),w({"type":"brushstart"}),d()}var i,o,a=g(n,"brushstart","brush","brushend"),c=null,s=null,l=[0,0],h=[0,0],p=!0,v=!0,d=Ns[0];return n.event=function(n){n.each(function(){var n=a.of(this,arguments),t={"x":l,"y":h,"i":i,"j":o},e=this.__chart__||t;this.__chart__=t,Ms?Zo.select(this).transition().each("start.brush",function(){i=e.i,o=e.j,l=e.x,h=e.y,n({"type":"brushstart"})}).tween("brush:brush",function(){var e=qr(l,t.x),r=qr(h,t.y);return i=o=null,function(u){l=t.x=e(u),h=t.y=r(u),n({"type":"brush","mode":"resize"})}}).each("end.brush",function(){i=t.i,o=t.j,n({"type":"brush","mode":"resize"}),n({"type":"brushend"})}):(n({"type":"brushstart"}),n({"type":"brush","mode":"resize"}),n({"type":"brushend"}))})},n.x=function(t){return arguments.length?(c=t,d=Ns[!c<<1|!s],n):c},n.y=function(t){return arguments.length?(s=t,d=Ns[!c<<1|!s],n):s},n.clamp=function(t){return arguments.length?(c&&s?(p=!!t[0],v=!!t[1]):c?p=!!t:s&&(v=!!t),n):c&&s?[p,v]:c?p:s?v:null},n.extent=function(t){var e,r,u,a,f;return arguments.length?(c&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),i=[e,r],c.invert&&(e=c(e),r=c(r)),e>r&&(f=e,e=r,r=f),(e!=l[0]||r!=l[1])&&(l=[e,r])),s&&(u=t[0],a=t[1],c&&(u=u[1],a=a[1]),o=[u,a],s.invert&&(u=s(u),a=s(a)),u>a&&(f=u,u=a,a=f),(u!=h[0]||a!=h[1])&&(h=[u,a])),n):(c&&(i?(e=i[0],r=i[1]):(e=l[0],r=l[1],c.invert&&(e=c.invert(e),r=c.invert(r)),e>r&&(f=e,e=r,r=f))),s&&(o?(u=o[0],a=o[1]):(u=h[0],a=h[1],s.invert&&(u=s.invert(u),a=s.invert(a)),u>a&&(f=u,u=a,a=f))),c&&s?[[e,u],[r,a]]:c?[e,r]:s&&[u,a])},n.clear=function(){return n.empty()||(l=[0,0],h=[0,0],i=o=null),n},n.empty=function(){return!!c&&l[0]==l[1]||!!s&&h[0]==h[1]},Zo.rebind(n,a,"on")};Cs={"n":"ns-resize","e":"ew-resize","s":"ns-resize","w":"ew-resize","nw":"nwse-resize","ne":"nesw-resize","se":"nwse-resize","sw":"nesw-resize"},Ns=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ls=Zo.time={},Ts=Date,qs=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];uo.prototype={"getDate":function(){return this._.getUTCDate()},"getDay":function(){return this._.getUTCDay()},"getFullYear":function(){return this._.getUTCFullYear()},"getHours":function(){return this._.getUTCHours()},"getMilliseconds":function(){return this._.getUTCMilliseconds()},"getMinutes":function(){return this._.getUTCMinutes()},"getMonth":function(){return this._.getUTCMonth()},"getSeconds":function(){return this._.getUTCSeconds()},"getTime":function(){return this._.getTime()},"getTimezoneOffset":function(){return 0},"valueOf":function(){return this._.valueOf()},"setDate":function(){zs.setUTCDate.apply(this._,arguments)},"setDay":function(){zs.setUTCDay.apply(this._,arguments)},"setFullYear":function(){zs.setUTCFullYear.apply(this._,arguments)},"setHours":function(){zs.setUTCHours.apply(this._,arguments)},"setMilliseconds":function(){zs.setUTCMilliseconds.apply(this._,arguments)},"setMinutes":function(){zs.setUTCMinutes.apply(this._,arguments)},"setMonth":function(){zs.setUTCMonth.apply(this._,arguments)},"setSeconds":function(){zs.setUTCSeconds.apply(this._,arguments)},"setTime":function(){zs.setTime.apply(this._,arguments)}};zs=Date.prototype,Rs="%a %b %e %X %Y",Ds="%m/%d/%Y",Ps="%H:%M:%S",Us=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],js=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Hs=["January","February","March","April","May","June","July","August","September","October","November","December"],Fs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Ls.year=io(function(n){return n=Ls.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),Ls.years=Ls.year.range,Ls.years.utc=Ls.year.utc.range,Ls.day=io(function(n){var t=new Ts(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),Ls.days=Ls.day.range,Ls.days.utc=Ls.day.utc.range,Ls.dayOfYear=function(n){var t=Ls.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},qs.forEach(function(n,t){n=n.toLowerCase(),t=7-t;var e=Ls[n]=io(function(n){return(n=Ls.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=Ls.year(n).getDay();return Math.floor((Ls.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});Ls[n+"s"]=e.range,Ls[n+"s"].utc=e.utc.range,Ls[n+"OfYear"]=function(n){var e=Ls.year(n).getDay();return Math.floor((Ls.dayOfYear(n)+(e+t)%7)/7)}}),Ls.week=Ls.sunday,Ls.weeks=Ls.sunday.range,Ls.weeks.utc=Ls.sunday.utc.range,Ls.weekOfYear=Ls.sundayOfYear,Ls.format=ao;Os=so(Us),Ys=lo(Us),Is=so(js),Zs=lo(js),Vs=so(Hs),Xs=lo(Hs),$s=so(Fs),Bs=lo(Fs),Ws=/^%/,Js={"-":"","_":" ","0":"0"},Gs={"a":function(n){return js[n.getDay()]},"A":function(n){return Us[n.getDay()]},"b":function(n){return Fs[n.getMonth()]},"B":function(n){return Hs[n.getMonth()]},"c":ao(Rs),"d":function(n,t){return fo(n.getDate(),t,2)},"e":function(n,t){return fo(n.getDate(),t,2)},"H":function(n,t){return fo(n.getHours(),t,2)},"I":function(n,t){return fo(n.getHours()%12||12,t,2)},"j":function(n,t){return fo(1+Ls.dayOfYear(n),t,3)},"L":function(n,t){return fo(n.getMilliseconds(),t,3)},"m":function(n,t){return fo(n.getMonth()+1,t,2)},"M":function(n,t){return fo(n.getMinutes(),t,2)},"p":function(n){return n.getHours()>=12?"PM":"AM"},"S":function(n,t){return fo(n.getSeconds(),t,2)},"U":function(n,t){return fo(Ls.sundayOfYear(n),t,2)},"w":function(n){return n.getDay()},"W":function(n,t){return fo(Ls.mondayOfYear(n),t,2)},"x":ao(Ds),"X":ao(Ps),"y":function(n,t){return fo(n.getFullYear()%100,t,2)},"Y":function(n,t){return fo(n.getFullYear()%1e4,t,4)},"Z":Do,"%":function(){return"%"}},Ks={"a":ho,"A":go,"b":yo,"B":xo,"c":Mo,"d":Co,"e":Co,"H":Lo,"I":Lo,"j":No,"L":zo,"m":Ao,"M":To,"p":Ro,"S":qo,"U":vo,"w":po,"W":mo,"x":_o,"X":bo,"y":So,"Y":wo,"Z":ko,"%":Po},Qs=/^\s*\d+/,nl=Zo.map({"am":0,"pm":1});ao.utc=Uo;tl=Uo("%Y-%m-%dT%H:%M:%S.%LZ");ao.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?jo:tl,jo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},jo.toString=tl.toString,Ls.second=io(function(n){return new Ts(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),Ls.seconds=Ls.second.range,Ls.seconds.utc=Ls.second.utc.range,Ls.minute=io(function(n){return new Ts(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),Ls.minutes=Ls.minute.range,Ls.minutes.utc=Ls.minute.utc.range,Ls.hour=io(function(n){var t=n.getTimezoneOffset()/60;return new Ts(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),Ls.hours=Ls.hour.range,Ls.hours.utc=Ls.hour.utc.range,Ls.month=io(function(n){return n=Ls.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),Ls.months=Ls.month.range,Ls.months.utc=Ls.month.utc.range;el=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],rl=[[Ls.second,1],[Ls.second,5],[Ls.second,15],[Ls.second,30],[Ls.minute,1],[Ls.minute,5],[Ls.minute,15],[Ls.minute,30],[Ls.hour,1],[Ls.hour,3],[Ls.hour,6],[Ls.hour,12],[Ls.day,1],[Ls.day,2],[Ls.week,1],[Ls.month,1],[Ls.month,3],[Ls.year,1]],ul=[[ao("%Y"),Zt],[ao("%B"),function(n){return n.getMonth()}],[ao("%b %d"),function(n){return 1!=n.getDate()}],[ao("%a %d"),function(n){return n.getDay()&&1!=n.getDate()}],[ao("%I %p"),function(n){return n.getHours()}],[ao("%I:%M"),function(n){return n.getMinutes()}],[ao(":%S"),function(n){return n.getSeconds()}],[ao(".%L"),function(n){return n.getMilliseconds()}]],il=Oo(ul);rl.year=Ls.year,Ls.scale=function(){return Ho(Zo.scale.linear(),rl,il)};ol={"range":function(n,t,e){return Zo.range(+n,+t,e).map(Fo)}},al=rl.map(function(n){return[n[0].utc,n[1]]}),cl=[[Uo("%Y"),Zt],[Uo("%B"),function(n){return n.getUTCMonth()}],[Uo("%b %d"),function(n){return 1!=n.getUTCDate()}],[Uo("%a %d"),function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],[Uo("%I %p"),function(n){return n.getUTCHours()}],[Uo("%I:%M"),function(n){return n.getUTCMinutes()}],[Uo(":%S"),function(n){return n.getUTCSeconds()}],[Uo(".%L"),function(n){return n.getUTCMilliseconds()}]],sl=Oo(cl);return al.year=Ls.year.utc,Ls.scale.utc=function(){return Ho(Zo.scale.linear(),al,sl)},Zo.text=dt(function(n){return n.responseText}),Zo.json=function(n,t){return mt(n,"application/json",Yo,t)},Zo.html=function(n,t){return mt(n,"text/html",Io,t)},Zo.xml=dt(function(n){return n.responseXML}),Zo}();define("tiny-lib/d3",function(global){return function(){var ret;return ret||global.d3}}(this));define("tiny-widgets/AngularGauge",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-lib/d3","tiny-widgets/Widget"],function(angular,$,Class,d3,Widget){var domTemplate="<svg class='<%=tinyGaugeSvg%>'></svg>",DEFAULT_CONFIG={"template":domTemplate,"width":300,"height":300,"clazz":{"fill":"gray","stroke":"gray","stroke-width":1,"opacity":.1},"ranges":[],"curValue":60,"startAngle":-120,"endAngle":120,"majorTicks":{"style":{"length":16,"stroke":"gray","stroke-width":1}},"minorTicks":{"style":{"length":10,"stroke":"gray","stroke-width":1}},"needleColor":"red","title":{"text":"","textStyle":{"fill":"#2DABC1","font":"11px Courier","text-anchor":"middle"},"rectStyle":{"fill":"#ccc","stroke":"#666","stroke-width":"1px","opacity":.5}},"ticksLabel":{"step":1,"unit":"%","labelStyle":{"fill":"gray","font":"11px Courier "},"unitStyle":{"fill":"#2DABC1","font":"12px Courier","text-anchor":"middle"}},"transitionDuration":1e3},CONSTANT_CONFIG={"MAJOR_TICKS_NUM":5,"MINOR_TICKS_NUM":9,"OUTER_RADIUS_RADIO":.96,"INNER_RADIUS_RADIO":.86,"MARGIN_TOP":.05,"TEXT_PADDING":.05,"CENTER_INNER_RADIUS":.025,"CENTER_OUTER_RADIUS":.05,"UNIT_TEXT_RADIO":.6,"CUR_VALUE_TEXT_RADIO":.3,"TEXT_HEIGHT_PADDING":.2},AngularGauge=Widget.extend({"init":function(options){var gaugeThis=this;options=$.extend(!0,{},DEFAULT_CONFIG,options);gaugeThis._super(options);gaugeThis.createChart(options)},"createChart":function(options){var gaugeThis=this;gaugeThis._element.children().remove();if(0==options.ranges.length)return;gaugeThis._parseRanges();gaugeThis._calcCenterAndRadius();gaugeThis._setSvgContainer();gaugeThis._setAngleScale();gaugeThis._renderRectFrame();gaugeThis._renderArc();gaugeThis._renderTicks();gaugeThis._renderMajorTicksTexts();gaugeThis._renderNeedle();gaugeThis._renderUnitText();gaugeThis._renderCurValueText()},"_renderRectFrame":function(){var gaugeThis=this,rectFrameClass="tinyRectFrame",rectData=[gaugeThis.options.style],rectFrameElement=gaugeThis.svgContainer.selectAll("rect."+rectFrameClass).data(rectData);rectFrameElement.enter().append("rect").attr("class",rectFrameClass).attr("x",0).attr("y",0).attr("width",gaugeThis.options.width).attr("height",gaugeThis.options.height).style(gaugeThis.options.clazz);rectFrameElement.transition().duration(100).style(gaugeThis.options.clazz)},"_setAngleScale":function(){var gaugeThis=this,options=gaugeThis.options;gaugeThis.angleScale=d3.scale.linear().domain([gaugeThis.minLimit,gaugeThis.maxLimit]).range([options.startAngle*(Math.PI/180),options.endAngle*(Math.PI/180)])},"_renderArc":function(){var gaugeThis=this,translate="translate("+gaugeThis.cx+","+gaugeThis.cy+")",arc=d3.svg.arc().innerRadius(gaugeThis.innerRadius).outerRadius(gaugeThis.outterRadius).startAngle(function(d){return gaugeThis.angleScale(d[0])}).endAngle(function(d){return gaugeThis.angleScale(d[1])});gaugeThis.svgContainer.selectAll("path").data(gaugeThis.dataSource).enter().append("path").attr("class","tinyArcClass").attr("d",arc).style("fill",function(d){return d[2]}).attr("transform",translate)},"_setSvgContainer":function(){var gaugeThis=this,options=gaugeThis.options;gaugeThis.svgContainer=d3.select("."+gaugeThis.svgContainerClass).attr("width",options.width).attr("height",options.height)},"_generateElement":function(){var html,gaugeThis=this;gaugeThis.svgContainerClass=_.uniqueId("svgContainer_");html=_.template(gaugeThis.options.template)({"tinyGaugeSvg":gaugeThis.svgContainerClass});gaugeThis._element=$(html).appendTo($("#"+gaugeThis.options.id))},"_calcCenterAndRadius":function(){var tempX,tempY,angle,referWidth,referHeight,svgWidth,svgHeight,factorW,factorH,factor,padding,gaugeThis=this,options=gaugeThis.options,startAngle=90-options.startAngle,endAngle=90-options.endAngle,referRadius=100,cx=0,cy=0,xMin=xMax=yMax=0,yMin=-1*(referRadius*CONSTANT_CONFIG.INNER_RADIUS_RADIO/CONSTANT_CONFIG.OUTER_RADIUS_RADIO*CONSTANT_CONFIG.CUR_VALUE_TEXT_RADIO+5);for(angle=endAngle;startAngle>=angle;angle++){tempX=cx+Math.cos(angle*Math.PI/180)*referRadius;tempY=cy+Math.sin(angle*Math.PI/180)*referRadius;tempX>xMax&&(xMax=tempX);xMin>tempX&&(xMin=tempX);tempY>yMax&&(yMax=tempY);yMin>tempY&&(yMin=tempY)}referWidth=xMax-xMin;referHeight=yMax-yMin;svgWidth=parseInt(options.width,10);svgHeight=parseInt(options.height,10);factorW=referWidth/svgWidth;factorH=referHeight/svgHeight;if(factorW>factorH){factor=factorW;padding=svgHeight-referHeight/factor;gaugeThis.cx=Math.round(-xMin/factor);gaugeThis.cy=Math.round(yMax/factor+padding/2)}else{factor=factorH;padding=svgWidth-referWidth/factor;gaugeThis.cx=Math.round(-xMin/factor+padding/2);gaugeThis.cy=Math.round(yMax/factor)}gaugeThis.outterRadius=Math.round(referRadius/factor*CONSTANT_CONFIG.OUTER_RADIUS_RADIO);gaugeThis.innerRadius=Math.round(referRadius/factor*CONSTANT_CONFIG.INNER_RADIUS_RADIO)},"_renderTicks":function(){var offsetX1,offsetY1,offsetX2,offsetY2,gaugeThis=this,centerX=gaugeThis.cx,centerY=gaugeThis.cy,majorTicksStyle=gaugeThis.options.majorTicks.style,majorTicksLengh=majorTicksStyle.length,marginTopRadio=CONSTANT_CONFIG.MARGIN_TOP;gaugeThis.majorTicksAngles=gaugeThis._getMajorTicksAngles();gaugeThis.majorTicksValues=gaugeThis._getMajorTicksValues();$.each(gaugeThis.majorTicksAngles,function(index,value){var x1,y1,x2,y2;offsetX1=Math.round(Math.cos(Math.PI/2-value)*(gaugeThis.innerRadius*(1-marginTopRadio)-majorTicksLengh));offsetY1=Math.round(Math.sin(Math.PI/2-value)*(gaugeThis.innerRadius*(1-marginTopRadio)-majorTicksLengh));offsetX2=Math.round(Math.cos(Math.PI/2-value)*(gaugeThis.innerRadius*(1-marginTopRadio)));offsetY2=Math.round(Math.sin(Math.PI/2-value)*(gaugeThis.innerRadius*(1-marginTopRadio)));x1=centerX+offsetX1;y1=centerY+-1*offsetY1;x2=centerX+offsetX2;y2=centerY+-1*offsetY2;gaugeThis.svgContainer.append("svg:line").attr("x1",x1).attr("y1",y1).attr("x2",x2).attr("y2",y2).style(majorTicksStyle);gaugeThis._renderMinorTicks(gaugeThis.majorTicksAngles,gaugeThis.majorTicksValues,index)})},"_renderMinorTicks":function(majorTicksAngles,majorTicksValues,majorIndex){var minorTicksAngles,centerX,centerY,minorTicksStyle,minorTicksLengh,marginTopRadio,gaugeThis=this;if(0===majorIndex)return;minorTicksAngles=gaugeThis._getMinorTicksAngles(majorTicksAngles,majorTicksValues,majorIndex);centerX=gaugeThis.cx;centerY=gaugeThis.cy;minorTicksStyle=gaugeThis.options.minorTicks.style;minorTicksLengh=minorTicksStyle.length;marginTopRadio=CONSTANT_CONFIG.MARGIN_TOP;$.each(minorTicksAngles,function(minorIndex,value){var offsetX1=Math.round(Math.cos(Math.PI/2-value)*(gaugeThis.innerRadius*(1-marginTopRadio)-minorTicksLengh)),offsetY1=Math.round(Math.sin(Math.PI/2-value)*(gaugeThis.innerRadius*(1-marginTopRadio)-minorTicksLengh)),offsetX2=Math.round(Math.cos(Math.PI/2-value)*(gaugeThis.innerRadius*(1-marginTopRadio))),offsetY2=Math.round(Math.sin(Math.PI/2-value)*(gaugeThis.innerRadius*(1-marginTopRadio))),x1=centerX+offsetX1,y1=centerY+-1*offsetY1,x2=centerX+offsetX2,y2=centerY+-1*offsetY2;gaugeThis.svgContainer.append("svg:line").attr("x1",x1).attr("y1",y1).attr("x2",x2).attr("y2",y2).style(minorTicksStyle)})},"_getMinorTicksAngles":function(majorTicksAngles,majorTicksValues,majorIndex){var minValue,maxValue,valueRange,valueAccount,minAngle,maxAngle,angleRange,minorTicksNum,i,angleValue,gaugeThis=this,minorTicksAngles=[],minorTicksInterval=gaugeThis.options.minorTicks.interval;if(minorTicksInterval){minValue=majorTicksValues[majorIndex-1];maxValue=majorTicksValues[majorIndex];valueRange=maxValue-minValue;valueAccount=minValue;valueAccount+=+minorTicksInterval;for(;maxValue>valueAccount;){minorTicksAngles.push(gaugeThis.angleScale(valueAccount));valueAccount+=+minorTicksInterval}return minorTicksAngles}minAngle=majorTicksAngles[majorIndex-1];maxAngle=majorTicksAngles[majorIndex];angleRange=maxAngle-minAngle;minorTicksNum=CONSTANT_CONFIG.MINOR_TICKS_NUM;for(i=1;minorTicksNum>=i;i++){angleValue=minAngle+i*angleRange/(minorTicksNum+1);minorTicksAngles.push(angleValue)}return minorTicksAngles},"_getMajorTicksAngles":function(){var majorTicksValue,majorTicksNum,angleRange,minAngle,angleValue,i,gaugeThis=this,majorTicksAngles=[];if(gaugeThis._isValid()){majorTicksValue=gaugeThis.options.majorTicks.values;$.each(majorTicksValue,function(index,value){majorTicksAngles.push(gaugeThis.angleScale(value))});return majorTicksAngles}majorTicksNum=CONSTANT_CONFIG.MAJOR_TICKS_NUM;angleRange=gaugeThis.options.endAngle-gaugeThis.options.startAngle;minAngle=gaugeThis.options.startAngle;for(i=0;majorTicksNum>i;i++){angleValue=(minAngle+i*angleRange/(majorTicksNum-1))*Math.PI/180;majorTicksAngles.push(angleValue)}return majorTicksAngles},"_getMajorTicksValues":function(minLimit,maxLimit){var majorTicksNum,scaleRange,majorTicksValues,i,gaugeThis=this;if(gaugeThis._isValid())return gaugeThis.options.majorTicks.values;majorTicksNum=CONSTANT_CONFIG.MAJOR_TICKS_NUM;scaleRange=gaugeThis.maxLimit-gaugeThis.minLimit;majorTicksValues=[];for(i=0;majorTicksNum>i;i++)majorTicksValues.push(gaugeThis.minLimit+i*scaleRange/(majorTicksNum-1));return majorTicksValues},"_isValid":function(){var gaugeThis=this,ticksValue=gaugeThis.options.majorTicks.values;return $.isArray(ticksValue)&&ticksValue.length>0},"_parseRanges":function(){var gaugeThis=this;gaugeThis.dataSource=[];gaugeThis.maxLimit=gaugeThis.options.ranges[0].To;gaugeThis.minLimit=gaugeThis.options.ranges[0].From;$.each(gaugeThis.options.ranges,function(index,value){gaugeThis.dataSource.push([value.From,value.To,value.Color]);value.To>gaugeThis.maxLimit&&(gaugeThis.maxLimit=value.To);value.From<gaugeThis.minLimit&&(gaugeThis.minLimit=value.From)})},"_renderMajorTicksTexts":function(){var step,TicksTextsData,i,majorText,gaugeThis=this,ticksTextClass="tinyTicksTexts",textStyle=gaugeThis.options.ticksLabel.labelStyle;gaugeThis.svgContainer.selectAll("text."+ticksTextClass).remove();step=gaugeThis.options.ticksLabel.step;TicksTextsData=[];for(i=0;i<gaugeThis.majorTicksAngles.length;i+=step)TicksTextsData.push([gaugeThis.majorTicksAngles[i],gaugeThis.majorTicksValues[i]]);majorText=gaugeThis.svgContainer.selectAll("text."+ticksTextClass).data(TicksTextsData);majorText.enter().append("text").attr("class",ticksTextClass).attr("x",function(d,i){return gaugeThis._getTicksTextPos(d,i,"x")}).attr("y",function(d,i){return gaugeThis._getTicksTextPos(d,i,"y")}).style(textStyle).attr("text-anchor",function(d){return gaugeThis._setTextAnchor(d)}).text(function(d){return d[1]})},"_setTextAnchor":function(data){var cosPositive10=Math.cos(100*Math.PI/180),cosNegative10=Math.cos(80*Math.PI/180),cosAngle=Math.cos(Math.PI/2-data[0]),textAnchor="middle";cosAngle>cosNegative10&&(textAnchor="end");cosPositive10>cosAngle&&(textAnchor="start");return textAnchor},"_getTicksTextPos":function(data,index,posFlag){var cosAngle,x1,sinAngle,sinFactor,y1,gaugeThis=this,majorTicksLengh=gaugeThis.options.majorTicks.style.length,len=gaugeThis.innerRadius*(1-CONSTANT_CONFIG.MARGIN_TOP-CONSTANT_CONFIG.TEXT_PADDING)-majorTicksLengh;if("x"==posFlag){cosAngle=Math.cos(Math.PI/2-data[0]);x1=gaugeThis.cx+Math.round(cosAngle*len);return x1}sinAngle=Math.sin(Math.PI/2-data[0]);sinFactor=1;0>sinAngle&&(sinFactor=1.1);sinAngle>0&&(sinFactor=.9);y1=gaugeThis.cy-Math.round(sinAngle*len*sinFactor);return y1},"_getCurValue":function(){var gaugeThis=this,maxLimit=gaugeThis.maxLimit,minLimit=gaugeThis.minLimit,curValue=gaugeThis.options.curValue;_.isNumber(curValue)||(curValue=minLimit);_.isNumber(curValue)&&minLimit>curValue&&(curValue=minLimit);_.isNumber(curValue)&&curValue>maxLimit&&(curValue=maxLimit);return curValue},"_getNeedleAngle":function(){var gaugeThis=this,curValue=gaugeThis._getCurValue();return gaugeThis.angleScale(curValue)},"_getNeedleLen":function(){var gaugeThis=this,marginTopRadio=CONSTANT_CONFIG.MARGIN_TOP,majorTicksLengh=gaugeThis.options.majorTicks.style.length,needleLen=gaugeThis.innerRadius*(1-marginTopRadio)-majorTicksLengh;return needleLen},"_renderNeedle":function(){var needleLen,translate,needleContainer,needlePath,gaugeThis=this,centerX=gaugeThis.cx,centerY=gaugeThis.cy,radius=Math.round(gaugeThis.innerRadius*CONSTANT_CONFIG.CENTER_OUTER_RADIUS),needleColor=gaugeThis.options.needleColor;gaugeThis.svgContainer.append("circle").attr("r",radius).attr("cy",centerY).attr("cx",centerX).attr("fill",needleColor);gaugeThis.needleAngle=gaugeThis._getNeedleAngle();needleLen=gaugeThis._getNeedleLen();translate="translate("+gaugeThis.cx+","+gaugeThis.cy+")";needleContainer=gaugeThis.svgContainer.append("g").attr("transform",translate);needlePath=gaugeThis._getNeedlePath(gaugeThis.needleAngle,needleLen);gaugeThis.needle=needleContainer.append("path").attr("d",needlePath).style("stroke-width",1).style("stroke",needleColor).style("fill",needleColor)},"_getNeedlePath":function(needleAngle,needleLen){var gaugeThis=this,topX=needleLen*Math.cos(Math.PI/2-needleAngle),topY=needleLen*Math.sin(Math.PI/2-needleAngle)*-1,needleRadius=Math.round(gaugeThis.innerRadius*CONSTANT_CONFIG.CENTER_INNER_RADIUS),leftX=needleRadius*Math.cos(Math.PI/2-needleAngle+Math.PI/2),leftY=needleRadius*Math.sin(Math.PI/2-needleAngle+Math.PI/2)*-1,rightX=needleRadius*Math.cos(Math.PI/2-needleAngle-Math.PI/2),rightY=needleRadius*Math.sin(Math.PI/2-needleAngle-Math.PI/2)*-1,path="M "+leftX+" "+leftY+" L "+topX+" "+topY+" L "+rightX+" "+rightY;return path},"_renderUnitText":function(){var unitText,centerX,centerY,unitTextRadio,posX,posY,unitStyle,gaugeThis=this,unitTextClass="tinyUnitText";gaugeThis.svgContainer.selectAll("text."+unitTextClass).remove();unitText=gaugeThis.options.ticksLabel.unit;if(!unitText)return;centerX=gaugeThis.cx;centerY=gaugeThis.cy;unitTextRadio=CONSTANT_CONFIG.UNIT_TEXT_RADIO;posX=centerX;posY=centerY-gaugeThis.innerRadius*(1-unitTextRadio);unitStyle=gaugeThis.options.ticksLabel.unitStyle;gaugeThis.svgContainer.append("text").attr("class",unitTextClass).attr("x",posX).attr("y",posY).style(unitStyle).text(unitText)},"_formatText":function(){var valueRegExp,matchResult,gaugeThis=this,title=gaugeThis.options.title.text,curValue=gaugeThis._getCurValue();""==title&&(title=curValue.toString());title=title.toString();valueRegExp=new RegExp("%x\\.{0,1}(\\d{0,})","g");matchResult=title.match(valueRegExp);if(null!==matchResult){if(""!==RegExp.$1){precision=RegExp.$1;curValue=curValue.toFixed(precision)}title=title.replace(valueRegExp,curValue)}return title},"_renderRect":function(title,x,y){var heightPadding,posX,posY,width,height,rectData,rectElement,gaugeThis=this,rectClass="tinyCurValueRect",rectStyle=gaugeThis.options.title.rectStyle,titleStyle=gaugeThis.options.title.textStyle,tempText=(parseInt(gaugeThis.options.transitionDuration),gaugeThis.svgContainer.append("text").attr("x",x).attr("y",y).style(titleStyle).style("fill","transparent").text(title)),bbox=tempText.node().getBBox();tempText.remove();heightPadding=bbox.height*CONSTANT_CONFIG.TEXT_HEIGHT_PADDING;posX=bbox.x-heightPadding;posY=bbox.y-heightPadding;width=bbox.width+2*heightPadding;height=bbox.height+2*heightPadding;rectData=[[posX,posY,width,height]];rectElement=gaugeThis.svgContainer.selectAll("rect."+rectClass).data(rectData);rectElement.enter().append("rect").attr("class",rectClass).attr("x",function(d){return d[0]}).attr("y",function(d){return d[1]}).attr("rx",2).attr("ry",2).attr("width",function(d){return d[2]}).attr("height",function(d){return d[3]}).style(rectStyle);rectElement.transition().duration(100).attr("x",function(d){return d[0]}).attr("y",function(d){return d[1]}).attr("width",function(d){return d[2]}).attr("height",function(d){return d[3]}).style(rectStyle)},"_renderCurValueText":function(){var gaugeThis=this,textClass="tinyCurValueText",posX=(parseInt(gaugeThis.options.transitionDuration),gaugeThis.cx),posY=gaugeThis.cy+gaugeThis.innerRadius*CONSTANT_CONFIG.CUR_VALUE_TEXT_RADIO,titleStyle=gaugeThis.options.title.textStyle,title=gaugeThis._formatText(),titleElement=gaugeThis.svgContainer.selectAll("text."+textClass).data([title]);gaugeThis._renderRect(title,posX,posY);titleElement.enter().append("text").attr("class",textClass).attr("x",posX).attr("y",posY).style(titleStyle).text(function(d){return d});titleElement.transition().duration(500).attr("x",posX).attr("y",posY).style(titleStyle).text(function(d){return d})},"_setOption":function(key,value){var gaugeThis=this;gaugeThis._updateOptions(key,value);switch(key){case"id":gaugeThis._updateId(value);break;case"title":gaugeThis._renderCurValueText();break;case"curValue":gaugeThis._updateNeedle();break;case"ticksLabel":gaugeThis._renderMajorTicksTexts();gaugeThis._renderUnitText();break;case"clazz":gaugeThis._renderRectFrame();break;case"ranges":case"majorTicks":case"minorTicks":case"width":case"height":case"startAngle":case"endAngle":gaugeThis.createChart(gaugeThis.options)}},"_updateOptions":function(key,value){var gaugeThis=this;_.isArray(value)?gaugeThis.options[key]=$.extend(!0,[],value):_.isObject(value)?gaugeThis.options[key]=$.extend(!0,this.options[key],value):gaugeThis.options[key]=value},"_updateNeedle":function(){var gaugeThis=this,transitionDuration=parseInt(gaugeThis.options.transitionDuration),newAngle=gaugeThis._getNeedleAngle(),changeRange=180*(newAngle-gaugeThis.needleAngle)/Math.PI;gaugeThis.needle.transition().duration(transitionDuration).attr("transform","rotate("+changeRange+")")}});window.tinyWidget.AngularGauge=AngularGauge;return AngularGauge});define("tiny-directives/AngularGauge",["tiny-directives/Directive","tiny-widgets/AngularGauge"],function(Directive,AngularGauge){var DEFAULT_CONFIG={"directiveName":"tinyAngularGauge","widgetClass":AngularGauge,"constantProperties":["ranges"],"scope":{"id":"=","width":"=","height":"=","style":"=","clazz":"=","ranges":"=","curValue":"=","startAngle":"=","endAngle":"=","majorTicks":"=","minorTicks":"=","needleColor":"=","title":"=","ticksLabel":"=","transitionDuration":"="},"template":"<span></span>","replace":!0};AngularGauge=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var constantPro,widgetObj,directiveThis=this,tinyDirectiveGaugeId=_.uniqueId("tinyDirectiveGauge_");element.attr("id",tinyDirectiveGaugeId);constantPro=_.pick(scope,directiveThis.constantProperties);constantPro.id=tinyDirectiveGaugeId;directiveThis.widgetInstance=new directiveThis.widgetClass(constantPro);element.replaceWith(directiveThis.widgetInstance._element);widgetObj=directiveThis.widgetInstance;scope.$watch("id",function(newValues,oldValues){widgetObj.option("id",newValues)});scope.$watch("width",function(newValues,oldValues){widgetObj.option("width",newValues)});scope.$watch("height",function(newValues,oldValues){widgetObj.option("height",newValues)});scope.$watch("clazz",function(newValues,oldValues){widgetObj.option("clazz",newValues)});scope.$watch("ranges",function(newValues,oldValues){widgetObj.option("ranges",newValues)});scope.$watch("curValue",function(newValues,oldValues){widgetObj.option("curValue",newValues)});scope.$watch("startAngle",function(newValues,oldValues){widgetObj.option("startAngle",newValues)});scope.$watch("endAngle",function(newValues,oldValues){widgetObj.option("endAngle",newValues)});scope.$watch("majorTicks",function(newValues,oldValues){widgetObj.option("majorTicks",newValues)});scope.$watch("minorTicks",function(newValues,oldValues){widgetObj.option("minorTicks",newValues)});scope.$watch("needleColor",function(newValues,oldValues){widgetObj.option("needleColor",newValues)});scope.$watch("title",function(newValues,oldValues){widgetObj.option("title",newValues)});scope.$watch("ticksLabel",function(newValues,oldValues){widgetObj.option("ticksLabel",newValues)});scope.$watch("transitionDuration",function(newValues,oldValues){widgetObj.option("transitionDuration",newValues)})}});(new AngularGauge).toAngularDirective();return AngularGauge});define("tiny-common/util",["tiny-lib/jquery","tiny-lib/underscore","tiny-lib/angular","tiny-lib/Class"],function($,_,angluar,Class){function isTrue(value){return value===!0||"true"===value}function isFalse(value){return value===!1||"false"===value}function getBoolean(value,def){return isTrue(value)||isFalse(value)?isTrue(value):def}function isEmptyString(str){return void 0!==str&&0===(""+str).replace(/ /g,"").length}return{"isTrue":isTrue,"isFalse":isFalse,"getBoolean":getBoolean,"isEmptyString":isEmptyString}});define("tiny-widgets/Tip",["tiny-lib/jquery","tiny-widgets/Widget"],function($,Widget){var DEFAULT_CONFIG={"template":'<span class="tiny-tip"></span>',"auto":!0,"element":null,"containerStyle":"","content":"Tiny ToolTips."},CONST_VALUES={"WHITE_SPACE":10,"LEFT_SPACE":12,"VERTICAL_OFFSET":2,"HORIZONTAL_OFFSET":2,"PADDING_NO_RACTANGLE":18,"PADDING_WIDTH":18},Tip=Widget.extend({"init":function(options){var tipThis=this;tipThis.isShown=!1;tipThis._super(_.extend({},DEFAULT_CONFIG,options))},"_addBehavior":function(){var tipThis=this,options=tipThis.options;if(!options.element)return;if(options.auto){$(options.element).on("mouseover.tinyTip",function(event){tipThis.show(options.time)});$(options.element).on("mouseout.tinyTip",function(event){tipThis.hide()})}},"_setOption":function(key,value){var tipThis=this;tipThis._super(key,value);switch(key){case"content":if(tipThis.isShown){tipThis.hide();tipThis.show(tipThis.options.time)}}},"show":function(time){var options,inputElem,inputPosition,inputWidth,inputHeight,tipThis=this;if(tipThis.isShown)return;options=tipThis.options;inputElem=$(options.element);inputPosition=inputElem.offset();inputWidth=inputElem[0].offsetWidth;inputHeight=inputElem[0].offsetHeight;switch(options.position){case"right":tipThis._showTipRight(inputPosition,inputWidth,inputHeight);
break;case"top":tipThis._showTipTop(inputPosition,inputWidth,inputHeight);break;case"bottom":tipThis._showTipBottom(inputPosition,inputWidth,inputHeight);break;case"left":tipThis._showTipLeft(inputPosition,inputWidth,inputHeight);break;case"top-left":tipThis._showTipTopLeft(inputPosition,inputWidth,inputHeight);break;case"top-right":tipThis._showTipTopRight(inputPosition,inputWidth,inputHeight);break;case"bottom-left":tipThis._showTipBottomLeft(inputPosition,inputWidth,inputHeight);break;case"bottom-right":tipThis._showTipBottomRight(inputPosition,inputWidth,inputHeight);break;default:tipThis._showTipAdaptive(inputPosition,inputWidth,inputHeight)}tipThis._element.append(options.content).appendTo("body");tipThis.isShown=!0;options.containerStyle&&tipThis._element.addClass(options.containerStyle+"");tipThis.indexTop=$(options.element).offset().top-tipThis._element.offset().top;tipThis.indexLeft=$(options.element).offset().left-tipThis._element.offset().left;$(document).on("tipRelocation",function(event){tipThis._element.css({"top":$(options.element).offset().top-tipThis.indexTop,"left":$(options.element).offset().left-tipThis.indexLeft})});$(document).on("mousewheel.tinyTip DOMMouseScroll.tinyTip tipHide",function(event){tipThis.hide()});tipThis.historyOperate=function(event){tipThis.hide()};"Microsoft Internet Explorer"==navigator.appName&&"9."==navigator.appVersion.match(/9./)?window.attachEvent("onhashchange",tipThis.historyOperate):window.addEventListener("popstate",tipThis.historyOperate);isNaN(time)||setTimeout(function(){tipThis.hide()},time)},"_showTipRight":function(inputPosition,inputWidth,inputHeight){var tempTip,tempHeight,tipThis=this,options=tipThis.options,availableWidth=2*inputWidth,definedWidth=parseInt(options.width,10),isDefined=!isNaN(definedWidth),maxWidth=isDefined?definedWidth:availableWidth;maxWidth=maxWidth-CONST_VALUES.PADDING_WIDTH>0?maxWidth:availableWidth;maxWidth-=CONST_VALUES.PADDING_WIDTH;tempTip=$('<span class="tiny-tip"></span>').append(options.content);tempTip.css("max-width",maxWidth+"px").appendTo("body");tempHeight=tempTip[0].offsetHeight;tempTip.remove();tipThis._element.addClass("tiny-tip-content-right");tipThis._element.css({"left":inputPosition.left+inputWidth+CONST_VALUES.WHITE_SPACE,"top":inputPosition.top+(inputHeight-tempHeight)/2,"max-width":maxWidth+"px"})},"_showTipTop":function(inputPosition,inputWidth,inputHeight){var maxWidth,verticalRightSpace,tempHeight,tipThis=this,options=tipThis.options,isDefined=!isNaN(parseInt(options.width)),tempTip=$('<span class="tiny-tip"></span>').append(options.content);if(isDefined){maxWidth=parseInt(options.width,10)-CONST_VALUES.PADDING_WIDTH;tipThis._element.css("max-width",maxWidth+"px");tempTip.css("max-width",maxWidth+"px")}else{verticalRightSpace=2*inputWidth;tipThis._element.css("max-width",verticalRightSpace+"px");tempTip.css("max-width",verticalRightSpace+"px")}tempTip.appendTo("body");tempHeight=tempTip[0].offsetHeight;tempTip.remove();tipThis._element.addClass("tiny-tip-content-top");tipThis._element.css({"left":inputPosition.left+CONST_VALUES.LEFT_SPACE,"top":inputPosition.top-tempHeight-CONST_VALUES.WHITE_SPACE})},"_showTipBottom":function(inputPosition,inputWidth,inputHeight){var verticalRightSpace,tipThis=this,options=tipThis.options,isDefined=!isNaN(parseInt(options.width));if(isDefined)tipThis._element.css("max-width",parseInt(options.width,10)+"px");else{verticalRightSpace=2*inputWidth;tipThis._element.css("max-width",verticalRightSpace+"px")}tipThis._element.addClass("tiny-tip-content-bottom");tipThis._element.css({"left":inputPosition.left+CONST_VALUES.LEFT_SPACE,"top":inputPosition.top+inputHeight+CONST_VALUES.WHITE_SPACE})},"_showTipLeft":function(inputPosition,inputWidth,inputHeight){var tempTip,tempHeight,tempWidth,tipThis=this,options=tipThis.options,availableWidth=inputPosition.left-CONST_VALUES.WHITE_SPACE,definedWidth=parseInt(options.width,10),isDefined=!isNaN(definedWidth),maxWidth=!isDefined||isDefined&&definedWidth>availableWidth?availableWidth:definedWidth;maxWidth-=CONST_VALUES.PADDING_WIDTH;tempTip=$('<span class="tiny-tip"></span>').append(options.content);tempTip.css("max-width",maxWidth+"px").appendTo("body");tempHeight=tempTip[0].offsetHeight;tempWidth=tempTip[0].offsetWidth;tempTip.remove();tipThis._element.addClass("tiny-tip-content-left");tipThis._element.css({"left":inputPosition.left-tempWidth-CONST_VALUES.WHITE_SPACE,"top":inputPosition.top+(inputHeight-tempHeight)/2,"max-width":maxWidth+"px"})},"_showTipTopLeft":function(inputPosition,inputWidth,inputHeight){var tempTip,tempHeight,tempWidth,tipPositionTop,tipThis=this,options=tipThis.options,availableWidth=inputPosition.left-CONST_VALUES.HORIZONTAL_OFFSET,definedWidth=parseInt(options.width,10),isDefined=!isNaN(definedWidth),maxWidth=!isDefined||isDefined&&definedWidth>availableWidth?availableWidth:definedWidth;maxWidth=maxWidth-CONST_VALUES.PADDING_NO_RACTANGLE>0?maxWidth:availableWidth;maxWidth-=CONST_VALUES.PADDING_NO_RACTANGLE;tempTip=$('<span class="tiny-tip-no-ractangle"></span>').append(options.content);tempTip.css("max-width",maxWidth+"px").appendTo("body");tempHeight=tempTip[0].offsetHeight;tempWidth=tempTip[0].offsetWidth;tempTip.remove();tipThis._element.addClass("tiny-tip-content-no-ractangle");tipPositionTop=inputPosition.top-tempHeight-CONST_VALUES.VERTICAL_OFFSET;tipThis._element.css({"left":inputPosition.left-tempWidth-CONST_VALUES.HORIZONTAL_OFFSET,"top":tipPositionTop>0?tipPositionTop:0,"max-width":maxWidth+"px"})},"_showTipTopRight":function(inputPosition,inputWidth,inputHeight){var tempTip,tempHeight,tipPositionTop,tipThis=this,options=tipThis.options,availableWidth=2*inputWidth,definedWidth=parseInt(options.width,10),isDefined=!isNaN(definedWidth),maxWidth=isDefined?definedWidth:availableWidth;maxWidth=maxWidth>CONST_VALUES.PADDING_NO_RACTANGLE?maxWidth:availableWidth;maxWidth-=CONST_VALUES.PADDING_NO_RACTANGLE;tempTip=$('<span class="tiny-tip-no-ractangle"></span>').append(options.content);tempTip.css("max-width",maxWidth+"px").appendTo("body");tempHeight=tempTip[0].offsetHeight;tempTip.remove();tipThis._element.addClass("tiny-tip-content-no-ractangle");tipPositionTop=inputPosition.top-tempHeight-CONST_VALUES.VERTICAL_OFFSET;tipThis._element.css({"left":inputPosition.left+inputWidth+CONST_VALUES.HORIZONTAL_OFFSET,"top":tipPositionTop>0?tipPositionTop:0,"max-width":maxWidth+"px"})},"_showTipBottomLeft":function(inputPosition,inputWidth,inputHeight){var tipThis=this,options=tipThis.options,availableWidth=inputPosition.left-CONST_VALUES.HORIZONTAL_OFFSET,definedWidth=parseInt(options.width,10),isDefined=!isNaN(definedWidth),maxWidth=!isDefined||isDefined&&definedWidth>availableWidth?availableWidth:definedWidth;maxWidth=maxWidth-CONST_VALUES.PADDING_NO_RACTANGLE>0?maxWidth:availableWidth;maxWidth-=CONST_VALUES.PADDING_NO_RACTANGLE;tipThis._element.css("max-width",maxWidth+"px");tipThis._element.addClass("tiny-tip-content-no-ractangle");tipThis._element.css({"left":inputPosition.left-maxWidth-CONST_VALUES.PADDING_NO_RACTANGLE-CONST_VALUES.HORIZONTAL_OFFSET,"top":inputPosition.top+inputHeight+CONST_VALUES.VERTICAL_OFFSET})},"_showTipBottomRight":function(inputPosition,inputWidth,inputHeight){var tempTip,tempHeight,tipPositionTop,tipThis=this,options=tipThis.options,availableWidth=2*inputWidth,definedWidth=parseInt(options.width,10),isDefined=!isNaN(definedWidth),maxWidth=isDefined?definedWidth:availableWidth;maxWidth=maxWidth-CONST_VALUES.PADDING_NO_RACTANGLE>0?maxWidth:availableWidth;maxWidth-=CONST_VALUES.PADDING_NO_RACTANGLE;tempTip=$('<span class="tiny-tip-no-ractangle"></span>').append(options.content);tempTip.css("max-width",maxWidth+"px").appendTo("body");tempHeight=tempTip[0].offsetHeight;tempTip.remove();tipThis._element.addClass("tiny-tip-content-no-ractangle");tipPositionTop=inputPosition.top-tempHeight-CONST_VALUES.VERTICAL_OFFSET;tipThis._element.css({"left":inputPosition.left+inputWidth+CONST_VALUES.HORIZONTAL_OFFSET,"top":inputPosition.top+inputHeight+CONST_VALUES.VERTICAL_OFFSET,"max-width":maxWidth+"px"})},"_showTipAdaptive":function(inputPosition,inputWidth,inputHeight){var singleRowWidth,tempHeightRight,verticalRightSpace,maxWidthVertical,tempHeightVertical,availableTop,tipThis=this,options=tipThis.options,definedWidth=parseInt(options.width,10),isDefined=!isNaN(definedWidth),tempTip=$('<span class="tiny-tip"></span>').append(options.content).appendTo("body"),availableRight=2*inputWidth,maxWidthRight=isDefined?definedWidth:availableRight;maxWidthRight-=CONST_VALUES.PADDING_WIDTH;singleRowWidth=tempTip[0].offsetWidth;if(1.5*maxWidthRight>=singleRowWidth){tempTip.css("max-width",maxWidthRight+"px");tempHeightRight=tempTip[0].offsetHeight;tempTip.remove();tipThis._element.addClass("tiny-tip-content-right");tipThis._element.css({"left":inputPosition.left+inputWidth+CONST_VALUES.WHITE_SPACE,"top":inputPosition.top+(inputHeight-tempHeightRight)/2,"max-width":parseInt(maxWidthRight)+"px"});return}verticalRightSpace=2*inputWidth;maxWidthVertical=isDefined?definedWidth:verticalRightSpace;maxWidthVertical-=CONST_VALUES.PADDING_WIDTH;tempTip.css("max-width",maxWidthVertical+"px");tempHeightVertical=tempTip[0].offsetHeight;tempTip.remove();availableTop=3*inputHeight;if(availableTop>tempHeightVertical){tipThis._element.addClass("tiny-tip-content-top");tipThis._element.css({"left":inputPosition.left+CONST_VALUES.LEFT_SPACE,"top":inputPosition.top-tempHeightVertical-CONST_VALUES.WHITE_SPACE,"max-width":parseInt(maxWidthVertical)+"px"});return}tipThis._element.addClass("tiny-tip-content-bottom");tipThis._element.css({"left":inputPosition.left+CONST_VALUES.LEFT_SPACE,"top":inputPosition.top+inputHeight+CONST_VALUES.WHITE_SPACE,"max-width":parseInt(maxWidthVertical)+"px"})},"hide":function(){var tipThis=this;if(!tipThis.isShown)return;tipThis._element.html("");$(document).unbind("mousewheel.tinyTip DOMMouseScroll.tinyTip tipRelocation tipHide");"Microsoft Internet Explorer"==navigator.appName&&"9."==navigator.appVersion.match(/9./)?window.detachEvent("onhashchange",tipThis.historyOperate):window.removeEventListener("popstate",tipThis.historyOperate);tipThis._element.remove();tipThis.isShown=!1},"remove":function(){var tipThis=this;tipThis.hide()}});window.tinyWidget.Tip=Tip;return Tip});define("tiny-lib/encoder",["tiny-lib/jquery","tiny-lib/Class"],function($,Class){var hex,c,methods,PushbackString,Codec,HTMLEntityCodec,PercentCodec,CSSCodec,Trie,isValidCodePoint,isWhiteSpace,MAP_ENTITY_TO_CHAR,MAP_CHAR_TO_ENTITY,ENTITY_TO_CHAR_TRIE,default_immune={"js":[",",".","_"," "]},attr_whitelist_classes={"default":[",",".","-","_"," "]},attr_whitelist={"width":["%"],"height":["%"]},css_whitelist_classes={"default":["-"," ","%"],"color":["#"," ","(",")"],"image":["(",")",":","/","?","&","-",".",'"',"="," "]},css_whitelist={"background":["(",")",":","%","/","?","&","-"," ",".",'"',"=","#"],"background-image":css_whitelist_classes.image,"background-color":css_whitelist_classes.color,"border-color":css_whitelist_classes.color,"border-image":css_whitelist_classes.image,"color":css_whitelist_classes.color,"icon":css_whitelist_classes.image,"list-style-image":css_whitelist_classes.image,"outline-color":css_whitelist_classes.color},unsafeKeys={"attr_name":["on[a-z]{1,}","style","href","src"],"attr_val":["javascript:"],"css_key":["behavior","-moz-behavior","-ms-behavior"],"css_val":["expression"]},options={"blacklist":!0},hasBeenInitialized=!1;$.encoder={"author":"Chris Schmidt (chris.schmidt@owasp.org)","version":"${project.version}","init":function(opts){if(hasBeenInitialized)throw"jQuery Encoder has already been initialized - cannot set options after initialization";hasBeenInitialized=!0;$.extend(options,opts)},"encodeForHTML":function(input){hasBeenInitialized=!0;var div=document.createElement("div");$(div).text(input);return $(div).html()},"encodeForHTMLAttribute":function(attr,input,omitAttributeName){var immune,i,a,encoded,p,pc,ch,cc,hex;hasBeenInitialized=!0;attr=$.encoder.canonicalize(attr).toLowerCase();input=$.encoder.canonicalize(input);for(i=0;i<unsafeKeys.attr_name.length;i++)if(attr.toLowerCase().match(unsafeKeys.attr_name[i]))throw"Unsafe attribute name used: "+attr;for(a=0;a<unsafeKeys.attr_val.length;a++)if(input.toLowerCase().match(unsafeKeys.attr_val[a]))throw"Unsafe attribute value used: "+input;immune=attr_whitelist[attr];immune||(immune=attr_whitelist_classes.default);encoded="";if(!omitAttributeName){for(p=0;p<attr.length;p++){pc=attr.charAt(p);if(!pc.match(/[a-zA-Z\-0-9]/))throw"Invalid attribute name specified";encoded+=pc}encoded+='="'}for(i=0;i<input.length;i++){ch=input.charAt(i),cc=input.charCodeAt(i);if(!ch.match(/[a-zA-Z0-9]/)&&$.inArray(ch,immune)<0){hex=cc.toString(16);encoded+="&#x"+hex+";"}else encoded+=ch}omitAttributeName||(encoded+='"');return encoded},"encodeForCSS":function(propName,input,omitPropertyName){var immune,a,encoded,p,pc,i,ch,cc,hex,pad;hasBeenInitialized=!0;propName=$.encoder.canonicalize(propName).toLowerCase();input=$.encoder.canonicalize(input);if($.inArray(propName,unsafeKeys.css_key)>=0)throw"Unsafe property name used: "+propName;for(a=0;a<unsafeKeys.css_val.length;a++)if(input.toLowerCase().indexOf(unsafeKeys.css_val[a])>=0)throw"Unsafe property value used: "+input;immune=css_whitelist[propName];immune||(immune=css_whitelist_classes.default);encoded="";if(!omitPropertyName){for(p=0;p<propName.length;p++){pc=propName.charAt(p);if(!pc.match(/[a-zA-Z\-]/))throw"Invalid Property Name specified";encoded+=pc}encoded+=": "}for(i=0;i<input.length;i++){ch=input.charAt(i),cc=input.charCodeAt(i);if(!ch.match(/[a-zA-Z0-9]/)&&$.inArray(ch,immune)<0){hex=cc.toString(16);pad="000000".substr(hex.length);encoded+="\\"+pad+hex}else encoded+=ch}return encoded},"encodeForURL":function(input,attr){hasBeenInitialized=!0;var encoded="";if(attr){if(!attr.match(/^[A-Za-z\-0-9]{1,}$/))throw"Illegal Attribute Name Specified";encoded+=$.encoder.canonicalize(attr).toLowerCase();encoded+='="'}encoded+=encodeURIComponent(input);encoded+=attr?'"':"";return encoded},"encodeForJavascript":function(input){var encoded,i,ch,cc,temp,pad,immune=default_immune.js;hasBeenInitialized=!0;encoded="";for(i=0;i<input.length;i++){ch=input.charAt(i),cc=input.charCodeAt(i);if($.inArray(ch,immune)>=0||null==hex[cc]){encoded+=ch;continue}temp=cc.toString(16);if(256>cc){pad="00".substr(temp.length);encoded+="\\x"+pad+temp.toUpperCase()}else{pad="0000".substr(temp.length);encoded+="\\u"+pad+temp.toUpperCase()}}return encoded},"canonicalize":function(input,strict){var out,cycle_out,decodeCount,cycles,codecs,i,new_out;hasBeenInitialized=!0;if(null===input)return null;out=input,cycle_out=input;decodeCount=0,cycles=0;codecs=[new HTMLEntityCodec,new PercentCodec,new CSSCodec];for(;;){cycle_out=out;for(i=0;i<codecs.length;i++){new_out=codecs[i].decode(out);if(new_out!=out){decodeCount++;out=new_out}}if(cycle_out==out)break;cycles++}if(strict&&decodeCount>1)throw"Attack Detected - Multiple/Double Encodings used in input";return out}};hex=[];for(c=0;255>c;c++)c>=48&&57>=c||c>=65&&90>=c||c>=97&&122>=c?hex[c]=null:hex[c]=c.toString(16);methods={"html":function(opts){return $.encoder.encodeForHTML(opts.unsafe)},"css":function(opts){var k,work=[],out=[];opts.map?work=opts.map:work[opts.name]=opts.unsafe;for(k in work)"function"!=typeof work[k]&&work.hasOwnProperty(k)&&(out[k]=$.encoder.encodeForCSS(k,work[k],!0));return out},"attr":function(opts){var k,work=[],out=[];opts.map?work=opts.map:work[opts.name]=opts.unsafe;for(k in work)"function"!=typeof work[k]&&work.hasOwnProperty(k)&&(out[k]=$.encoder.encodeForHTMLAttribute(k,work[k],!0));return out}};$.fn.encode=function(){var argCount,opts;hasBeenInitialized=!0;argCount=arguments.length;opts={"context":"html","unsafe":null,"name":null,"map":null,"setter":null,"strict":!0};if(1==argCount&&"object"==typeof arguments[0])$.extend(opts,arguments[0]);else{opts.context=arguments[0];if(2==arguments.length)"html"==opts.context?opts.unsafe=arguments[1]:("attr"==opts.content||"css"==opts.content)&&(opts.map=arguments[1]);else{opts.name=arguments[1];opts.unsafe=arguments[2]}}"html"==opts.context?opts.setter=this.html:"css"==opts.context?opts.setter=this.css:"attr"==opts.context&&(opts.setter=this.attr);return opts.setter.call(this,methods[opts.context].call(this,opts))};PushbackString=Class.extend({"_input":null,"_pushback":null,"_temp":null,"_index":0,"_mark":0,"_hasNext":function(){if(null==this._input)return!1;if(0==this._input.length)return!1;return this._index<this._input.length},"init":function(input){this._input=input},"pushback":function(c){this._pushback=c},"index":function(){return this._index},"hasNext":function(){if(null!=this._pushback)return!0;return this._hasNext()},"next":function(){if(null!=this._pushback){var save=this._pushback;this._pushback=null;return save}return this._hasNext()?this._input.charAt(this._index++):null},"nextHex":function(){var c=this.next();if(null==c)return null;if(c.match(/[0-9A-Fa-f]/))return c;return null},"peek":function(c){if(c){if(this._pushback&&this._pushback==c)return!0;return this._hasNext()?this._input.charAt(this._index)==c:!1}if(this._pushback)return this._pushback;return this._hasNext()?this._input.charAt(this._index):null},"mark":function(){this._temp=this._pushback;this._mark=this._index},"reset":function(){this._pushback=this._temp;this._index=this._mark},"remainder":function(){var out=this._input.substr(this._index);null!=this._pushback&&(out=this._pushback+out);return out}});Codec=Class.extend({"decode":function(input){var c,out="",pbs=new PushbackString(input);for(;pbs.hasNext();){c=this.decodeCharacter(pbs);out+=null!=c?c:pbs.next()}return out},"decodeCharacter":function(pbs){return pbs.next()}});HTMLEntityCodec=Codec.extend({"decodeCharacter":function(input){var first,second,c;input.mark();first=input.next();if(null==first||"&"!=first){input.reset();return null}second=input.next();if(null==second){input.reset();return null}if("#"==second){c=this._getNumericEntity(input);if(null!=c)return c}else if(second.match(/[A-Za-z]/)){input.pushback(second);c=this._getNamedEntity(input);if(null!=c)return c}input.reset();return null},"_getNamedEntity":function(input){var entry,i,j,possible="",len=Math.min(input.remainder().length,ENTITY_TO_CHAR_TRIE.getMaxKeyLength());for(i=0;len>i;i++)possible+=input.next().toLowerCase();entry=ENTITY_TO_CHAR_TRIE.getLongestMatch(possible);if(null==entry)return null;input.reset();input.next();len=entry.getKey().length;for(j=0;len>j;j++)input.next();input.peek(";")&&input.next();return entry.getValue()},"_getNumericEntity":function(input){var first=input.peek();if(null==first)return null;if("x"==first||"X"==first){input.next();return this._parseHex(input)}return this._parseNumber(input)},"_parseHex":function(input){var c,i,out="";for(;input.hasNext();){c=input.peek();if(isNaN(parseInt(c,16))){if(";"==c){input.next();break}break}out+=c;input.next()}i=parseInt(out,16);if(!isNaN(i)&&isValidCodePoint(i))return String.fromCharCode(i);return null},"_parseNumber":function(input){var ch,i,out="";for(;input.hasNext();){ch=input.peek();if(isNaN(parseInt(ch,10))){if(";"==ch){input.next();break}break}out+=ch;input.next()}i=parseInt(out,10);if(!isNaN(i)&&isValidCodePoint(i))return String.fromCharCode(i);return null}});PercentCodec=Codec.extend({"decodeCharacter":function(input){var first,out,i,c,p;input.mark();first=input.next();if(null==first){input.reset();return null}if("%"!=first){input.reset();return null}out="";for(i=0;2>i;i++){c=input.nextHex();null!=c&&(out+=c)}if(2==out.length){p=parseInt(out,16);if(isValidCodePoint(p))return String.fromCharCode(p)}input.reset();return null}});CSSCodec=Codec.extend({"decodeCharacter":function(input){var first,second,out,j,c,p;input.mark();first=input.next();if(null==first||"\\"!=first){input.reset();return null}second=input.next();if(null==second){input.reset();return null}switch(second){case"\r":input.peek("\n")&&input.next();case"\n":case"\f":case"\x00":return this.decodeCharacter(input)}if("NaN"==parseInt(second,16))return second;out=second;for(j=0;5>j;j++){c=input.next();if(null==c||isWhiteSpace(c))break;if("NaN"==parseInt(c,16)){input.pushback(c);break}out+=c}p=parseInt(out,16);if(isValidCodePoint(p))return String.fromCharCode(p);return"�"}});Trie=Class.extend({"root":null,"maxKeyLen":0,"size":0,"init":function(){this.clear()},"getLongestMatch":function(key){return null==this.root&&null==key?null:this.root.getLongestMatch(key,0)},"getMaxKeyLength":function(){return this.maxKeyLen},"clear":function(){this.root=null,this.maxKeyLen=0,this.size=0},"put":function(key,val){var len,old;null==this.root&&(this.root=new Trie.Node);if(null!=(old=this.root.put(key,0,val)))return old;(len=key.length)>this.maxKeyLen&&(this.maxKeyLen=key.length);this.size++;return null}});Trie.Entry=Class.extend({"_key":null,"_value":null,"init":function(key,value){this._key=key,this._value=value},"getKey":function(){return this._key},"getValue":function(){return this._value},"equals":function(other){if(!(other instanceof Trie.Entry))return!1;return this._key==other._key&&this._value==other._value}});Trie.Node=Class.extend({"_value":null,"_nextMap":null,"setValue":function(value){this._value=value},"getNextNode":function(ch){if(!this._nextMap)return null;return this._nextMap[ch]},"put":function(key,pos,value){var nextNode,ch,old;if(key.length==pos){old=this._value;this.setValue(value);return old}ch=key.charAt(pos);if(null==this._nextMap){this._nextMap=Trie.Node.newNodeMap();nextNode=new Trie.Node;this._nextMap[ch]=nextNode}else if(null==(nextNode=this._nextMap[ch])){nextNode=new Trie.Node;this._nextMap[ch]=nextNode}return nextNode.put(key,pos+1,value)},"get":function(key,pos){var nextNode;if(key.length<=pos)return this._value;if(null==(nextNode=this.getNextNode(key.charAt(pos))))return null;return nextNode.get(key,pos+1)},"getLongestMatch":function(key,pos){var nextNode,ret;if(key.length<=pos)return Trie.Entry.newInstanceIfNeeded(key,this._value);if(null==(nextNode=this.getNextNode(key.charAt(pos))))return Trie.Entry.newInstanceIfNeeded(key,pos,this._value);if(null!=(ret=nextNode.getLongestMatch(key,pos+1)))return ret;return Trie.Entry.newInstanceIfNeeded(key,pos,this._value)}});Trie.Entry.newInstanceIfNeeded=function(){var value,keyLength,key=arguments[0];if("string"==typeof arguments[1]){value=arguments[1];keyLength=key.length}else{keyLength=arguments[1];value=arguments[2]}if(null==value||null==key)return null;key.length>keyLength&&(key=key.substr(0,keyLength));return new Trie.Entry(key,value)};Trie.Node.newNodeMap=function(){return{}};isValidCodePoint=function(codepoint){return codepoint>=0&&1114111>=codepoint};isWhiteSpace=function(input){return input.match(/[\s]/)};MAP_ENTITY_TO_CHAR=[];MAP_CHAR_TO_ENTITY=[];ENTITY_TO_CHAR_TRIE=new Trie;(function(){var entity,c,ent;MAP_ENTITY_TO_CHAR["&quot"]="34";MAP_ENTITY_TO_CHAR["&amp"]="38";MAP_ENTITY_TO_CHAR["&lt"]="60";MAP_ENTITY_TO_CHAR["&gt"]="62";MAP_ENTITY_TO_CHAR["&nbsp"]="160";MAP_ENTITY_TO_CHAR["&iexcl"]="161";MAP_ENTITY_TO_CHAR["&cent"]="162";MAP_ENTITY_TO_CHAR["&pound"]="163";MAP_ENTITY_TO_CHAR["&curren"]="164";MAP_ENTITY_TO_CHAR["&yen"]="165";MAP_ENTITY_TO_CHAR["&brvbar"]="166";MAP_ENTITY_TO_CHAR["&sect"]="167";MAP_ENTITY_TO_CHAR["&uml"]="168";MAP_ENTITY_TO_CHAR["&copy"]="169";MAP_ENTITY_TO_CHAR["&ordf"]="170";MAP_ENTITY_TO_CHAR["&laquo"]="171";MAP_ENTITY_TO_CHAR["&not"]="172";MAP_ENTITY_TO_CHAR["&shy"]="173";MAP_ENTITY_TO_CHAR["&reg"]="174";MAP_ENTITY_TO_CHAR["&macr"]="175";MAP_ENTITY_TO_CHAR["&deg"]="176";MAP_ENTITY_TO_CHAR["&plusmn"]="177";MAP_ENTITY_TO_CHAR["&sup2"]="178";MAP_ENTITY_TO_CHAR["&sup3"]="179";MAP_ENTITY_TO_CHAR["&acute"]="180";MAP_ENTITY_TO_CHAR["&micro"]="181";MAP_ENTITY_TO_CHAR["&para"]="182";MAP_ENTITY_TO_CHAR["&middot"]="183";MAP_ENTITY_TO_CHAR["&cedil"]="184";MAP_ENTITY_TO_CHAR["&sup1"]="185";MAP_ENTITY_TO_CHAR["&ordm"]="186";MAP_ENTITY_TO_CHAR["&raquo"]="187";MAP_ENTITY_TO_CHAR["&frac14"]="188";MAP_ENTITY_TO_CHAR["&frac12"]="189";MAP_ENTITY_TO_CHAR["&frac34"]="190";MAP_ENTITY_TO_CHAR["&iquest"]="191";MAP_ENTITY_TO_CHAR["&Agrave"]="192";MAP_ENTITY_TO_CHAR["&Aacute"]="193";MAP_ENTITY_TO_CHAR["&Acirc"]="194";MAP_ENTITY_TO_CHAR["&Atilde"]="195";MAP_ENTITY_TO_CHAR["&Auml"]="196";MAP_ENTITY_TO_CHAR["&Aring"]="197";MAP_ENTITY_TO_CHAR["&AElig"]="198";MAP_ENTITY_TO_CHAR["&Ccedil"]="199";MAP_ENTITY_TO_CHAR["&Egrave"]="200";MAP_ENTITY_TO_CHAR["&Eacute"]="201";MAP_ENTITY_TO_CHAR["&Ecirc"]="202";MAP_ENTITY_TO_CHAR["&Euml"]="203";MAP_ENTITY_TO_CHAR["&Igrave"]="204";MAP_ENTITY_TO_CHAR["&Iacute"]="205";MAP_ENTITY_TO_CHAR["&Icirc"]="206";MAP_ENTITY_TO_CHAR["&Iuml"]="207";MAP_ENTITY_TO_CHAR["&ETH"]="208";MAP_ENTITY_TO_CHAR["&Ntilde"]="209";MAP_ENTITY_TO_CHAR["&Ograve"]="210";MAP_ENTITY_TO_CHAR["&Oacute"]="211";MAP_ENTITY_TO_CHAR["&Ocirc"]="212";MAP_ENTITY_TO_CHAR["&Otilde"]="213";MAP_ENTITY_TO_CHAR["&Ouml"]="214";MAP_ENTITY_TO_CHAR["&times"]="215";MAP_ENTITY_TO_CHAR["&Oslash"]="216";MAP_ENTITY_TO_CHAR["&Ugrave"]="217";MAP_ENTITY_TO_CHAR["&Uacute"]="218";MAP_ENTITY_TO_CHAR["&Ucirc"]="219";MAP_ENTITY_TO_CHAR["&Uuml"]="220";MAP_ENTITY_TO_CHAR["&Yacute"]="221";MAP_ENTITY_TO_CHAR["&THORN"]="222";MAP_ENTITY_TO_CHAR["&szlig"]="223";MAP_ENTITY_TO_CHAR["&agrave"]="224";MAP_ENTITY_TO_CHAR["&aacute"]="225";MAP_ENTITY_TO_CHAR["&acirc"]="226";MAP_ENTITY_TO_CHAR["&atilde"]="227";MAP_ENTITY_TO_CHAR["&auml"]="228";MAP_ENTITY_TO_CHAR["&aring"]="229";MAP_ENTITY_TO_CHAR["&aelig"]="230";MAP_ENTITY_TO_CHAR["&ccedil"]="231";MAP_ENTITY_TO_CHAR["&egrave"]="232";MAP_ENTITY_TO_CHAR["&eacute"]="233";MAP_ENTITY_TO_CHAR["&ecirc"]="234";MAP_ENTITY_TO_CHAR["&euml"]="235";MAP_ENTITY_TO_CHAR["&igrave"]="236";MAP_ENTITY_TO_CHAR["&iacute"]="237";MAP_ENTITY_TO_CHAR["&icirc"]="238";MAP_ENTITY_TO_CHAR["&iuml"]="239";MAP_ENTITY_TO_CHAR["&eth"]="240";MAP_ENTITY_TO_CHAR["&ntilde"]="241";MAP_ENTITY_TO_CHAR["&ograve"]="242";MAP_ENTITY_TO_CHAR["&oacute"]="243";MAP_ENTITY_TO_CHAR["&ocirc"]="244";MAP_ENTITY_TO_CHAR["&otilde"]="245";MAP_ENTITY_TO_CHAR["&ouml"]="246";MAP_ENTITY_TO_CHAR["&divide"]="247";MAP_ENTITY_TO_CHAR["&oslash"]="248";MAP_ENTITY_TO_CHAR["&ugrave"]="249";MAP_ENTITY_TO_CHAR["&uacute"]="250";MAP_ENTITY_TO_CHAR["&ucirc"]="251";MAP_ENTITY_TO_CHAR["&uuml"]="252";MAP_ENTITY_TO_CHAR["&yacute"]="253";MAP_ENTITY_TO_CHAR["&thorn"]="254";MAP_ENTITY_TO_CHAR["&yuml"]="255";MAP_ENTITY_TO_CHAR["&OElig"]="338";MAP_ENTITY_TO_CHAR["&oelig"]="339";MAP_ENTITY_TO_CHAR["&Scaron"]="352";MAP_ENTITY_TO_CHAR["&scaron"]="353";MAP_ENTITY_TO_CHAR["&Yuml"]="376";MAP_ENTITY_TO_CHAR["&fnof"]="402";MAP_ENTITY_TO_CHAR["&circ"]="710";MAP_ENTITY_TO_CHAR["&tilde"]="732";MAP_ENTITY_TO_CHAR["&Alpha"]="913";MAP_ENTITY_TO_CHAR["&Beta"]="914";MAP_ENTITY_TO_CHAR["&Gamma"]="915";MAP_ENTITY_TO_CHAR["&Delta"]="916";MAP_ENTITY_TO_CHAR["&Epsilon"]="917";MAP_ENTITY_TO_CHAR["&Zeta"]="918";MAP_ENTITY_TO_CHAR["&Eta"]="919";MAP_ENTITY_TO_CHAR["&Theta"]="920";MAP_ENTITY_TO_CHAR["&Iota"]="921";MAP_ENTITY_TO_CHAR["&Kappa"]="922";MAP_ENTITY_TO_CHAR["&Lambda"]="923";MAP_ENTITY_TO_CHAR["&Mu"]="924";MAP_ENTITY_TO_CHAR["&Nu"]="925";MAP_ENTITY_TO_CHAR["&Xi"]="926";MAP_ENTITY_TO_CHAR["&Omicron"]="927";MAP_ENTITY_TO_CHAR["&Pi"]="928";MAP_ENTITY_TO_CHAR["&Rho"]="929";MAP_ENTITY_TO_CHAR["&Sigma"]="931";MAP_ENTITY_TO_CHAR["&Tau"]="932";MAP_ENTITY_TO_CHAR["&Upsilon"]="933";MAP_ENTITY_TO_CHAR["&Phi"]="934";MAP_ENTITY_TO_CHAR["&Chi"]="935";MAP_ENTITY_TO_CHAR["&Psi"]="936";MAP_ENTITY_TO_CHAR["&Omega"]="937";MAP_ENTITY_TO_CHAR["&alpha"]="945";MAP_ENTITY_TO_CHAR["&beta"]="946";MAP_ENTITY_TO_CHAR["&gamma"]="947";MAP_ENTITY_TO_CHAR["&delta"]="948";MAP_ENTITY_TO_CHAR["&epsilon"]="949";MAP_ENTITY_TO_CHAR["&zeta"]="950";MAP_ENTITY_TO_CHAR["&eta"]="951";MAP_ENTITY_TO_CHAR["&theta"]="952";MAP_ENTITY_TO_CHAR["&iota"]="953";MAP_ENTITY_TO_CHAR["&kappa"]="954";MAP_ENTITY_TO_CHAR["&lambda"]="955";MAP_ENTITY_TO_CHAR["&mu"]="956";MAP_ENTITY_TO_CHAR["&nu"]="957";MAP_ENTITY_TO_CHAR["&xi"]="958";MAP_ENTITY_TO_CHAR["&omicron"]="959";MAP_ENTITY_TO_CHAR["&pi"]="960";MAP_ENTITY_TO_CHAR["&rho"]="961";MAP_ENTITY_TO_CHAR["&sigmaf"]="962";MAP_ENTITY_TO_CHAR["&sigma"]="963";MAP_ENTITY_TO_CHAR["&tau"]="964";MAP_ENTITY_TO_CHAR["&upsilon"]="965";MAP_ENTITY_TO_CHAR["&phi"]="966";MAP_ENTITY_TO_CHAR["&chi"]="967";MAP_ENTITY_TO_CHAR["&psi"]="968";MAP_ENTITY_TO_CHAR["&omega"]="969";MAP_ENTITY_TO_CHAR["&thetasym"]="977";MAP_ENTITY_TO_CHAR["&upsih"]="978";MAP_ENTITY_TO_CHAR["&piv"]="982";MAP_ENTITY_TO_CHAR["&ensp"]="8194";MAP_ENTITY_TO_CHAR["&emsp"]="8195";MAP_ENTITY_TO_CHAR["&thinsp"]="8201";MAP_ENTITY_TO_CHAR["&zwnj"]="8204";MAP_ENTITY_TO_CHAR["&zwj"]="8205";MAP_ENTITY_TO_CHAR["&lrm"]="8206";MAP_ENTITY_TO_CHAR["&rlm"]="8207";MAP_ENTITY_TO_CHAR["&ndash"]="8211";MAP_ENTITY_TO_CHAR["&mdash"]="8212";MAP_ENTITY_TO_CHAR["&lsquo"]="8216";MAP_ENTITY_TO_CHAR["&rsquo"]="8217";MAP_ENTITY_TO_CHAR["&sbquo"]="8218";MAP_ENTITY_TO_CHAR["&ldquo"]="8220";MAP_ENTITY_TO_CHAR["&rdquo"]="8221";MAP_ENTITY_TO_CHAR["&bdquo"]="8222";MAP_ENTITY_TO_CHAR["&dagger"]="8224";MAP_ENTITY_TO_CHAR["&Dagger"]="8225";MAP_ENTITY_TO_CHAR["&bull"]="8226";MAP_ENTITY_TO_CHAR["&hellip"]="8230";MAP_ENTITY_TO_CHAR["&permil"]="8240";MAP_ENTITY_TO_CHAR["&prime"]="8242";MAP_ENTITY_TO_CHAR["&Prime"]="8243";MAP_ENTITY_TO_CHAR["&lsaquo"]="8249";MAP_ENTITY_TO_CHAR["&rsaquo"]="8250";MAP_ENTITY_TO_CHAR["&oline"]="8254";MAP_ENTITY_TO_CHAR["&frasl"]="8260";MAP_ENTITY_TO_CHAR["&euro"]="8364";MAP_ENTITY_TO_CHAR["&image"]="8365";MAP_ENTITY_TO_CHAR["&weierp"]="8472";MAP_ENTITY_TO_CHAR["&real"]="8476";MAP_ENTITY_TO_CHAR["&trade"]="8482";MAP_ENTITY_TO_CHAR["&alefsym"]="8501";MAP_ENTITY_TO_CHAR["&larr"]="8592";MAP_ENTITY_TO_CHAR["&uarr"]="8593";MAP_ENTITY_TO_CHAR["&rarr"]="8594";MAP_ENTITY_TO_CHAR["&darr"]="8595";MAP_ENTITY_TO_CHAR["&harr"]="8596";MAP_ENTITY_TO_CHAR["&crarr"]="8629";MAP_ENTITY_TO_CHAR["&lArr"]="8656";MAP_ENTITY_TO_CHAR["&uArr"]="8657";MAP_ENTITY_TO_CHAR["&rArr"]="8658";MAP_ENTITY_TO_CHAR["&dArr"]="8659";MAP_ENTITY_TO_CHAR["&hArr"]="8660";MAP_ENTITY_TO_CHAR["&forall"]="8704";MAP_ENTITY_TO_CHAR["&part"]="8706";MAP_ENTITY_TO_CHAR["&exist"]="8707";MAP_ENTITY_TO_CHAR["&empty"]="8709";MAP_ENTITY_TO_CHAR["&nabla"]="8711";MAP_ENTITY_TO_CHAR["&isin"]="8712";MAP_ENTITY_TO_CHAR["&notin"]="8713";MAP_ENTITY_TO_CHAR["&ni"]="8715";MAP_ENTITY_TO_CHAR["&prod"]="8719";MAP_ENTITY_TO_CHAR["&sum"]="8721";MAP_ENTITY_TO_CHAR["&minus"]="8722";MAP_ENTITY_TO_CHAR["&lowast"]="8727";MAP_ENTITY_TO_CHAR["&radic"]="8730";MAP_ENTITY_TO_CHAR["&prop"]="8733";MAP_ENTITY_TO_CHAR["&infin"]="8734";MAP_ENTITY_TO_CHAR["&ang"]="8736";MAP_ENTITY_TO_CHAR["&and"]="8743";MAP_ENTITY_TO_CHAR["&or"]="8744";MAP_ENTITY_TO_CHAR["&cap"]="8745";MAP_ENTITY_TO_CHAR["&cup"]="8746";MAP_ENTITY_TO_CHAR["&int"]="8747";MAP_ENTITY_TO_CHAR["&there4"]="8756";MAP_ENTITY_TO_CHAR["&sim"]="8764";MAP_ENTITY_TO_CHAR["&cong"]="8773";MAP_ENTITY_TO_CHAR["&asymp"]="8776";MAP_ENTITY_TO_CHAR["&ne"]="8800";MAP_ENTITY_TO_CHAR["&equiv"]="8801";MAP_ENTITY_TO_CHAR["&le"]="8804";MAP_ENTITY_TO_CHAR["&ge"]="8805";MAP_ENTITY_TO_CHAR["&sub"]="8834";MAP_ENTITY_TO_CHAR["&sup"]="8835";MAP_ENTITY_TO_CHAR["&nsub"]="8836";MAP_ENTITY_TO_CHAR["&sube"]="8838";MAP_ENTITY_TO_CHAR["&supe"]="8839";MAP_ENTITY_TO_CHAR["&oplus"]="8853";MAP_ENTITY_TO_CHAR["&otimes"]="8855";MAP_ENTITY_TO_CHAR["&perp"]="8869";MAP_ENTITY_TO_CHAR["&sdot"]="8901";MAP_ENTITY_TO_CHAR["&lceil"]="8968";MAP_ENTITY_TO_CHAR["&rceil"]="8969";MAP_ENTITY_TO_CHAR["&lfloor"]="8970";MAP_ENTITY_TO_CHAR["&rfloor"]="8971";MAP_ENTITY_TO_CHAR["&lang"]="9001";MAP_ENTITY_TO_CHAR["&rang"]="9002";MAP_ENTITY_TO_CHAR["&loz"]="9674";MAP_ENTITY_TO_CHAR["&spades"]="9824";MAP_ENTITY_TO_CHAR["&clubs"]="9827";MAP_ENTITY_TO_CHAR["&hearts"]="9829";MAP_ENTITY_TO_CHAR["&diams"]="9830";for(entity in MAP_ENTITY_TO_CHAR)"function"!=typeof MAP_ENTITY_TO_CHAR[entity]&&MAP_ENTITY_TO_CHAR.hasOwnProperty(entity)&&(MAP_CHAR_TO_ENTITY[MAP_ENTITY_TO_CHAR[entity]]=entity);for(c in MAP_CHAR_TO_ENTITY)if("function"!=typeof MAP_CHAR_TO_ENTITY[c]&&MAP_CHAR_TO_ENTITY.hasOwnProperty(c)){ent=MAP_CHAR_TO_ENTITY[c].toLowerCase().substr(1);ENTITY_TO_CHAR_TRIE.put(ent,String.fromCharCode(c));
}})();if(Object.freeze){$.encoder=Object.freeze($.encoder);$.fn.encode=Object.freeze($.fn.encode)}else if(Object.seal){$.encoder=Object.seal($.encoder);$.fn.encode=Object.seal($.fn.encode)}else if(Object.preventExtensions){$.encoder=Object.preventExtensions($.encoder);$.fn.encode=Object.preventExtensions($.fn.encode)}return $});define("tiny-widgets/Button",["tiny-lib/angular","tiny-lib/jquery","tiny-widgets/Widget","tiny-common/util","tiny-widgets/Tip","tiny-lib/encoder"],function(angular,$,Widget,util,Tip,encoder){var domTemplate='<button class="tiny-btn-basic" type="button"><div style="display:inline-block;"><div class="tiny-btn-left-icon"></div><span class="tiny-btn-text"></span><div class="tiny-btn-right-icon"></div></div></button>',DEFAULT_CONFIG={"template":domTemplate,"display":!0,"disable":!1,"icons-class":null,"text":"","tooltip":"","focused":!1,"accessKey":null,"type":"default"},CONSTANT_VALUES={"DISABLE_CLS":"tiny-btn-disable","ICON_DISABLE_CLS":"tiny-btn-icon-disable","BORDER_WIDTH":1},Button=Widget.extend({"init":function(options){var widgetThis=this;widgetThis._super(_.extend({},DEFAULT_CONFIG,options));$("#"+widgetThis.options.id).append(widgetThis._element);widgetThis._setMinWidth()},"_generateElement":function(){var widgetThis=this;widgetThis._super();widgetThis._setIconsAndOverallCls();widgetThis._setText();widgetThis._setTooltip();widgetThis._setDisable();widgetThis._setDisplay();widgetThis._setHeight()},"_setOption":function(key,value){var widgetThis=this;widgetThis._super(key,value);switch(key){case"id":widgetThis._updateId(value);case"display":widgetThis._setDisplay();break;case"disable":widgetThis._setDisable();break;case"icons-class":widgetThis._setIconsAndOverallCls();break;case"text":widgetThis._setText();break;case"tooltip":widgetThis._setTooltip();break;case"focused":widgetThis._setFocus();break;case"minWidth":widgetThis._setMinWidth();break;case"height":widgetThis._setHeight()}},"_setMinWidth":function(){var btnPadding,minContentWidth,widgetThis=this,minWidth=parseInt(widgetThis.options.minWidth,10);if(isNaN(minWidth))return;btnPadding=parseInt(widgetThis._element.css("padding-left"),10);minContentWidth=minWidth-2*(btnPadding+CONSTANT_VALUES.BORDER_WIDTH);minContentWidth>0&&widgetThis._element.css("min-width",minContentWidth)},"_setHeight":function(){var widgetThis=this,height=parseInt(widgetThis.options.height,10);if(isNaN(height)||height<=2*CONSTANT_VALUES.BORDER_WIDTH)return;widgetThis._element.css("height",height-2*CONSTANT_VALUES.BORDER_WIDTH)},"_setFocus":function(){var isFocused,widgetThis=this,isDisable=util.isTrue(widgetThis.options.disable);if(isDisable)return;isFocused=util.isTrue(widgetThis.options.focused);isFocused&&widgetThis._element.focus()},"destroy":function(){var widgetThis=this;$(document).unbind("keydown.tinybtn",widgetThis.btnkeydownEvt);widgetThis.tip&&widgetThis.tip.remove();widgetThis._element.unbind()},"_addBehavior":function(){var widgetThis=this,element=widgetThis._element,options=widgetThis.options;element.on("click",function(evt){if(util.isTrue(options.disable))return;widgetThis.trigger("click",[evt]);"function"==typeof options.click&&options.click(evt);options.focused=!1});element.on("mouseover",function(evt){if(util.isTrue(options.disable))return;widgetThis.trigger("mouseover",[evt]);"function"==typeof options.mouseover&&options.mouseover(evt)});element.on("mouseout",function(evt){if(util.isTrue(options.disable))return;widgetThis.trigger("mouseout",[evt]);"function"==typeof options.mouseout&&options.mouseout(evt)});element.on("mousedown",function(evt){if(util.isTrue(options.disable))return;widgetThis.trigger("mousedown",[evt]);"function"==typeof options.mousedown&&options.mousedown(evt)});element.on("mouseup",function(evt){if(util.isTrue(options.disable))return;widgetThis.trigger("mouseup",[evt]);"function"==typeof options.mouseup&&options.mouseup(evt)});element.on("$destroy",function(){widgetThis.destroy()})},"_setDisplay":function(){var widgetThis=this,isDisplay=util.isFalse(widgetThis.options.display);isDisplay?widgetThis._element[0].style.display="none":widgetThis._element[0].style.display="inline-block"},"_setDisable":function(){var IconArr,widgetThis=this,disableCls=CONSTANT_VALUES.DISABLE_CLS,isDisable=util.isTrue(widgetThis.options.disable);isDisable?widgetThis._element.addClass(disableCls):widgetThis._element.removeClass(disableCls);IconArr=widgetThis._element.find(".tiny-btn-left-icon,.tiny-btn-right-icon");widgetThis._setIconDisable(IconArr)},"_setTooltip":function(){var widgetThis=this,isDisable=util.isTrue(widgetThis.options.disable),tipContent=widgetThis.options.tooltip;if(!tipContent||isDisable)return;if(widgetThis.tip){widgetThis.tip.option("content",tipContent);widgetThis.tip.option("width",widgetThis.options.tipWidth)}else widgetThis.tip=new Tip({"content":tipContent,"element":widgetThis._element,"width":widgetThis.options.tipWidth})},"_setText":function(){var $TextDiv,text,widgetThis=this;if(!_.isUndefined(widgetThis.options.text)){$TextDiv=widgetThis._element.find(".tiny-btn-text");text=$.encoder.encodeForHTML(widgetThis.options.text);$TextDiv.html(text)}},"_setIconDisable":function(iconArr){var widgetThis=this,iconDisableCls=CONSTANT_VALUES.ICON_DISABLE_CLS,isDisable=util.isTrue(widgetThis.options.disable);iconArr.each(function(index,elem){isDisable?$(elem).addClass(iconDisableCls):$(elem).removeClass(iconDisableCls)})},"_setIcons":function(iconArr){$.each(iconArr,function(index,iconObj){if(iconObj.customCls){iconObj.$iconDom[0].style.display="inline-block";var iconCls=iconObj.basicCls+iconObj.customCls;iconObj.$iconDom.attr("class",iconCls)}else iconObj.$iconDom[0].style.display="none"})},"_setIconsAndOverallCls":function(){var widgetThis=this,IconsArr=widgetThis._getIconOpts();widgetThis._setIcons(IconsArr);widgetThis._setOverallCls(IconsArr)},"_getIconOpts":function(){var widgetThis=this,leftIconOpts={},rightIconOpts={},iconCls=widgetThis.options["icons-class"];leftIconOpts.customCls=iconCls&&iconCls.left;rightIconOpts.customCls=iconCls&&iconCls.right;leftIconOpts.$iconDom=widgetThis._element.find(".tiny-btn-left-icon");rightIconOpts.$iconDom=widgetThis._element.find(".tiny-btn-right-icon");leftIconOpts.basicCls="tiny-btn-left-icon ";rightIconOpts.basicCls="tiny-btn-right-icon ";return[leftIconOpts,rightIconOpts]},"_getOverallCls":function(iconArr){var widgetThis=this;if("major"===widgetThis.options.type)return"tiny-btn-major";if(iconArr[0].customCls||iconArr[1].customCls)return"tiny-btn-with-icon";return"tiny-btn-without-icon"},"_setOverallCls":function(iconArr){var widgetThis=this,overallCls=widgetThis._getOverallCls(iconArr);widgetThis._element.addClass(overallCls)}});window.tinyWidget.Button=Button;return Button});define("tiny-directives/Button",["tiny-directives/Directive","tiny-widgets/Button"],function(Directive,ButtonWidget){var DEFAULT_CONFIG={"directiveName":"tinyButton","widgetClass":ButtonWidget,"scope":{"id":"=","type":"=","minWidth":"=","height":"=","text":"=","display":"=","disable":"=","iconsClass":"=","tooltip":"=","focused":"=","tipWidth":"=","click":"&","mouseover":"&","mouseout":"&","mousedown":"&","mouseup":"&"},"replace":!0,"template":"<span></span>"},Button=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var $buttonDom,btnInstance,directiveThis=this,userOpts=_.pick(scope,_.keys(attrMap)),evtOptArr=["click","mouseover","mouseout","mousedown","mouseup"],btnOpts=_.omit(userOpts,evtOptArr);btnOpts.iconsClass&&(btnOpts["icons-class"]=btnOpts.iconsClass);directiveThis.widgetInstance=new directiveThis.widgetClass(btnOpts);$buttonDom=directiveThis.widgetInstance._element;element.append($buttonDom);!_.isUndefined(scope.id)&&$buttonDom.prop("id",scope.id);btnInstance=$buttonDom.widget();scope.$watch("id",function(newValue,oldValue){if(newValue===oldValue)return;btnInstance.option("id",newValue)});scope.$watch("iconsClass",function(newValue,oldValue){if(newValue===oldValue)return;btnInstance.option("icons-class",newValue)});scope.$watch("minWidth",function(newValue,oldValue){btnInstance.option("minWidth",newValue)});scope.$watch("height",function(newValue,oldValue){if(newValue===oldValue)return;btnInstance.option("height",newValue)});scope.$watch("text",function(newValue,oldValue){if(newValue===oldValue)return;btnInstance.option("text",newValue)});scope.$watch("display",function(newValue,oldValue){if(newValue===oldValue)return;btnInstance.option("display",newValue)});scope.$watch("disable",function(newValue,oldValue){if(newValue===oldValue)return;btnInstance.option("disable",newValue)});scope.$watch("tooltip",function(newValue,oldValue){if(newValue===oldValue)return;btnInstance.option("tooltip",newValue)});scope.$watch("focused",function(newValue,oldValue){btnInstance.option("focused",newValue)});attrMap.click&&btnInstance.on("click",function(event){scope.$evalAsync(function(){scope.click({"event":event})})});attrMap.mouseover&&btnInstance.on("mouseover",function(event){scope.$evalAsync(function(){scope.mouseover({"event":event})})});attrMap.mouseout&&btnInstance.on("mouseout",function(event){scope.$evalAsync(function(){scope.mouseout({"event":event})})});attrMap.mousedown&&btnInstance.on("mousedown",function(event){scope.$evalAsync(function(){scope.mousedown({"event":event})})});attrMap.mouseup&&btnInstance.on("mouseup",function(event){scope.$evalAsync(function(){scope.mouseup({"event":event})})});btnInstance._element.on("$destroy",function(){scope.$destroy()})}});(new Button).toAngularDirective();return Button});define("tiny-widgets/Checkbox",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-common/util","tiny-widgets/Tip"],function(angular,$,Class,Widget,util,Tip){var DEFAULT_CONFIG={"width":"50px","disable":!1,"checked":!1,"template":'<div class="tiny-checkbox"><div class="tiny-checkbox-mark"><div class="tiny-checkboxIcon tiny-checkbox-unchecked"></div><label class="tiny-checkbox-content"><label class="tiny-text"></label></label></div></div>'},Checkbox=Widget.extend({"init":function(options){var checkboxThis=this,option=_.extend({},DEFAULT_CONFIG,options);checkboxThis._super(option);checkboxThis._setOptions(option);$("#"+options.id).append(checkboxThis._element)},"_setOption":function(key,value){var checkboxThis=this;checkboxThis._super(key,value);switch(key){case"id":checkboxThis._updateId(value);break;case"value":checkboxThis._updateValue(value);break;case"icon-class":checkboxThis._updateIcon(value);break;case"text":checkboxThis._updateText(value);break;case"checked":checkboxThis._updateChecked(value);break;case"width":checkboxThis._element.css("min-width",value);break;case"height":checkboxThis._element.css("height",value);break;case"disable":checkboxThis._updateDisable();break;case"tooltip":checkboxThis._updateTooltip(value)}},"_updateValue":function(value){var checkboxThis=this;checkboxThis._element.attr("tiny-checkbox-value",value)},"_updateText":function(text){var checkboxThis=this;checkboxThis._element.find(".tiny-text").html(text)},"_updateIcon":function(iconClass){var checkboxThis=this;checkboxThis.$checkIcon&&checkboxThis.$checkIcon.remove();checkboxThis.$checkIcon=$('<span class = "tiny-checkbox-icon"></span>'),$checkboxContent=checkboxThis._element.find(".tiny-checkbox-content");checkboxThis.$checkIcon.addClass(iconClass);$checkboxContent.prepend(checkboxThis.$checkIcon)},"_updateChecked":function(checked){var checkboxThis=this,isChecked=(checkboxThis.options,util.isTrue(checked)||"checked"==checked),$checkedThis=checkboxThis._element.find(".tiny-checkboxIcon");if(isChecked){"disabled"==$checkedThis.attr("disabled")?$checkedThis.removeClass("tiny-checkbox-unchecked-disabled").addClass("tiny-checkbox-checked-disabled"):$checkedThis.removeClass("tiny-checkbox-unchecked").addClass("tiny-checkbox-checked");$checkedThis.attr("checked",!0);return}"disabled"==$checkedThis.attr("disabled")?$checkedThis.removeClass("tiny-checkbox-checked-disabled").addClass("tiny-checkbox-unchecked-disabled"):$checkedThis.removeClass("tiny-checkbox-checked").removeClass("tiny-checkbox-checked-disabled").addClass("tiny-checkbox-unchecked");$checkedThis.attr("checked",!1)},"_updateDisable":function(){var checkboxThis=this,options=checkboxThis.options,$selector=checkboxThis._element.find(".tiny-checkbox-mark"),$selectorRadio=$selector.find(".tiny-checkboxIcon");if(util.isTrue(options.disable)){"checked"==$selectorRadio.attr("checked")?$selectorRadio.removeClass("tiny-checkbox-checked").addClass("tiny-checkbox-checked-disabled"):$selectorRadio.removeClass("tiny-checkbox-unchecked").addClass("tiny-checkbox-unchecked-disabled");$selectorRadio.attr("disabled","true");$selector.find(".tiny-text").addClass("tiny-checkbox-content-disabled");checkboxThis.$checkIcon&&checkboxThis.$checkIcon.addClass("tiny-img-disabled");return}"checked"==$selectorRadio.attr("checked")?$selectorRadio.removeClass("tiny-checkbox-checked-disabled").addClass("tiny-checkbox-checked"):$selectorRadio.removeClass("tiny-checkbox-unchecked-disabled").addClass("tiny-checkbox-unchecked");$selectorRadio.removeAttr("disabled");$selector.find(".tiny-text").removeClass("tiny-checkbox-content-disabled");checkboxThis.$checkIcon&&checkboxThis.$checkIcon.removeClass("tiny-img-disabled")},"_updateTooltip":function(value){var checkboxThis=this;if("undefined"==typeof checkboxThis.tip)checkboxThis.tip=new Tip({"content":value,"element":checkboxThis._element.find(".tiny-checkbox-mark"),"width":checkboxThis.options.tipWidth});else{checkboxThis.tip.option("content",value);checkboxThis.tip.option("width",checkboxThis.options.tipWidth)}},"_addBehavior":function(){var checkboxThis=this,options=checkboxThis.options,$selectorEvent=checkboxThis._element.find(".tiny-checkbox-mark");checkboxThis._element.on("click",".tiny-checkbox-mark",function(event){var $clickElement=$(this).find(".tiny-checkboxIcon");if($clickElement.attr("disabled"))return;$selectorEvent.trigger("clickEvt");if($clickElement.attr("checked")){$clickElement.removeClass("tiny-checkbox-checked").addClass("tiny-checkbox-unchecked");$clickElement.attr("checked",!1);options.checked=!1}else{$clickElement.removeClass("tiny-checkbox-unchecked").addClass("tiny-checkbox-checked");$clickElement.attr("checked",!0);options.checked=!0}$selectorEvent.trigger("changeEvt")});checkboxThis._element.on("changeEvt",function(event){checkboxThis.trigger("change",[event]);"function"==typeof options.change&&options.change(event)});checkboxThis._element.on("clickEvt",function(event){checkboxThis.trigger("click",[event]);"function"==typeof options.click&&options.click(event)})}});window.tinyWidget.Checkbox=Checkbox;return Checkbox});define("tiny-directives/Checkbox",["tiny-directives/Directive","tiny-widgets/Checkbox"],function(Directive,CheckboxWidget){var DEFAULT_CONFIG={"directiveName":"tinyCheckbox","widgetClass":CheckboxWidget,"scope":{"id":"=","iconClass":"=","text":"=","width":"=","height":"=","checked":"=","disable":"=","tooltip":"=","tipWidth":"=","click":"&","change":"&","value":"="},"template":"<span></span>","replace":"true","constantProperties":["value","tipWidth"]},Checkbox=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var checkboxInstance,checkboxThis=this,constants=_.pick(scope,checkboxThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});checkboxInstance=new checkboxThis.widgetClass(_.pick(constants,validProperName));checkboxInstance.on("change",function(event){checkboxThis.setAttr(scope,"checked",checkboxInstance.options.checked,attrMap)});element.append(checkboxInstance._element);scope.$watch("id",function(newValues,oldValues){checkboxInstance.option("id",newValues)});scope.$watch("iconClass",function(newValues,oldValues){checkboxInstance.option("icon-class",newValues)});scope.$watch("text",function(newValues,oldValues){checkboxInstance.option("text",newValues)});scope.$watch("width",function(newValues,oldValues){checkboxInstance.option("width",newValues)});scope.$watch("height",function(newValues,oldValues){checkboxInstance.option("height",newValues)});scope.$watch("checked",function(newValues,oldValues){if(scope.changeFlag===!0){scope.changeFlag=!1;return}checkboxInstance.option("checked",newValues)});scope.$watch("disable",function(newValues,oldValues){checkboxInstance.option("disable",newValues)});scope.$watch("tooltip",function(newValues,oldValues){checkboxInstance.option("tooltip",newValues)});attrMap.click&&checkboxInstance._element.on("clickEvt",function(event){scope.$evalAsync(function(){scope.click({"event":event})})});attrMap.change&&checkboxInstance._element.on("changeEvt",function(event){scope.$evalAsync(function(){scope.change({"event":event})})})}});(new Checkbox).toAngularDirective();return Checkbox});define("tiny-widgets/CheckboxGroup",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-common/util","tiny-widgets/Tip","tiny-lib/encoder"],function(angular,$,Class,Widget,util,Tip,encoder){var DEFAULT_CONFIG={"template":'<div class="tiny-checkboxgroup"></div>',"spacing":{"width":"0","height":"25px"},"layout":"horizon","values":[]},checkboxGroup=Widget.extend({"init":function(options){var checkboxGroupThis=this;options=_.extend({},DEFAULT_CONFIG,options);checkboxGroupThis.checkAllId=!1;checkboxGroupThis._super(options);checkboxGroupThis._setOptions(options);$("#"+options.id).append(checkboxGroupThis._element)},"_optionHtmlFactory":function(checkboxGroup,checkboxId,checked,disabled,chkboxIconStyle,textDisabled,iconURL,text){var checkboxGroupThis=this,options=checkboxGroupThis.options,height=$.encoder.encodeForCSS("height",options.spacing.height,!0),width=$.encoder.encodeForCSS("min-width",options.spacing.width,!0),html="";html+='<div class="tiny-checkboxgroup-style '+checkboxGroup+'"  style="height: '+height+"; min-width:"+width+';"><div class="tiny-checkboxgroup-mark" id="'+checkboxId+'"  tiny-checked='+checked+" tiny-disabled="+disabled+' ><div class="tiny-checkboxIcon '+chkboxIconStyle+'"></div><label style="float: left">';if(void 0!==iconURL){iconURL=$.encoder.encodeForHTMLAttribute("class",iconURL,!0);html+=disabled?'<span class = "tiny-checkbox-icon tiny-img-disabled '+iconURL+'"></span>':'<span class = "tiny-checkbox-icon '+iconURL+'"></span>'}text&&(html+='<label class="tiny-text '+textDisabled+'">'+text+"</label></label>");html+="</div></div>";return html},"_setOption":function(key,value){var options,checkboxGroupThis=this;checkboxGroupThis._super(key,value);checkboxGroupThis=this;options=checkboxGroupThis.options;switch(key){case"id":checkboxGroupThis._updateId(value);break;case"all-select":checkboxGroupThis._updateSelectAll(options,!0);break;case"values":checkboxGroupThis._updateValues(options);break;case"spacing":checkboxGroupThis._element.find(".tiny-checkboxgroup-style").css("min-width",value.width);checkboxGroupThis._element.find(".tiny-checkboxgroup-style").css("height",value.height)}},"_updateValues":function(options){var i,isVertical,elementLength,j,value,checkboxId,checkboxGroupThis=this;checkboxGroupThis.elementContent="";checkboxGroupThis.tooltipObj=[];for(i=0;i<options.values.length;i++){isVertical="horizon"!=options.layout.toLowerCase();isVertical&&(checkboxGroupThis.elementContent+='<div class="tiny-checkbox-vertical">');elementLength=options.values[i].length||1;for(j=0;elementLength>j;j++){value=options.values[i][j]||options.values[i];checkboxId=value.key;checkboxGroupThis.elementContent+=checkboxGroupThis._valuesDispose(value,!1);value.tooltip&&checkboxGroupThis.tooltipObj.push({"checkboxId":checkboxId,"value":value.tooltip,"tipWidth":value.tipWidth})}isVertical&&(checkboxGroupThis.elementContent+="</div>")}if(!options["all-select"]){checkboxGroupThis._element.html(checkboxGroupThis.elementContent);checkboxGroupThis.tooltipDispose()}checkboxGroupThis._updateSelectAll(options,!1)},"_updateSelectAll":function(options,priority){var selectAllHtml,chkAllId,i,len,checkboxGroupThis=this,selectAll=options["all-select"];if(_.isObject(selectAll)){checkboxGroupThis.checkAllId=selectAll.key;selectAllHtml='<div class="tiny-checkbox-vertical">'+checkboxGroupThis._valuesDispose(selectAll,!0)+"</div>";"bottom"!=selectAll.position?checkboxGroupThis.elementContent=selectAllHtml+checkboxGroupThis.elementContent:checkboxGroupThis.elementContent+=selectAllHtml;selectAll.tooltip&&checkboxGroupThis.tooltipObj.push({"checkboxId":selectAll.key,"value":selectAll.tooltip})}checkboxGroupThis._element.html(checkboxGroupThis.elementContent);checkboxGroupThis.tooltipDispose();if(checkboxGroupThis.checkAllId){chkAllId=checkboxGroupThis.checkAllId;checkboxGroupThis.$checkAllselector=checkboxGroupThis._element.find("[id ="+chkAllId+"]");checkboxGroupThis.$checkAllicon=checkboxGroupThis.$checkAllselector.find(".tiny-checkboxIcon")}checkboxGroupThis.checkAllId&&priority&&checkboxGroupThis.checkedAll(!!selectAll.checked);if(checkboxGroupThis.checkAllId&&!priority){checkboxGroupThis._updataChecked(checkboxGroupThis.$checkAllselector,checkboxGroupThis.$checkAllicon,!0,!!selectAll.disable,!!selectAll.checked);for(i=0,len=options.values.length;len>i;i++)if(!options.values[i].checked){checkboxGroupThis._updataChecked(checkboxGroupThis.$checkAllselector,checkboxGroupThis.$checkAllicon,!1,!!selectAll.disable,!0);break}}},"tooltipDispose":function(){var i,$selectortootip,tip,checkboxGroupThis=this,tooltipObj=checkboxGroupThis.tooltipObj;if(tooltipObj.length)for(i=0;i<tooltipObj.length;i++){$selectortootip=checkboxGroupThis._element.find("[id="+tooltipObj[i].checkboxId+"]").find(".tiny-text");$selectortootip.addClass("tiny-checkbox-tooltip");tip=new Tip({"content":tooltipObj[i].value,"element":$selectortootip,"width":tooltipObj[i].tipWidth,"position":"right"})}},"_valuesDispose":function(value,isSelectAll){var chkboxIconStyle,checkboxGroupThis=this,checkboxGroup=(checkboxGroupThis.options,isSelectAll?$.encoder.encodeForHTMLAttribute("class",value.cls,!0):"tiny-checkbox-horizon"),checkboxId=$.encoder.encodeForHTMLAttribute("id",value.key+"",!0),text=value.text,iconURL=value["icon-class"],checked=(value.tooltip,util.isTrue(value.checked)),disabled=util.isTrue(value.disable),textDisabled="";if(disabled){chkboxIconStyle=checked?"tiny-checkbox-checked-disabled":"tiny-checkbox-unchecked-disabled";textDisabled="tiny-checkbox-content-disabled"}else chkboxIconStyle=checked?"tiny-checkbox-checked":"tiny-checkbox-unchecked";return checkboxGroupThis._optionHtmlFactory(checkboxGroup,checkboxId,checked,disabled,chkboxIconStyle,textDisabled,iconURL,text)},"_addBehavior":function(){var chkAllId,checkboxGroupThis=this,options=checkboxGroupThis.options;checkboxGroupThis._element.on("click",".tiny-checkboxgroup-mark",function(event){var checkedoption,thisId=$(this).attr("id"),$clickElement=$(this).find(".tiny-checkboxIcon");chkAllId=checkboxGroupThis.checkAllId;if("true"===$(this).attr("tiny-disabled"))return;checkedoption=$(this).attr("tiny-checked");if("true"==checkedoption)if(thisId==chkAllId)checkboxGroupThis.checkedAll("false");else{$clickElement.removeClass("tiny-checkbox-checked").addClass("tiny-checkbox-unchecked");$(this).attr("tiny-checked",!1);chkAllId&&checkboxGroupThis._checkedFalseDispose()}if("false"==checkedoption)if(thisId==chkAllId)checkboxGroupThis.checkedAll("true");else{$clickElement.removeClass("tiny-checkbox-unchecked").addClass("tiny-checkbox-checked");$(this).attr("tiny-checked",!0);chkAllId&&checkboxGroupThis._checkedTrueDispose()}$clickElement.trigger("clickEvt");$clickElement.trigger("changeEvt")});checkboxGroupThis._element.on("clickEvt",function(event){checkboxGroupThis.trigger("click",[event]);"function"==typeof options.click&&options.click(event)});checkboxGroupThis._element.on("changeEvt",function(event){checkboxGroupThis.trigger("change",[event]);"function"==typeof options.change&&options.change(event)})},"opChecked":function(valueId,checkedNew){var $checkedElements,checkedArray,checkboxGroupThis=this,$selectorValues=checkboxGroupThis._element.find("[id="+valueId+"]"),$selectorcheckIcon=$selectorValues.find(".tiny-checkboxIcon"),isChecked=$selectorValues.attr("tiny-checked"),isDisabled=$selectorValues.attr("tiny-disabled");if(0===arguments.length)return;if(_.isString(valueId)){if(_.isUndefined(checkedNew)){if("checked"==valueId){$checkedElements=checkboxGroupThis._element.find("[tiny-checked='true']");checkedArray=_.map($checkedElements,function(checked){return $(checked).attr("id")});checkboxGroupThis.checkAllId&&(checkedArray=_.without(checkedArray,checkboxGroupThis.checkAllId));return checkedArray}if("true"==isChecked)return!0;return!1}return checkboxGroupThis._updataChecked($selectorValues,$selectorcheckIcon,checkedNew,isDisabled,isChecked)}},"_updataChecked":function($selectorValues,$selectorcheckIcon,checkedNew,isDisabled,isChecked){var chkAllId,checkboxGroupThis=this;if(String(isChecked)==String(checkedNew))return;chkAllId=checkboxGroupThis.checkAllId;if("true"==String(checkedNew)){$selectorValues.attr("tiny-checked",!0);"true"==String(isDisabled)?$selectorcheckIcon.removeClass("tiny-checkbox-unchecked-disabled").addClass("tiny-checkbox-checked-disabled"):$selectorcheckIcon.removeClass("tiny-checkbox-unchecked").addClass("tiny-checkbox-checked");chkAllId&&checkboxGroupThis._checkedTrueDispose()}if("false"==String(checkedNew)){$selectorValues.attr("tiny-checked",!1);"true"==String(isDisabled)?$selectorcheckIcon.removeClass("tiny-checkbox-checked-disabled").addClass("tiny-checkbox-unchecked-disabled"):$selectorcheckIcon.removeClass("tiny-checkbox-checked").addClass("tiny-checkbox-unchecked");chkAllId&&checkboxGroupThis._checkedFalseDispose()}},"opDisabled":function(valueId,disabledNew){var checkboxGroupThis=this,$selectorValues=checkboxGroupThis._element.find("[id="+valueId+"]"),$selectorcheckIcon=$selectorValues.find(".tiny-checkboxIcon"),isChecked=$selectorValues.attr("tiny-checked"),isDisabled=$selectorValues.attr("tiny-disabled");if(0===arguments.length)return;if(_.isString(valueId)){if(_.isUndefined(disabledNew)){isDisabled=$selectorValues.attr("tiny-checked");if("true"==isDisabled)return!0;return!1}checkboxGroupThis._updataDisabled($selectorValues,$selectorcheckIcon,disabledNew,isDisabled,isChecked)}},"_updataDisabled":function($selectorValues,$selectorcheckIcon,disabledNew,isDisabled,isChecked){var $selectorImg=$selectorValues.find(".tiny-checkbox-icon"),$selectorText=$selectorValues.find(".tiny-text");if(isDisabled==String(disabledNew))return;if("true"==String(disabledNew)){$selectorValues.attr("tiny-disabled",!0);$selectorImg.addClass("tiny-img-disabled");$selectorText.addClass("tiny-checkbox-content-disabled");if("true"==String(isChecked)){$selectorcheckIcon.removeClass("tiny-checkbox-checked").addClass("tiny-checkbox-checked-disabled");return}$selectorcheckIcon.removeClass("tiny-checkbox-unchecked").addClass("tiny-checkbox-unchecked-disabled")}if("false"==String(disabledNew)){$selectorValues.attr("tiny-disabled",!1);$selectorImg.removeClass("tiny-img-disabled");$selectorText.removeClass("tiny-checkbox-content-disabled");if("true"==String(isChecked)){$selectorcheckIcon.removeClass("tiny-checkbox-checked-disabled").addClass("tiny-checkbox-checked");return}$selectorcheckIcon.removeClass("tiny-checkbox-unchecked-disabled").addClass("tiny-checkbox-unchecked")}},"_checkedTrueDispose":function(){var checkboxGroupThis=this,$checkAllselector=checkboxGroupThis.$checkAllselector,$checkAllicon=checkboxGroupThis.$checkAllicon,isDisabled="true"==$checkAllselector.attr("tiny-disabled")?!0:!1,$unchecked=("true"==$checkAllselector.attr("tiny-checked")?!0:!1,checkboxGroupThis._element.find("[tiny-checked='false']"));if(1==$unchecked.length){$checkAllselector.attr("tiny-checked",!0);isDisabled?$checkAllicon.removeClass("tiny-checkbox-unchecked-disabled").addClass("tiny-checkbox-checked-disabled"):$checkAllicon.removeClass("tiny-checkbox-unchecked").addClass("tiny-checkbox-checked")}},"_checkedFalseDispose":function(){var checkboxGroupThis=this,$checkAllselector=checkboxGroupThis.$checkAllselector,$checkAllicon=checkboxGroupThis.$checkAllicon,isDisabled="true"==$checkAllselector.attr("tiny-disabled")?!0:!1,ischeckAll="true"==$checkAllselector.attr("tiny-checked")?!0:!1;if(ischeckAll){$checkAllselector.attr("tiny-checked",!1);isDisabled?$checkAllicon.removeClass("tiny-checkbox-checked-disabled").addClass("tiny-checkbox-unchecked-disabled"):$checkAllicon.removeClass("tiny-checkbox-checked").addClass("tiny-checkbox-unchecked")}},"checkedAll":function(checkValue){var $uncheckedElement,$checkedElement,checkboxGroupThis=this;if("true"==String(checkValue)){$uncheckedElement=checkboxGroupThis._element.find("[tiny-checked='false']");_.each($uncheckedElement,function(element){isDisabled=$(element).attr("tiny-disabled");$(element).attr("tiny-checked","true");var $checkIcon=$(element).find(".tiny-checkboxIcon");"true"==String(isDisabled)?$checkIcon.removeClass("tiny-checkbox-unchecked-disabled").addClass("tiny-checkbox-checked-disabled"):$checkIcon.removeClass("tiny-checkbox-unchecked").addClass("tiny-checkbox-checked")});return}if("false"==String(checkValue)){$checkedElement=checkboxGroupThis._element.find("[tiny-checked='true']");_.each($checkedElement,function(element){isDisabled=$(element).attr("tiny-disabled");$(element).attr("tiny-checked","false");var $checkIcon=$(element).find(".tiny-checkboxIcon");"true"==String(isDisabled)?$checkIcon.removeClass("tiny-checkbox-checked-disabled").addClass("tiny-checkbox-unchecked-disabled"):$checkIcon.removeClass("tiny-checkbox-checked").addClass("tiny-checkbox-unchecked")});return}}});window.tinyWidget.CheckboxGroup=checkboxGroup;return checkboxGroup});define("tiny-directives/CheckboxGroup",["tiny-directives/Directive","tiny-widgets/CheckboxGroup"],function(Directive,CheckboxGroupWidget){var DEFAULT_CONFIG={"directiveName":"tinyCheckboxgroup","widgetClass":CheckboxGroupWidget,"scope":{"id":"=","spacing":"=","layout":"=","values":"=","allSelect":"=","change":"&","click":"&"},"constantProperties":["layout"],"template":"<span></span>","replace":"true"},CheckboxGroup=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var checkboxGroupThis=this,constants=_.pick(scope,checkboxGroupThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});checkboxGroupThis=new checkboxGroupThis.widgetClass(_.pick(constants,validProperName));element.append(checkboxGroupThis._element);scope.$watch("id",function(newValues,oldValues){checkboxGroupThis.option("id",newValues)});scope.$watch("spacing",function(newValues,oldValues){checkboxGroupThis.option("spacing",newValues)});scope.$watch("values",function(newValues,oldValues){checkboxGroupThis.option("values",newValues)});scope.$watch("allSelect",function(newValues,oldValues){checkboxGroupThis.option("all-select",newValues)});attrMap.click&&checkboxGroupThis._element.on("clickEvt",function(event){scope.$evalAsync(function(){scope.click({"event":event})})});attrMap.change&&checkboxGroupThis._element.on("changeEvt",function(event){scope.$evalAsync(function(){scope.change({"event":event})})})}});(new CheckboxGroup).toAngularDirective();return CheckboxGroup});(function(t){var e,r,i="0.4.2",n="hasOwnProperty",a=/[\.\/]/,s="*",o=function(){},l=function(t,e){return t-e},h={"n":{}},u=function(t,i){var n,a,s,o,h,c,f,p,d,g,v;t+="";a=r,s=Array.prototype.slice.call(arguments,2),o=u.listeners(t),h=0,c=[],f={},p=[],d=e;e=t,r=0;for(g=0,
v=o.length;v>g;g++)"zIndex"in o[g]&&(c.push(o[g].zIndex),0>o[g].zIndex&&(f[o[g].zIndex]=o[g]));for(c.sort(l);0>c[h];)if(n=f[c[h++]],p.push(n.apply(i,s)),r)return r=a,p;for(g=0;v>g;g++)if(n=o[g],"zIndex"in n)if(n.zIndex==c[h]){if(p.push(n.apply(i,s)),r)break;do if(h++,n=f[c[h]],n&&p.push(n.apply(i,s)),r)break;while(n)}else f[n.zIndex]=n;else if(p.push(n.apply(i,s)),r)break;return r=a,e=d,p.length?p:null};u._events=h,u.listeners=function(t){var e,r,i,n,o,l,u,c,f=t.split(a),p=h,d=[p],g=[];for(n=0,o=f.length;o>n;n++){for(c=[],l=0,u=d.length;u>l;l++)for(p=d[l].n,r=[p[f[n]],p[s]],i=2;i--;)e=r[i],e&&(c.push(e),g=g.concat(e.f||[]));d=c}return g},u.on=function(t,e){if(t+="","function"!=typeof e)return function(){};for(var r=t.split(a),i=h,n=0,s=r.length;s>n;n++)i=i.n,i=i.hasOwnProperty(r[n])&&i[r[n]]||(i[r[n]]={"n":{}});for(i.f=i.f||[],n=0,s=i.f.length;s>n;n++)if(i.f[n]==e)return o;return i.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},u.f=function(t){var e=[].slice.call(arguments,1);return function(){u.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},u.stop=function(){r=1},u.nt=function(t){return t?RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},u.nts=function(){return e.split(a)},u.off=u.unbind=function(t,e){var r,i,o,l,c,f,p,d,g,v;if(!t)return void(u._events=h={"n":{}});d=t.split(a),g=[h];for(l=0,c=d.length;c>l;l++)for(f=0;g.length>f;f+=o.length-2){if(o=[f,1],r=g[f].n,d[l]!=s)r[d[l]]&&o.push(r[d[l]]);else for(i in r)r[n](i)&&o.push(r[i]);g.splice.apply(g,o)}for(l=0,c=g.length;c>l;l++)for(r=g[l];r.n;){if(e){if(r.f){for(f=0,p=r.f.length;p>f;f++)if(r.f[f]==e){r.f.splice(f,1);break}!r.f.length&&delete r.f}for(i in r.n)if(r.n[n](i)&&r.n[i].f){v=r.n[i].f;for(f=0,p=v.length;p>f;f++)if(v[f]==e){v.splice(f,1);break}!v.length&&delete r.n[i].f}}else{delete r.f;for(i in r.n)r.n[n](i)&&r.n[i].f&&delete r.n[i].f}r=r.n}},u.once=function(t,e){var r=function(){return u.unbind(t,r),e.apply(this,arguments)};return u.on(t,r)},u.version=i,u.toString=function(){return"You are running Eve "+i},"undefined"!=typeof module&&module.exports?module.exports=u:"undefined"!=typeof define?define("eve",[],function(){return u}):t.eve=u})(this),function(t,e){"function"==typeof define&&define.amd?define("tiny-lib/raphael",["eve"],function(r){return e(t,r)}):e(t,t.eve)}(this,function(t,e){function r(t){var i,n;if(r.is(t,"function"))return b?t():e.on("raphael.DOMload",t);if(r.is(t,H))return r._engine.create[N](r,t.splice(0,3+r.is(t[0],W))).add(t);i=Array.prototype.slice.call(arguments,0);if(r.is(i[i.length-1],"function")){n=i.pop();return b?n.call(r._engine.create[N](r,i)):e.on("raphael.DOMload",function(){n.call(r._engine.create[N](r,i))})}return r._engine.create[N](r,arguments)}function i(t){var e,r;if(Object(t)!==t)return t;e=new t.constructor;for(r in t)t[B](r)&&(e[r]=i(t[r]));return e}function n(t,e){for(var r=0,i=t.length;i>r;r++)if(t[r]===e)return t.push(t.splice(r,1)[0])}function a(t,e,r){function i(){var a=Array.prototype.slice.call(arguments,0),s=a.join("␀"),o=i.cache=i.cache||{},l=i.count=i.count||[];return o[B](s)?(n(l,s),r?r(o[s]):o[s]):(l.length>=1e3&&delete o[l.shift()],l.push(s),o[s]=t[N](e,a),r?r(o[s]):o[s])}return i}function s(){return this.hex}function o(t,e){var r,i,n,a;for(r=[],i=0,n=t.length;n-2*!e>i;i+=2){a=[{"x":+t[i-2],"y":+t[i-1]},{"x":+t[i],"y":+t[i+1]},{"x":+t[i+2],"y":+t[i+3]},{"x":+t[i+4],"y":+t[i+5]}];e?i?n-4==i?a[3]={"x":+t[0],"y":+t[1]}:n-2==i&&(a[2]={"x":+t[0],"y":+t[1]},a[3]={"x":+t[2],"y":+t[3]}):a[0]={"x":+t[n-2],"y":+t[n-1]}:n-4==i?a[3]=a[2]:i||(a[0]={"x":+t[i],"y":+t[i+1]}),r.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return r}function l(t,e,r,i,n){var a=-3*e+9*r-9*i+3*n,s=t*a+6*e-12*r+6*i;return t*s-3*e+3*r}function h(t,e,r,i,n,a,s,o,h){var u,c,f,p,d,g,v,x,y,m;null==h&&(h=1),h=h>1?1:0>h?0:h;for(u=h/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;c>g;g++){v=u*f[g]+u,x=l(v,t,r,n,s),y=l(v,e,i,a,o),m=x*x+y*y;d+=p[g]*q.sqrt(m)}return u*d}function u(t,e,r,i,n,a,s,o,l){if(!(0>l||l>h(t,e,r,i,n,a,s,o))){var u,c=1,f=c/2,p=c-f,d=.01;for(u=h(t,e,r,i,n,a,s,o,p);V(u-l)>d;)f/=2,p+=(l>u?1:-1)*f,u=h(t,e,r,i,n,a,s,o,p);return p}}function c(t,e,r,i,n,a,s,o){var l,h,u,c,f,p,d;if(!(D(t,r)<O(n,s)||O(t,r)>D(n,s)||D(e,i)<O(a,o)||O(e,i)>D(a,o))){l=(t*i-e*r)*(n-s)-(t-r)*(n*o-a*s),h=(t*i-e*r)*(a-o)-(e-i)*(n*o-a*s),u=(t-r)*(a-o)-(e-i)*(n-s);if(u){c=l/u,f=h/u,p=+c.toFixed(2),d=+f.toFixed(2);if(!(+O(t,r).toFixed(2)>p||p>+D(t,r).toFixed(2)||+O(n,s).toFixed(2)>p||p>+D(n,s).toFixed(2)||+O(e,i).toFixed(2)>d||d>+D(e,i).toFixed(2)||+O(a,o).toFixed(2)>d||d>+D(a,o).toFixed(2)))return{"x":c,"y":f}}}}function f(t,e,i){var s,o,l,u,f,p,d,g,v,x,y,m,b,_,w,k,C,B,S,T,n=r.bezierBBox(t),a=r.bezierBBox(e);if(!r.isBBoxIntersect(n,a))return i?0:[];for(s=h.apply(0,t),o=h.apply(0,e),l=~~(s/5),u=~~(o/5),f=[],p=[],d={},g=i?0:[],v=0;l+1>v;v++){x=r.findDotsAtSegment.apply(r,t.concat(v/l));f.push({"x":x.x,"y":x.y,"t":v/l})}for(v=0;u+1>v;v++)x=r.findDotsAtSegment.apply(r,e.concat(v/u)),p.push({"x":x.x,"y":x.y,"t":v/u});for(v=0;l>v;v++)for(y=0;u>y;y++){m=f[v],b=f[v+1],_=p[y],w=p[y+1],k=.001>V(b.x-m.x)?"y":"x",C=.001>V(w.x-_.x)?"y":"x",B=c(m.x,m.y,b.x,b.y,_.x,_.y,w.x,w.y);if(B){if(d[B.x.toFixed(4)]==B.y.toFixed(4))continue;d[B.x.toFixed(4)]=B.y.toFixed(4);S=m.t+V((B[k]-m[k])/(b[k]-m[k]))*(b.t-m.t),T=_.t+V((B[C]-_[C])/(w[C]-_[C]))*(w.t-_.t);S>=0&&1>=S&&T>=0&&1>=T&&(i?g++:g.push({"x":B.x,"y":B.y,"t1":S,"t2":T}))}}return g}function p(t,e,i){var n,a,s,o,l,h,u,c,p,d,g,v,x,y,m,b,_,w,k,C;t=r._path2curve(t),e=r._path2curve(e);for(g=i?0:[],v=0,x=t.length;x>v;v++){y=t[v];if("M"==y[0])n=l=y[1],a=h=y[2];else{"C"==y[0]?(p=[n,a].concat(y.slice(1)),n=p[6],a=p[7]):(p=[n,a,n,a,l,h,l,h],n=l,a=h);for(m=0,b=e.length;b>m;m++){_=e[m];if("M"==_[0])s=u=_[1],o=c=_[2];else{"C"==_[0]?(d=[s,o].concat(_.slice(1)),s=d[6],o=d[7]):(d=[s,o,s,o,u,c,u,c],s=u,o=c);w=f(p,d,i);if(i)g+=w;else{for(k=0,C=w.length;C>k;k++)w[k].segment1=v,w[k].segment2=m,w[k].bez1=p,w[k].bez2=d;g=g.concat(w)}}}}}return g}function d(t,e,r,i,n,a){null!=t?(this.a=+t,this.b=+e,this.c=+r,this.d=+i,this.e=+n,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function g(){return this.x+P+this.y+P+this.width+" × "+this.height}function v(t,e,r,i,n,a){function s(t){return((c*t+u)*t+h)*t}function o(t,e){var r=l(t,e);return((d*r+p)*r+f)*r}function l(t,e){var r,i,n,a,o,l;for(n=t,l=0;8>l;l++){if(a=s(n)-t,e>V(a))return n;if(o=(3*c*n+2*u)*n+h,1e-6>V(o))break;n-=a/o}if(r=0,i=1,n=t,r>n)return r;if(n>i)return i;for(;i>r;){if(a=s(n),e>V(a-t))return n;t>a?r=n:i=n,n=(i-r)/2+r}return n}var h=3*e,u=3*(i-e)-h,c=1-h-u,f=3*r,p=3*(n-r)-f,d=1-f-p;return o(t,1/(200*a))}function x(t,e){var n,r=[],i={};if(this.ms=e,this.times=1,t){for(n in t)t[B](n)&&(i[K(n)]=t[n],r.push(K(n)));r.sort(ce)}this.anim=i,this.top=r[r.length-1],this.percents=r}function y(t,i,n,a,s,o){var l,h,u,c,f,p,g,x,y,m,b,_,k,C,S,T,A,N,L,M,P,R,I,j,q,D,O,V;n=K(n);g=t.ms,x={},y={},m={};if(a)for(_=0,k=lr.length;k>_;_++){b=lr[_];if(b.el.id==i.id&&b.anim==t){b.percent!=n?(lr.splice(_,1),u=1):h=b,i.attr(b.totalOrigin);break}}else a=+y;for(_=0,k=t.percents.length;k>_;_++){if(t.percents[_]==n||t.percents[_]>a*t.top){n=t.percents[_],f=t.percents[_-1]||0,g=g/t.top*(n-f),c=t.percents[_+1],l=t.anim[n];break}a&&i.attr(t.anim[t.percents[_]])}if(l){if(h)h.initstatus=a,h.start=new Date-h.ms*a;else{for(C in l)if(l[B](C)&&(ie[B](C)||i.paper.customAttributes[B](C)))switch(x[C]=i.attr(C),null==x[C]&&(x[C]=re[C]),y[C]=l[C],ie[C]){case W:m[C]=(y[C]-x[C])/g;break;case"colour":x[C]=r.getRGB(x[C]);S=r.getRGB(y[C]);m[C]={"r":(S.r-x[C].r)/g,"g":(S.g-x[C].g)/g,"b":(S.b-x[C].b)/g};break;case"path":T=Re(x[C],y[C]),A=T[1];for(x[C]=T[0],m[C]=[],_=0,k=x[C].length;k>_;_++){m[C][_]=[0];for(N=1,L=x[C][_].length;L>N;N++)m[C][_][N]=(A[_][N]-x[C][_][N])/g}break;case"transform":M=i._,P=Oe(M[C],y[C]);if(P)for(x[C]=P.from,y[C]=P.to,m[C]=[],m[C].real=!0,_=0,k=x[C].length;k>_;_++)for(m[C][_]=[x[C][_][0]],N=1,L=x[C][_].length;L>N;N++)m[C][_][N]=(y[C][_][N]-x[C][_][N])/g;else{R=i.matrix||new d,I={"_":{"transform":M.transform},"getBBox":function(){return i.getBBox(1)}};x[C]=[R.a,R.b,R.c,R.d,R.e,R.f],qe(I,y[C]),y[C]=I._.transform,m[C]=[(I.matrix.a-R.a)/g,(I.matrix.b-R.b)/g,(I.matrix.c-R.c)/g,(I.matrix.d-R.d)/g,(I.matrix.e-R.e)/g,(I.matrix.f-R.f)/g]}break;case"csv":j=z(l[C])[F](w),q=z(x[C])[F](w);if("clip-rect"==C)for(x[C]=q,m[C]=[],_=q.length;_--;)m[C][_]=(j[_]-x[C][_])/g;y[C]=j;break;default:for(j=[][E](l[C]),q=[][E](x[C]),m[C]=[],_=i.paper.customAttributes[C].length;_--;)m[C][_]=((j[_]||0)-(q[_]||0))/g}D=l.easing,O=r.easing_formulas[D];if(!O)if(O=z(D).match(Q),O&&5==O.length){V=O;O=function(t){return v(t,+V[1],+V[2],+V[3],+V[4],g)}}else O=pe;if(p=l.start||t.start||+new Date,b={"anim":t,"percent":n,"timestamp":p,"start":p+(t.del||0),"status":0,"initstatus":a||0,"stop":!1,"ms":g,"easing":O,"from":x,"diff":m,"to":y,"el":i,"callback":l.callback,"prev":f,"next":c,"repeat":o||t.times,"origin":i.attr(),"totalOrigin":s},lr.push(b),a&&!h&&!u&&(b.stop=!0,b.start=new Date-g*a,1==lr.length))return ur();u&&(b.start=new Date-b.ms*a),1==lr.length&&hr(ur)}e("raphael.anim.start."+i.id,i,t)}}function m(t){for(var e=0;lr.length>e;e++)lr[e].el.paper==t&&lr.splice(e--,1)}var b,_,w,k,C,B,S,T,A,N,E,L,M,P,z,F,R,I,j,q,D,O,V,Y,G,W,X,H,U,$,Z,Q,J,K,te,ee,re,ie,ne,ae,se,oe,le,he,ue,ce,fe,pe,de,ge,ve,xe,ye,me,be,_e,we,ke,Ce,Be,Se,Te,Ae,Ne,Ee,Le,Me,Pe,ze,Fe,Re,Ie,je,qe,De,Oe,Ve,Ye,Ge,We,Xe,He,Ue,$e,Ze,Qe,Je,Ke,tr,er,rr,ir,nr,ar,sr,or,lr,hr,ur,cr,fr,pr,dr;r.version="2.1.0",r.eve=e;w=/[, ]+/,k={"circle":1,"rect":1,"path":1,"ellipse":1,"text":1,"image":1},C=/\{(\d+)\}/g,B="hasOwnProperty",S={"doc":document,"win":t},T={"was":Object.prototype[B].call(S.win,"Raphael"),"is":S.win.Raphael},A=function(){this.ca=this.customAttributes={}},N="apply",E="concat",L="ontouchstart"in S.win||S.win.DocumentTouch&&S.doc instanceof DocumentTouch,M="",P=" ",z=String,F="split",R="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[F](P),I={"mousedown":"touchstart","mousemove":"touchmove","mouseup":"touchend"},j=z.prototype.toLowerCase,q=Math,D=q.max,O=q.min,V=q.abs,Y=q.pow,G=q.PI,W="number",X="string",H="array",U=Object.prototype.toString,$=(r._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Z={"NaN":1,"Infinity":1,"-Infinity":1},Q=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,J=q.round,K=parseFloat,te=parseInt,ee=z.prototype.toUpperCase,re=r._availableAttrs={"arrow-end":"none","arrow-start":"none","blur":0,"clip-rect":"0 0 1e9 1e9","cursor":"default","cx":0,"cy":0,"fill":"#fff","fill-opacity":1,"font":'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,"gradient":0,"height":0,"href":"http://raphaeljs.com/","letter-spacing":0,"opacity":1,"path":"M0,0","r":0,"rx":0,"ry":0,"src":"","stroke":"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,"target":"_blank","text-anchor":"middle","title":"Raphael","transform":"","width":0,"x":0,"y":0},ie=r._availableAnimAttrs={"blur":W,"clip-rect":"csv","cx":W,"cy":W,"fill":"colour","fill-opacity":W,"font-size":W,"height":W,"opacity":W,"path":"path","r":W,"rx":W,"ry":W,"stroke":"colour","stroke-opacity":W,"stroke-width":W,"transform":"transform","width":W,"x":W,"y":W},ne=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,ae={"hs":1,"rg":1},se=/,?([achlmqrstvxz]),?/gi,oe=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,le=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,he=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ue=(r._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ce=function(t,e){return K(t)-K(e)},fe=function(){},pe=function(t){return t},de=r._rectPath=function(t,e,r,i,n){return n?[["M",t+n,e],["l",r-2*n,0],["a",n,n,0,0,1,n,n],["l",0,i-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-r,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-i],["a",n,n,0,0,1,n,-n],["z"]]:[["M",t,e],["l",r,0],["l",0,i],["l",-r,0],["z"]]},ge=function(t,e,r,i){return null==i&&(i=r),[["M",t,e],["m",0,-i],["a",r,i,0,1,1,0,2*i],["a",r,i,0,1,1,0,-2*i],["z"]]},ve=r._getPath={"path":function(t){return t.attr("path")},"circle":function(t){var e=t.attrs;return ge(e.cx,e.cy,e.r)},"ellipse":function(t){var e=t.attrs;return ge(e.cx,e.cy,e.rx,e.ry)},"rect":function(t){var e=t.attrs;return de(e.x,e.y,e.width,e.height,e.r)},"image":function(t){var e=t.attrs;return de(e.x,e.y,e.width,e.height)},"text":function(t){var e=t._getBBox();return de(e.x,e.y,e.width,e.height)},"set":function(t){var e=t._getBBox();return de(e.x,e.y,e.width,e.height)}},xe=r.mapPath=function(t,e){if(!e)return t;var r,i,n,a,s,o,l;for(t=Re(t),n=0,s=t.length;s>n;n++)for(l=t[n],a=1,o=l.length;o>a;a+=2)r=e.x(l[a],l[a+1]),i=e.y(l[a],l[a+1]),l[a]=r,l[a+1]=i;return t};if(r._g=S,r.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==r.type){me=S.doc.createElement("div");if(me.innerHTML='<v:shape adj="1"/>',ye=me.firstChild,ye.style.behavior="url(#default#VML)",!ye||"object"!=typeof ye.adj)return r.type=M;me=null}r.svg=!(r.vml="VML"==r.type),r._Paper=A,r.fn=_=A.prototype=r.prototype,r._id=0,r._oid=0,r.is=function(t,e){return e=j.call(e),"finite"==e?!Z[B](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||U.call(t).slice(8,-1).toLowerCase()==e},r.angle=function(t,e,i,n,a,s){if(null==a){var o=t-i,l=e-n;return o||l?(180+180*q.atan2(-l,-o)/G+360)%360:0}return r.angle(t,e,a,s)-r.angle(i,n,a,s)},r.rad=function(t){return t%360*G/180},r.deg=function(t){return 180*t/G%360},r.snapTo=function(t,e,i){var n,a;if(i=r.is(i,"finite")?i:10,r.is(t,H)){for(n=t.length;n--;)if(i>=V(t[n]-e))return t[n]}else{t=+t;a=e%t;if(i>a)return e-a;if(a>t-i)return e-a+t}return e},r.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=0|16*q.random(),r="x"==t?e:8|3&e;return r.toString(16)}),r.setWindow=function(t){e("raphael.setWindow",r,S.win,t),S.win=t,S.doc=S.win.document,r._engine.initWin&&r._engine.initWin(S.win)};be=function(t){var e,i,n,o,l;if(r.vml){i=/^\s+|\s+$/g;try{n=new ActiveXObject("htmlfile");n.write("<body>"),n.close(),e=n.body}catch(s){e=createPopup().document.body}o=e.createTextRange();be=a(function(t){try{e.style.color=z(t).replace(i,M);var r=o.queryCommandValue("ForeColor");return r=(255&r)<<16|65280&r|(16711680&r)>>>16,"#"+("000000"+r.toString(16)).slice(-6)}catch(n){return"none"}})}else{l=S.doc.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",S.doc.body.appendChild(l),be=a(function(t){return l.style.color=t,S.doc.defaultView.getComputedStyle(l,M).getPropertyValue("color")})}return be(t)},_e=function(){return"hsb("+[this.h,this.s,this.b]+")"},we=function(){return"hsl("+[this.h,this.s,this.l]+")"},ke=function(){return this.hex},Ce=function(t,e,i){if(null==e&&r.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,e=t.g,t=t.r),null==e&&r.is(t,X)){var n=r.getRGB(t);t=n.r,e=n.g,i=n.b}return(t>1||e>1||i>1)&&(t/=255,e/=255,i/=255),[t,e,i]},Be=function(t,e,i,n){t*=255,e*=255,i*=255;var a={"r":t,"g":e,"b":i,"hex":r.rgb(t,e,i),"toString":ke};return r.is(n,"finite")&&(a.opacity=n),a};r.color=function(t){var e;return r.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=r.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):r.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=r.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(r.is(t,"string")&&(t=r.getRGB(t)),r.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=r.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=r.rgb2hsb(t),t.v=e.b):(t={"hex":"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=ke,t},r.hsb2rgb=function(t,e,r,i){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(r=t.b,e=t.s,t=t.h,i=t.o),t*=360;var n,a,s,o,l;return t=t%360/60,l=r*e,o=l*(1-V(t%2-1)),n=a=s=r-l,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],Be(n,a,s,i)},r.hsl2rgb=function(t,e,r,i){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(r=t.l,e=t.s,t=t.h),(t>1||e>1||r>1)&&(t/=360,e/=100,r/=100),t*=360;var n,a,s,o,l;return t=t%360/60,l=2*e*(.5>r?r:1-r),o=l*(1-V(t%2-1)),n=a=s=r-l/2,t=~~t,n+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],Be(n,a,s,i)},r.rgb2hsb=function(t,e,r){r=Ce(t,e,r),t=r[0],e=r[1],r=r[2];var i,n,a,s;return a=D(t,e,r),s=a-O(t,e,r),i=0==s?null:a==t?(e-r)/s:a==e?(r-t)/s+2:(t-e)/s+4,i=60*((i+360)%6)/360,n=0==s?0:s/a,{"h":i,"s":n,"b":a,"toString":_e}},r.rgb2hsl=function(t,e,r){r=Ce(t,e,r),t=r[0],e=r[1],r=r[2];var i,n,a,s,o,l;return s=D(t,e,r),o=O(t,e,r),l=s-o,i=0==l?null:s==t?(e-r)/l:s==e?(r-t)/l+2:(t-e)/l+4,i=60*((i+360)%6)/360,a=(s+o)/2,n=0==l?0:.5>a?l/(2*a):l/(2-2*a),{"h":i,"s":n,"l":a,"toString":we}},r._path2string=function(){return this.join(",").replace(se,"$1")},r._preload=function(t,e){var r=S.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){e.call(this),this.onload=null,S.doc.body.removeChild(this)},r.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(r),r.src=t},r.getRGB=a(function(t){if(!t||(t=z(t)).indexOf("-")+1)return{"r":-1,"g":-1,"b":-1,"hex":"none","error":1,"toString":s};if("none"==t)return{"r":-1,"g":-1,"b":-1,"hex":"none","toString":s};!(ae[B](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=be(t));var e,i,n,a,o,l,h=t.match($);return h?(h[2]&&(n=te(h[2].substring(5),16),i=te(h[2].substring(3,5),16),e=te(h[2].substring(1,3),16)),h[3]&&(n=te((o=h[3].charAt(3))+o,16),i=te((o=h[3].charAt(2))+o,16),e=te((o=h[3].charAt(1))+o,16)),h[4]&&(l=h[4][F](ne),e=K(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),i=K(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),n=K(l[2]),"%"==l[2].slice(-1)&&(n*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(a=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),h[5]?(l=h[5][F](ne),e=K(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),i=K(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),n=K(l[2]),"%"==l[2].slice(-1)&&(n*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(a=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),r.hsb2rgb(e,i,n,a)):h[6]?(l=h[6][F](ne),e=K(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),i=K(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),n=K(l[2]),"%"==l[2].slice(-1)&&(n*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(a=K(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),r.hsl2rgb(e,i,n,a)):(h={"r":e,"g":i,"b":n,"toString":s},h.hex="#"+(16777216|n|i<<8|e<<16).toString(16).slice(1),r.is(a,"finite")&&(h.opacity=a),h)):{"r":-1,"g":-1,"b":-1,"hex":"none","error":1,"toString":s}},r),r.hsb=a(function(t,e,i){return r.hsb2rgb(t,e,i).hex}),r.hsl=a(function(t,e,i){return r.hsl2rgb(t,e,i).hex}),r.rgb=a(function(t,e,r){return"#"+(16777216|r|e<<8|t<<16).toString(16).slice(1)}),r.getColor=function(t){var e=this.getColor.start=this.getColor.start||{"h":0,"s":1,"b":t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,0>=e.s&&(this.getColor.start={"h":0,"s":1,"b":e.b})),r.hex},r.getColor.reset=function(){delete this.start},r.parsePathString=function(t){var e,i,n;if(!t)return null;e=Se(t);if(e.arr)return Ae(e.arr);i={"a":7,"c":6,"h":1,"l":2,"m":2,"r":4,"q":4,"s":4,"t":2,"v":1,"z":0},n=[];return r.is(t,H)&&r.is(t[0],H)&&(n=Ae(t)),n.length||z(t).replace(oe,function(t,e,r){var a=[],s=e.toLowerCase();if(r.replace(he,function(t,e){e&&a.push(+e)}),"m"==s&&a.length>2&&(n.push([e][E](a.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)n.push([e][E](a));else for(;a.length>=i[s]&&(n.push([e][E](a.splice(0,i[s]))),i[s]););}),n.toString=r._path2string,e.arr=Ae(n),n},r.parseTransformString=a(function(t){if(!t)return null;var e=[];return r.is(t,H)&&r.is(t[0],H)&&(e=Ae(t)),e.length||z(t).replace(le,function(t,r,i){var n=[];j.call(r),i.replace(he,function(t,e){e&&n.push(+e)}),e.push([r][E](n))}),e.toString=r._path2string,e});Se=function(t){var e=Se.ps=Se.ps||{};return e[t]?e[t].sleep=100:e[t]={"sleep":100},setTimeout(function(){for(var r in e)e[B](r)&&r!=t&&(e[r].sleep--,!e[r].sleep&&delete e[r])}),e[t]};r.findDotsAtSegment=function(t,e,r,i,n,a,s,o,l){var h=1-l,u=Y(h,3),c=Y(h,2),f=l*l,p=f*l,d=u*t+3*c*l*r+3*h*l*l*n+p*s,g=u*e+3*c*l*i+3*h*l*l*a+p*o,v=t+2*l*(r-t)+f*(n-2*r+t),x=e+2*l*(i-e)+f*(a-2*i+e),y=r+2*l*(n-r)+f*(s-2*n+r),m=i+2*l*(a-i)+f*(o-2*a+i),b=h*t+l*r,_=h*e+l*i,w=h*n+l*s,k=h*a+l*o,C=90-180*q.atan2(v-y,x-m)/G;return(v>y||m>x)&&(C+=180),{"x":d,"y":g,"m":{"x":v,"y":x},"n":{"x":y,"y":m},"start":{"x":b,"y":_},"end":{"x":w,"y":k},"alpha":C}},r.bezierBBox=function(t,e,i,n,a,s,o,l){r.is(t,"array")||(t=[t,e,i,n,a,s,o,l]);var h=Fe.apply(null,t);return{"x":h.min.x,"y":h.min.y,"x2":h.max.x,"y2":h.max.y,"width":h.max.x-h.min.x,"height":h.max.y-h.min.y}},r.isPointInsideBBox=function(t,e,r){return e>=t.x&&t.x2>=e&&r>=t.y&&t.y2>=r},r.isBBoxIntersect=function(t,e){var i=r.isPointInsideBBox;return i(e,t.x,t.y)||i(e,t.x2,t.y)||i(e,t.x,t.y2)||i(e,t.x2,t.y2)||i(t,e.x,e.y)||i(t,e.x2,e.y)||i(t,e.x,e.y2)||i(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},r.pathIntersection=function(t,e){return p(t,e)},r.pathIntersectionNumber=function(t,e){return p(t,e,1)},r.isPointInsidePath=function(t,e,i){var n=r.pathBBox(t);return r.isPointInsideBBox(n,e,i)&&1==p(t,[["M",e,i],["H",n.x2+10]],1)%2},r._removedFactory=function(t){return function(){e("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};Te=r.pathBBox=function(t){var r,n,a,s,o,l,h,u,c,f,p,d,g,v,x,e=Se(t);if(e.bbox)return i(e.bbox);if(!t)return{"x":0,"y":0,"width":0,"height":0,"x2":0,"y2":0};t=Re(t);for(n=0,a=0,s=[],o=[],l=0,h=t.length;h>l;l++)if(r=t[l],"M"==r[0])n=r[1],a=r[2],s.push(n),o.push(a);else{u=Fe(n,a,r[1],r[2],r[3],r[4],r[5],r[6]);s=s[E](u.min.x,u.max.x),o=o[E](u.min.y,u.max.y),n=r[5],a=r[6]}c=O[N](0,s),f=O[N](0,o),p=D[N](0,s),d=D[N](0,o),g=p-c,v=d-f,x={"x":c,"y":f,"x2":p,"y2":d,"width":g,"height":v,"cx":c+g/2,"cy":f+v/2};return e.bbox=i(x),x},Ae=function(t){var e=i(t);return e.toString=r._path2string,e},Ne=r._pathToRelative=function(t){var i,n,a,s,o,l,h,u,c,f,p,d,g,v,x,e=Se(t);if(e.rel)return Ae(e.rel);r.is(t,H)&&r.is(t&&t[0],H)||(t=r.parsePathString(t));i=[],n=0,a=0,s=0,o=0,l=0;"M"==t[0][0]&&(n=t[0][1],a=t[0][2],s=n,o=a,l++,i.push(["M",n,a]));for(h=l,u=t.length;u>h;h++){c=i[h]=[],f=t[h];if(f[0]!=j.call(f[0]))switch(c[0]=j.call(f[0]),c[0]){case"a":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]-n).toFixed(3),c[7]=+(f[7]-a).toFixed(3);break;case"v":c[1]=+(f[1]-a).toFixed(3);break;case"m":s=f[1],o=f[2];default:for(p=1,d=f.length;d>p;p++)c[p]=+(f[p]-(p%2?n:a)).toFixed(3)}else{c=i[h]=[],"m"==f[0]&&(s=f[1]+n,o=f[2]+a);for(g=0,v=f.length;v>g;g++)i[h][g]=f[g]}x=i[h].length;switch(i[h][0]){case"z":n=s,a=o;break;case"h":n+=+i[h][x-1];break;case"v":a+=+i[h][x-1];break;default:n+=+i[h][x-2],a+=+i[h][x-1]}}return i.toString=r._path2string,e.rel=Ae(i),i},Ee=r._pathToAbsolute=function(t){var i,n,a,s,l,h,u,c,f,p,d,g,v,x,y,m,e=Se(t);if(e.abs)return Ae(e.abs);if(r.is(t,H)&&r.is(t&&t[0],H)||(t=r.parsePathString(t)),!t||!t.length)return[["M",0,0]];i=[],n=0,a=0,s=0,l=0,h=0;"M"==t[0][0]&&(n=+t[0][1],a=+t[0][2],s=n,l=a,h++,i[0]=["M",n,a]);for(f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=h,d=t.length;d>p;p++){if(i.push(u=[]),c=t[p],c[0]!=ee.call(c[0]))switch(u[0]=ee.call(c[0]),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]+n),u[7]=+(c[7]+a);break;case"V":u[1]=+c[1]+a;break;case"H":u[1]=+c[1]+n;break;case"R":for(g=[n,a][E](c.slice(1)),v=2,x=g.length;x>v;v++)g[v]=+g[v]+n,g[++v]=+g[v]+a;i.pop(),i=i[E](o(g,f));break;case"M":s=+c[1]+n,l=+c[2]+a;default:for(v=1,x=c.length;x>v;v++)u[v]=+c[v]+(v%2?n:a)}else if("R"==c[0])g=[n,a][E](c.slice(1)),i.pop(),i=i[E](o(g,f)),u=["R"][E](c.slice(-2));else for(y=0,m=c.length;m>y;y++)u[y]=c[y];switch(u[0]){case"Z":n=s,a=l;break;case"H":n=u[1];break;case"V":a=u[1];break;case"M":s=u[u.length-2],l=u[u.length-1];default:n=u[u.length-2],a=u[u.length-1]}}return i.toString=r._path2string,e.abs=Ae(i),i},Le=function(t,e,r,i){return[t,e,r,i,r,i]},Me=function(t,e,r,i,n,a){var s=1/3,o=2/3;return[s*t+o*r,s*e+o*i,s*n+o*r,s*a+o*i,n,a]},Pe=function(t,e,r,i,n,s,o,l,h,u){var c,v,x,y,m,b,_,w,k,C,B,S,T,A,N,L,M,P,z,R,I,j,D,O,Y,W,X,H,U,f=120*G/180,p=G/180*(+n||0),d=[],g=a(function(t,e,r){var i=t*q.cos(r)-e*q.sin(r),n=t*q.sin(r)+e*q.cos(r);return{"x":i,"y":n}});if(u)C=u[0],B=u[1],w=u[2],k=u[3];else{c=g(t,e,-p),t=c.x,e=c.y,c=g(l,h,-p),l=c.x,h=c.y;v=(q.cos(G/180*n),q.sin(G/180*n),(t-l)/2),x=(e-h)/2,y=v*v/(r*r)+x*x/(i*i);y>1&&(y=q.sqrt(y),r=y*r,i=y*i);m=r*r,b=i*i,_=(s==o?-1:1)*q.sqrt(V((m*b-m*x*x-b*v*v)/(m*x*x+b*v*v))),w=_*r*x/i+(t+l)/2,k=_*-i*v/r+(e+h)/2,C=q.asin(((e-k)/i).toFixed(9)),B=q.asin(((h-k)/i).toFixed(9));C=w>t?G-C:C,B=w>l?G-B:B,0>C&&(C=2*G+C),0>B&&(B=2*G+B),o&&C>B&&(C-=2*G),!o&&B>C&&(B-=2*G)}S=B-C;if(V(S)>f){T=B,A=l,N=h;B=C+f*(o&&B>C?1:-1),l=w+r*q.cos(B),h=k+i*q.sin(B),d=Pe(l,h,r,i,n,0,o,A,N,[B,T,w,k])}S=B-C;L=q.cos(C),M=q.sin(C),P=q.cos(B),z=q.sin(B),R=q.tan(S/4),I=4/3*r*R,j=4/3*i*R,D=[t,e],O=[t+I*M,e-j*L],Y=[l+I*z,h-j*P],W=[l,h];if(O[0]=2*D[0]-O[0],O[1]=2*D[1]-O[1],u)return[O,Y,W][E](d);d=[O,Y,W][E](d).join()[F](",");for(X=[],H=0,U=d.length;U>H;H++)X[H]=H%2?g(d[H-1],d[H],p).y:g(d[H],d[H+1],p).x;return X},ze=function(t,e,r,i,n,a,s,o,l){var h=1-l;return{"x":Y(h,3)*t+3*Y(h,2)*l*r+3*h*l*l*n+Y(l,3)*s,"y":Y(h,3)*e+3*Y(h,2)*l*i+3*h*l*l*a+Y(l,3)*o}},Fe=a(function(t,e,r,i,n,a,s,o){var l,h=n-2*r+t-(s-2*n+r),u=2*(r-t)-2*(n-r),c=t-r,f=(-u+q.sqrt(u*u-4*h*c))/2/h,p=(-u-q.sqrt(u*u-4*h*c))/2/h,d=[e,o],g=[t,s];return V(f)>"1e12"&&(f=.5),V(p)>"1e12"&&(p=.5),f>0&&1>f&&(l=ze(t,e,r,i,n,a,s,o,f),g.push(l.x),d.push(l.y)),p>0&&1>p&&(l=ze(t,e,r,i,n,a,s,o,p),g.push(l.x),d.push(l.y)),h=a-2*i+e-(o-2*a+i),u=2*(i-e)-2*(a-i),c=e-i,f=(-u+q.sqrt(u*u-4*h*c))/2/h,p=(-u-q.sqrt(u*u-4*h*c))/2/h,V(f)>"1e12"&&(f=.5),V(p)>"1e12"&&(p=.5),f>0&&1>f&&(l=ze(t,e,r,i,n,a,s,o,f),g.push(l.x),d.push(l.y)),p>0&&1>p&&(l=ze(t,e,r,i,n,a,s,o,p),g.push(l.x),d.push(l.y)),{"min":{"x":O[N](0,g),"y":O[N](0,d)},"max":{"x":D[N](0,g),"y":D[N](0,d)}}}),Re=r._path2curve=a(function(t,e){var i,n,a,s,o,l,h,u,c,f,p,d,g,r=!e&&Se(t);if(!e&&r.curve)return Ae(r.curve);for((i=Ee(t),n=e&&Ee(e),a={"x":0,"y":0,"bx":0,"by":0,"X":0,"Y":0,"qx":null,"qy":null},s={"x":0,"y":0,"bx":0,"by":0,"X":0,"Y":0,"qx":null,"qy":null},o=function(t,e){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{"T":1,"Q":1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][E](Pe[N](0,[e.x,e.y][E](t.slice(1))));break;case"S":r=e.x+(e.x-(e.bx||e.x)),i=e.y+(e.y-(e.by||e.y)),t=["C",r,i][E](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][E](Me(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][E](Me(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][E](Le(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][E](Le(e.x,e.y,t[1],e.y));break;case"V":t=["C"][E](Le(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][E](Le(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)t.splice(e++,0,["C"][E](r.splice(0,6)));t.splice(e,1),c=D(i.length,n&&n.length||0)}},h=function(t,e,r,a,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),r.bx=0,r.by=0,r.x=t[s][1],r.y=t[s][2],c=D(i.length,n&&n.length||0))},u=0,c=D(i.length,n&&n.length||0));c>u;u++){i[u]=o(i[u],a),l(i,u),n&&(n[u]=o(n[u],s)),n&&l(n,u),h(i,n,a,s,u),h(n,i,s,a,u);f=i[u],p=n&&n[u],d=f.length,g=n&&p.length;a.x=f[d-2],a.y=f[d-1],a.bx=K(f[d-4])||a.x,a.by=K(f[d-3])||a.y,s.bx=n&&(K(p[g-4])||s.x),s.by=n&&(K(p[g-3])||s.y),s.x=n&&p[g-2],s.y=n&&p[g-1]}return n||(r.curve=Ae(i)),n?[i,n]:i},null,Ae),Ie=(r._parseDots=a(function(t){var e,i,n,a,s,o,l,h,u;for(e=[],i=0,n=t.length;n>i;i++){a={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(a.color=r.getRGB(s[1]),a.color.error)return null;a.color=a.color.hex,s[2]&&(a.offset=s[2]+"%"),e.push(a)}for(i=1,n=e.length-1;n>i;i++)if(!e[i].offset){for(o=K(e[i-1].offset||0),l=0,h=i+1;n>h;h++)if(e[h].offset){l=e[h].offset;break}l||(l=100,h=n),l=K(l);for(u=(l-o)/(h-i+1);h>i;i++)o+=u,e[i].offset=o+"%"}return e}),r._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),je=(r._tofront=function(t,e){e.top!==t&&(Ie(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},r._toback=function(t,e){e.bottom!==t&&(Ie(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},r._insertafter=function(t,e,r){Ie(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},r._insertbefore=function(t,e,r){Ie(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},r.toMatrix=function(t,e){var r=Te(t),i={"_":{"transform":M},"getBBox":function(){return r}};return qe(i,e),i.matrix}),qe=(r.transformPath=function(t,e){return xe(t,je(t,e))},r._extractTransform=function(t,e){var i,n,a,s,o,l,h,u,c,f,p,g,v,x,y,m,b,_,w,k;if(null==e)return t._.transform;e=z(e).replace(/\.{3}|\u2026/g,t._.transform||M);i=r.parseTransformString(e),n=0,a=0,s=0,o=1,l=1,h=t._,u=new d;if(h.transform=i||[],i)for(c=0,f=i.length;f>c;c++){m=i[c],b=m.length,_=z(m[0]).toLowerCase(),w=m[0]!=_,k=w?u.invert():0;"t"==_&&3==b?w?(p=k.x(0,0),g=k.y(0,0),v=k.x(m[1],m[2]),x=k.y(m[1],m[2]),u.translate(v-p,x-g)):u.translate(m[1],m[2]):"r"==_?2==b?(y=y||t.getBBox(1),u.rotate(m[1],y.x+y.width/2,y.y+y.height/2),n+=m[1]):4==b&&(w?(v=k.x(m[2],m[3]),x=k.y(m[2],m[3]),u.rotate(m[1],v,x)):u.rotate(m[1],m[2],m[3]),n+=m[1]):"s"==_?2==b||3==b?(y=y||t.getBBox(1),u.scale(m[1],m[b-1],y.x+y.width/2,y.y+y.height/2),o*=m[1],l*=m[b-1]):5==b&&(w?(v=k.x(m[3],m[4]),x=k.y(m[3],m[4]),u.scale(m[1],m[2],v,x)):u.scale(m[1],m[2],m[3],m[4]),o*=m[1],l*=m[2]):"m"==_&&7==b&&u.add(m[1],m[2],m[3],m[4],m[5],m[6]),h.dirtyT=1,t.matrix=u}t.matrix=u,h.sx=o,h.sy=l,h.deg=n,h.dx=a=u.e,h.dy=s=u.f,1==o&&1==l&&!n&&h.bbox?(h.bbox.x+=+a,h.bbox.y+=+s):h.dirtyT=1}),De=function(t){var e=t[0];switch(e.toLowerCase()){
case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Oe=r._equaliseTransform=function(t,e){e=z(e).replace(/\.{3}|\u2026/g,t),t=r.parseTransformString(t)||[],e=r.parseTransformString(e)||[];for(var i,n,a,s,o=D(t.length,e.length),l=[],h=[],u=0;o>u;u++){if(a=t[u]||De(e[u]),s=e[u]||De(a),a[0]!=s[0]||"r"==a[0].toLowerCase()&&(a[2]!=s[2]||a[3]!=s[3])||"s"==a[0].toLowerCase()&&(a[3]!=s[3]||a[4]!=s[4]))return;for(l[u]=[],h[u]=[],i=0,n=D(a.length,s.length);n>i;i++)i in a&&(l[u][i]=a[i]),i in s&&(h[u][i]=s[i])}return{"from":l,"to":h}};r._getContainer=function(t,e,i,n){var a;return a=null!=n||r.is(t,"object")?t:S.doc.getElementById(t),null!=a?a.tagName?null==e?{"container":a,"width":a.style.pixelWidth||a.offsetWidth,"height":a.style.pixelHeight||a.offsetHeight}:{"container":a,"width":e,"height":i}:{"container":1,"x":t,"y":e,"width":i,"height":n}:void 0},r.pathToRelative=Ne,r._engine={},r.path2curve=Re,r.matrix=function(t,e,r,i,n,a){return new d(t,e,r,i,n,a)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var r=q.sqrt(e(t));t[0]&&(t[0]/=r),t[1]&&(t[1]/=r)}t.add=function(t,e,r,i,n,a){var s,o,l,h,u=[[],[],[]],c=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],f=[[t,r,n],[e,i,a],[0,0,1]];for(t&&t instanceof d&&(f=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(o=0;3>o;o++){for(h=0,l=0;3>l;l++)h+=c[s][l]*f[l][o];u[s][o]=h}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new d(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,r,i){null==e&&(e=t),(r||i)&&this.add(1,0,0,1,r,i),this.add(t,0,0,e,0,0),(r||i)&&this.add(1,0,0,1,-r,-i)},t.rotate=function(t,e,i){t=r.rad(t),e=e||0,i=i||0;var n=+q.cos(t).toFixed(9),a=+q.sin(t).toFixed(9);this.add(n,a,-a,n,e,i),this.add(1,0,0,1,-e,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[z.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return r.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var n,a,s,t={};t.dx=this.e,t.dy=this.f;n=[[this.a,this.c],[this.b,this.d]];t.scalex=q.sqrt(e(n[0])),i(n[0]),t.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*t.shear,n[1][1]-n[0][1]*t.shear],t.scaley=q.sqrt(e(n[1])),i(n[1]),t.shear/=t.scaley;a=-n[0][1],s=n[1][1];return 0>s?(t.rotate=r.deg(q.acos(s)),0>a&&(t.rotate=360-t.rotate)):t.rotate=r.deg(q.asin(a)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[F]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:M)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:M)+(e.rotate?"r"+[e.rotate,0,0]:M)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(d.prototype);Ve=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);_.safari="Apple Computer, Inc."==navigator.vendor&&(Ve&&4>Ve[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Ve&&8>Ve[1]?function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({"stroke":"none"});setTimeout(function(){t.remove()})}:fe;for(Ye=function(){this.returnValue=!1},Ge=function(){return this.originalEvent.preventDefault()},We=function(){this.cancelBubble=!0},Xe=function(){return this.originalEvent.stopPropagation()},He=function(t){var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,r=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;return{"x":t.clientX+r,"y":t.clientY+e}},Ue=function(){return S.doc.addEventListener?function(t,e,r,i){var a,n=function(t){var e=He(t);return r.call(i,t,e.x,e.y)};if(t.addEventListener(e,n,!1),L&&I[e]){a=function(e){for(var n=He(e),a=e,s=0,o=e.targetTouches&&e.targetTouches.length;o>s;s++)if(e.targetTouches[s].target==t){e=e.targetTouches[s],e.originalEvent=a,e.preventDefault=Ge,e.stopPropagation=Xe;break}return r.call(i,e,n.x,n.y)};t.addEventListener(I[e],a,!1)}return function(){return t.removeEventListener(e,n,!1),L&&I[e]&&t.removeEventListener(I[e],n,!1),!0}}:S.doc.attachEvent?function(t,e,r,i){var a,n=function(t){t=t||S.win.event;var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,n=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,a=t.clientX+n,s=t.clientY+e;return t.preventDefault=t.preventDefault||Ye,t.stopPropagation=t.stopPropagation||We,r.call(i,t,a,s)};t.attachEvent("on"+e,n);a=function(){return t.detachEvent("on"+e,n),!0};return a}:void 0}(),$e=[],Ze=function(t){var r,i,n,a,s,o,l,h,u,c,f,p,d;for(i=t.clientX,n=t.clientY,a=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,s=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,o=$e.length;o--;){if(r=$e[o],L&&t.touches){for(h=t.touches.length;h--;)if(l=t.touches[h],l.identifier==r.el._drag.id){i=l.clientX,n=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();c=r.el.node,f=c.nextSibling,p=c.parentNode,d=c.style.display;S.win.opera&&p.removeChild(c),c.style.display="none",u=r.el.paper.getElementByPoint(i,n),c.style.display=d,S.win.opera&&(f?p.insertBefore(c,f):p.appendChild(c)),u&&e("raphael.drag.over."+r.el.id,r.el,u),i+=s,n+=a,e("raphael.drag.move."+r.el.id,r.move_scope||r.el,i-r.el._drag.x,n-r.el._drag.y,i,n,t)}},Qe=function(t){r.unmousemove(Ze).unmouseup(Qe);for(var i,n=$e.length;n--;)i=$e[n],i.el._drag={},e("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,t);$e=[]},Je=r.el={},Ke=R.length;Ke--;)(function(t){r[t]=Je[t]=function(e,i){return r.is(e,"function")&&(this.events=this.events||[],this.events.push({"name":t,"f":e,"unbind":Ue(this.shape||this.node||S.doc,t,e,i||this)})),this},r["un"+t]=Je["un"+t]=function(e){for(var i=this.events||[],n=i.length;n--;)i[n].name!=t||!r.is(e,"undefined")&&i[n].f!=e||(i[n].unbind(),i.splice(n,1),!i.length&&delete this.events);return this}})(R[Ke]);Je.data=function(t,i){var a,n=ue[this.id]=ue[this.id]||{};if(0==arguments.length)return n;if(1==arguments.length){if(r.is(t,"object")){for(a in t)t[B](a)&&this.data(a,t[a]);return this}return e("raphael.data.get."+this.id,this,n[t],t),n[t]}return n[t]=i,e("raphael.data.set."+this.id,this,i,t),this},Je.removeData=function(t){return null==t?ue[this.id]={}:ue[this.id]&&delete ue[this.id][t],this},Je.getData=function(){return i(ue[this.id]||{})},Je.hover=function(t,e,r,i){return this.mouseover(t,r).mouseout(e,i||r)},Je.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};tr=[];Je.drag=function(t,i,n,a,s,o){function l(l){(l.originalEvent||l).preventDefault();var h=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,u=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;this._drag.x=l.clientX+u,this._drag.y=l.clientY+h,this._drag.id=l.identifier,!$e.length&&r.mousemove(Ze).mouseup(Qe),$e.push({"el":this,"move_scope":a,"start_scope":s,"end_scope":o}),i&&e.on("raphael.drag.start."+this.id,i),t&&e.on("raphael.drag.move."+this.id,t),n&&e.on("raphael.drag.end."+this.id,n),e("raphael.drag.start."+this.id,s||a||this,l.clientX+u,l.clientY+h,l)}return this._drag={},tr.push({"el":this,"start":l}),this.mousedown(l),this},Je.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},Je.undrag=function(){for(var t=tr.length;t--;)tr[t].el==this&&(this.unmousedown(tr[t].start),tr.splice(t,1),e.unbind("raphael.drag.*."+this.id));!tr.length&&r.unmousemove(Ze).unmouseup(Qe),$e=[]},_.circle=function(t,e,i){var n=r._engine.circle(this,t||0,e||0,i||0);return this.__set__&&this.__set__.push(n),n},_.rect=function(t,e,i,n,a){var s=r._engine.rect(this,t||0,e||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},_.ellipse=function(t,e,i,n){var a=r._engine.ellipse(this,t||0,e||0,i||0,n||0);return this.__set__&&this.__set__.push(a),a},_.path=function(t){t&&!r.is(t,X)&&!r.is(t[0],H)&&(t+=M);var e=r._engine.path(r.format[N](r,arguments),this);return this.__set__&&this.__set__.push(e),e},_.image=function(t,e,i,n,a){var s=r._engine.image(this,t||"about:blank",e||0,i||0,n||0,a||0);return this.__set__&&this.__set__.push(s),s},_.text=function(t,e,i){var n=r._engine.text(this,t||0,e||0,z(i));return this.__set__&&this.__set__.push(n),n},_.set=function(t){!r.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new fr(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},_.setStart=function(t){this.__set__=t||this.set()},_.setFinish=function(){var t=this.__set__;return delete this.__set__,t},_.setSize=function(t,e){return r._engine.setSize.call(this,t,e)},_.setViewBox=function(t,e,i,n,a){return r._engine.setViewBox.call(this,t,e,i,n,a)},_.top=_.bottom=null,_.raphael=r;er=function(t){var e=t.getBoundingClientRect(),r=t.ownerDocument,i=r.body,n=r.documentElement,a=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,o=e.top+(S.win.pageYOffset||n.scrollTop||i.scrollTop)-a,l=e.left+(S.win.pageXOffset||n.scrollLeft||i.scrollLeft)-s;return{"y":o,"x":l}};_.getElementByPoint=function(t,e){var a,s,o,r=this,i=r.canvas,n=S.doc.elementFromPoint(t,e);if(S.win.opera&&"svg"==n.tagName){a=er(i),s=i.createSVGRect();s.x=t-a.x,s.y=e-a.y,s.width=s.height=1;o=i.getIntersectionList(s,null);o.length&&(n=o[o.length-1])}if(!n)return null;for(;n.parentNode&&n!=i.parentNode&&!n.raphael;)n=n.parentNode;return n==r.canvas.parentNode&&(n=i),n=n&&n.raphael?r.getById(n.raphaelid):null},_.getElementsByBBox=function(t){var e=this.set();return this.forEach(function(i){r.isBBoxIntersect(i.getBBox(),t)&&e.push(i)}),e},_.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},_.forEach=function(t,e){for(var r=this.bottom;r;){if(t.call(e,r)===!1)return this;r=r.next}return this},_.getElementsByPoint=function(t,e){var r=this.set();return this.forEach(function(i){i.isPointInside(t,e)&&r.push(i)}),r},Je.isPointInside=function(t,e){var i=this.realPath=this.realPath||ve[this.type](this);return r.isPointInsidePath(i,t,e)},Je.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=ve[this.type](this),e.bboxwt=Te(this.realPath),e.bboxwt.toString=g,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=ve[this.type](this)),e.bbox=Te(xe(this.realPath,this.matrix)),e.bbox.toString=g,e.dirty=e.dirtyT=0),e.bbox)},Je.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Je.glow=function(t){var e,r,i,n,a,s;if("text"==this.type)return null;t=t||{};e={"width":(t.width||10)+(+this.attr("stroke-width")||1),"fill":t.fill||!1,"opacity":t.opacity||.5,"offsetx":t.offsetx||0,"offsety":t.offsety||0,"color":t.color||"#000"},r=e.width/2,i=this.paper,n=i.set(),a=this.realPath||ve[this.type](this);a=this.matrix?xe(a,this.matrix):a;for(s=1;r+1>s;s++)n.push(i.path(a).attr({"stroke":e.color,"fill":e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/r*s).toFixed(3),"opacity":+(e.opacity/r).toFixed(3)}));return n.insertBefore(this).translate(e.offsetx,e.offsety)};rr=function(t,e,i,n,a,s,o,l,c){return null==c?h(t,e,i,n,a,s,o,l):r.findDotsAtSegment(t,e,i,n,a,s,o,l,u(t,e,i,n,a,s,o,l,c))},ir=function(t,e){return function(i,n,a){i=Re(i);for(var s,o,l,h,u,c="",f={},p=0,d=0,g=i.length;g>d;d++){if(l=i[d],"M"==l[0])s=+l[1],o=+l[2];else{if(h=rr(s,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+h>n){if(e&&!f.start){if(u=rr(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),c+=["C"+u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],a)return c;f.start=c,c=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),p+=h,s=+l[5],o=+l[6];continue}if(!t&&!e)return u=rr(s,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),{"x":u.x,"y":u.y,"alpha":u.alpha}}p+=h,s=+l[5],o=+l[6]}c+=l.shift()+l}return f.end=c,u=t?p:e?f:r.findDotsAtSegment(s,o,l[0],l[1],l[2],l[3],l[4],l[5],1),u.alpha&&(u={"x":u.x,"y":u.y,"alpha":u.alpha}),u}},nr=ir(1),ar=ir(),sr=ir(0,1);r.getTotalLength=nr,r.getPointAtLength=ar,r.getSubpath=function(t,e,r){if(1e-6>this.getTotalLength(t)-r)return sr(t,e).end;var i=sr(t,r,1);return e?sr(i,e).end:i},Je.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():nr(t)},Je.getPointAtLength=function(t){var e=this.getPath();if(e)return ar(e,t)},Je.getPath=function(){var t,e=r._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return e&&(t=e(this)),t},Je.getSubpath=function(t,e){var i=this.getPath();if(i)return r.getSubpath(i,t,e)};or=r.easing_formulas={"linear":function(t){return t},"<":function(t){return Y(t,1.7)},">":function(t){return Y(t,.48)},"<>":function(t){var e=.48-t/1.04,r=q.sqrt(.1734+e*e),i=r-e,n=Y(V(i),1/3)*(0>i?-1:1),a=-r-e,s=Y(V(a),1/3)*(0>a?-1:1),o=n+s+.5;return 3*(1-o)*o*o+o*o*o},"backIn":function(t){var e=1.70158;return t*t*((e+1)*t-e)},"backOut":function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},"elastic":function(t){return t==!!t?t:Y(2,-10*t)*q.sin(2*(t-.075)*G/.3)+1},"bounce":function(t){var e,r=7.5625,i=2.75;return 1/i>t?e=r*t*t:2/i>t?(t-=1.5/i,e=r*t*t+.75):2.5/i>t?(t-=2.25/i,e=r*t*t+.9375):(t-=2.625/i,e=r*t*t+.984375),e}};or.easeIn=or["ease-in"]=or["<"],or.easeOut=or["ease-out"]=or[">"],or.easeInOut=or["ease-in-out"]=or["<>"],or["back-in"]=or.backIn,or["back-out"]=or.backOut;lr=[],hr=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},ur=function(){var t,i,n,a,s,o,l,h,u,c,f,p,d,g,v,x,m,b,_,w,k,C;for(t=+new Date,i=0;lr.length>i;i++){n=lr[i];if(!n.el.removed&&!n.paused){o=t-n.start,l=n.ms,h=n.easing,u=n.from,c=n.diff,f=n.to,p=(n.t,n.el),d={},g={};if(n.initstatus?(o=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*l,n.status=n.initstatus,delete n.initstatus,n.stop&&lr.splice(i--,1)):n.status=(n.prev+(n.percent-n.prev)*(o/l))/n.anim.top,!(0>o))if(l>o){v=h(o/l);for(x in u)if(u[B](x)){switch(ie[x]){case W:a=+u[x]+v*l*c[x];break;case"colour":a="rgb("+[cr(J(u[x].r+v*l*c[x].r)),cr(J(u[x].g+v*l*c[x].g)),cr(J(u[x].b+v*l*c[x].b))].join(",")+")";break;case"path":a=[];for(m=0,b=u[x].length;b>m;m++){a[m]=[u[x][m][0]];for(_=1,w=u[x][m].length;w>_;_++)a[m][_]=+u[x][m][_]+v*l*c[x][m][_];a[m]=a[m].join(P)}a=a.join(P);break;case"transform":if(c[x].real)for(a=[],m=0,b=u[x].length;b>m;m++)for(a[m]=[u[x][m][0]],_=1,w=u[x][m].length;w>_;_++)a[m][_]=u[x][m][_]+v*l*c[x][m][_];else{k=function(t){return+u[x][t]+v*l*c[x][t]};a=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==x)for(a=[],m=4;m--;)a[m]=+u[x][m]+v*l*c[x][m];break;default:C=[][E](u[x]);for(a=[],m=p.paper.customAttributes[x].length;m--;)a[m]=+C[m]+v*l*c[x][m]}d[x]=a}p.attr(d),function(t,r,i){setTimeout(function(){e("raphael.anim.frame."+t,r,i)})}(p.id,p,n.anim)}else{if(function(t,i,n){setTimeout(function(){e("raphael.anim.frame."+i.id,i,n),e("raphael.anim.finish."+i.id,i,n),r.is(t,"function")&&t.call(i)})}(n.callback,p,n.anim),p.attr(f),lr.splice(i--,1),n.repeat>1&&!n.next){for(s in f)f[B](s)&&(g[s]=n.totalOrigin[s]);n.el.attr(g),y(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&y(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}}r.svg&&p&&p.paper&&p.paper.safari(),lr.length&&hr(ur)},cr=function(t){return t>255?255:0>t?0:t};Je.animateWith=function(t,e,i,n,a,s){var l,h,u,o=this;if(o.removed)return s&&s.call(o),o;l=i instanceof x?i:r.animation(i,n,a,s);y(l,o,l.percents[0],null,o.attr());for(h=0,u=lr.length;u>h;h++)if(lr[h].anim==e&&lr[h].el==t){lr[u-1].start=lr[h].start;break}return o},Je.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},x.prototype.delay=function(t){var e=new x(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},x.prototype.repeat=function(t){var e=new x(this.anim,this.ms);return e.del=this.del,e.times=q.floor(D(t,0))||1,e},r.animation=function(t,e,i,n){if(t instanceof x)return t;(r.is(i,"function")||!i)&&(n=n||i||null,i=null),t=Object(t),e=+e||0;var a,s,o={};for(s in t)t[B](s)&&K(s)!=s&&K(s)+"%"!=s&&(a=!0,o[s]=t[s]);return a?(i&&(o.easing=i),n&&(o.callback=n),new x({"100":o},e)):new x(t,e)},Je.animate=function(t,e,i,n){var s,a=this;if(a.removed)return n&&n.call(a),a;s=t instanceof x?t:r.animation(t,e,i,n);return y(s,a,s.percents[0],null,a.attr()),a},Je.setTime=function(t,e){return t&&null!=e&&this.status(t,O(e,t.ms)/t.ms),this},Je.status=function(t,e){var r,i,n=[],a=0;if(null!=e)return y(t,this,-1,O(e,1)),this;for(r=lr.length;r>a;a++)if(i=lr[a],i.el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;n.push({"anim":i.anim,"status":i.status})}return t?0:n},Je.pause=function(t){for(var r=0;lr.length>r;r++)lr[r].el.id!=this.id||t&&lr[r].anim!=t||e("raphael.anim.pause."+this.id,this,lr[r].anim)!==!1&&(lr[r].paused=!0);return this},Je.resume=function(t){var r,i;for(r=0;lr.length>r;r++)if(lr[r].el.id==this.id&&(!t||lr[r].anim==t)){i=lr[r];e("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},Je.stop=function(t){for(var r=0;lr.length>r;r++)lr[r].el.id!=this.id||t&&lr[r].anim!=t||e("raphael.anim.stop."+this.id,this,lr[r].anim)!==!1&&lr.splice(r--,1);return this},e.on("raphael.remove",m),e.on("raphael.clear",m),Je.toString=function(){return"Raphaël’s object"};fr=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,r=t.length;r>e;e++)!t[e]||t[e].constructor!=Je.constructor&&t[e].constructor!=fr||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},pr=fr.prototype;pr.push=function(){for(var t,e,r=0,i=arguments.length;i>r;r++)t=arguments[r],!t||t.constructor!=Je.constructor&&t.constructor!=fr||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},pr.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},pr.forEach=function(t,e){for(var r=0,i=this.items.length;i>r;r++)if(t.call(e,this.items[r],r)===!1)return this;return this};for(dr in Je)Je[B](dr)&&(pr[dr]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t][N](r,e)})}}(dr));return pr.attr=function(t,e){var i,n,a,s;if(t&&r.is(t,H)&&r.is(t[0],"object"))for(i=0,n=t.length;n>i;i++)this.items[i].attr(t[i]);else for(a=0,s=this.items.length;s>a;a++)this.items[a].attr(t,e);return this},pr.clear=function(){for(;this.length;)this.pop()},pr.splice=function(t,e){var r,i,n,a,s;t=0>t?D(this.length+t,0):t,e=D(0,O(this.length-t,e));i=[],n=[],a=[];for(r=2;arguments.length>r;r++)a.push(arguments[r]);for(r=0;e>r;r++)n.push(this[t+r]);for(;this.length-t>r;r++)i.push(this[t+r]);s=a.length;for(r=0;s+i.length>r;r++)this.items[t+r]=this[t+r]=s>r?a[r]:i[r-s];for(r=this.items.length=this.length-=e-s;this[r];)delete this[r++];return new fr(n)},pr.exclude=function(t){for(var e=0,r=this.length;r>e;e++)if(this[e]==t)return this.splice(e,1),!0},pr.animate=function(t,e,i,n){var a,s,o,l,h,u;(r.is(i,"function")||!i)&&(n=i||null);o=this.items.length,l=o,h=this;if(!o)return this;n&&(s=function(){!--o&&n.call(h)}),i=r.is(i,X)?i:s;u=r.animation(t,e,i,s);for(a=this.items[--l].animate(u);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(a,u,u),this.items[l]&&!this.items[l].removed||o--;return this},pr.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},pr.getBBox=function(){var t,e,r,i,n,a;for(t=[],e=[],r=[],i=[],n=this.items.length;n--;)if(!this.items[n].removed){a=this.items[n].getBBox();t.push(a.x),e.push(a.y),r.push(a.x+a.width),i.push(a.y+a.height)}return t=O[N](0,t),e=O[N](0,e),r=D[N](0,r),i=D[N](0,i),{"x":t,"y":e,"x2":r,"y2":i,"width":r-t,"height":i-e}},pr.clone=function(t){t=this.paper.set();for(var e=0,r=this.items.length;r>e;e++)t.push(this.items[e].clone());return t},pr.toString=function(){return"Raphaël‘s set"},pr.glow=function(t){var e=this.paper.set();return this.forEach(function(r){var i=r.glow(t);null!=i&&i.forEach(function(t){e.push(t)})}),e},pr.isPointInside=function(t,e){var r=!1;return this.forEach(function(i){return i.isPointInside(t,e)?(r=!0,!1):void 0}),r},r.registerFont=function(t){var e,r,i,n,a,s;if(!t.face)return t;this.fonts=this.fonts||{};e={"w":t.w,"face":{},"glyphs":{}},r=t.face["font-family"];for(i in t.face)t.face[B](i)&&(e.face[i]=t.face[i]);if(this.fonts[r]?this.fonts[r].push(e):this.fonts[r]=[e],!t.svg){e.face["units-per-em"]=te(t.face["units-per-em"],10);for(n in t.glyphs)if(t.glyphs[B](n)){a=t.glyphs[n];if(e.glyphs[n]={"w":a.w,"k":{},"d":a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{"l":"L","c":"C","x":"z","t":"m","r":"l","v":"c"}[t]||"M"})+"z"},a.k)for(s in a.k)a[B](s)&&(e.glyphs[n].k[s]=a.k[s])}}return t},_.getFont=function(t,e,i,n){var a,s,o,l,h,u;if(n=n||"normal",i=i||"normal",e=+e||{"normal":400,"bold":700,"lighter":300,"bolder":800}[e]||400,r.fonts){a=r.fonts[t];if(!a){s=RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,M)+"(\\s|$)","i");for(o in r.fonts)if(r.fonts[B](o)&&s.test(o)){a=r.fonts[o];break}}if(a)for(h=0,u=a.length;u>h&&(l=a[h],l.face["font-weight"]!=e||l.face["font-style"]!=i&&l.face["font-style"]||l.face["font-stretch"]!=n);h++);return l}},_.print=function(t,e,i,n,a,s,o,l){var h,u,c,f,p,d,g,v,x,y,m,b,_,k;s=s||"middle",o=D(O(o||0,1),-1),l=D(O(l||1,3),1);u=z(i)[F](M),c=0,f=0,p=M;if(r.is(n,"string")&&(n=this.getFont(n)),n){h=(a||16)/n.face["units-per-em"];for(d=n.face.bbox[F](w),g=+d[0],v=d[3]-d[1],x=0,y=+d[1]+("baseline"==s?v+ +n.face.descent:v/2),m=0,b=u.length;b>m;m++){if("\n"==u[m])c=0,k=0,f=0,x+=v*l;else{_=f&&n.glyphs[u[m-1]]||{},k=n.glyphs[u[m]];c+=f?(_.w||n.w)+(_.k&&_.k[u[m]]||0)+n.w*o:0,f=1}k&&k.d&&(p+=r.transformPath(k.d,["t",c*h,x*h,"s",h,h,g,y,"t",(t-g)/h,(e-y)/h]))}}return this.path(p).attr({"fill":"#000","stroke":"none"})},_.add=function(t){if(r.is(t,"array"))for(var e,i=this.set(),n=0,a=t.length;a>n;n++)e=t[n]||{},k[B](e.type)&&i.push(this[e.type]().attr(e));return i},r.format=function(t,e){var i=r.is(e,H)?[0][E](e):arguments;return t&&r.is(t,X)&&i.length-1&&(t=t.replace(C,function(t,e){return null==i[++e]?M:i[e]})),t||M},r.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,r=function(t,r,i){var n=i;return r.replace(e,function(t,e,r,i,a){e=e||i,n&&(e in n&&(n=n[e]),"function"==typeof n&&a&&(n=n()))}),n=(null==n||n==i?t:n)+""};return function(e,i){return(e+"").replace(t,function(t,e){return r(t,e,i)})}}(),r.ninja=function(){return T.was?S.win.Raphael=T.is:delete Raphael,r},r.st=pr,function(t,e,i){function n(){/in/.test(t.readyState)?setTimeout(n,9):r.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(e,i=function(){t.removeEventListener(e,i,!1),t.readyState="complete"},!1),t.readyState="loading"),n()}(document,"DOMContentLoaded"),e.on("raphael.DOMload",function(){b=!0}),function(){var t,e,i,n,a,s,o,l,h,u,c,f,p,d,g,v,x,y,m,b,_,w,k,C,B,S,T,A;if(r.svg){t="hasOwnProperty",e=String,i=parseFloat,n=parseInt,a=Math,s=a.max,o=a.abs,l=a.pow,h=/[, ]+/,u=r.eve,c="",f=" ",p="http://www.w3.org/1999/xlink",d={"block":"M5,0 0,2.5 5,5z","classic":"M5,0 0,2.5 5,5 3.5,3 3.5,2z","diamond":"M2.5,0 5,2.5 2.5,5 0,2.5z","open":"M6,1 1,3.5 6,6","oval":"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};r.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};v=function(i,n){if(n){"string"==typeof i&&(i=v(i));for(var a in n)n[t](a)&&("xlink:"==a.substring(0,6)?i.setAttributeNS(p,a.substring(6),e(n[a])):i.setAttribute(a,e(n[a])))}else i=r._g.doc.createElementNS("http://www.w3.org/2000/svg",i),i.style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},x=function(t,n){var m,b,_,w,k,C,h="linear",u=t.id+n,f=.5,p=.5,d=t.node,g=t.paper,x=d.style,y=r._g.doc.getElementById(u);if(!y){if(n=e(n).replace(r._radial_gradient,function(t,e,r){if(h="radial",e&&r){f=i(e),p=i(r);var n=2*(p>.5)-1;l(f-.5,2)+l(p-.5,2)>.25&&(p=a.sqrt(.25-l(f-.5,2))*n+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*n)}return c}),n=n.split(/\s*\-\s*/),"linear"==h){m=n.shift();if(m=-i(m),isNaN(m))return null;b=[0,0,a.cos(r.rad(m)),a.sin(r.rad(m))],_=1/(s(o(b[2]),o(b[3]))||1);b[2]*=_,b[3]*=_,0>b[2]&&(b[0]=-b[2],b[2]=0),0>b[3]&&(b[1]=-b[3],b[3]=0)}w=r._parseDots(n);if(!w)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&u!=t.gradient.id&&(g.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){y=v(h+"Gradient",{"id":u}),t.gradient=y,v(y,"radial"==h?{"fx":f,"fy":p}:{"x1":b[0],"y1":b[1],"x2":b[2],"y2":b[3],"gradientTransform":t.matrix.invert()}),g.defs.appendChild(y);for(k=0,C=w.length;C>k;k++)y.appendChild(v("stop",{"offset":w[k].offset?w[k].offset:k?"100%":"0%","stop-color":w[k].color||"#fff"}))}}return v(d,{"fill":"url(#"+u+")","opacity":1,"fill-opacity":1}),x.fill=c,x.opacity=1,x.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);v(t.pattern,{"patternTransform":t.matrix.invert()+" translate("+e.x+","+e.y+")"})},m=function(i,n,a){var s,o,l,h,u,f,p,x,y,m,b,_,w,k,C,B,S,T,A,N,E,L;if("path"==i.type){for(f=e(n).toLowerCase().split("-"),p=i.paper,x=a?"end":"start",y=i.node,m=i.attrs,b=m["stroke-width"],_=f.length,w="classic",k=3,C=3,B=5;_--;)switch(f[_]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=f[_];break;case"wide":C=5;break;case"narrow":C=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,C+=2,B+=2,l=1,h=a?4:1,u={"fill":"none","stroke":m.stroke}):(h=l=k/2,u={"fill":m.stroke,"stroke":"none"}),i._.arrows?a?(i._.arrows.endPath&&g[i._.arrows.endPath]--,i._.arrows.endMarker&&g[i._.arrows.endMarker]--):(i._.arrows.startPath&&g[i._.arrows.startPath]--,i._.arrows.startMarker&&g[i._.arrows.startMarker]--):i._.arrows={},"none"!=w){S="raphael-marker-"+w,T="raphael-marker-"+x+w+k+C;r._g.doc.getElementById(S)?g[S]++:(p.defs.appendChild(v(v("path"),{"stroke-linecap":"round","d":d[w],"id":S})),g[S]=1);N=r._g.doc.getElementById(T);N?(g[T]++,A=N.getElementsByTagName("use")[0]):(N=v(v("marker"),{"id":T,"markerHeight":C,"markerWidth":k,"orient":"auto","refX":h,"refY":C/2}),A=v(v("use"),{"xlink:href":"#"+S,"transform":(a?"rotate(180 "+k/2+" "+C/2+") ":c)+"scale("+k/B+","+C/B+")","stroke-width":(1/((k/B+C/B)/2)).toFixed(4)}),N.appendChild(A),p.defs.appendChild(N),g[T]=1),v(A,u);E=l*("diamond"!=w&&"oval"!=w);a?(s=i._.arrows.startdx*b||0,o=r.getTotalLength(m.path)-E*b):(s=E*b,o=r.getTotalLength(m.path)-(i._.arrows.enddx*b||0)),u={},u["marker-"+x]="url(#"+T+")",(o||s)&&(u.d=r.getSubpath(m.path,s,o)),v(y,u),i._.arrows[x+"Path"]=S,i._.arrows[x+"Marker"]=T,i._.arrows[x+"dx"]=E,i._.arrows[x+"Type"]=w,i._.arrows[x+"String"]=n}else a?(s=i._.arrows.startdx*b||0,o=r.getTotalLength(m.path)-s):(s=0,o=r.getTotalLength(m.path)-(i._.arrows.enddx*b||0)),i._.arrows[x+"Path"]&&v(y,{"d":r.getSubpath(m.path,s,o)}),delete i._.arrows[x+"Path"],delete i._.arrows[x+"Marker"],delete i._.arrows[x+"dx"],delete i._.arrows[x+"Type"],delete i._.arrows[x+"String"];for(u in g)if(g[t](u)&&!g[u]){L=r._g.doc.getElementById(u);L&&L.parentNode.removeChild(L)}}},b={"":[0],"none":[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},_=function(t,r,i){if(r=b[e(r).toLowerCase()]){for(var n=t.attrs["stroke-width"]||"1",a={"round":n,"square":n,"butt":0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],o=r.length;o--;)s[o]=r[o]*n+(o%2?1:-1)*a;v(t.node,{"stroke-dasharray":s.join(",")})}},w=function(i,a){var d,g,b,w,k,B,S,T,A,N,E,L,M,P,z,l=i.node,u=i.attrs,f=l.style.visibility;l.style.visibility="hidden";for(d in a)if(a[t](d)){if(!r._availableAttrs[t](d))continue;g=a[d];switch(u[d]=g,d){case"blur":i.blur(g);break;case"href":case"title":case"target":b=l.parentNode;if("a"!=b.tagName.toLowerCase()){w=v("a");b.insertBefore(w,l),w.appendChild(l),b=w}"target"==d?b.setAttributeNS(p,"show","blank"==g?"new":g):b.setAttributeNS(p,d,g);break;case"cursor":l.style.cursor=g;break;case"transform":i.transform(g);break;case"arrow-start":m(i,g);break;case"arrow-end":m(i,g,1);break;case"clip-rect":k=e(g).split(h);if(4==k.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);B=v("clipPath"),S=v("rect");B.id=r.createUUID(),v(S,{"x":k[0],"y":k[1],"width":k[2],"height":k[3]}),B.appendChild(S),i.paper.defs.appendChild(B),v(l,{"clip-path":"url(#"+B.id+")"}),i.clip=S}if(!g){T=l.getAttribute("clip-path");if(T){A=r._g.doc.getElementById(T.replace(/(^url\(#|\)$)/g,c));A&&A.parentNode.removeChild(A),v(l,{"clip-path":c}),delete i.clip}}break;case"path":"path"==i.type&&(v(l,{"d":g?u.path=r._pathToAbsolute(g):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&m(i,i._.arrows.startString),"endString"in i._.arrows&&m(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(d,g),i._.dirty=1,!u.fx)break;d="x",g=u.x;case"x":u.fx&&(g=-u.x-(u.width||0));case"rx":if("rx"==d&&"rect"==i.type)break;case"cx":l.setAttribute(d,g),i.pattern&&y(i),i._.dirty=1;break;case"height":if(l.setAttribute(d,g),i._.dirty=1,!u.fy)break;d="y",g=u.y;case"y":u.fy&&(g=-u.y-(u.height||0));case"ry":if("ry"==d&&"rect"==i.type)break;case"cy":l.setAttribute(d,g),i.pattern&&y(i),i._.dirty=1;break;case"r":"rect"==i.type?v(l,{"rx":g,"ry":g}):l.setAttribute(d,g),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":(1!=i._.sx||1!=i._.sy)&&(g/=s(o(i._.sx),o(i._.sy))||1),i.paper._vbSize&&(g*=i.paper._vbSize),l.setAttribute(d,g),u["stroke-dasharray"]&&_(i,u["stroke-dasharray"],a),i._.arrows&&("startString"in i._.arrows&&m(i,i._.arrows.startString),"endString"in i._.arrows&&m(i,i._.arrows.endString,1));break;case"stroke-dasharray":_(i,g,a);break;case"fill":N=e(g).match(r._ISURL);if(N){B=v("pattern");E=v("image");B.id=r.createUUID(),v(B,{"x":0,"y":0,"patternUnits":"userSpaceOnUse","height":1,"width":1}),v(E,{"x":0,"y":0,"xlink:href":N[1]}),B.appendChild(E),function(t){r._preload(N[1],function(){var e=this.offsetWidth,r=this.offsetHeight;v(t,{"width":e,"height":r}),v(E,{"width":e,"height":r}),i.paper.safari()})}(B),i.paper.defs.appendChild(B),v(l,{"fill":"url(#"+B.id+")"}),i.pattern=B,i.pattern&&y(i);break}L=r.getRGB(g);if(L.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=e(g).charAt())&&x(i,g)){if("opacity"in u||"fill-opacity"in u){M=r._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c));if(M){P=M.getElementsByTagName("stop");v(P[P.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=g,u.fill="none";break}}else delete a.gradient,delete u.gradient,!r.is(u.opacity,"undefined")&&r.is(a.opacity,"undefined")&&v(l,{"opacity":u.opacity}),!r.is(u["fill-opacity"],"undefined")&&r.is(a["fill-opacity"],"undefined")&&v(l,{"fill-opacity":u["fill-opacity"]});L[t]("opacity")&&v(l,{"fill-opacity":L.opacity>1?L.opacity/100:L.opacity});case"stroke":L=r.getRGB(g),l.setAttribute(d,L.hex),"stroke"==d&&L[t]("opacity")&&v(l,{"stroke-opacity":L.opacity>1?L.opacity/100:L.opacity}),"stroke"==d&&i._.arrows&&("startString"in i._.arrows&&m(i,i._.arrows.startString),"endString"in i._.arrows&&m(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=e(g).charAt())&&x(i,g);break;case"opacity":u.gradient&&!u[t]("stroke-opacity")&&v(l,{
"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(u.gradient){M=r._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,c)),M&&(P=M.getElementsByTagName("stop"),v(P[P.length-1],{"stop-opacity":g}));break}default:"font-size"==d&&(g=n(g,10)+"px");z=d.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[z]=g,i._.dirty=1,l.setAttribute(d,g)}}C(i,a),l.style.visibility=f},k=1.2,C=function(i,a){var s,o,l,h,u,f,p,d,g,x;if("text"==i.type&&(a[t]("text")||a[t]("font")||a[t]("font-size")||a[t]("x")||a[t]("y"))){s=i.attrs,o=i.node,l=o.firstChild?n(r._g.doc.defaultView.getComputedStyle(o.firstChild,c).getPropertyValue("font-size"),10):10;if(a[t]("text")){for(s.text=a.text;o.firstChild;)o.removeChild(o.firstChild);for(u=e(a.text).split("\n"),f=[],p=0,d=u.length;d>p;p++)h=v("tspan"),p&&v(h,{"dy":l*k,"x":s.x}),h.appendChild(r._g.doc.createTextNode(u[p])),o.appendChild(h),f[p]=h}else for(f=o.getElementsByTagName("tspan"),p=0,d=f.length;d>p;p++)p?v(f[p],{"dy":l*k,"x":s.x}):v(f[0],{"dy":0});v(o,{"x":s.x,"y":s.y}),i._.dirty=1;g=i._getBBox(),x=s.y-(g.y+g.height/2);x&&r.is(x,"finite")&&v(f[0],{"dy":x})}},B=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=r._oid++,t.raphaelid=this.id,this.matrix=r.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={"transform":[],"sx":1,"sy":1,"deg":0,"dx":0,"dy":0,"dirty":1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},S=r.el;B.prototype=S,S.constructor=B,r._engine.path=function(t,e){var i,r=v("path");e.canvas&&e.canvas.appendChild(r);i=new B(r,e);return i.type="path",w(i,{"fill":"none","stroke":"#000","path":t}),i},S.rotate=function(t,r,n){if(this.removed)return this;if(t=e(t).split(h),t.length-1&&(r=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(r=n),null==r||null==n){var a=this.getBBox(1);r=a.x+a.width/2,n=a.y+a.height/2}return this.transform(this._.transform.concat([["r",t,r,n]])),this},S.scale=function(t,r,n,a){if(this.removed)return this;if(t=e(t).split(h),t.length-1&&(r=i(t[1]),n=i(t[2]),a=i(t[3])),t=i(t[0]),null==r&&(r=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,r,n,a]])),this},S.translate=function(t,r){return this.removed?this:(t=e(t).split(h),t.length-1&&(r=i(t[1])),t=i(t[0])||0,r=+r||0,this.transform(this._.transform.concat([["t",t,r]])),this)},S.transform=function(e){var n,i=this._;if(null==e)return i.transform;if(r._extractTransform(this,e),this.clip&&v(this.clip,{"transform":this.matrix.invert()}),this.pattern&&y(this),this.node&&v(this.node,{"transform":this.matrix}),1!=i.sx||1!=i.sy){n=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":n})}return this},S.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},S.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},S.remove=function(){var t,e;if(!this.removed&&this.node.parentNode){t=this.paper;t.__set__&&t.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),r._tear(this,t),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(e in this)this[e]="function"==typeof this[e]?r._removedFactory(e):null;this.removed=!0}},S._getBBox=function(){var t,e;if("none"==this.node.style.display){this.show();t=!0}e={};try{e=this.node.getBBox()}catch(r){}finally{e=e||{}}return t&&this.hide(),e},S.attr=function(e,i){var n,a,s,o,l,c,f,p,d,g;if(this.removed)return this;if(null==e){n={};for(a in this.attrs)this.attrs[t](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&r.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;for(s=e.split(h),o={},l=0,c=s.length;c>l;l++)e=s[l],o[e]=e in this.attrs?this.attrs[e]:r.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:r._availableAttrs[e];return c-1?o:o[s[0]]}if(null==i&&r.is(e,"array")){for(o={},l=0,c=e.length;c>l;l++)o[e[l]]=this.attr(e[l]);return o}if(null!=i){f={};f[e]=i}else null!=e&&r.is(e,"object")&&(f=e);for(p in f)u("raphael.attr."+p+"."+this.id,this,f[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&f[t](p)&&r.is(this.paper.customAttributes[p],"function")){d=this.paper.customAttributes[p].apply(this,[].concat(f[p]));this.attrs[p]=f[p];for(g in d)d[t](g)&&(f[g]=d[g])}return w(this,f),this},S.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&r._tofront(this,t),this},S.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;return"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),r._toback(this,this.paper),this.paper,this},S.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),r._insertafter(this,t,this.paper),this},S.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),r._insertbefore(this,t,this.paper),this},S.blur=function(t){var i,n,e=this;if(0!==+t){i=v("filter"),n=v("feGaussianBlur");e.attrs.blur=t,i.id=r.createUUID(),v(n,{"stdDeviation":+t||1.5}),i.appendChild(n),e.paper.defs.appendChild(i),e._blur=i,v(e.node,{"filter":"url(#"+i.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},r._engine.circle=function(t,e,r,i){var a,n=v("circle");t.canvas&&t.canvas.appendChild(n);a=new B(n,t);return a.attrs={"cx":e,"cy":r,"r":i,"fill":"none","stroke":"#000"},a.type="circle",v(n,a.attrs),a},r._engine.rect=function(t,e,r,i,n,a){var o,s=v("rect");t.canvas&&t.canvas.appendChild(s);o=new B(s,t);return o.attrs={"x":e,"y":r,"width":i,"height":n,"r":a||0,"rx":a||0,"ry":a||0,"fill":"none","stroke":"#000"},o.type="rect",v(s,o.attrs),o},r._engine.ellipse=function(t,e,r,i,n){var s,a=v("ellipse");t.canvas&&t.canvas.appendChild(a);s=new B(a,t);return s.attrs={"cx":e,"cy":r,"rx":i,"ry":n,"fill":"none","stroke":"#000"},s.type="ellipse",v(a,s.attrs),s},r._engine.image=function(t,e,r,i,n,a){var o,s=v("image");v(s,{"x":r,"y":i,"width":n,"height":a,"preserveAspectRatio":"none"}),s.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(s);o=new B(s,t);return o.attrs={"x":r,"y":i,"width":n,"height":a,"src":e},o.type="image",o},r._engine.text=function(t,e,i,n){var s,a=v("text");t.canvas&&t.canvas.appendChild(a);s=new B(a,t);return s.attrs={"x":e,"y":i,"text-anchor":"middle","text":n,"font":r._availableAttrs.font,"stroke":"none","fill":"#000"},s.type="text",w(s,s.attrs),s},r._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},r._engine.create=function(){var o,l,h,t=r._getContainer.apply(0,arguments),e=t&&t.container,i=t.x,n=t.y,a=t.width,s=t.height;if(!e)throw Error("SVG container not found.");l=v("svg"),h="overflow:hidden;";return i=i||0,n=n||0,a=a||512,s=s||342,v(l,{"height":s,"version":1.1,"width":a,"xmlns":"http://www.w3.org/2000/svg"}),1==e?(l.style.cssText=h+"position:absolute;left:"+i+"px;top:"+n+"px",r._g.doc.body.appendChild(l),o=1):(l.style.cssText=h+"position:relative",e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l)),e=new r._Paper,e.width=a,e.height=s,e.canvas=l,e.clear(),e._left=e._top=0,o&&(e.renderfix=function(){}),e.renderfix(),e},r._engine.setViewBox=function(t,e,r,i,n){u("raphael.setViewBox",this,this._viewBox,[t,e,r,i,n]);var a,o,l=s(r/this.width,i/this.height),h=this.top,c=n?"meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,a="0 0 "+this.width+f+this.height):(this._vbSize=l,a=t+f+e+f+r+f+i),v(this.canvas,{"viewBox":a,"preserveAspectRatio":c});l&&h;)o="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":o}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,r,i,!!n],this},r.prototype.renderfix=function(){var t,n,a,e=this.canvas,r=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(i){t=e.createSVGMatrix()}n=-t.e%1,a=-t.f%1;(n||a)&&(n&&(this._left=(this._left+n)%1,r.left=this._left+"px"),a&&(this._top=(this._top+a)%1,r.top=this._top+"px"))},r.prototype.clear=function(){r.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=v("desc")).appendChild(r._g.doc.createTextNode("Created with Raphaël "+r.version)),t.appendChild(this.desc),t.appendChild(this.defs=v("defs"))},r.prototype.remove=function(){u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?r._removedFactory(t):null};T=r.st;for(A in S)S[t](A)&&!T[t](A)&&(T[A]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(A))}}(),function(){var t,e,i,n,a,s,o,l,h,u,c,f,p,d,g,v,x,y,m,b,_,w,k,C,B,S,T,A,N,E,L,M,P;if(r.vml){t="hasOwnProperty",e=String,i=parseFloat,n=Math,a=n.round,s=n.max,o=n.min,l=n.abs,h="fill",u=/[, ]+/,c=r.eve,f=" progid:DXImageTransform.Microsoft",p=" ",d="",g={"M":"m","L":"l","C":"c","Z":"x","m":"t","l":"r","c":"v","z":"x"},v=/([clmz]),?([^clmz]*)/gi,x=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,m="position:absolute;left:0;top:0;width:1px;height:1px",b=21600,_={"path":1,"rect":1,"image":1},w={"circle":1,"ellipse":1},k=function(t){var s,o,l,h,u,c,f,x,i=/[ahqstv]/gi,n=r._pathToAbsolute;if(e(t).match(i)&&(n=r._path2curve),i=/[clmz]/g,n==r._pathToAbsolute&&!e(t).match(i)){s=e(t).replace(v,function(t,e,r){var i=[],n="m"==e.toLowerCase(),s=g[e];return r.replace(y,function(t){n&&2==i.length&&(s+=i+g["m"==e?"l":"L"],i=[]),i.push(a(t*b))}),s+i});return s}h=n(t);s=[];for(u=0,c=h.length;c>u;u++){o=h[u],l=h[u][0].toLowerCase(),"z"==l&&(l="x");for(f=1,x=o.length;x>f;f++)l+=a(o[f]*b)+(f!=x-1?",":d);s.push(l)}return s.join(p)},C=function(t,e,i){var n=r.matrix();return n.rotate(-t,.5,.5),{"dx":n.x(e,i),"dy":n.y(e,i)}},B=function(t,e,r,i,n,a){var y,m,s=t._,o=t.matrix,u=s.fillpos,c=t.node,f=c.style,d=1,g="",v=b/e,x=b/r;if(f.visibility="hidden",e&&r){if(c.coordsize=l(v)+p+l(x),f.rotation=a*(0>e*r?-1:1),a){y=C(a,i,n);i=y.dx,n=y.dy}if(0>e&&(g+="x"),0>r&&(g+=" y")&&(d=-1),f.flip=g,c.coordorigin=i*-v+p+n*-x,u||s.fillsize){m=c.getElementsByTagName(h);m=m&&m[0],c.removeChild(m),u&&(y=C(a,o.x(u[0],u[1]),o.y(u[0],u[1])),m.position=y.dx*d+p+y.dy*d),s.fillsize&&(m.size=s.fillsize[0]*l(e)+p+s.fillsize[1]*l(r)),c.appendChild(m)}f.visibility="visible"}};r.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};S=function(t,r,i){var n,a,s,o,l,h,u;for(n=e(r).toLowerCase().split("-"),a=i?"end":"start",s=n.length,o="classic",l="medium",h="medium";s--;)switch(n[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=n[s];break;case"wide":case"narrow":h=n[s];break;case"long":case"short":l=n[s]}u=t.node.getElementsByTagName("stroke")[0];u[a+"arrow"]=o,u[a+"arrowlength"]=l,u[a+"arrowwidth"]=h},T=function(n,l){var c,f,g,v,x,y,m,C,T,N,E,M,P,z,F,R,I,j,q,D,O,V,Y,G,W,X,H,U,$,Z,Q,J;n.attrs=n.attrs||{};c=n.node,f=n.attrs,g=c.style,v=_[n.type]&&(l.x!=f.x||l.y!=f.y||l.width!=f.width||l.height!=f.height||l.cx!=f.cx||l.cy!=f.cy||l.rx!=f.rx||l.ry!=f.ry||l.r!=f.r),x=w[n.type]&&(f.cx!=l.cx||f.cy!=l.cy||f.r!=l.r||f.rx!=l.rx||f.ry!=l.ry),y=n;for(m in l)l[t](m)&&(f[m]=l[m]);if(v&&(f.path=r._getPath[n.type](n),n._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&n.blur(l.blur),(l.path&&"path"==n.type||v)&&(c.path=k(~e(f.path).toLowerCase().indexOf("r")?r._pathToAbsolute(f.path):f.path),"image"==n.type&&(n._.fillpos=[f.x,f.y],n._.fillsize=[f.width,f.height],B(n,1,1,0,0,0))),"transform"in l&&n.transform(l.transform),x){C=+f.cx,T=+f.cy,N=+f.rx||+f.r||0,E=+f.ry||+f.r||0;c.path=r.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((C-N)*b),a((T-E)*b),a((C+N)*b),a((T+E)*b),a(C*b)),n._.dirty=1}if("clip-rect"in l){M=e(l["clip-rect"]).split(u);if(4==M.length){M[2]=+M[2]+ +M[0],M[3]=+M[3]+ +M[1];P=c.clipRect||r._g.doc.createElement("div"),z=P.style;z.clip=r.format("rect({1}px {2}px {3}px {0}px)",M),c.clipRect||(z.position="absolute",z.top=0,z.left=0,z.width=n.paper.width+"px",z.height=n.paper.height+"px",c.parentNode.insertBefore(P,c),P.appendChild(c),c.clipRect=P)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(n.textpath){F=n.textpath.style;l.font&&(F.font=l.font),l["font-family"]&&(F.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(F.fontSize=l["font-size"]),l["font-weight"]&&(F.fontWeight=l["font-weight"]),l["font-style"]&&(F.fontStyle=l["font-style"])}if("arrow-start"in l&&S(y,l["arrow-start"]),"arrow-end"in l&&S(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){R=c.getElementsByTagName(h),I=!1;if(R=R&&R[0],!R&&(I=R=L(h)),"image"==n.type&&l.src&&(R.src=l.src),l.fill&&(R.on=!0),(null==R.on||"none"==l.fill||null===l.fill)&&(R.on=!1),R.on&&l.fill){j=e(l.fill).match(r._ISURL);if(j){R.parentNode==c&&c.removeChild(R),R.rotate=!0,R.src=j[1],R.type="tile";q=n.getBBox(1);R.position=q.x+p+q.y,n._.fillpos=[q.x,q.y],r._preload(j[1],function(){n._.fillsize=[this.offsetWidth,this.offsetHeight]})}else R.color=r.getRGB(l.fill).hex,R.src=d,R.type="solid",r.getRGB(l.fill).error&&(y.type in{"circle":1,"ellipse":1}||"r"!=e(l.fill).charAt())&&A(y,l.fill,R)&&(f.fill="none",f.gradient=l.fill,R.rotate=!1)}if("fill-opacity"in l||"opacity"in l){D=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+r.getRGB(l.fill).o+1||2)-1);D=o(s(D,0),1),R.opacity=D,R.src&&(R.color="none")}c.appendChild(R);O=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],V=!1;!O&&(V=O=L("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(O.on=!0),("none"==l.stroke||null===l.stroke||null==O.on||0==l.stroke||0==l["stroke-width"])&&(O.on=!1);Y=r.getRGB(l.stroke);O.on&&l.stroke&&(O.color=Y.hex),D=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+Y.o+1||2)-1);G=.75*(i(l["stroke-width"])||1);if(D=o(s(D,0),1),null==l["stroke-width"]&&(G=f["stroke-width"]),l["stroke-width"]&&(O.weight=G),G&&1>G&&(D*=G)&&(O.weight=1),O.opacity=D,l["stroke-linejoin"]&&(O.joinstyle=l["stroke-linejoin"]||"miter"),O.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(O.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};O.dashstyle=W[t](l["stroke-dasharray"])?W[l["stroke-dasharray"]]:d}V&&c.appendChild(O)}if("text"==y.type){y.paper.canvas.style.display=d;X=y.paper.span,H=100,U=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);g=X.style,f.font&&(g.font=f.font),f["font-family"]&&(g.fontFamily=f["font-family"]),f["font-weight"]&&(g.fontWeight=f["font-weight"]),f["font-style"]&&(g.fontStyle=f["font-style"]),U=i(f["font-size"]||U&&U[0])||10,g.fontSize=U*H+"px",y.textpath.string&&(X.innerHTML=e(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));$=X.getBoundingClientRect();y.W=f.w=($.right-$.left)/H,y.H=f.h=($.bottom-$.top)/H,y.X=f.x,y.Y=f.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=r.format("m{0},{1}l{2},{1}",a(f.x*b),a(f.y*b),a(f.x*b)+1));for(Z=["x","y","text","font","font-family","font-weight","font-style","font-size"],Q=0,J=Z.length;J>Q;Q++)if(Z[Q]in l){y._.dirty=1;break}switch(f["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},A=function(t,a,s){var o,l,h,u,c,f,g,v;t.attrs=t.attrs||{};o=(t.attrs,Math.pow),l="linear",h=".5 .5";if(t.attrs.gradient=a,a=e(a).replace(r._radial_gradient,function(t,e,r){return l="radial",e&&r&&(e=i(e),r=i(r),o(e-.5,2)+o(r-.5,2)>.25&&(r=n.sqrt(.25-o(e-.5,2))*(2*(r>.5)-1)+.5),h=e+p+r),d}),a=a.split(/\s*\-\s*/),"linear"==l){u=a.shift();if(u=-i(u),isNaN(u))return null}c=r._parseDots(a);if(!c)return null;if(t=t.shape||t.node,c.length){t.removeChild(s),s.on=!0,s.method="none",s.color=c[0].color,s.color2=c[c.length-1].color;for(f=[],g=0,v=c.length;v>g;g++)c[g].offset&&f.push(c[g].offset+p+c[g].color);s.colors=f.length?f.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=h,s.angle=0):(s.type="gradient",s.angle=(270-u)%360),t.appendChild(s)}return 1},N=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=r._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=r.matrix(),this._={"transform":[],"sx":1,"sy":1,"dx":0,"dy":0,"deg":0,"dirty":1,"dirtyT":1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},E=r.el;N.prototype=E,E.constructor=N,E.transform=function(t){var i,n,a,s,o,l,h,u,c,f,g,v,x;if(null==t)return this._.transform;n=this.paper._viewBoxShift,a=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:d;n&&(i=t=e(t).replace(/\.{3}|\u2026/g,this._.transform||d)),r._extractTransform(this,a+t);o=this.matrix.clone(),l=this.skew,h=this.node,u=~e(this.attrs.fill).indexOf("-"),c=!e(this.attrs.fill).indexOf("url(");if(o.translate(-.5,-.5),c||u||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=o.split(),u&&s.noRotation||!s.isSimple){h.style.filter=o.toFilter();f=this.getBBox(),g=this.getBBox(1),v=f.x-g.x,x=f.y-g.y;h.coordorigin=v*-b+p+x*-b,B(this,1,1,v,x,0)}else h.style.filter=d,B(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else h.style.filter=d,l.matrix=e(o),l.offset=o.offset();return i&&(this._.transform=i),this},E.rotate=function(t,r,n){if(this.removed)return this;if(null!=t){if(t=e(t).split(u),t.length-1&&(r=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(r=n),null==r||null==n){var a=this.getBBox(1);r=a.x+a.width/2,n=a.y+a.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,r,n]])),this}},E.translate=function(t,r){return this.removed?this:(t=e(t).split(u),t.length-1&&(r=i(t[1])),t=i(t[0])||0,r=+r||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=r),this.transform(this._.transform.concat([["t",t,r]])),this)},E.scale=function(t,r,n,a){if(this.removed)return this;if(t=e(t).split(u),t.length-1&&(r=i(t[1]),n=i(t[2]),a=i(t[3]),isNaN(n)&&(n=null),isNaN(a)&&(a=null)),t=i(t[0]),null==r&&(r=t),null==a&&(n=a),null==n||null==a)var s=this.getBBox(1);return n=null==n?s.x+s.width/2:n,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,r,n,a]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=d),this},E._getBBox=function(){return this.removed?{}:{"x":this.X+(this.bbx||0)-this.W/2,"y":this.Y-this.H,"width":this.W,"height":this.H}},E.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),r.eve.unbind("raphael.*.*."+this.id),r._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]="function"==typeof this[t]?r._removedFactory(t):null;this.removed=!0}},E.attr=function(e,i){var n,a,s,o,l,f,p,d,g,v;if(this.removed)return this;if(null==e){n={};for(a in this.attrs)this.attrs[t](a)&&(n[a]=this.attrs[a]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&r.is(e,"string")){if(e==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(s=e.split(u),o={},l=0,f=s.length;f>l;l++)e=s[l],o[e]=e in this.attrs?this.attrs[e]:r.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:r._availableAttrs[e];return f-1?o:o[s[0]]}if(this.attrs&&null==i&&r.is(e,"array")){for(o={},l=0,f=e.length;f>l;l++)o[e[l]]=this.attr(e[l]);return o}null!=i&&(p={},p[e]=i),null==i&&r.is(e,"object")&&(p=e);for(d in p)c("raphael.attr."+d+"."+this.id,this,p[d]);if(p){for(d in this.paper.customAttributes)if(this.paper.customAttributes[t](d)&&p[t](d)&&r.is(this.paper.customAttributes[d],"function")){g=this.paper.customAttributes[d].apply(this,[].concat(p[d]));this.attrs[d]=p[d];for(v in g)g[t](v)&&(p[v]=g[v])}p.text&&"text"==this.type&&(this.textpath.string=p.text),T(this,p)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&r._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),r._toback(this,this.paper)),this)},E.insertAfter=function(t){return this.removed?this:(t.constructor==r.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),r._insertafter(this,t,this.paper),this)},E.insertBefore=function(t){return this.removed?this:(t.constructor==r.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),r._insertbefore(this,t,this.paper),this)},E.blur=function(t){var e=this.node.runtimeStyle,i=e.filter;return i=i.replace(x,d),0!==+t?(this.attrs.blur=t,e.filter=i+p+f+".Blur(pixelradius="+(+t||1.5)+")",e.margin=r.format("-{0}px 0 0 -{0}px",a(+t||1.5))):(e.filter=i,e.margin=0,delete this.attrs.blur),this},r._engine.path=function(t,e){var i,n,a,r=L("shape");r.style.cssText=m,r.coordsize=b+p+b,r.coordorigin=e.coordorigin;i=new N(r,e),n={"fill":"none","stroke":"#000"};t&&(n.path=t),i.type="path",i.path=[],i.Path=d,T(i,n),e.canvas.appendChild(r);a=L("skew");return a.on=!0,r.appendChild(a),i.skew=a,i.transform(d),i},r._engine.rect=function(t,e,i,n,a,s){var o=r._rectPath(e,i,n,a,s),l=t.path(o),h=l.attrs;return l.X=h.x=e,l.Y=h.y=i,l.W=h.width=n,l.H=h.height=a,h.r=s,h.path=o,l.type="rect",l},r._engine.ellipse=function(t,e,r,i,n){var a=t.path();return a.attrs,a.X=e-i,a.Y=r-n,a.W=2*i,a.H=2*n,a.type="ellipse",T(a,{"cx":e,"cy":r,"rx":i,"ry":n}),a},r._engine.circle=function(t,e,r,i){var n=t.path();return n.attrs,n.X=e-i,n.Y=r-i,n.W=n.H=2*i,n.type="circle",T(n,{"cx":e,"cy":r,"r":i}),n},r._engine.image=function(t,e,i,n,a,s){var o=r._rectPath(i,n,a,s),l=t.path(o).attr({"stroke":"none"}),u=l.attrs,c=l.node,f=c.getElementsByTagName(h)[0];return u.src=e,l.X=u.x=i,l.Y=u.y=n,l.W=u.width=a,l.H=u.height=s,u.path=o,l.type="image",f.parentNode==c&&c.removeChild(f),f.rotate=!0,f.src=e,f.type="tile",l._.fillpos=[i,n],l._.fillsize=[a,s],c.appendChild(f),B(l,1,1,0,0,0),l},r._engine.text=function(t,i,n,s){var u,c,f,o=L("shape"),l=L("path"),h=L("textpath");i=i||0,n=n||0,s=s||"",l.v=r.format("m{0},{1}l{2},{1}",a(i*b),a(n*b),a(i*b)+1),l.textpathok=!0,h.string=e(s),h.on=!0,o.style.cssText=m,o.coordsize=b+p+b,o.coordorigin="0 0";u=new N(o,t),c={"fill":"#000","stroke":"none","font":r._availableAttrs.font,"text":s};u.shape=o,u.path=l,u.textpath=h,u.type="text",u.attrs.text=e(s),u.attrs.x=i,u.attrs.y=n,u.attrs.w=1,u.attrs.h=1,T(u,c),o.appendChild(h),o.appendChild(l),t.canvas.appendChild(o);f=L("skew");return f.on=!0,o.appendChild(f),u.skew=f,u.transform(d),u},r._engine.setSize=function(t,e){var i=this.canvas.style;return this.width=t,this.height=e,t==+t&&(t+="px"),e==+e&&(e+="px"),i.width=t,i.height=e,i.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&r._engine.setViewBox.apply(this,this._viewBox),this},r._engine.setViewBox=function(t,e,i,n,a){r.eve("raphael.setViewBox",this,this._viewBox,[t,e,i,n,a]);var o,l,h=this.width,u=this.height,c=1/s(i/h,n/u);return a&&(o=u/n,l=h/i,h>i*o&&(t-=(h-i*o)/2/o),u>n*l&&(e-=(u-n*l)/2/l)),this._viewBox=[t,e,i,n,!!a],this._viewBoxShift={"dx":-t,"dy":-e,"scale":c},this.forEach(function(t){t.transform("...")}),this};r._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),L=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(r){L=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},r._engine.initWin(r._g.win),r._engine.create=function(){var o,l,h,t=r._getContainer.apply(0,arguments),e=t.container,i=t.height,n=t.width,a=t.x,s=t.y;if(!e)throw Error("VML container not found.");o=new r._Paper,l=o.canvas=r._g.doc.createElement("div"),h=l.style;return a=a||0,s=s||0,n=n||512,i=i||342,o.width=n,o.height=i,n==+n&&(n+="px"),i==+i&&(i+="px"),o.coordsize=1e3*b+p+1e3*b,o.coordorigin="0 0",o.span=r._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),h.cssText=r.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,i),1==e?(r._g.doc.body.appendChild(l),h.left=a+"px",h.top=s+"px",h.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),o.renderfix=function(){},o},r.prototype.clear=function(){r.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=r._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},r.prototype.remove=function(){r.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?r._removedFactory(t):null;return!0};M=r.st;for(P in E)E[t](P)&&!M[t](P)&&(M[P]=function(t){return function(){var e=arguments;return this.forEach(function(r){r[t].apply(r,e)})}}(P))}}(),T.was?S.win.Raphael=r:Raphael=r,r});define("tiny-widgets/CirqueChart",["tiny-lib/angular","tiny-lib/jquery","tiny-widgets/Widget","tiny-lib/raphael"],function(angular,$,Widget,Raphael){var language=tinyLanguage.language,DEFAULT_CONFIG={"id":document.body,"percent":!0,"legendHeight":20,"legendWidth":190,"legendFontSize":12,"legendFontColor":"#666666","height":180,"width":500,"shadowImgUrl":"../themes/default/images/circle_bottom_back.png","showShadow":!0,"showLegend":!0,"showClickEvent":!0,"data":null,"rotate":0,"r":50,"hasAnimate":!0,"animateTime":1e3,"strokeWidth":20,"noDataCenter":{"text":language.noDataCirque,"fontSize":8,"color":"black","fontFamily":"Microsoft Yahei","fontWeight":100},"legend":{"style":{"color":"#222","font-size":"12px","font-family":"Microsoft Yahei","font-weight":"normal","text-anchor":"start","xml:space":"preserve"}}},Cirquechart=Widget.extend({"init":function(options){var option,widgetThis=this;options.noDataCenter=_.extend({},DEFAULT_CONFIG.noDataCenter,options.noDataCenter);option=_.extend({},DEFAULT_CONFIG,options);widgetThis._super(option);widgetThis._createPaper();widgetThis._creatCirqueChart(widgetThis.options.data)},"_setOption":function(key,value){var widgetThis=this;widgetThis._super(key,value);switch(key){case"data":widgetThis._creatCirqueChart(value)}},"_createPaper":function(){var cirqueId,widgetThis=this,options=widgetThis.options;widgetThis.pi=Math.PI;widgetThis.r=parseInt(options.r,10);widgetThis.width=parseInt(options.width,10);widgetThis.height=parseInt(options.height,10);cirqueId="tiny-cirqueChart-container"+$.guid++;widgetThis.$cirqueContainer=$("<div id="+cirqueId+' style="position:relative;"></div>');$("#"+options.id).append(widgetThis.$cirqueContainer);widgetThis.paper=Raphael(cirqueId,widgetThis.width,widgetThis.height)},"_initCirque":function(){var rotate,widgetThis=this,options=widgetThis.options;$(".tiny-cirque-tip").remove();widgetThis.paper.clear();widgetThis.view=[];rotate=2*widgetThis.pi*(parseInt(options.rotate,10)/360);widgetThis.angles=[];widgetThis.angles.push(rotate);options.showLegend||(options.legendWidth=0);widgetThis.center=[];widgetThis.center[0]=(widgetThis.width-options.legendWidth)/2;widgetThis.center[1]=widgetThis.height/2;$(widgetThis.paper.canvas).removeAttr("opacity")},"_parseData":function(data){var value,valueLen,totalNum,i,len,realTotalNum,widgetThis=this,options=widgetThis.options,maxValLen=0;if("true"!==String(options.percent)){totalNum=0;for(i=0,len=data.length;len>i;i++){value=data[i].value;valueLen=value.toString().length;value=+value;value=isNaN(value)?0:value;totalNum+=value;valueLen>maxValLen&&(maxValLen=valueLen)}}else{totalNum=100;realTotalNum=0;for(i=0,len=data.length;len>i;i++){value=data[i].value;valueLen=value.toString().length;value=+value;value=isNaN(value)?0:value;realTotalNum+=value;valueLen>maxValLen&&(maxValLen=valueLen)}realTotalNum||(totalNum=0)}widgetThis.maxValLen=maxValLen;return totalNum},"_renderCir":function(totalNum,data){var tempAngel,align,j,i,len,color,linearGradient,linerColor,path,widgetThis=this;widgetThis.displayData=[];if(0==totalNum)widgetThis._creatCirque();else{align=0,j=0;for(i=0,len=data.length;len>i;i++){align=+data[i].value/totalNum;if(!align){j++;continue}tempAngel=widgetThis.angles[i-j]+2*widgetThis.pi*align;widgetThis.angles.push(tempAngel);widgetThis.displayData.push(data[i]);color=data[i].color;linearGradient=data[i].linearGradient;if(linearGradient){linerColor="";linerColor+=(linearGradient.angle||100)+"-"+linearGradient.startColor+"-"+linearGradient.endColor;color=linerColor;data[i].color=linearGradient.startColor}path=widgetThis.paper.path().attr({"fill":color});path.dataColor=data[i].color;widgetThis.view.push(path)}if(1===widgetThis.view.length){widgetThis._creatCirque(widgetThis.view[0].dataColor);return}widgetThis._createCir(data,0)}},"_renderCenterText":function(centerText){var widgetThis=this;centerText&&!_.isUndefined(centerText.text)&&""!==centerText.text&&widgetThis.paper.text(widgetThis.center[0],widgetThis.center[1],centerText.text).attr({"font-weight":centerText.fontWeight||"bold","font-size":centerText.fontSize||44,"fill":centerText.color||"#ff9f21","font-family":centerText.fontFamily||"Arial"})},"_addCirBehavior":function(data){var widgetThis=this;$.each(widgetThis.view,function(i,pathi){if("function"==typeof data[i].click){pathi.click(function(){pathi.tp&&pathi.tp.remove();data[i].click()});pathi.hover(function(){pathi.attr({"cursor":"pointer"})})}if(data[i].tooltip){pathi.tp=$('<div class = "tiny-cirque-tip">'+data[i].tooltip+"</div>");pathi.mouseover(function(event){pathi.tp.css({"left":event.pageX+1,"top":event.pageY+1});$("body").append(pathi.tp)});pathi.mouseout(function(event){pathi.tp.remove()})}})},"_renderShadow":function(){var widgetThis=this,$imageDiv=$("<div class='tiny-cirque-shadow'></div>");widgetThis.$cirqueContainer.append($imageDiv);$imageDiv.css({"left":widgetThis.center[0]-74,"top":widgetThis.center[1]+widgetThis.r-6})},"_creatCirqueChart":function(data){var totalNum,widgetThis=this,options=widgetThis.options;widgetThis._initCirque();if(null==data||!data.length){widgetThis._creatNoDataCirque();return}totalNum=widgetThis._parseData(data);
widgetThis._renderCir(totalNum,data);widgetThis._renderCenterText(options.centerText);options.showLegend&&widgetThis._renderLegend(data);options.showShadow&&widgetThis._renderShadow();widgetThis.displayData.length&&widgetThis._addCirBehavior(widgetThis.displayData)},"_creatNoDataCirque":function(){var widgetThis=this;options=widgetThis.options;widgetThis._creatCirque();widgetThis._renderCenterText(options.noDataCenter);options.showShadow&&widgetThis._renderShadow();$(widgetThis.paper.canvas).attr("opacity",.5)},"_creatCirque":function(color){var widgetThis=this,options=widgetThis.options,circleR=widgetThis.r-options.strokeWidth/2,x=widgetThis.center[0],y=widgetThis.center[1],circlePath=widgetThis.paper.circle(x,y,circleR).attr({"fill":"none","stroke":color||options.defaultColor||"#ccc","stroke-width":options.strokeWidth});widgetThis.view=[circlePath]},"_createCir":function(data,index){var path,flag,time,paper,widgetThis=this,options=widgetThis.options,outR=widgetThis.r,innerR=outR-options.strokeWidth,tempIndex=0,addAngle=0,animateTime=options.animateTime/36,delAngle=1/innerR,tempSAngle=widgetThis.angles[index],newAngle=tempSAngle,tempEAngle=widgetThis.angles[index+1]-delAngle;if(options.hasAnimate)time=window.setInterval(function(){0!=tempIndex&&(addAngle=2*Math.PI*1/36);newAngle+=addAngle;newAngle>tempEAngle&&(newAngle=tempEAngle);flag=newAngle-tempSAngle>widgetThis.pi?1:0;path=widgetThis._getDoubleCilclePath(tempSAngle,newAngle,innerR,outR,flag,widgetThis.center);var paper=widgetThis.view[index];paper.attr({"path":path,"stroke":0});tempIndex++;if(newAngle==tempEAngle){index+1<=widgetThis.view.length-1&&widgetThis._createCir(data,index+1);clearInterval(time)}},animateTime);else{flag=tempEAngle-tempSAngle>widgetThis.pi?1:0;path=widgetThis._getDoubleCilclePath(tempSAngle,tempEAngle,innerR,outR,flag,widgetThis.center);paper=widgetThis.view[index];paper.attr({"path":path,"stroke":0});index+1<=widgetThis.view.length-1&&widgetThis._createCir(data,index+1)}},"_renderLegend":function(data){var y,x,circleY,i,textY,textvalueX,legendStyle,value,textAnchor,textX,widgetThis=this,options=widgetThis.options,datalen=data.length;y=0!==datalen%2?widgetThis.center[1]-24*parseInt(datalen/2):widgetThis.center[1]-datalen/2*24+12;x=widgetThis.center[0]+widgetThis.r+60+6;for(i=0;datalen>i;i++){circleY=y+24*i;widgetThis.paper.circle(x,circleY,6).attr({"fill":"none","stroke":data[i].color,"stroke-width":2});textY=circleY;textvalueX=x+7+6;if($.isPlainObject(data[i].legend)){legendStyle=_.extend({},DEFAULT_CONFIG.legend.style,data[i].legend.style);widgetThis.paper.text(textvalueX,textY,data[i].legend.content).attr({"font-family":legendStyle["font-family"],"font-size":legendStyle["font-size"],"fill":legendStyle.color,"font-weight":legendStyle["font-weight"],"text-anchor":legendStyle["text-anchor"],"xml:space":legendStyle["xml:space"]});continue}value=data[i].value;if("true"!==String(options.percent)){textAnchor="start";textX=textvalueX+10+7*widgetThis.maxValLen}else{textAnchor="end";value+="%";textvalueX=textvalueX+10+7*widgetThis.maxValLen;textX=textvalueX+10}widgetThis.paper.text(textvalueX,textY,value).attr({"font-family":"Helvetica","font-size":options.legendFontSize,"fill":"#222222","text-anchor":textAnchor});widgetThis.paper.text(textX,textY,data[i].name).attr({"font-family":"Microsoft YaHei","font-size":options.legendFontSize,"fill":options.legendFontColor,"text-anchor":"start"})}},"_getDoubleCilclePath":function(sdeg,edeg,rInner,rOuter,flag,center){startX=center[0]+Math.cos(sdeg)*rOuter;startY=center[1]+Math.sin(sdeg)*rOuter;startInnerX=center[0]+Math.cos(sdeg)*rInner;startInnerY=center[1]+Math.sin(sdeg)*rInner;endX=center[0]+Math.cos(edeg)*rOuter;endY=center[1]+Math.sin(edeg)*rOuter;endInnerX=center[0]+Math.cos(edeg)*rInner;endInnerY=center[1]+Math.sin(edeg)*rInner;var path="M"+startX+","+startY+"A"+rOuter+","+rOuter+" 0 "+flag+" 1 "+endX+","+endY+"L"+endInnerX+","+endInnerY+"A"+rInner+","+rInner+" 0 "+flag+" 0 "+startInnerX+","+startInnerY+"Z";return path}});window.tinyWidget.Cirquechart=Cirquechart;return Cirquechart});define("tiny-directives/CirqueChart",["tiny-directives/Directive","tiny-widgets/CirqueChart"],function(Directive,Cirquechar){var DEFAULT_CONFIG={"directiveName":"tinyCirque","widgetClass":Cirquechar,"constantProperties":["id","rotate","r","defaultColor","height","width","hasAnimate","percent","showClickEvent","strokeWidth","showShadow","showLegend","centerText","legendFontColor","data","noDataCenter"],"scope":{"id":"=","rotate":"=","r":"=","height":"=","percent":"=","width":"=","showClickEvent":"=","strokeWidth":"=","showShadow":"=","showLegend":"=","hasAnimate":"=","legendFontColor":"=","defaultColor":"=","centerText":"=","data":"=","noDataCenter":"="},"replace":!0,"template":"<div></div>"},CirqueChart=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var directiveThis,constants,validProperName,cirqueInst;element.attr("id",scope.id);directiveThis=this,constants=_.pick(scope,directiveThis.constantProperties);validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});cirqueInst=new directiveThis.widgetClass(_.pick(constants,validProperName));element.widget(cirqueInst);scope.$watch("data",function(newValues,oldValues){if(newValues===oldValues)return;cirqueInst.option("data",newValues)},!0)}});(new CirqueChart).toAngularDirective();return CirqueChart});define("tiny-widgets/Columnchart",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-lib/encoder"],function(angular,$,Class,Widget,encoder){var DEFAULT_CONFIG={"width":400,"isFill":!0,"bold":"normal","textWidth":"auto","maxNameLength":"100px","template":'<div class="tiny-columnchart" ><ul class="tiny-columnchart-columnUl"></ul><div class="tiny-columnchart-backgroundTable"><table id = "columnBGTable" width = "100%"></table></div><div class="tiny-columnchart-columnLegend"></div></div>'},liHtml='<li class="columnLi"><div class="tiny-columnchart-columnLabel" title="<%=title%>"><%=name%></div><div class="tiny-columnchart-columnCon"><div class="tiny-columnchart-columnBar"></div><span class="tiny-columnchart-tValue" title="<%=textName%>"><%=textValue%></span></div></li>',gridHtml='<tr class="bgTableTR"><td class="startBorder"></td><td></td><td></td><td class="endBorder"></td></tr>',barWithGrayBgHtml='<div class="tiny-columnchart-columnBar"style="width:<%=initWidth%>px;background-color:<%=backgroundColor%>;"id="columnBar<%=id%><%=i%>"><div class="tiny-columnchart-columnProc"style="background-color:<%=color%>;width:<%=columnWidth%>px;"id="columnProc<%=id%><%=i%>"></div>',barNoGrayBgHtml='<div class="tiny-columnchart-columnBar"style="background-color:<%=color%>;width:<%=columnWidth%>px;"id="columnBar<%=id%><%=i%>">',legendHtml0='<div class="tiny-columnchart-columnLegendList"><div class="tiny-columnchart-columnLegendBar" style="background-color:<%=color%>;"></div><span class="columnLegendList0"><%=desc%></span></div>',legendHtml1='<span class="tiny-columnchart-columnLegendList"><%=desc%></span>',CONST_VALUES={"LETTER_PX":7,"BOLD_LETTER_PX":22,"NAME_LEFT_LENGTH":10,"LEN_INTERVAL_BAR_TEXT":10,"LEN_INTERVAL_NAME_BAR":5,"TEXT_LEFT_LENGTH":5,"TEXT_RIGHT_LENGTH":10,"BOLD_FONT_SIZE":30,"NORMAL_FONT_SIZE":12,"BACKGROUND_COLOR":"#cccccc"},Columnchart=Widget.extend({"init":function(options){var columnChartThis=this;options=_.extend({},DEFAULT_CONFIG,options);columnChartThis._testBuildMethod(options.id);columnChartThis._super(options);columnChartThis._setOptions(columnChartThis.options);$("#"+options.id).append(columnChartThis._element);columnChartThis._createPolProcess()},"_testBuildMethod":function(id){var columnChartThis=this;"undefined"==typeof id?columnChartThis.buildMethod="constructor":$("#"+id).length>0?columnChartThis.buildMethod="constructor":columnChartThis.buildMethod="directive"},"_setOption":function(key,value){var columnChartThis=this;columnChartThis._super(key,value);switch(key){case"id":columnChartThis._updateId(value);break;case"values":columnChartThis._creatColumnchart(value);columnChartThis._createPolProcess()}},"_creatColumnchart":function(values){var chartWidth,columnChartThis=this,data=values.series;columnChartThis._clear();columnChartThis._createColumnframe(data);chartWidth=columnChartThis._calculatechartWidth(data);columnChartThis._createColumnInterior(data,chartWidth);columnChartThis._createTableBg(data);columnChartThis._createLegend(values);columnChartThis._setType();columnChartThis._setPosition(data,chartWidth);columnChartThis._element.css("width",columnChartThis._calcWidth()+"px")},"_setType":function(){var columnChartThis=this;if("bold"===columnChartThis.options.bold){columnChartThis._element.find(".tiny-columnchart-columnCon").removeClass("tiny-columnchart-columnCon").addClass("tiny-columnchart-columnConBold");columnChartThis._element.find(".tiny-columnchart-backgroundTable").removeClass("tiny-columnchart-backgroundTable").addClass("tiny-columnchart-backgroundTableBold")}},"_setPosition":function(data,chartWidth){var maxNameLen,left,columnChartThis=this,maxTextLen=columnChartThis._calcMaxtextLen(data);columnChartThis._element.find(".tiny-columnchart-tValue").css("width",maxTextLen+"px");maxNameLen=columnChartThis._calcNameMaxLen(data);left=$(".tiny-columnchart-columnLabel:first-child",columnChartThis._element).position().left+(maxNameLen*CONST_VALUES.LETTER_PX+CONST_VALUES.NAME_LEFT_LENGTH);columnChartThis._element.find(".tiny-columnchart-columnLabel").css("width",maxNameLen*CONST_VALUES.LETTER_PX+CONST_VALUES.NAME_LEFT_LENGTH);columnChartThis._element.find(".tiny-columnchart-backgroundTable,.tiny-columnchart-backgroundTableBold,.tiny-columnchart-columnLegend").width(chartWidth).css("left",left)},"_clear":function(){var columnChartThis=this;$(".columnLi",columnChartThis._element).remove();$(".bgTableTR",columnChartThis._element).remove();$(".tiny-columnchart-columnLegendList",columnChartThis._element).remove()},"_calcNameMaxLen":function(data){var name,i,dataLen,NameLenPx,columnChartThis=this,maxNameLen=0,maxNameLength=parseInt(columnChartThis.options.maxNameLength,10),nameWidth=parseInt(columnChartThis.options.nameWidth,10);if(!maxNameLength&&nameWidth||maxNameLength>=nameWidth)return nameWidth/CONST_VALUES.LETTER_PX;for(i=0,dataLen=data.length;dataLen>i;i++){name=data[i].name+"";maxNameLen<columnChartThis._strlen(name)&&(maxNameLen=columnChartThis._strlen(name))}NameLenPx=maxNameLen*CONST_VALUES.LETTER_PX;if(!maxNameLength||maxNameLength>NameLenPx)return maxNameLen;return Math.floor(maxNameLength/CONST_VALUES.LETTER_PX)},"_calcMaxtextLen":function(data){var textValue,fontSize,$textDom,i,dataLen,columnChartThis=this,textWidth=columnChartThis.options.textWidth,maxTextWidth=parseInt(textWidth,10);if("auto"!==textWidth&&!isNaN(maxTextWidth))return maxTextWidth;maxTextWidth=0;fontSize="bold"===columnChartThis.options.bold?CONST_VALUES.BOLD_FONT_SIZE+"px":CONST_VALUES.NORMAL_FONT_SIZE+"px";$textDom=$('<span class="tiny-columnchart-tValue" style="font-size:'+fontSize+'"><span>');$("body").append($textDom);for(i=0,dataLen=data.length;dataLen>i;i++){textValue=data[i].textValue+"";$textDom.html(textValue);textWidth=$textDom.outerWidth(!0);maxTextWidth=textWidth>maxTextWidth?textWidth:maxTextWidth}$textDom.remove();return maxTextWidth},"_calculatechartWidth":function(data){var textValue,textLength,chartWidth,chartWidthtemp,interspaceLen1,interspaceLen2,i,dataLen,columnChartThis=this,options=columnChartThis.options,textPx="bold"===options.bold?CONST_VALUES.BOLD_LETTER_PX:CONST_VALUES.LETTER_PX,widgetWidth=columnChartThis._calcWidth(),maxNameLen=columnChartThis._calcNameMaxLen(data),maxTextLen=columnChartThis._calcMaxtextLen(data);if("auto"!==options.textWidth){chartWidth=widgetWidth-CONST_VALUES.NAME_LEFT_LENGTH-CONST_VALUES.LEN_INTERVAL_NAME_BAR-CONST_VALUES.LEN_INTERVAL_BAR_TEXT-maxNameLen*CONST_VALUES.LETTER_PX-CONST_VALUES.TEXT_RIGHT_LENGTH-parseInt(maxTextLen,10);return chartWidth}interspaceLen1=CONST_VALUES.NAME_LEFT_LENGTH+CONST_VALUES.LEN_INTERVAL_NAME_BAR+CONST_VALUES.TEXT_RIGHT_LENGTH;interspaceLen2=CONST_VALUES.TEXT_LEFT_LENGTH+CONST_VALUES.TEXT_RIGHT_LENGTH+CONST_VALUES.NAME_LEFT_LENGTH+CONST_VALUES.LEN_INTERVAL_NAME_BAR;chartWidth=widgetWidth-interspaceLen1-maxNameLen*CONST_VALUES.LETTER_PX-parseInt(maxTextLen,10);for(i=0,dataLen=data.length;dataLen>i;i++){textValue=data[i].textValue+"";textLength=columnChartThis._strlen(textValue.replace(/<[^>].*?>/g,""));columnvalue=data[i].initValue>data[i].value?data[i].initValue:data[i].value;options.isFill&&(columnvalue=data[i].value);if(columnvalue>0&&parseInt(data[i].maxValue)>0){chartWidthtemp=Math.floor((widgetWidth-interspaceLen2-maxNameLen*CONST_VALUES.LETTER_PX-textLength*textPx)*data[i].maxValue/columnvalue);chartWidth=chartWidthtemp>chartWidth?chartWidth:chartWidthtemp}}return chartWidth-10},"_createColumnframe":function(data){var li,name,titleText,textValue,textName,i,dataLen,columnChartThis=this;columnChartThis.pushArray=[];for(i=0,dataLen=data.length;dataLen>i;i++){name=data[i].name+"";titleText=$("<div>"+name+"</div>").text();textValue=data[i].textValue+"";textName=$("<div>"+textValue+"</div>").text();li=_.template(liHtml)({"title":titleText,"name":name,"textName":textName,"textValue":textValue});columnChartThis.pushArray.push(li)}},"_createColumnInterior":function(data,chartWidth){var columnWidth,initWidth,barHtml,columnHtml,color,backgroundColor,i,arrayLen,textName,columnChartThis=this,options=columnChartThis.options,id=$.encoder.encodeForHTMLAttribute("id",options.id+"",!0);for(i=0,arrayLen=columnChartThis.pushArray.length;arrayLen>i;i++){columnWidth=data[i].value;initWidth=data[i].initValue;backgroundColor=_.isUndefined(data[i].backgroundColor)?CONST_VALUES.BACKGROUND_COLOR:$.encoder.encodeForCSS("color",data[i].backgroundColor,!0);color=$.encoder.encodeForCSS("color",data[i].color,!0);if(options.isFill){columnWidth=Math.floor(data[i].value*chartWidth/data[i].maxValue);barHtml=_.template(barNoGrayBgHtml)({"color":color,"columnWidth":columnWidth,"id":id,"i":i})}else{initWidth=Math.floor(data[i].initValue*chartWidth/data[i].maxValue);columnWidth=Math.floor(data[i].value*chartWidth/data[i].maxValue);barHtml=_.template(barWithGrayBgHtml)({"initWidth":initWidth,"id":id,"i":i,"color":color,"columnWidth":columnWidth,"backgroundColor":backgroundColor})}columnHtml=columnChartThis.pushArray[i].replace('<div class="tiny-columnchart-columnBar">',barHtml);textName=$("<div>"+data[i].textValue+"</div>").text();columnHtml=columnHtml.replace('<span class="tiny-columnchart-tValue" title="'+textName+'"><span>','<span class="tiny-columnchart-tValue" style="color:'+backgroundColor+';" title="'+textName+'"><span style="color:'+color+';">');columnChartThis._element.find(".tiny-columnchart-columnUl").append(columnHtml)}},"_calcWidth":function(){var columnChartThis=this,options=columnChartThis.options,width=options.width,percent=parseInt(width,10),id=options.id;if("string"==typeof width&&width.indexOf("%")<=0)return percent;if(!isNaN(width))return percent;return"constructor"===columnChartThis.buildMethod?Math.floor($("#"+id).width()*percent/100):Math.floor($("#"+id).parent().width()*percent/100)},"update":function(values){var columnChartThis=this;columnChartThis.options.values=values;columnChartThis._setOption("values",values)},"updateItem":function(datas){var index,i,datasLen,columnChartThis=this,options=columnChartThis.options,chartWidth=columnChartThis._calculatechartWidth(options.values.series);if("auto"==options.textWidth)return;for(i=0,datasLen=datas.length;datasLen>i;i++){index=columnChartThis._getIndexByName(datas[i].name);if(0>index)continue;columnChartThis._updateRecordData(index,datas[i]);columnChartThis._updateBarLen(index,chartWidth);columnChartThis._updateTextValue(index)}},"_getIndexByName":function(name){var i,seriesLen,columnChartThis=this,options=columnChartThis.options;for(i=0,seriesLen=options.values.series.length;seriesLen>i;i++)if(name==options.values.series[i].name)return i;return-1},"_updateRecordData":function(index,datas){var columnChartThis=this,options=columnChartThis.options,temp=_.extend({},datas);delete temp.color;_.extend(options.values.series[index],temp)},"_updateBarLen":function(index,chartWidth){var newColumnWidth,newInitWidth,columnChartThis=this,options=columnChartThis.options,datas=options.values.series[index],id=options.id;if(options.isFill){newColumnWidth=Math.floor(datas.value*chartWidth/datas.maxValue);$("#columnBar"+id+index,columnChartThis._element).animate({"width":newColumnWidth})}else{newColumnWidth=Math.floor(datas.value*chartWidth/datas.maxValue);newInitWidth=Math.floor(datas.initValue*chartWidth/datas.maxValue);$("#columnBar"+id+index,columnChartThis._element).animate({"width":newInitWidth});$("#columnProc"+id+index,columnChartThis._element).animate({"width":newColumnWidth})}},"_updateTextValue":function(index){var textHtml,textName,backgroundColor,color,maxTextLen,columnChartThis=this,options=columnChartThis.options,datas=options.values.series[index],id=options.id;$("#columnBar"+id+index,columnChartThis._element).parent().find(".tiny-columnchart-tValue").remove();textName=$("<div>"+datas.textValue+"</div>").text();backgroundColor=_.isUndefined(datas.backgroundColor)?CONST_VALUES.BACKGROUND_COLOR:$.encoder.encodeForCSS("color",datas.backgroundColor,!0);color=$.encoder.encodeForCSS("color",datas.color,!0);textHtml='<span class="tiny-columnchart-tValue" title="'+textName+'">'+datas.textValue+"</span>";textHtml=textHtml.replace('<span class="tiny-columnchart-tValue" title="'+textName+'"><span>','<span class="tiny-columnchart-tValue" style="color:'+backgroundColor+';" title="'+textName+'"><span style="color:'+color+';">');$("#columnBar"+id+index,columnChartThis._element).parent().append(textHtml);maxTextLen=columnChartThis._calcMaxtextLen(options.values.series);columnChartThis._element.find(".tiny-columnchart-tValue").css("width",maxTextLen+"px")},"_createTableBg":function(data){var i,columnChartThis=this,table=columnChartThis._element.find("#columnBGTable");for(i=0;i<data.length;i++)table.append(gridHtml)},"_createLegend":function(values){var color,i,dataLen,columnChartThis=this,legendDiv=(columnChartThis.options,columnChartThis._element.find(".tiny-columnchart-columnLegend")),legenData=values.legend,legendHtml="";if("undefined"==typeof legenData)return;for(i=0,dataLen=legenData.length;dataLen>i;i++)if(0==legenData[i].type){color=$.encoder.encodeForCSS("color",legenData[i].color,!0);legendHtml+=_.template(legendHtml0)({"color":color,"desc":legenData[i].desc})}else legendHtml+=_.template(legendHtml1)({"desc":legenData[i].desc});legendDiv.append(legendHtml);legendDiv.find(".columnLegendList0").addClass("tiny-columnchart-LegendList0-margin-left");legendDiv.find("span.tiny-columnchart-columnLegendList").addClass("tiny-columnchart-LegendList1-margin-left")},"_createPolProcess":function(){var columnBarWidth,columnProcWidth,columnChartThis=this,options=columnChartThis.options,id=options.id;$(".tiny-columnchart-columnBar",columnChartThis._element).each(function(n){columnBarWidth=$("#columnBar"+id+n).css("width");columnProcWidth=$("#columnProc"+id+n).css("width");$("#columnBar"+id+n).width(0).animate({"width":columnBarWidth});$("#columnProc"+id+n).width(0).animate({"width":columnProcWidth})})},"_strlen":function(str){var c,i,strLen,len=0;for(i=0,strLen=str.length;strLen>i;i++){c=str.charCodeAt(i);c>=1&&126>=c||c>=65376&&65439>=c?len++:len+=2}return len}});window.tinyWidget.Columnchart=Columnchart;return Columnchart});define("tiny-directives/Columnchart",["tiny-directives/Directive","tiny-widgets/Columnchart"],function(Directive,ColumnchartWidget){var DEFAULT_CONFIG={"directiveName":"tinyColumnchart","widgetClass":ColumnchartWidget,"scope":{"id":"=","isFill":"=","width":"=","bold":"=","textWidth":"=","nameWidth":"=","values":"=","maxNameLength":"="},"constantProperties":["id","maxNameLength","nameWidth"]},Columnchart=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var columnchartInstance,directiveThis=this,constants=_.pick(scope,directiveThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});columnchartInstance=new directiveThis.widgetClass(_.pick(constants,validProperName));element.replaceWith(columnchartInstance._element);scope.$watch("id",function(newValue,oldValue){columnchartInstance.option("id",newValue)});scope.$watch("isFill",function(newValue,oldValue){columnchartInstance.option("isFill",newValue)});scope.$watch("width",function(newValue,oldValue){columnchartInstance.option("width",newValue)});scope.$watch("bold",function(newValue,oldValue){columnchartInstance.option("bold",newValue)});scope.$watch("textWidth",function(newValue,oldValue){columnchartInstance.option("textWidth",newValue)});scope.$watch("values",function(newValue,oldValue){columnchartInstance.option("values",newValue)})}});(new Columnchart).toAngularDirective();return Columnchart});(function(){function k(a,b){var f,c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(;c.length&&(f=c.shift());)c.length||void 0===b?d=d[f]?d[f]:d[f]={}:d[f]=b}function m(a,b){function c(){}c.prototype=b.prototype;a.ha=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.ma=function(a,c,e){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}}function p(a,b){null!=a&&this.a.apply(this,arguments)}function q(a){a.b=""}function ba(a,b){a.sort(b||ca)}function ca(a,b){return a>b?1:b>a?-1:0}function da(a){var d,b=[],c=0;for(d in a)b[c++]=a[d];return b}function ea(a,b){var c,d;this.b=a;this.a={};for(c=0;c<b.length;c++){d=b[c];this.a[d.f]=d}}function fa(a){a=da(a.a);ba(a,function(a,c){return a.f-c.f});return a}function ga(a,b){this.f=a;this.g=!!b.ba;this.a=b.c;this.j=b.type;this.i=!1;switch(this.a){case ha:case ia:case ja:case ka:case la:case ma:case na:this.i=!0}this.b=b.defaultValue}function r(){this.a={};this.f=this.h().a;this.b=this.g=null}function oa(a,b){var c,d,f,e,g,h,l,n,u;for(c=fa(a.h()),d=0;d<c.length;d++){f=c[d],e=f.f;if(null!=b.a[e]){a.b&&delete a.b[f.f];g=11==f.a||10==f.a;if(f.g)for(f=t(b,e)||[],h=0;h<f.length;h++){l=a,n=e,u=g?f[h].clone():f[h];l.a[n]||(l.a[n]=[]);l.a[n].push(u);l.b&&delete l.b[n]}else f=t(b,e),g?(g=t(a,e))?oa(g,f):v(a,e,f.clone()):v(a,e,f)}}}function t(a,b){var d,f,e,g,c=a.a[b];if(null==c)return null;if(a.g){if(!(b in a.b)){d=a.g,f=a.f[b];if(null!=c)if(f.g){for(e=[],g=0;g<c.length;g++)e[g]=d.b(f,c[g]);c=e}else c=d.b(f,c);return a.b[b]=c}return a.b[b]}return c}function w(a,b,c){var d=t(a,b);return a.f[b].g?d[c||0]:d}function x(a,b){var c,d;if(null!=a.a[b])c=w(a,b,void 0);else a:{c=a.f[b];if(void 0===c.b){d=c.j;if(d===Boolean)c.b=!1;else if(d===Number)c.b=0;else{if(d!==String){c=new d;break a}c.b=c.i?"0":""}}c=c.b}return c}function y(a,b){return a.f[b].g?null!=a.a[b]?a.a[b].length:0:null!=a.a[b]?1:0}function v(a,b,c){a.a[b]=c;a.b&&(a.b[b]=c)}function z(a,b){var d,c=[];for(d in b)0!=d&&c.push(new ga(d,b[d]));return new ea(a,c)}function A(){r.call(this)}function C(){r.call(this)}function E(){r.call(this)}function G(){r.call(this)}function I(){}function J(){}function K(){}function M(){this.a={}}function Ca(a){var b=a.search(ua);b>=0?(a=a.substring(b),a=a.replace(wa,""),b=a.search(va),b>=0&&(a=a.substring(0,b))):a="";return a}function Da(a){return 2>a.length?!1:P(za,a)}function Ea(a){return P(xa,a)?Q(a,ra):Q(a,N)}function Fa(a){var b=Ea(a.toString());q(a);a.a(b)}function Q(a,b){for(var d,c=new p,f=a.length,e=0;f>e;++e)d=a.charAt(e),d=b[d.toUpperCase()],null!=d&&c.a(d);return c.toString()}function R(a){return null!=a&&isNaN(a)&&a.toUpperCase()in qa}function Ga(a,b,c){var d,f,e,g,h,l;if(0==w(b,2)&&null!=b.a[5]){d=x(b,5);if(0<d.length)return d}d=x(b,1),f=S(b);if(0==c)return Ha(d,0,f,"");if(!(d in L))return f;a=T(a,d,U(d));b=null!=b.a[3]&&0!=w(b,3).length?3==c?";ext="+w(b,3):null!=a.a[13]?w(a,13)+x(b,3):" ext. "+x(b,3):"";a:{a=0==(t(a,20)||[]).length||2==c?t(a,19)||[]:t(a,20)||[];for(g=a.length,h=0;g>h;++h){e=a[h];l=y(e,3);if((0==l||0==f.search(w(e,3,l-1)))&&(l=new RegExp(w(e,1)),P(l,f))){a=e;break a}}a=null}null!=a&&(g=a,a=x(g,2),e=new RegExp(w(g,1)),x(g,5),h="",g=x(g,4),h=2==c&&null!=g&&0<g.length?f.replace(e,a.replace(Aa,g)):f.replace(e,a),3==c&&(h=h.replace(RegExp("^[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～]+"),""),h=h.replace(RegExp("[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～]+","g"),"-")),f=h);return Ha(d,c,f,b)}function T(a,b,c){return"001"==c?V(a,""+b):V(a,c)}function S(a){var b=""+w(a,2);return null!=a.a[4]&&w(a,4)?Array(x(a,8)+1).join("0")+b:b}function Ha(a,b,c,d){switch(b){case 0:return"+"+a+c+d;case 1:return"+"+a+" "+c+d;case 3:return"tel:+"+a+"-"+c+d;default:return c+d}}function Ia(a,b){switch(b){case 4:return w(a,5);case 3:return w(a,4);case 1:return w(a,3);case 0:case 2:return w(a,2);case 5:return w(a,6);case 6:return w(a,8);case 7:return w(a,7);case 8:return w(a,21);case 9:return w(a,25);case 10:return w(a,28);default:return w(a,1)}}function W(a,b){return X(a,w(b,1))?X(a,w(b,5))?4:X(a,w(b,4))?3:X(a,w(b,6))?5:X(a,w(b,8))?6:X(a,w(b,7))?7:X(a,w(b,21))?8:X(a,w(b,25))?9:X(a,w(b,28))?10:X(a,w(b,2))?w(b,18)||X(a,w(b,3))?2:0:!w(b,18)&&X(a,w(b,3))?1:-1:-1}function V(a,b){if(null==b)return null;b=b.toUpperCase();var c=a.a[b];if(null==c){c=qa[b];if(null==c)return null;c=(new K).a(E.h(),c);a.a[b]=c}return c}function X(a,b){return P(x(b,3),a)&&P(x(b,2),a)}function Ja(a,b){var c,d,f,e,g,h;if(null==b)return null;c=x(b,1),c=L[c];if(null==c)c=null;else if(1==c.length)c=c[0];else a:{for(d=S(b),e=c.length,g=0;e>g;g++){f=c[g];h=V(a,f);if(null!=h.a[23]){if(0==d.search(w(h,23))){c=f;break a}}else if(-1!=W(d,h)){c=f;break a}}c=null}return c}function U(a){a=L[a];return null==a?"ZZ":a[0]}function Ka(a,b){var c=V(a,b);if(null==c)throw"Invalid region code: "+b;return x(c,10)}function La(a,b){return P(a,b)?0:0==b.search(a)?3:2}function Ma(a,b){var d,f,e,c=a.toString();if(0==c.length||"0"==c.charAt(0))return 0;for(f=c.length,e=1;3>=e&&f>=e;++e)if(d=parseInt(c.substring(0,e),10),d in L)return b.a(c.substring(e)),d;return 0}function Na(a,b,c,d,f){var e,g,h,l;if(0==a.length)return 0;a=new p(a);null!=b&&(e=w(b,11));null==e&&(e="NonMatch");g=a.toString();if(0==g.length)e=20;else if(O.test(g))g=g.replace(O,""),q(a),a.a(Ea(g)),e=1;else{g=new RegExp(e);Fa(a);e=a.toString();if(0==e.search(g)){g=e.match(g)[0].length,h=e.substring(g).match(ta);h&&null!=h[1]&&0<h[1].length&&"0"==Q(h[1],N)?e=!1:(q(a),a.a(e.substring(g)),e=!0)}else e=!1;e=e?5:20}d&&v(f,6,e);if(20!=e){if(2>=a.b.length)throw"Phone number too short after IDD";c=Ma(a,c);if(0!=c)return v(f,1,c),c;throw"Invalid country calling code"}if(null!=b&&(e=x(b,10),g=""+e,h=a.toString(),0==h.lastIndexOf(g,0))){l=new p(h.substring(g.length)),h=w(b,1),g=new RegExp(x(h,2));Oa(l,b,null);b=l.toString();h=x(h,3);if(!P(g,a.toString())&&P(g,b)||3==La(h,a.toString()))return c.a(b),d&&v(f,6,10),v(f,1,e),e}v(f,1,0);return 0}function Oa(a,b,c){var g,h,l,d=a.toString(),f=d.length,e=w(b,15);if(0!=f&&null!=e&&0!=e.length&&(e=new RegExp("^(?:"+e+")"),f=e.exec(d))){g=RegExp;h=w(b,1);h=x(h,2);g=new g(h);h=P(g,d);l=f.length-1;b=w(b,16);null==b||0==b.length||null==f[l]||0==f[l].length?(!h||P(g,d.substring(f[0].length)))&&(null!=c&&l>0&&null!=f[l]&&c.a(f[1]),a.b=""+d.substring(f[0].length)):(d=d.replace(e,b),!h||P(g,d))&&(null!=c&&l>0&&c.a(f[1]),a.b=""+d)}}function Y(a,b,c){if(!R(c)&&0<b.length&&"+"!=b.charAt(0))throw"Invalid country calling code";return Pa(a,b,c,!0)}function Pa(a,b,c,d){var f,e,g,h,l,n;if(null==b)throw"The string supplied did not seem to be a phone number";if(250<b.length)throw"The string supplied is too long to be a phone number";f=new p,e=b.indexOf(";phone-context=");if(e>0){g=e+15;if("+"==b.charAt(g)){h=b.indexOf(";",g);h>0?f.a(b.substring(g,h)):f.a(b.substring(g))}g=b.indexOf("tel:");f.a(b.substring(g>=0?g+4:0,e))}else f.a(Ca(b));e=f.toString();g=e.indexOf(";isub=");g>0&&(q(f),f.a(e.substring(0,g)));if(!Da(f.toString()))throw"The string supplied did not seem to be a phone number";e=f.toString();if(!(R(c)||null!=e&&0<e.length&&O.test(e)))throw"Invalid country calling code";e=new G;d&&v(e,5,b);a:{b=f.toString();g=b.search(ya);if(g>=0&&Da(b.substring(0,g)))for(h=b.match(ya),l=h.length,n=1;l>n;++n)if(null!=h[n]&&0<h[n].length){q(f);f.a(b.substring(0,g));b=h[n];break a}b=""}0<b.length&&v(e,3,b);g=V(a,c);b=new p;h=0;l=f.toString();try{h=Na(l,g,b,d,e)}catch(u){if("Invalid country calling code"!=u||!O.test(l))throw u;if(l=l.replace(O,""),h=Na(l,g,b,d,e),0==h)throw u}0!=h?(f=U(h),f!=c&&(g=T(a,h,f))):(Fa(f),b.a(f.toString()),null!=c?(h=x(g,10),v(e,1,h)):d&&(delete e.a[6],e.b&&delete e.b[6]));if(2>b.b.length)throw"The string supplied is too short to be a phone number";null!=g&&(a=new p,c=new p(b.toString()),Oa(c,g,a),f=c.toString(),g=w(g,1),g=x(g,3),2!=La(g,f)&&(b=c,d&&v(e,7,a.toString())));d=b.toString();a=d.length;if(2>a)throw"The string supplied is too short to be a phone number";if(a>17)throw"The string supplied is too long to be a phone number";if(1<d.length&&"0"==d.charAt(0)){v(e,4,!0);for(a=1;a<d.length-1&&"0"==d.charAt(a);)a++;1!=a&&v(e,8,a)}v(e,2,parseInt(d,10));return e}function P(a,b){var c="string"==typeof a?b.match("^(?:"+a+")$"):b.match(a);return c&&c[0].length==b.length?!0:!1}function Qa(a){this.ca=RegExp(" ");this.ea="";this.m=new p;this.v="";this.i=new p;this.u=new p;this.j=!0;this.w=this.o=this.ga=!1;this.da=M.a();this.s=0;this.b=new p;this.$=!1;this.l="";this.a=new p;this.f=[];this.fa=a;this.g=Ra(this,this.fa)}function Ra(a,b){var c=R(b)?Ka(a.da,b):0,c=V(a.da,U(c));return null!=c?c:Sa}function Xa(a){var b,c,d,f,e,g,h,l,n;for(b=a.f.length,c=0;b>c;++c){d=a.f[c],f=x(d,1);if(a.v==f)return!1;e=a;g=d,h=x(g,1);if(-1!=h.indexOf("|"))e=!1;else{h=h.replace(Ta,"\\d");h=h.replace(Ua,"\\d");q(e.m);l=e;g=x(g,2),n="999999999999999".match(h)[0];n.length<l.a.b.length?l="":(l=n.replace(new RegExp(h,"g"),g),l=l.replace(RegExp("9","g")," "));0<l.length?(e.m.a(l),e=!0):e=!1}if(e)return a.v=f,a.$=Wa.test(w(d,4)),a.s=0,!0}return a.j=!1}function Ya(a,b){var c,d,f,e,g,h;for(c=[],d=b.length-3,f=a.f.length,e=0;f>e;++e){g=a.f[e];if(0==y(g,3))c.push(a.f[e]);else{h=Math.min(d,y(g,3)-1),g=w(g,3,h);0==b.search(g)&&c.push(a.f[e])}}a.f=c}function Za(a,b){a.ea=$a(a,b);return a.ea}function $a(a,b){var c,d;a.i.a(b);c=b;if(ta.test(c)||1==a.i.b.length&&sa.test(c)){c=b;"+"==c?(d=c,a.u.a(c)):(d=N[c],a.u.a(d),a.a.a(d));b=d}else a.j=!1,a.ga=!0;if(!a.j){if(!a.ga)if(ab(a)){if(bb(a))return cb(a)}else if(0<a.l.length&&(c=a.a.toString(),q(a.a),a.a.a(a.l),a.a.a(c),c=a.b.toString(),d=c.lastIndexOf(a.l),q(a.b),a.b.a(c.substring(0,d))),a.l!=db(a))return a.b.a(" "),cb(a);return a.i.toString()}switch(a.u.b.length){case 0:case 1:case 2:return a.i.toString();case 3:if(!ab(a))return a.l=db(a),eb(a);a.w=!0;default:if(a.w)return bb(a)&&(a.w=!1),a.b.toString()+a.a.toString();if(0<a.f.length){c=fb(a,b);d=gb(a);if(0<d.length)return d;Ya(a,a.a.toString());return Xa(a)?hb(a):a.j?Z(a,c):a.i.toString()}return eb(a)}}function cb(a){a.j=!0;a.w=!1;a.f=[];a.s=0;q(a.m);a.v="";return eb(a)}function gb(a){var b,c,d,f,e;for(b=a.a.toString(),c=a.f.length,d=0;c>d;++d){f=a.f[d],e=x(f,1);if(new RegExp("^(?:"+e+")$").test(b))return a.$=Wa.test(w(f,4)),b=b.replace(new RegExp(e,"g"),w(f,2)),Z(a,b)}return""}function Z(a,b){var c=a.b.b.length;return a.$&&c>0&&" "!=a.b.toString().charAt(c-1)?a.b+" "+b:a.b+b}function eb(a){var c,d,f,e,g,b=a.a.toString();if(3<=b.length){for(c=a.o&&0<y(a.g,20)?t(a.g,20)||[]:t(a.g,19)||[],d=c.length,f=0;d>f;++f){e=c[f];(g=null==a.g.a[12]||a.o||w(e,6))||(g=x(e,4),g=0==g.length||Ba.test(g));g&&(g=x(e,2),Va.test(g)&&a.f.push(e))}Ya(a,b);b=gb(a);return 0<b.length?b:Xa(a)?hb(a):a.i.toString();
}return Z(a,b)}function hb(a){var d,f,b=a.a.toString(),c=b.length;if(c>0){for(d="",f=0;c>f;f++)d=fb(a,b.charAt(f));return a.j?Z(a,d):a.i.toString()}return a.b.toString()}function db(a){var d,b=a.a.toString(),c=0;1!=w(a.g,10)?d=!1:(d=a.a.toString(),d="1"==d.charAt(0)&&"0"!=d.charAt(1)&&"1"!=d.charAt(1));d?(c=1,a.b.a("1").a(" "),a.o=!0):null!=a.g.a[15]&&(d=new RegExp("^(?:"+w(a.g,15)+")"),d=b.match(d),null!=d&&null!=d[0]&&0<d[0].length&&(a.o=!0,c=d[0].length,a.b.a(b.substring(0,c))));q(a.a);a.a.a(b.substring(c));return b.substring(0,c)}function ab(a){var b=a.u.toString(),c=new RegExp("^(?:\\+|"+w(a.g,11)+")"),c=b.match(c);return null!=c&&null!=c[0]&&0<c[0].length?(a.o=!0,c=c[0].length,q(a.a),a.a.a(b.substring(c)),q(a.b),a.b.a(b.substring(0,c)),"+"!=b.charAt(0)&&a.b.a(" "),!0):!1}function bb(a){if(0==a.a.b.length)return!1;var b=new p,c=Ma(a.a,b);if(0==c)return!1;q(a.a);a.a.a(b.toString());b=U(c);"001"==b?a.g=V(a.da,""+c):b!=a.fa&&(a.g=Ra(a,b));a.b.a(""+c).a(" ");a.l="";return!0}function fb(a,b){var d,c=a.m.toString();if(0<=c.substring(a.s).search(a.ca)){d=c.search(a.ca),c=c.replace(a.ca,b);q(a.m);a.m.a(c);a.s=d;return c.substring(0,a.s+1)}1==a.f.length&&(a.j=!1);a.v="";return a.i.toString()}var na,ma,ha,ia,ja,ka,la,B,D,F,H,pa,L,qa,N,ra,sa,O,ta,ua,va,wa,xa,ya,za,Aa,Ba,Sa,Ta,Ua,Va,Wa,aa=this;p.prototype.b="";p.prototype.a=function(a,b,c){this.b+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.b+=arguments[d];return this};p.prototype.toString=function(){return this.b};na=1,ma=2,ha=3,ia=4,ja=6,ka=16,la=18;r.prototype.clone=function(){var a=new this.constructor;a!=this&&(a.a={},a.b&&(a.b={}),oa(a,this));return a};m(A,r);m(C,r);m(E,r);A.prototype.h=function(){B||(B=z(A,{"0":{"name":"NumberFormat","aa":"i18n.phonenumbers.NumberFormat"},"1":{"name":"pattern","required":!0,"c":9,"type":String},"2":{"name":"format","required":!0,"c":9,"type":String},"3":{"name":"leading_digits_pattern","ba":!0,"c":9,"type":String},"4":{"name":"national_prefix_formatting_rule","c":9,"type":String},"6":{"name":"national_prefix_optional_when_formatting","c":8,"type":Boolean},"5":{"name":"domestic_carrier_code_formatting_rule","c":9,"type":String}}));return B};A.ctor=A;A.ctor.h=A.prototype.h;C.prototype.h=function(){D||(D=z(C,{"0":{"name":"PhoneNumberDesc","aa":"i18n.phonenumbers.PhoneNumberDesc"},"2":{"name":"national_number_pattern","c":9,"type":String},"3":{"name":"possible_number_pattern","c":9,"type":String},"6":{"name":"example_number","c":9,"type":String},"7":{"name":"national_number_matcher_data","c":12,"type":String},"8":{"name":"possible_number_matcher_data","c":12,"type":String}}));return D};C.ctor=C;C.ctor.h=C.prototype.h;E.prototype.h=function(){F||(F=z(E,{"0":{"name":"PhoneMetadata","aa":"i18n.phonenumbers.PhoneMetadata"},"1":{"name":"general_desc","c":11,"type":C},"2":{"name":"fixed_line","c":11,"type":C},"3":{"name":"mobile","c":11,"type":C},"4":{"name":"toll_free","c":11,"type":C},"5":{"name":"premium_rate","c":11,"type":C},"6":{"name":"shared_cost","c":11,"type":C},"7":{"name":"personal_number","c":11,"type":C},"8":{"name":"voip","c":11,"type":C},"21":{"name":"pager","c":11,"type":C},"25":{"name":"uan","c":11,"type":C},"27":{"name":"emergency","c":11,"type":C},"28":{"name":"voicemail","c":11,"type":C},"24":{"name":"no_international_dialling","c":11,"type":C},"9":{"name":"id","required":!0,"c":9,"type":String},"10":{"name":"country_code","c":5,"type":Number},"11":{"name":"international_prefix","c":9,"type":String},"17":{"name":"preferred_international_prefix","c":9,"type":String},"12":{"name":"national_prefix","c":9,"type":String},"13":{"name":"preferred_extn_prefix","c":9,"type":String},"15":{"name":"national_prefix_for_parsing","c":9,"type":String},"16":{"name":"national_prefix_transform_rule","c":9,"type":String},"18":{"name":"same_mobile_and_fixed_line_pattern","c":8,"defaultValue":!1,"type":Boolean},"19":{"name":"number_format","ba":!0,"c":11,"type":A},"20":{"name":"intl_number_format","ba":!0,"c":11,"type":A},"22":{"name":"main_country_for_code","c":8,"defaultValue":!1,"type":Boolean},"23":{"name":"leading_digits","c":9,"type":String},"26":{"name":"leading_zero_possible","c":8,"defaultValue":!1,"type":Boolean}}));return F};E.ctor=E;E.ctor.h=E.prototype.h;m(G,r);pa={"la":1,"ka":5,"ja":10,"ia":20};G.prototype.h=function(){H||(H=z(G,{"0":{"name":"PhoneNumber","aa":"i18n.phonenumbers.PhoneNumber"},"1":{"name":"country_code","required":!0,"c":5,"type":Number},"2":{"name":"national_number","required":!0,"c":4,"type":Number},"3":{"name":"extension","c":9,"type":String},"4":{"name":"italian_leading_zero","c":8,"type":Boolean},"8":{"name":"number_of_leading_zeros","c":5,"defaultValue":1,"type":Number},"5":{"name":"raw_input","c":9,"type":String},"6":{"name":"country_code_source","c":14,"defaultValue":1,"type":pa},"7":{"name":"preferred_domestic_carrier_code","c":9,"type":String}}));return H};G.ctor=G;G.ctor.h=G.prototype.h;I.prototype.a=function(a){new a.b;throw Error("Unimplemented")};I.prototype.b=function(a,b){if(11==a.a||10==a.a)return b instanceof r?b:this.a(a.j.prototype.h(),b);if(14==a.a||!a.i)return b;var c=a.j;if(c===String){if("number"==typeof b)return String(b)}else if(c===Number&&"string"==typeof b&&("Infinity"===b||"-Infinity"===b||"NaN"===b||/^-?[0-9]+$/.test(b)))return Number(b);return b};m(J,I);J.prototype.a=function(a,b){var c=new a.b;c.g=this;c.a=b;c.b={};return c};m(K,J);K.prototype.b=function(a,b){return 8==a.a?!!b:I.prototype.b.apply(this,arguments)};K.prototype.a=function(a,b){return K.ha.a.call(this,a,b)};L={"1":"US AG AI AS BB BM BS CA DM DO GD GU JM KN KY LC MP MS PR SX TC TT VC VG VI".split(" "),"7":["RU","KZ"],"20":["EG"],"27":["ZA"],"30":["GR"],"31":["NL"],"32":["BE"],"33":["FR"],"34":["ES"],"36":["HU"],"39":["IT","VA"],"40":["RO"],"41":["CH"],"43":["AT"],"44":["GB","GG","IM","JE"],"45":["DK"],"46":["SE"],"47":["NO","SJ"],"48":["PL"],"49":["DE"],"51":["PE"],"52":["MX"],"53":["CU"],"54":["AR"],"55":["BR"],"56":["CL"],"57":["CO"],"58":["VE"],"60":["MY"],"61":["AU","CC","CX"],"62":["ID"],"63":["PH"],"64":["NZ"],"65":["SG"],"66":["TH"],"81":["JP"],"82":["KR"],"84":["VN"],"86":["CN"],"90":["TR"],"91":["IN"],"92":["PK"],"93":["AF"],"94":["LK"],"95":["MM"],"98":["IR"],"211":["SS"],"212":["MA","EH"],"213":["DZ"],"216":["TN"],"218":["LY"],"220":["GM"],"221":["SN"],"222":["MR"],"223":["ML"],"224":["GN"],"225":["CI"],"226":["BF"],"227":["NE"],"228":["TG"],"229":["BJ"],"230":["MU"],"231":["LR"],"232":["SL"],"233":["GH"],"234":["NG"],"235":["TD"],"236":["CF"],"237":["CM"],"238":["CV"],"239":["ST"],"240":["GQ"],"241":["GA"],"242":["CG"],"243":["CD"],"244":["AO"],"245":["GW"],"246":["IO"],"247":["AC"],"248":["SC"],"249":["SD"],"250":["RW"],"251":["ET"],"252":["SO"],"253":["DJ"],"254":["KE"],"255":["TZ"],"256":["UG"],"257":["BI"],"258":["MZ"],"260":["ZM"],"261":["MG"],"262":["RE","YT"],"263":["ZW"],"264":["NA"],"265":["MW"],"266":["LS"],"267":["BW"],"268":["SZ"],"269":["KM"],"290":["SH","TA"],"291":["ER"],"297":["AW"],"298":["FO"],"299":["GL"],"350":["GI"],"351":["PT"],"352":["LU"],"353":["IE"],"354":["IS"],"355":["AL"],"356":["MT"],"357":["CY"],"358":["FI","AX"],"359":["BG"],"370":["LT"],"371":["LV"],"372":["EE"],"373":["MD"],"374":["AM"],"375":["BY"],"376":["AD"],"377":["MC"],"378":["SM"],"380":["UA"],"381":["RS"],"382":["ME"],"385":["HR"],"386":["SI"],"387":["BA"],"389":["MK"],"420":["CZ"],"421":["SK"],"423":["LI"],"500":["FK"],"501":["BZ"],"502":["GT"],"503":["SV"],"504":["HN"],"505":["NI"],"506":["CR"],"507":["PA"],"508":["PM"],"509":["HT"],"590":["GP","BL","MF"],"591":["BO"],"592":["GY"],"593":["EC"],"594":["GF"],"595":["PY"],"596":["MQ"],"597":["SR"],"598":["UY"],"599":["CW","BQ"],"670":["TL"],"672":["NF"],"673":["BN"],"674":["NR"],"675":["PG"],"676":["TO"],"677":["SB"],"678":["VU"],"679":["FJ"],"680":["PW"],"681":["WF"],"682":["CK"],"683":["NU"],"685":["WS"],"686":["KI"],"687":["NC"],"688":["TV"],"689":["PF"],"690":["TK"],"691":["FM"],"692":["MH"],"800":["001"],"808":["001"],"850":["KP"],"852":["HK"],"853":["MO"],"855":["KH"],"856":["LA"],"870":["001"],"878":["001"],"880":["BD"],"881":["001"],"882":["001"],"883":["001"],"886":["TW"],"888":["001"],"960":["MV"],"961":["LB"],"962":["JO"],"963":["SY"],"964":["IQ"],"965":["KW"],"966":["SA"],"967":["YE"],"968":["OM"],"970":["PS"],"971":["AE"],"972":["IL"],"973":["BH"],"974":["QA"],"975":["BT"],"976":["MN"],"977":["NP"],"979":["001"],"992":["TJ"],"993":["TM"],"994":["AZ"],"995":["GE"],"996":["KG"],"998":["UZ"]},qa={"AC":[,[,,"[46]\\d{4}|[01589]\\d{5}","\\d{5,6}"],[,,"6[2-467]\\d{3}","\\d{5}",,,"62889"],[,,"4\\d{4}","\\d{5}",,,"40123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AC",247,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"[01589]\\d{5}","\\d{6}",,,"542011"],,,[,,"NA","NA"]],"AD":[,[,,"(?:[346-9]|180)\\d{5}","\\d{6,8}"],[,,"[78]\\d{5}","\\d{6}",,,"712345"],[,,"[346]\\d{5}","\\d{6}",,,"312345"],[,,"180[02]\\d{4}","\\d{8}",,,"18001234"],[,,"9\\d{5}","\\d{6}",,,"912345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AD",376,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1 $2",["[346-9]"],"","",0],[,"(180[02])(\\d{4})","$1 $2",["1"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"AE":[,[,,"[2-79]\\d{7,8}|800\\d{2,9}","\\d{5,12}"],[,,"[2-4679][2-8]\\d{6}","\\d{7,8}",,,"22345678"],[,,"5[0256]\\d{7}","\\d{9}",,,"501234567"],[,,"400\\d{6}|800\\d{2,9}","\\d{5,12}",,,"800123456"],[,,"900[02]\\d{5}","\\d{9}",,,"900234567"],[,,"700[05]\\d{5}","\\d{9}",,,"700012345"],[,,"NA","NA"],[,,"NA","NA"],"AE",971,"00","0",,,"0",,,,[[,"([2-4679])(\\d{3})(\\d{4})","$1 $2 $3",["[2-4679][2-8]"],"0$1","",0],[,"(5[0256])(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1","",0],[,"([479]00)(\\d)(\\d{5})","$1 $2 $3",["[479]0"],"$1","",0],[,"([68]00)(\\d{2,9})","$1 $2",["60|8"],"$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"600[25]\\d{5}","\\d{9}",,,"600212345"],,,[,,"NA","NA"]],"AF":[,[,,"[2-7]\\d{8}","\\d{7,9}"],[,,"(?:[25][0-8]|[34][0-4]|6[0-5])[2-9]\\d{6}","\\d{7,9}",,,"234567890"],[,,"7(?:[014-9]\\d{7}|2[89]\\d{6})","\\d{9}",,,"701234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AF",93,"00","0",,,"0",,,,[[,"([2-7]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"AG":[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"268(?:4(?:6[0-38]|84)|56[0-2])\\d{4}","\\d{7}(?:\\d{3})?",,,"2684601234"],[,,"268(?:464|7(?:2[0-9]|64|7[0-689]|8[02-68]))\\d{4}","\\d{10}",,,"2684641234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"26848[01]\\d{4}","\\d{10}",,,"2684801234"],"AG",1,"011","1",,,"1",,,,,,[,,"26840[69]\\d{4}","\\d{10}",,,"2684061234"],,"268",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"AI":[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"2644(?:6[12]|9[78])\\d{4}","\\d{7}(?:\\d{3})?",,,"2644612345"],[,,"264(?:235|476|5(?:3[6-9]|8[1-4])|7(?:29|72))\\d{4}","\\d{10}",,,"2642351234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"AI",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"264",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"AL":[,[,,"[2-57]\\d{7}|6\\d{8}|8\\d{5,7}|9\\d{5}","\\d{5,9}"],[,,"(?:2(?:[168][1-9]|[247]\\d|9[1-7])|3(?:1[1-3]|[2-6]\\d|[79][1-8]|8[1-9])|4\\d{2}|5(?:1[1-4]|[2-578]\\d|6[1-5]|9[1-7])|8(?:[19][1-5]|[2-6]\\d|[78][1-7]))\\d{5}","\\d{5,8}",,,"22345678"],[,,"6[6-9]\\d{7}","\\d{9}",,,"661234567"],[,,"800\\d{4}","\\d{7}",,,"8001234"],[,,"900\\d{3}","\\d{6}",,,"900123"],[,,"808\\d{3}","\\d{6}",,,"808123"],[,,"700\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"AL",355,"00","0",,,"0",,,,[[,"(4)(\\d{3})(\\d{4})","$1 $2 $3",["4[0-6]"],"0$1","",0],[,"(6[6-9])(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4[7-9]"],"0$1","",0],[,"(\\d{3})(\\d{3,5})","$1 $2",["[235][16-9]|8[016-9]|[79]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"AM":[,[,,"[1-9]\\d{7}","\\d{5,8}"],[,,"(?:1[01]\\d|2(?:2[2-46]|3[1-8]|4[2-69]|5[2-7]|6[1-9]|8[1-7])|3[12]2|47\\d)\\d{5}","\\d{5,8}",,,"10123456"],[,,"(?:4[139]|55|77|9[1-9])\\d{6}","\\d{8}",,,"77123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90[016]\\d{5}","\\d{8}",,,"90012345"],[,,"80[1-4]\\d{5}","\\d{8}",,,"80112345"],[,,"NA","NA"],[,,"60[2-6]\\d{5}","\\d{8}",,,"60271234"],"AM",374,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)","",0],[,"(\\d{2})(\\d{6})","$1 $2",["4[139]|[5-7]|9[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{5})","$1 $2",["[23]"],"(0$1)","",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8|90"],"0 $1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"AO":[,[,,"[29]\\d{8}","\\d{9}"],[,,"2\\d(?:[26-9]\\d|\\d[26-9])\\d{5}","\\d{9}",,,"222123456"],[,,"9[1-49]\\d{7}","\\d{9}",,,"923123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AO",244,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"AR":[,[,,"11\\d{8}|[2368]\\d{9}|9\\d{10}","\\d{6,11}"],[,,"11\\d{8}|(?:2(?:2(?:[013]\\d|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[067]\\d)|4(?:7[3-8]|9\\d)|6(?:[01346]\\d|2[24-6]|5[15-8])|80\\d|9(?:[0124789]\\d|3[1-6]|5[234]|6[2-46]))|3(?:3(?:2[79]|6\\d|8[2578])|4(?:[78]\\d|0[0124-9]|[1-35]\\d|4[24-7]|6[02-9]|9[123678])|5(?:[138]\\d|2[1245]|4[1-9]|6[2-4]|7[1-6])|6[24]\\d|7(?:[0469]\\d|1[1568]|2[013-9]|3[145]|5[14-8]|7[2-57]|8[0-24-9])|8(?:[013578]\\d|2[15-7]|4[13-6]|6[1-357-9]|9[124]))|670\\d)\\d{6}","\\d{6,10}",,,"1123456789"],[,,"675\\d{7}|9(?:11[2-9]\\d{7}|(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[12358]|5[138]|6[24]|7[069]|8[013578]))[2-9]\\d{6}|\\d{4}[2-9]\\d{5})","\\d{6,11}",,,"91123456789"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"60[04579]\\d{7}","\\d{10}",,,"6001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AR",54,"00","0",,,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))?15)?","9$1",,,[[,"([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1","",0],[,"(\\d{2})(\\d{4})","$1-$2",["[2-9]"],"$1","",0],[,"(\\d{3})(\\d{4})","$1-$2",["[2-9]"],"$1","",0],[,"(\\d{4})(\\d{4})","$1-$2",["[2-9]"],"$1","",0],[,"(9)(11)(\\d{4})(\\d{4})","$2 15-$3-$4",["911"],"0$1","",0],[,"(9)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9(?:2[234689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"],"0$1","",0],[,"(9)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9[23]"],"0$1","",0],[,"(11)(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"],"0$1","",1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],"0$1","",1],[,"(\\d{3})","$1",["1[012]|911"],"$1","",0]],[[,"([68]\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1","",0],[,"(9)(11)(\\d{4})(\\d{4})","$1 $2 $3-$4",["911"]],[,"(9)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3-$4",["9(?:2[234689]|3[3-8])","9(?:2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578]))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))","9(?:2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45])))"]],[,"(9)(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3-$4",["9[23]"]],[,"(11)(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["2(?:2[013]|3[067]|49|6[01346]|80|9[147-9])|3(?:36|4[1-358]|5[138]|6[24]|7[069]|8[013578])","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3[456]|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))","2(?:2(?:0[013-9]|[13])|3(?:0[013-9]|[67])|49|6(?:[0136]|4[0-59])|8|9(?:[19]|44|7[013-9]|8[14]))|3(?:36|4(?:[12]|3(?:4|5[014]|6[1239])|[58]4)|5(?:1|3[0-24-689]|8[46])|6|7[069]|8(?:[01]|34|[578][45]))"],"0$1","",1],[,"(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["[23]"],"0$1","",1]],[,,"NA","NA"],,,[,,"810\\d{7}","\\d{10}",,,"8101234567"],[,,"810\\d{7}","\\d{10}",,,"8101234567"],,,[,,"NA","NA"]],"AS":[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"6846(?:22|33|44|55|77|88|9[19])\\d{4}","\\d{7}(?:\\d{3})?",,,"6846221234"],[,,"684(?:2(?:5[2468]|72)|7(?:3[13]|70))\\d{4}","\\d{10}",,,"6847331234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"AS",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"684",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"AT":[,[,,"[1-9]\\d{3,12}","\\d{3,13}"],[,,"1\\d{3,12}|(?:2(?:1[467]|2[13-8]|5[2357]|6[1-46-8]|7[1-8]|8[124-7]|9[1458])|3(?:1[1-8]|3[23568]|4[5-7]|5[1378]|6[1-38]|8[3-68])|4(?:2[1-8]|35|63|7[1368]|8[2457])|5(?:12|2[1-8]|3[357]|4[147]|5[12578]|6[37])|6(?:13|2[1-47]|4[1-35-8]|5[468]|62)|7(?:2[1-8]|3[25]|4[13478]|5[68]|6[16-8]|7[1-6]|9[45]))\\d{3,10}","\\d{3,13}",,,"1234567890"],[,,"6(?:44|5[0-3579]|6[013-9]|[7-9]\\d)\\d{4,10}","\\d{7,13}",,,"644123456"],[,,"80[02]\\d{6,10}","\\d{9,13}",,,"800123456"],[,,"(?:711|9(?:0[01]|3[019]))\\d{6,10}","\\d{9,13}",,,"900123456"],[,,"8(?:10|2[018])\\d{6,10}","\\d{9,13}",,,"810123456"],[,,"NA","NA"],[,,"780\\d{6,10}","\\d{9,13}",,,"780123456"],"AT",43,"00","0",,,"0",,,,[[,"(1)(\\d{3,12})","$1 $2",["1"],"0$1","",0],[,"(5\\d)(\\d{3,5})","$1 $2",["5[079]"],"0$1","",0],[,"(5\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["5[079]"],"0$1","",0],[,"(5\\d)(\\d{4})(\\d{4,7})","$1 $2 $3",["5[079]"],"0$1","",0],[,"(\\d{3})(\\d{3,10})","$1 $2",["316|46|51|732|6(?:44|5[0-3579]|[6-9])|7(?:1|[28]0)|[89]"],"0$1","",0],[,"(\\d{4})(\\d{3,9})","$1 $2",["2|3(?:1[1-578]|[3-8])|4[2378]|5[2-6]|6(?:[12]|4[1-35-9]|5[468])|7(?:2[1-8]|35|4[1-8]|[5-79])"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"5(?:(?:0[1-9]|17)\\d{2,10}|[79]\\d{3,11})|720\\d{6,10}","\\d{5,13}",,,"50123"],,,[,,"NA","NA"]],"AU":[,[,,"[1-578]\\d{5,9}","\\d{6,10}"],[,,"[237]\\d{8}|8(?:[68]\\d{3}|7[0-69]\\d{2}|9(?:[02-9]\\d{2}|1(?:[0-57-9]\\d|6[0135-9])))\\d{4}","\\d{8,9}",,,"212345678"],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-2]\\d|3[0-57-9]|4[47-9]|5[0-25-9]|6[6-9]|7[03-9]|8[17-9]|9[017-9])\\d{6}","\\d{9}",,,"412345678"],[,,"180(?:0\\d{3}|2)\\d{3}","\\d{7,10}",,,"1800123456"],[,,"190[0126]\\d{6}","\\d{10}",,,"1900123456"],[,,"13(?:00\\d{2})?\\d{4}","\\d{6,10}",,,"1300123456"],[,,"500\\d{6}","\\d{9}",,,"500123456"],[,,"550\\d{6}","\\d{9}",,,"550123456"],"AU",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,[[,"([2378])(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[45]|14"],"0$1","",0],[,"(16)(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1","",0],[,"(1[389]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[38]0|90)","1(?:[38]00|90)"],"$1","",0],[,"(180)(2\\d{3})","$1 $2",["180","1802"],"$1","",0],[,"(19\\d)(\\d{3})","$1 $2",["19[13]"],"$1","",0],[,"(19\\d{2})(\\d{4})","$1 $2",["19[67]"],"$1","",0],[,"(13)(\\d{2})(\\d{2})","$1 $2 $3",["13[1-9]"],"$1","",0]],,[,,"16\\d{3,7}","\\d{5,9}",,,"1612345"],1,,[,,"1(?:3(?:\\d{4}|00\\d{6})|80(?:0\\d{6}|2\\d{3}))","\\d{6,10}",,,"1300123456"],[,,"NA","NA"],,,[,,"NA","NA"]],"AW":[,[,,"[25-9]\\d{6}","\\d{7}"],[,,"5(?:2\\d|8[1-9])\\d{4}","\\d{7}",,,"5212345"],[,,"(?:5(?:6\\d|9[2-478])|6(?:[039]0|22|4[01]|6[0-2])|7[34]\\d|9(?:6[45]|9[4-8]))\\d{4}","\\d{7}",,,"5601234"],[,,"800\\d{4}","\\d{7}",,,"8001234"],[,,"900\\d{4}","\\d{7}",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"28\\d{5}|501\\d{4}","\\d{7}",,,"5011234"],"AW",297,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"AX":[,[,,"[135]\\d{5,9}|[27]\\d{4,9}|4\\d{5,10}|6\\d{7,8}|8\\d{6,9}","\\d{5,12}"],[,,"18[1-8]\\d{3,9}","\\d{6,12}",,,"1812345678"],[,,"4\\d{5,10}|50\\d{4,8}","\\d{6,11}",,,"412345678"],[,,"800\\d{4,7}","\\d{7,10}",,,"8001234567"],[,,"[67]00\\d{5,6}","\\d{8,9}",,,"600123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AX",358,"00|99[049]","0",,,"0",,,,,,[,,"NA","NA"],,,[,,"[13]00\\d{3,7}|2(?:0(?:0\\d{3,7}|2[023]\\d{1,6}|9[89]\\d{1,6}))|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"100123"],[,,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"10112345"],,,[,,"NA","NA"]],"AZ":[,[,,"[1-9]\\d{8}","\\d{7,9}"],[,,"(?:1[28]\\d|2(?:02|1[24]|2[2-4]|33|[45]2|6[23])|365)\\d{6}","\\d{7,9}",,,"123123456"],[,,"(?:4[04]|5[015]|60|7[07])\\d{7}","\\d{9}",,,"401234567"],[,,"88\\d{7}","\\d{9}",,,"881234567"],[,,"900200\\d{3}","\\d{9}",,,"900200123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"AZ",994,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["(?:1[28]|2(?:[45]2|[0-36])|365)"],"(0$1)","",0],[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[4-8]"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BA":[,[,,"[3-9]\\d{7,8}","\\d{6,9}"],[,,"(?:[35]\\d|49)\\d{6}","\\d{6,8}",,,"30123456"],[,,"6(?:03|44|71|[1-356])\\d{6}","\\d{8,9}",,,"61123456"],[,,"8[08]\\d{6}","\\d{8}",,,"80123456"],[,,"9[0246]\\d{6}","\\d{8}",,,"90123456"],[,,"8[12]\\d{6}","\\d{8}",,,"82123456"],[,,"NA","NA"],[,,"NA","NA"],"BA",387,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-356]|[7-9]"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6[047]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"70[23]\\d{5}","\\d{8}",,,"70223456"],,,[,,"NA","NA"]],"BB":[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"246[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2462345678"],[,,"246(?:(?:2[346]|45|82)\\d|25[0-46])\\d{4}","\\d{10}",,,"2462501234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"BB",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"246",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BD":[,[,,"[2-79]\\d{5,9}|1\\d{9}|8[0-7]\\d{4,8}","\\d{6,10}"],[,,"2(?:7(?:1[0-267]|2[0-289]|3[0-29]|[46][01]|5[1-3]|7[017]|91)|8(?:0[125]|[139][1-6]|2[0157-9]|6[1-35]|7[1-5]|8[1-8])|9(?:0[0-2]|1[0-4]|2[568]|3[3-6]|5[5-7]|6[0167]|7[15]|8[0146-8]))\\d{4}|3(?:12?[5-7]\\d{2}|0(?:2(?:[025-79]\\d|[348]\\d{1,2})|3(?:[2-4]\\d|[56]\\d?))|2(?:1\\d{2}|2(?:[12]\\d|[35]\\d{1,2}|4\\d?))|3(?:1\\d{2}|2(?:[2356]\\d|4\\d{1,2}))|4(?:1\\d{2}|2(?:2\\d{1,2}|[47]|5\\d{2}))|5(?:1\\d{2}|29)|[67]1\\d{2}|8(?:1\\d{2}|2(?:2\\d{2}|3|4\\d)))\\d{3}|4(?:0(?:2(?:[09]\\d|7)|33\\d{2})|1\\d{3}|2(?:1\\d{2}|2(?:[25]\\d?|[348]\\d|[67]\\d{1,2}))|3(?:1\\d{2}(?:\\d{2})?|2(?:[045]\\d|[236-9]\\d{1,2})|32\\d{2})|4(?:[18]\\d{2}|2(?:[2-46]\\d{2}|3)|5[25]\\d{2})|5(?:1\\d{2}|2(?:3\\d|5))|6(?:[18]\\d{2}|2(?:3(?:\\d{2})?|[46]\\d{1,2}|5\\d{2}|7\\d)|5(?:3\\d?|4\\d|[57]\\d{1,2}|6\\d{2}|8))|71\\d{2}|8(?:[18]\\d{2}|23\\d{2}|54\\d{2})|9(?:[18]\\d{2}|2[2-5]\\d{2}|53\\d{1,2}))\\d{3}|5(?:02[03489]\\d{2}|1\\d{2}|2(?:1\\d{2}|2(?:2(?:\\d{2})?|[457]\\d{2}))|3(?:1\\d{2}|2(?:[37](?:\\d{2})?|[569]\\d{2}))|4(?:1\\d{2}|2[46]\\d{2})|5(?:1\\d{2}|26\\d{1,2})|6(?:[18]\\d{2}|2|53\\d{2})|7(?:1|24)\\d{2}|8(?:1|26)\\d{2}|91\\d{2})\\d{3}|6(?:0(?:1\\d{2}|2(?:3\\d{2}|4\\d{1,2}))|2(?:2[2-5]\\d{2}|5(?:[3-5]\\d{2}|7)|8\\d{2})|3(?:1|2[3478])\\d{2}|4(?:1|2[34])\\d{2}|5(?:1|2[47])\\d{2}|6(?:[18]\\d{2}|6(?:2(?:2\\d|[34]\\d{2})|5(?:[24]\\d{2}|3\\d|5\\d{1,2})))|72[2-5]\\d{2}|8(?:1\\d{2}|2[2-5]\\d{2})|9(?:1\\d{2}|2[2-6]\\d{2}))\\d{3}|7(?:(?:02|[3-589]1|6[12]|72[24])\\d{2}|21\\d{3}|32)\\d{3}|8(?:(?:4[12]|[5-7]2|1\\d?)|(?:0|3[12]|[5-7]1|217)\\d)\\d{4}|9(?:[35]1|(?:[024]2|81)\\d|(?:1|[24]1)\\d{2})\\d{3}","\\d{6,9}",,,"27111234"],[,,"(?:1[13-9]\\d|(?:3[78]|44)[02-9]|6(?:44|6[02-9]))\\d{7}","\\d{10}",,,"1812345678"],[,,"80[03]\\d{7}","\\d{10}",,,"8001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"96(?:0[49]|1[0-4]|6[69])\\d{6}","\\d{10}",,,"9604123456"],"BD",880,"00[12]?","0",,,"0",,"00",,[[,"(2)(\\d{7})","$1-$2",["2"],"0$1","",0],[,"(\\d{2})(\\d{4,6})","$1-$2",["[3-79]1"],"0$1","",0],[,"(\\d{4})(\\d{3,6})","$1-$2",["1|3(?:0|[2-58]2)|4(?:0|[25]2|3[23]|[4689][25])|5(?:[02-578]2|6[25])|6(?:[0347-9]2|[26][25])|7[02-9]2|8(?:[023][23]|[4-7]2)|9(?:[02][23]|[458]2|6[016])"],"0$1","",0],[,"(\\d{3})(\\d{3,7})","$1-$2",["[3-79][2-9]|8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BE":[,[,,"[1-9]\\d{7,8}","\\d{8,9}"],[,,"(?:1[0-69]|[23][2-8]|4[23]|5\\d|6[013-57-9]|71|8[1-79]|9[2-4])\\d{6}|80[2-8]\\d{5}","\\d{8}",,,"12345678"],[,,"4(?:6[0135-8]|[79]\\d|8[3-9])\\d{6}","\\d{9}",,,"470123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"(?:70[2-467]|90[0-79])\\d{5}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BE",32,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[6-9]"],"0$1","",0],[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|4[23]|9[2-4]"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[156]|7[018]|8(?:0[1-9]|[1-79])"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"78\\d{6}","\\d{8}",,,"78123456"],,,[,,"NA","NA"]],"BF":[,[,,"[267]\\d{7}","\\d{8}"],[,,"2(?:0(?:49|5[23]|9[016-9])|4(?:4[569]|5[4-6]|7[0179])|5(?:[34]\\d|50))\\d{4}","\\d{8}",,,"20491234"],[,,"6(?:[0-689]\\d|7[0-5])\\d{5}|7\\d{7}","\\d{8}",,,"70123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BF",226,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BG":[,[,,"[23567]\\d{5,7}|[489]\\d{6,8}","\\d{5,9}"],[,,"2(?:[0-8]\\d{5,6}|9\\d{4,6})|(?:[36]\\d|5[1-9]|8[1-6]|9[1-7])\\d{5,6}|(?:4(?:[124-7]\\d|3[1-6])|7(?:0[1-9]|[1-9]\\d))\\d{4,5}","\\d{5,8}",,,"2123456"],[,,"(?:8[7-9]\\d|9(?:8\\d|99))\\d{6}|4(?:3[0789]|8\\d)\\d{5}","\\d{8,9}",,,"48123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"700\\d{5}","\\d{5,9}",,,"70012345"],[,,"NA","NA"],"BG",359,"00","0",,,"0",,,,[[,"(2)(\\d{5})","$1 $2",["29"],"0$1","",0],[,"(2)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1","",0],[,"(\\d{3})(\\d{4})","$1 $2",["43[124-7]|70[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[124-7]|70[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[78]00"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["999"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["48|8[7-9]|9[08]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BH":[,[,,"[136-9]\\d{7}","\\d{8}"],[,,"(?:1(?:3[1356]|6[0156]|7\\d)\\d|6(?:1[16]\\d|500|6(?:0\\d|3[12]|44|7[7-9])|9[69][69])|7(?:1(?:11|78)|7\\d{2}))\\d{4}","\\d{8}",,,"17001234"],[,,"(?:3(?:[1-4679]\\d|5[013569]|8[0-47-9])\\d|6(?:3(?:00|33|6[16])|6(?:[69]\\d|3[03-9]|7[0-6])))\\d{4}","\\d{8}",,,"36001234"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"(?:87|9[014578])\\d{6}","\\d{8}",,,"90123456"],[,,"84\\d{6}","\\d{8}",,,"84123456"],[,,"NA","NA"],[,,"NA","NA"],"BH",973,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BI":[,[,,"[267]\\d{7}","\\d{8}"],[,,"22(?:2[0-7]|[3-5]0)\\d{4}","\\d{8}",,,"22201234"],[,,"(?:[26]9|7[14-9])\\d{6}","\\d{8}",,,"79561234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BI",257,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BJ":[,[,,"[2689]\\d{7}|7\\d{3}","\\d{4,8}"],[,,"2(?:02|1[037]|2[45]|3[68])\\d{5}","\\d{8}",,,"20211234"],[,,"(?:6[146-8]|9[03-9])\\d{6}","\\d{8}",,,"90011234"],[,,"7[3-5]\\d{2}","\\d{4}",,,"7312"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"857[58]\\d{4}","\\d{8}",,,"85751234"],"BJ",229,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"81\\d{6}","\\d{8}",,,"81123456"],,,[,,"NA","NA"]],"BL":[,[,,"[56]\\d{8}","\\d{9}"],[,,"590(?:2[7-9]|5[12]|87)\\d{4}","\\d{9}",,,"590271234"],[,,"690(?:0[0-7]|[1-9]\\d)\\d{4}","\\d{9}",,,"690301234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BL",590,"00","0",,,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BM":[,[,,"[4589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"441(?:2(?:02|23|61|[3479]\\d)|[46]\\d{2}|5(?:4\\d|60|89)|824)\\d{4}","\\d{7}(?:\\d{3})?",,,"4412345678"],[,,"441(?:[37]\\d|5[0-39])\\d{5}","\\d{10}",,,"4413701234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"BM",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"441",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BN":[,[,,"[2-578]\\d{6}","\\d{7}"],[,,"2(?:[013-9]\\d|2[0-7])\\d{4}|[3-5]\\d{6}","\\d{7}",,,"2345678"],[,,"22[89]\\d{4}|[78]\\d{6}","\\d{7}",,,"7123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BN",673,"00",,,,,,,,[[,"([2-578]\\d{2})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BO":[,[,,"[23467]\\d{7}","\\d{7,8}"],[,,"(?:2(?:2\\d{2}|5(?:11|[258]\\d|9[67])|6(?:12|2\\d|9[34])|8(?:2[34]|39|62))|3(?:3\\d{2}|4(?:6\\d|8[24])|8(?:25|42|5[257]|86|9[25])|9(?:2\\d|3[234]|4[248]|5[24]|6[2-6]|7\\d))|4(?:4\\d{2}|6(?:11|[24689]\\d|72)))\\d{4}","\\d{7,8}",,,"22123456"],[,,"[67]\\d{7}","\\d{8}",,,"71234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BO",591,"00(1\\d)?","0",,,"0(1\\d)?",,,,[[,"([234])(\\d{7})","$1 $2",["[234]"],"","0$CC $1",0],[,"([67]\\d{7})","$1",["[67]"],"","0$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BQ":[,[,,"[347]\\d{6}","\\d{7}"],[,,"(?:318[023]|416[023]|7(?:1[578]|50)\\d)\\d{3}","\\d{7}",,,"7151234"],[,,"(?:318[14-68]|416[15-9]|7(?:0[01]|7[07]|[89]\\d)\\d)\\d{3}","\\d{7}",,,"3181234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BQ",599,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BR":[,[,,"[1-46-9]\\d{7,10}|5\\d{8,9}","\\d{8,11}"],[,,"1[1-9][2-5]\\d{7}|(?:[4689][1-9]|2[12478]|3[1-578]|5[1-5]|7[13-579])[2-5]\\d{7}","\\d{8,11}",,,"1123456789"],[,,"1[1-9](?:7|9\\d)\\d{7}|(?:2[12478]|[89][1-9])9?[6-9]\\d{7}|(?:3[1-578]|[46][1-9]|5[1-5]|7[13-579])[6-9]\\d{7}","\\d{10,11}",,,"11961234567"],[,,"800\\d{6,7}","\\d{8,11}",,,"800123456"],[,,"[359]00\\d{6,7}","\\d{8,11}",,,"300123456"],[,,"[34]00\\d{5}","\\d{8}",,,"40041234"],[,,"NA","NA"],[,,"NA","NA"],"BR",55,"00(?:1[45]|2[135]|31|4[13])","0",,,"0(?:(1[245]|2[135]|31|4[13])(\\d{10,11}))?","$2",,,[[,"(\\d{4})(\\d{4})","$1-$2",["[2-9](?:[1-9]|0[1-9])"],"$1","",0],[,"(\\d{5})(\\d{4})","$1-$2",["9(?:[1-9]|0[1-9])"],"$1","",0],[,"(\\d{3,5})","$1",["1[125689]"],"$1","",0],[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["(?:[189][1-9]|2[12478])9"],"($1)","0 $CC ($1)",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)",0],[,"([34]00\\d)(\\d{4})","$1-$2",["[34]00"],"","",0],[,"([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1","",0]],[[,"(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["(?:[189][1-9]|2[12478])9"],"($1)","0 $CC ($1)",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["[1-9][1-9]"],"($1)","0 $CC ($1)",0],[,"([34]00\\d)(\\d{4})","$1-$2",["[34]00"],"","",0],[,"([3589]00)(\\d{2,3})(\\d{4})","$1 $2 $3",["[3589]00"],"0$1","",0]],[,,"NA","NA"],,,[,,"[34]00\\d{5}","\\d{8}",,,"40041234"],[,,"NA","NA"],,,[,,"NA","NA"]],
"BS":[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"242(?:3(?:02|[236][1-9]|4[0-24-9]|5[0-68]|7[3467]|8[0-4]|9[2-467])|461|502|6(?:0[12]|12|7[67]|8[78]|9[89])|7(?:02|88))\\d{4}","\\d{7}(?:\\d{3})?",,,"2423456789"],[,,"242(?:3(?:5[79]|[79]5)|4(?:[2-4][1-9]|5[1-8]|6[2-8]|7\\d|81)|5(?:2[45]|3[35]|44|5[1-9]|65|77)|6[34]6|727)\\d{4}","\\d{10}",,,"2423591234"],[,,"242300\\d{4}|8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"BS",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"242",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BT":[,[,,"[1-8]\\d{6,7}","\\d{6,8}"],[,,"(?:2[3-6]|[34][5-7]|5[236]|6[2-46]|7[246]|8[2-4])\\d{5}","\\d{6,7}",,,"2345678"],[,,"[17]7\\d{6}","\\d{8}",,,"17123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BT",975,"00",,,,,,,,[[,"([17]7)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1|77"],"","",0],[,"([2-8])(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BW":[,[,,"[2-79]\\d{6,7}","\\d{7,8}"],[,,"(?:2(?:4[0-48]|6[0-24]|9[0578])|3(?:1[0235-9]|55|6\\d|7[01]|9[0-57])|4(?:6[03]|7[1267]|9[0-5])|5(?:3[0389]|4[0489]|7[1-47]|88|9[0-49])|6(?:2[1-35]|5[149]|8[067]))\\d{4}","\\d{7}",,,"2401234"],[,,"7(?:[1-6]\\d|7[014-8])\\d{5}","\\d{8}",,,"71123456"],[,,"NA","NA"],[,,"90\\d{5}","\\d{7}",,,"9012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"79[12][01]\\d{4}","\\d{8}",,,"79101234"],"BW",267,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-6]"],"","",0],[,"(7\\d)(\\d{3})(\\d{3})","$1 $2 $3",["7"],"","",0],[,"(90)(\\d{5})","$1 $2",["9"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"BY":[,[,,"[1-4]\\d{8}|[89]\\d{9,10}","\\d{7,11}"],[,,"(?:1(?:5(?:1[1-5]|[24]\\d|6[2-4]|9[1-7])|6(?:[235]\\d|4[1-7])|7\\d{2})|2(?:1(?:[246]\\d|3[0-35-9]|5[1-9])|2(?:[235]\\d|4[0-8])|3(?:[26]\\d|3[02-79]|4[024-7]|5[03-7])))\\d{5}","\\d{7,9}",,,"152450911"],[,,"(?:2(?:5[5679]|9[1-9])|33\\d|44\\d)\\d{6}","\\d{9}",,,"294911911"],[,,"8(?:0[13]|20\\d)\\d{7}","\\d{10,11}",,,"8011234567"],[,,"(?:810|902)\\d{7}","\\d{10}",,,"9021234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"249\\d{6}","\\d{9}",,,"249123456"],"BY",375,"810","8",,,"8?0?",,"8~10",,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["17[0-3589]|2[4-9]|[34]","17(?:[02358]|1[0-2]|9[0189])|2[4-9]|[34]"],"8 0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:5[24]|6[235]|7[467])|2(?:1[246]|2[25]|3[26])","1(?:5[24]|6(?:2|3[04-9]|5[0346-9])|7(?:[46]|7[37-9]))|2(?:1[246]|2[25]|3[26])"],"8 0$1","",0],[,"(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8[01]|9"],"8 $1","",0],[,"(8\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["82"],"8 $1","",0]],,[,,"NA","NA"],,,[,,"8(?:[013]|[12]0)\\d{8}|902\\d{7}","\\d{10,11}",,,"82012345678"],[,,"NA","NA"],,,[,,"NA","NA"]],"BZ":[,[,,"[2-8]\\d{6}|0\\d{10}","\\d{7}(?:\\d{4})?"],[,,"[234578][02]\\d{5}","\\d{7}",,,"2221234"],[,,"6[0-367]\\d{5}","\\d{7}",,,"6221234"],[,,"0800\\d{7}","\\d{11}",,,"08001234123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"BZ",501,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[2-8]"],"","",0],[,"(0)(800)(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"CA":[,[,,"[2-9]\\d{9}|3\\d{6}","\\d{7}(?:\\d{3})?"],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|73)|90[25])[2-9]\\d{6}|310\\d{4}","\\d{7}(?:\\d{3})?",,,"2042345678"],[,,"(?:2(?:04|[23]6|[48]9|50)|3(?:06|43|65)|4(?:03|1[68]|3[178]|50)|5(?:06|1[49]|48|79|8[17])|6(?:0[04]|13|22|39|47)|7(?:0[59]|78|8[02])|8(?:[06]7|19|73)|90[25])[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2042345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}|310\\d{4}","\\d{7}(?:\\d{3})?",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"CA",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CC":[,[,,"[1458]\\d{5,9}","\\d{6,10}"],[,,"89162\\d{4}","\\d{8,9}",,,"891621234"],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-2]\\d|3[0-57-9]|4[47-9]|5[0-25-9]|6[6-9]|7[03-9]|8[17-9]|9[017-9])\\d{6}","\\d{9}",,,"412345678"],[,,"1(?:80(?:0\\d{2})?|3(?:00\\d{2})?)\\d{4}","\\d{6,10}",,,"1800123456"],[,,"190[0126]\\d{6}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"500\\d{6}","\\d{9}",,,"500123456"],[,,"550\\d{6}","\\d{9}",,,"550123456"],"CC",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CD":[,[,,"[2-6]\\d{6}|[18]\\d{6,8}|9\\d{8}","\\d{7,9}"],[,,"1(?:2\\d{7}|\\d{6})|[2-6]\\d{6}","\\d{7,9}",,,"1234567"],[,,"8(?:[0-2459]\\d{2}|8)\\d{5}|9[7-9]\\d{7}","\\d{7,9}",,,"991234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CD",243,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["12"],"0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[0-2459]|9"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1","",0],[,"(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CF":[,[,,"[278]\\d{7}","\\d{8}"],[,,"2[12]\\d{6}","\\d{8}",,,"21612345"],[,,"7[0257]\\d{6}","\\d{8}",,,"70012345"],[,,"NA","NA"],[,,"8776\\d{4}","\\d{8}",,,"87761234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CF",236,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CG":[,[,,"[028]\\d{8}","\\d{9}"],[,,"222[1-589]\\d{5}","\\d{9}",,,"222123456"],[,,"0[14-6]\\d{7}","\\d{9}",,,"061234567"],[,,"NA","NA"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CG",242,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"],"","",0],[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"CH":[,[,,"[2-9]\\d{8}|860\\d{9}","\\d{9}(?:\\d{3})?"],[,,"(?:2[12467]|3[1-4]|4[134]|5[256]|6[12]|[7-9]1)\\d{7}","\\d{9}",,,"212345678"],[,,"7[5-9]\\d{7}","\\d{9}",,,"781234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"90[016]\\d{6}","\\d{9}",,,"900123456"],[,,"84[0248]\\d{6}","\\d{9}",,,"840123456"],[,,"878\\d{6}","\\d{9}",,,"878123456"],[,,"NA","NA"],"CH",41,"00","0",,,"0",,,,[[,"([2-9]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]|[89]1"],"0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["860"],"0$1","",0]],,[,,"74[0248]\\d{6}","\\d{9}",,,"740123456"],,,[,,"NA","NA"],[,,"5[18]\\d{7}","\\d{9}",,,"581234567"],,,[,,"860\\d{9}","\\d{12}",,,"860123456789"]],"CI":[,[,,"[02-7]\\d{7}","\\d{8}"],[,,"(?:2(?:0[023]|1[02357]|[23][045]|4[03-5])|3(?:0[06]|1[069]|[2-4][07]|5[09]|6[08]))\\d{5}","\\d{8}",,,"21234567"],[,,"(?:0[1-9]|4\\d|5[4-9]|6[015-79]|7[578])\\d{6}","\\d{8}",,,"01234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CI",225,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"CK":[,[,,"[2-57]\\d{4}","\\d{5}"],[,,"(?:2\\d|3[13-7]|4[1-5])\\d{3}","\\d{5}",,,"21234"],[,,"(?:5[0-68]|7\\d)\\d{3}","\\d{5}",,,"71234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CK",682,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CL":[,[,,"(?:[2-9]|600|123)\\d{7,8}","\\d{7,11}"],[,,"2(?:2\\d{7}|3(?:20|22)\\d{5}|1962\\d{4})|(?:3[2-5]|[47][1-35]|5[1-3578]|6[13-57])\\d{7}","\\d{7,9}",,,"221234567"],[,,"9[4-9]\\d{7}","\\d{8,9}",,,"961234567"],[,,"800\\d{6}|1230\\d{7}","\\d{9,11}",,,"800123456"],[,,"NA","NA"],[,,"600\\d{7,8}","\\d{10,11}",,,"6001234567"],[,,"NA","NA"],[,,"44\\d{7}","\\d{9}",,,"441234567"],"CL",56,"(?:0|1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))0","0",,,"0|(1(?:1[0-69]|2[0-57]|5[13-58]|69|7[0167]|8[018]))",,,,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[23]"],"($1)","$CC ($1)",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]"],"($1)","$CC ($1)",0],[,"(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"],"0$1","",0],[,"([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"],"$1","",0],[,"(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"],"$1","",0],[,"(1230)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"$1","",0],[,"(\\d{5})(\\d{4})","$1 $2",["219"],"($1)","$CC ($1)",0],[,"(\\d{4,5})","$1",["[1-9]"],"$1","",0]],[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[23]"],"($1)","$CC ($1)",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[357]|4[1-35]|6[13-57]"],"($1)","$CC ($1)",0],[,"(9)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(44)(\\d{3})(\\d{4})","$1 $2 $3",["44"],"0$1","",0],[,"([68]00)(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"],"$1","",0],[,"(600)(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"],"$1","",0],[,"(1230)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"$1","",0],[,"(\\d{5})(\\d{4})","$1 $2",["219"],"($1)","$CC ($1)",0]],[,,"NA","NA"],,,[,,"600\\d{7,8}","\\d{10,11}",,,"6001234567"],[,,"NA","NA"],,,[,,"NA","NA"]],"CM":[,[,,"[2368]\\d{7,8}","\\d{8,9}"],[,,"2(?:22|33|4[23])\\d{6}","\\d{9}",,,"222123456"],[,,"6[5-9]\\d{7}","\\d{9}",,,"671234567"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"88\\d{6}","\\d{8}",,,"88012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CM",237,"00",,,,,,,,[[,"([26])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]"],"","",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[23]|88"],"","",0],[,"(800)(\\d{2})(\\d{3})","$1 $2 $3",["80"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CN":[,[,,"[1-7]\\d{6,11}|8[0-357-9]\\d{6,9}|9\\d{7,10}","\\d{4,12}"],[,,"21(?:100\\d{2}|95\\d{3,4}|\\d{8,10})|(?:10|2[02-57-9]|3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1\\d|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98))(?:100\\d{2}|95\\d{3,4}|\\d{8})|(?:3(?:1[02-9]|35|49|5\\d|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|3[3-9]|5[2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[17]\\d|2[248]|3[04-9]|4[3-6]|5[0-3689]|6[2368]|9[02-9])|8(?:1[236-8]|2[5-7]|3\\d|5[4-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100\\d{2}|95\\d{3,4}|\\d{7})|80(?:29|6[03578]|7[018]|81)\\d{4}","\\d{4,12}",,,"1012345678"],[,,"1(?:[38]\\d|4[57]|5[0-35-9]|7[06-8])\\d{8}","\\d{11}",,,"13123456789"],[,,"(?:10)?800\\d{7}","\\d{10,12}",,,"8001234567"],[,,"16[08]\\d{5}","\\d{8}",,,"16812345"],[,,"400\\d{7}|950\\d{7,8}|(?:10|2[0-57-9]|3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[4789]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[3678]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))96\\d{3,4}","\\d{7,11}",,,"4001234567"],[,,"NA","NA"],[,,"NA","NA"],"CN",86,"(1(?:[129]\\d{3}|79\\d{2}))?00","0",,,"(1(?:[129]\\d{3}|79\\d{2}))|0",,"00",,[[,"(80\\d{2})(\\d{4})","$1 $2",["80[2678]"],"0$1","$CC $1",1],[,"([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"],"","",0],[,"(\\d{5,6})","$1",["100|95"],"","",0],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1","$CC $1",0],[,"(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d{2}[19]","[3-9]\\d{2}(?:10|9[56])"],"0$1","$CC $1",0],[,"(\\d{3,4})(\\d{4})","$1 $2",["[2-9]"],"","",0],[,"(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","$CC $1",1],[,"([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:[1-9]|0[1-9]))|2[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98)"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[4-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-578]"],"","$CC $1",0],[,"(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"],"","",0],[,"(\\d{3})(\\d{7,8})","$1 $2",["950"],"","",0]],[[,"(80\\d{2})(\\d{4})","$1 $2",["80[2678]"],"0$1","$CC $1",1],[,"([48]00)(\\d{3})(\\d{4})","$1 $2 $3",["[48]00"],"","",0],[,"(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2\\d)[19]","(?:10|2\\d)(?:10|9[56])","(?:10|2\\d)(?:100|9[56])"],"0$1","$CC $1",0],[,"(\\d{3})(\\d{5,6})","$1 $2",["[3-9]","[3-9]\\d{2}[19]","[3-9]\\d{2}(?:10|9[56])"],"0$1","$CC $1",0],[,"(21)(\\d{4})(\\d{4,6})","$1 $2 $3",["21"],"0$1","$CC $1",1],[,"([12]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["10[1-9]|2[02-9]","10[1-9]|2[02-9]","10(?:[1-79]|8(?:[1-9]|0[1-9]))|2[02-9]"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3(?:11|7[179])|4(?:[15]1|3[12])|5(?:1|2[37]|3[12]|51|7[13-79]|9[15])|7(?:31|5[457]|6[09]|91)|8(?:[57]1|98)"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:1[02-9]|35|49|5|7[02-68]|9[1-68])|4(?:1[02-9]|2[179]|[35][2-9]|6[4789]|7\\d|8[23])|5(?:3[03-9]|4[36]|5[02-9]|6[1-46]|7[028]|80|9[2-46-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[04-9]|4[3-6]|6[2368])|8(?:1[236-8]|2[5-7]|3|5[4-9]|7[02-9]|8[3678]|9[1-7])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])"],"0$1","$CC $1",1],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-578]"],"","$CC $1",0],[,"(10800)(\\d{3})(\\d{4})","$1 $2 $3",["108","1080","10800"],"","",0],[,"(\\d{3})(\\d{7,8})","$1 $2",["950"],"","",0]],[,,"NA","NA"],,,[,,"(?:4|(?:10)?8)00\\d{7}|950\\d{7,8}","\\d{10,12}",,,"4001234567"],[,,"NA","NA"],,,[,,"NA","NA"]],"CO":[,[,,"(?:[13]\\d{0,3}|[24-8])\\d{7}","\\d{7,11}"],[,,"[124-8][2-9]\\d{6}","\\d{8}",,,"12345678"],[,,"3(?:0[0-5]|1\\d|2[0-2]|5[01])\\d{7}","\\d{10}",,,"3211234567"],[,,"1800\\d{7}","\\d{11}",,,"18001234567"],[,,"19(?:0[01]|4[78])\\d{7}","\\d{11}",,,"19001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CO",57,"00(?:4(?:[14]4|56)|[579])","0",,,"0([3579]|4(?:44|56))?",,,,[[,"(\\d)(\\d{7})","$1 $2",["1(?:8[2-9]|9[0-3]|[2-7])|[24-8]","1(?:8[2-9]|9(?:09|[1-3])|[2-7])|[24-8]"],"($1)","0$CC $1",0],[,"(\\d{3})(\\d{7})","$1 $2",["3"],"","0$CC $1",0],[,"(1)(\\d{3})(\\d{7})","$1-$2-$3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"],"0$1","",0]],[[,"(\\d)(\\d{7})","$1 $2",["1(?:8[2-9]|9[0-3]|[2-7])|[24-8]","1(?:8[2-9]|9(?:09|[1-3])|[2-7])|[24-8]"],"($1)","0$CC $1",0],[,"(\\d{3})(\\d{7})","$1 $2",["3"],"","0$CC $1",0],[,"(1)(\\d{3})(\\d{7})","$1 $2 $3",["1(?:80|9[04])","1(?:800|9(?:0[01]|4[78]))"]]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CR":[,[,,"[24-9]\\d{7,9}","\\d{8,10}"],[,,"2[24-7]\\d{6}","\\d{8}",,,"22123456"],[,,"5(?:0[01]|7[0-3])\\d{5}|6(?:[0-2]\\d|30)\\d{5}|7[0-3]\\d{6}|8[3-9]\\d{6}","\\d{8}",,,"83123456"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"90[059]\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"210[0-6]\\d{4}|4\\d{7}|5100\\d{4}","\\d{8}",,,"40001234"],"CR",506,"00",,,,"(19(?:0[012468]|1[09]|20|66|77|99))",,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[24-7]|8[3-9]"],"","$CC $1",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]0"],"","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CU":[,[,,"[2-57]\\d{5,7}","\\d{4,8}"],[,,"2[1-4]\\d{5,6}|3(?:1\\d{6}|[23]\\d{4,6})|4(?:[125]\\d{5,6}|[36]\\d{6}|[78]\\d{4,6})|7\\d{6,7}","\\d{4,8}",,,"71234567"],[,,"5\\d{7}","\\d{8}",,,"51234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CU",53,"119","0",,,"0",,,,[[,"(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)","",0],[,"(\\d{2})(\\d{4,6})","$1 $2",["[2-4]"],"(0$1)","",0],[,"(\\d)(\\d{7})","$1 $2",["5"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CV":[,[,,"[259]\\d{6}","\\d{7}"],[,,"2(?:2[1-7]|3[0-8]|4[12]|5[1256]|6\\d|7[1-3]|8[1-5])\\d{4}","\\d{7}",,,"2211234"],[,,"(?:9\\d|59)\\d{5}","\\d{7}",,,"9911234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"CV",238,"0",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CW":[,[,,"[169]\\d{6,7}","\\d{7,8}"],[,,"9(?:[48]\\d{2}|50\\d|7(?:2[0-24]|[34]\\d|6[35-7]|77|8[7-9]))\\d{4}","\\d{7,8}",,,"94151234"],[,,"9(?:5(?:[1246]\\d|3[01])|6(?:[16-9]\\d|3[01]))\\d{4}","\\d{7,8}",,,"95181234"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:10|69)\\d{5}","\\d{7}",,,"1011234"],[,,"NA","NA"],[,,"NA","NA"],"CW",599,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[13-7]"],"","",0],[,"(9)(\\d{3})(\\d{4})","$1 $2 $3",["9"],"","",0]],,[,,"955\\d{5}","\\d{7,8}",,,"95581234"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CX":[,[,,"[1458]\\d{5,9}","\\d{6,10}"],[,,"89164\\d{4}","\\d{8,9}",,,"891641234"],[,,"14(?:5\\d|71)\\d{5}|4(?:[0-2]\\d|3[0-57-9]|4[47-9]|5[0-25-9]|6[6-9]|7[03-9]|8[17-9]|9[017-9])\\d{6}","\\d{9}",,,"412345678"],[,,"1(?:80(?:0\\d{2})?|3(?:00\\d{2})?)\\d{4}","\\d{6,10}",,,"1800123456"],[,,"190[0126]\\d{6}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"500\\d{6}","\\d{9}",,,"500123456"],[,,"550\\d{6}","\\d{9}",,,"550123456"],"CX",61,"(?:14(?:1[14]|34|4[17]|[56]6|7[47]|88))?001[14-689]","0",,,"0",,"0011",,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"CY":[,[,,"[257-9]\\d{7}","\\d{8}"],[,,"2[2-6]\\d{6}","\\d{8}",,,"22345678"],[,,"9[5-79]\\d{6}","\\d{8}",,,"96123456"],[,,"800\\d{5}","\\d{8}",,,"80001234"],[,,"90[09]\\d{5}","\\d{8}",,,"90012345"],[,,"80[1-9]\\d{5}","\\d{8}",,,"80112345"],[,,"700\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"CY",357,"00",,,,,,,,[[,"(\\d{2})(\\d{6})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"(?:50|77)\\d{6}","\\d{8}",,,"77123456"],,,[,,"NA","NA"]],"CZ":[,[,,"[2-8]\\d{8}|9\\d{8,11}","\\d{9,12}"],[,,"2\\d{8}|(?:3[1257-9]|4[16-9]|5[13-9])\\d{7}","\\d{9,12}",,,"212345678"],[,,"(?:60[1-8]|7(?:0[2-5]|[2379]\\d))\\d{6}","\\d{9,12}",,,"601123456"],[,,"800\\d{6}","\\d{9,12}",,,"800123456"],[,,"9(?:0[05689]|76)\\d{6}","\\d{9,12}",,,"900123456"],[,,"8[134]\\d{7}","\\d{9,12}",,,"811234567"],[,,"70[01]\\d{6}","\\d{9,12}",,,"700123456"],[,,"9[17]0\\d{6}","\\d{9,12}",,,"910123456"],"CZ",420,"00",,,,,,,,[[,"([2-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"],"","",0],[,"(96\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["96"],"","",0],[,"(9\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9[36]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"9(?:5\\d|7[234])\\d{6}","\\d{9,12}",,,"972123456"],,,[,,"9(?:3\\d{9}|6\\d{7,10})","\\d{9,12}",,,"93123456789"]],"DE":[,[,,"[1-35-9]\\d{3,14}|4(?:[0-8]\\d{4,12}|9(?:[0-37]\\d|4(?:[1-35-8]|4\\d?)|5\\d{1,2}|6[1-8]\\d?)\\d{2,8})","\\d{2,15}"],[,,"[246]\\d{5,13}|3(?:0\\d{3,13}|2\\d{9}|[3-9]\\d{4,13})|5(?:0[2-8]|[1256]\\d|[38][0-8]|4\\d{0,2}|[79][0-7])\\d{3,11}|7(?:0[2-8]|[1-9]\\d)\\d{3,10}|8(?:0[2-9]|[1-9]\\d)\\d{3,10}|9(?:0[6-9]\\d{3,10}|1\\d{4,12}|[2-9]\\d{4,11})","\\d{2,15}",,,"30123456"],[,,"1(?:5[0-25-9]\\d{8}|6[023]\\d{7,8}|7(?:[0-57-9]\\d?|6\\d)\\d{7})","\\d{10,11}",,,"15123456789"],[,,"800\\d{7,12}","\\d{10,15}",,,"8001234567890"],[,,"137[7-9]\\d{6}|900(?:[135]\\d{6}|9\\d{7})","\\d{10,11}",,,"9001234567"],[,,"1(?:3(?:7[1-6]\\d{6}|8\\d{4})|80\\d{5,11})","\\d{7,14}",,,"18012345"],[,,"700\\d{8}","\\d{11}",,,"70012345678"],[,,"NA","NA"],"DE",49,"00","0",,,"0",,,,[[,"(1\\d{2})(\\d{7,8})","$1 $2",["1[67]"],"0$1","",0],[,"(15\\d{3})(\\d{6})","$1 $2",["15[0568]"],"0$1","",0],[,"(1\\d{3})(\\d{7})","$1 $2",["15"],"0$1","",0],[,"(\\d{2})(\\d{3,11})","$1 $2",["3[02]|40|[68]9"],"0$1","",0],[,"(\\d{3})(\\d{3,11})","$1 $2",["2(?:\\d1|0[2389]|1[24]|28|34)|3(?:[3-9][15]|40)|[4-8][1-9]1|9(?:06|[1-9]1)"],"0$1","",0],[,"(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|[7-9](?:\\d[1-9]|[1-9]\\d)|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])","[24-6]|[7-9](?:\\d[1-9]|[1-9]\\d)|3(?:3(?:0[1-467]|2[127-9]|3[124578]|[46][1246]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|3[1357]|4[13578]|6[1246]|7[1356]|9[1346])|5(?:0[14]|2[1-3589]|3[1357]|4[1246]|6[1-4]|7[1346]|8[13568]|9[1246])|6(?:0[356]|2[1-489]|3[124-6]|4[1347]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|3[1357]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|4[1347]|6[0135-9]|7[1467]|8[136])|9(?:0[12479]|2[1358]|3[1357]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))"],"0$1","",0],[,"(3\\d{4})(\\d{1,10})","$1 $2",["3"],"0$1","",0],[,"(800)(\\d{7,12})","$1 $2",["800"],"0$1","",0],[,"(177)(99)(\\d{7,8})","$1 $2 $3",["177","1779","17799"],"0$1","",0],[,"(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["(?:18|90)0|137","1(?:37|80)|900[1359]"],"0$1","",0],[,"(1\\d{2})(\\d{5,11})","$1 $2",["181"],"0$1","",0],[,"(18\\d{3})(\\d{6})","$1 $2",["185","1850","18500"],"0$1","",0],[,"(18\\d{2})(\\d{7})","$1 $2",["18[68]"],"0$1","",0],[,"(18\\d)(\\d{8})","$1 $2",["18[2-579]"],"0$1","",0],[,"(700)(\\d{4})(\\d{4})","$1 $2 $3",["700"],"0$1","",0],[,"(138)(\\d{4})","$1 $2",["138"],"0$1","",0]],,[,,"16(?:4\\d{1,10}|[89]\\d{1,11})","\\d{4,14}",,,"16412345"],,,[,,"NA","NA"],[,,"18(?:1\\d{5,11}|[2-9]\\d{8})","\\d{8,14}",,,"18500123456"],,,[,,"17799\\d{7,8}","\\d{12,13}",,,"177991234567"]],"DJ":[,[,,"[27]\\d{7}","\\d{8}"],[,,"2(?:1[2-5]|7[45])\\d{5}","\\d{8}",,,"21360003"],[,,"77[6-8]\\d{5}","\\d{8}",,,"77831001"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"DJ",253,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"DK":[,[,,"[2-9]\\d{7}","\\d{8}"],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}","\\d{8}",,,"32123456"],[,,"(?:[2-7]\\d|8[126-9]|9[1-36-9])\\d{6}","\\d{8}",,,"20123456"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"DK",45,"00",,,,,,,1,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"DM":[,[,,"[57-9]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"767(?:2(?:55|66)|4(?:2[01]|4[0-25-9])|50[0-4]|70[1-3])\\d{4}","\\d{7}(?:\\d{3})?",,,"7674201234"],[,,"767(?:2(?:[234689]5|7[5-7])|31[5-7]|61[2-7])\\d{4}","\\d{10}",,,"7672251234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"DM",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"767",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"DO":[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"8(?:[04]9[2-9]\\d{6}|29(?:2(?:[0-59]\\d|6[04-9]|7[0-27]|8[0237-9])|3(?:[0-35-9]\\d|4[7-9])|[45]\\d{2}|6(?:[0-27-9]\\d|[3-5][1-9]|6[0135-8])|7(?:0[013-9]|[1-37]\\d|4[1-35689]|5[1-4689]|6[1-57-9]|8[1-79]|9[1-8])|8(?:0[146-9]|1[0-48]|[248]\\d|3[1-79]|5[01589]|6[013-68]|7[124-8]|9[0-8])|9(?:[0-24]\\d|3[02-46-9]|5[0-79]|60|7[0169]|8[57-9]|9[02-9]))\\d{4})","\\d{7}(?:\\d{3})?",,,"8092345678"],[,,"8[024]9[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"8092345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"DO",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"8[024]9",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"DZ":[,[,,"(?:[1-4]|[5-9]\\d)\\d{7}","\\d{8,9}"],[,,"(?:1\\d|2[014-79]|3[0-8]|4[0135689])\\d{6}|9619\\d{5}","\\d{8,9}",,,"12345678"],[,,"(?:5[4-6]|7[7-9])\\d{7}|6(?:[569]\\d|7[0-6])\\d{6}","\\d{9}",,,"551234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"80[3-689]1\\d{5}","\\d{9}",,,"808123456"],[,,"80[12]1\\d{5}","\\d{9}",,,"801123456"],[,,"NA","NA"],[,,"98[23]\\d{6}","\\d{9}",,,"983123456"],"DZ",213,"00","0",,,"0",,,,[[,"([1-4]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1","",0],[,"([5-8]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1","",0],[,"(9\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"EC":[,[,,"1\\d{9,10}|[2-8]\\d{7}|9\\d{8}","\\d{7,11}"],[,,"[2-7][2-7]\\d{6}","\\d{7,8}",,,"22123456"],[,,"9(?:39|[45][89]|[67][7-9]|[89]\\d)\\d{6}","\\d{9}",,,"991234567"],[,,"1800\\d{6,7}","\\d{10,11}",,,"18001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"[2-7]890\\d{4}","\\d{8}",,,"28901234"],"EC",593,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[247]|[356][2-8]"],"(0$1)","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["1"],"$1","",0]],[[,"(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[247]|[356][2-8]"]],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(1800)(\\d{3})(\\d{3,4})","$1 $2 $3",["1"],"$1","",0]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"EE":[,[,,"1\\d{3,4}|[3-9]\\d{6,7}|800\\d{6,7}","\\d{4,10}"],[,,"(?:3[23589]|4[3-8]|6\\d|7[1-9]|88)\\d{5}","\\d{7}",,,"3212345"],[,,"(?:5\\d|8[1-5])\\d{6}|5(?:[02]\\d{2}|1(?:[0-8]\\d|95)|5[0-478]\\d|64[0-4]|65[1-589])\\d{3}","\\d{7,8}",,,"51234567"],[,,"800(?:0\\d{3}|1\\d|[2-9])\\d{3}","\\d{7,10}",,,"80012345"],[,,"(?:40\\d{2}|900)\\d{4}","\\d{7,8}",,,"9001234"],[,,"NA","NA"],[,,"70[0-2]\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"EE",372,"00",,,,,,,,[[,"([3-79]\\d{2})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]"],"","",0],[,"(70)(\\d{2})(\\d{4})","$1 $2 $3",["70"],"","",0],[,"(8000)(\\d{3})(\\d{3})","$1 $2 $3",["800","8000"],"","",0],[,"([458]\\d{3})(\\d{3,4})","$1 $2",["40|5|8(?:00|[1-5])","40|5|8(?:00[1-9]|[1-5])"],"","",0]],,[,,"NA","NA"],,,[,,"1\\d{3,4}|800[2-9]\\d{3}","\\d{4,7}",,,"8002123"],[,,"1(?:2[01245]|3[0-6]|4[1-489]|5[0-59]|6[1-46-9]|7[0-27-9]|8[189]|9[012])\\d{1,2}","\\d{4,5}",,,"12123"],,,[,,"NA","NA"]],"EG":[,[,,"1\\d{4,9}|[2456]\\d{8}|3\\d{7}|[89]\\d{8,9}","\\d{5,10}"],[,,"(?:1(?:3[23]\\d|5(?:[23]|9\\d))|2[2-4]\\d{2}|3\\d{2}|4(?:0[2-5]|[578][23]|64)\\d|5(?:0[2-7]|[57][23])\\d|6[24-689]3\\d|8(?:2[2-57]|4[26]|6[237]|8[2-4])\\d|9(?:2[27]|3[24]|52|6[2356]|7[2-4])\\d)\\d{5}|1[69]\\d{3}","\\d{5,9}",,,"234567890"],[,,"1(?:0[0-269]|1[0-245]|2[0-278])\\d{7}","\\d{10}",,,"1001234567"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"EG",20,"00","0",,,"0",,,,[[,"(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1[012]|[89]00"],"0$1","",0],[,"(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|[89][2-9]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"EH":[,[,,"[5689]\\d{8}","\\d{9}"],[,,"528[89]\\d{5}","\\d{9}",,,"528812345"],[,,"6(?:0[0-8]|[12-79]\\d|8[01])\\d{6}","\\d{9}",,,"650123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89\\d{7}","\\d{9}",,,"891234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"EH",212,"00","0",,,"0",,,,,,[,,"NA","NA"],,"528[89]",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"ER":[,[,,"[178]\\d{6}","\\d{6,7}"],[,,"1(?:1[12568]|20|40|55|6[146])\\d{4}|8\\d{6}","\\d{6,7}",,,"8370362"],[,,"17[1-3]\\d{4}|7\\d{6}","\\d{7}",,,"7123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ER",291,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"ES":[,[,,"[5-9]\\d{8}","\\d{9}"],[,,"8(?:[13]0|[28][0-8]|[47][1-9]|5[01346-9]|6[0457-9])\\d{6}|9(?:[1238][0-8]\\d{6}|4[1-9]\\d{6}|5\\d{7}|6(?:[0-8]\\d{6}|9(?:0(?:[0-57-9]\\d{4}|6(?:0[0-8]|1[1-9]|[2-9]\\d)\\d{2})|[1-9]\\d{5}))|7(?:[124-9]\\d{2}|3(?:[0-8]\\d|9[1-9]))\\d{4})","\\d{9}",,,"810123456"],[,,"(?:6\\d{6}|7[1-4]\\d{5}|9(?:6906(?:09|10)|7390\\d{2}))\\d{2}","\\d{9}",,,"612345678"],[,,"[89]00\\d{6}","\\d{9}",,,"800123456"],[,,"80[367]\\d{6}","\\d{9}",,,"803123456"],[,,"90[12]\\d{6}","\\d{9}",,,"901123456"],[,,"70\\d{7}","\\d{9}",,,"701234567"],[,,"NA","NA"],"ES",34,"00",,,,,,,,[[,"([5-9]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[568]|[79][0-8]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"51\\d{7}","\\d{9}",,,"511234567"],,,[,,"NA","NA"]],"ET":[,[,,"[1-59]\\d{8}","\\d{7,9}"],[,,"(?:11(?:1(?:1[124]|2[2-57]|3[1-5]|5[5-8]|8[6-8])|2(?:13|3[6-8]|5[89]|7[05-9]|8[2-6])|3(?:2[01]|3[0-289]|4[1289]|7[1-4]|87)|4(?:1[69]|3[2-49]|4[0-3]|6[5-8])|5(?:1[57]|44|5[0-4])|6(?:18|2[69]|4[5-7]|5[1-5]|6[0-59]|8[015-8]))|2(?:2(?:11[1-9]|22[0-7]|33\\d|44[1467]|66[1-68])|5(?:11[124-6]|33[2-8]|44[1467]|55[14]|66[1-3679]|77[124-79]|880))|3(?:3(?:11[0-46-8]|22[0-6]|33[0134689]|44[04]|55[0-6]|66[01467])|4(?:44[0-8]|55[0-69]|66[0-3]|77[1-5]))|4(?:6(?:22[0-24-7]|33[1-5]|44[13-69]|55[14-689]|660|88[1-4])|7(?:11[1-9]|22[1-9]|33[13-7]|44[13-6]|55[1-689]))|5(?:7(?:227|55[05]|(?:66|77)[14-8])|8(?:11[149]|22[013-79]|33[0-68]|44[013-8]|550|66[1-5]|77\\d)))\\d{4}","\\d{7,9}",,,"111112345"],[,,"9(?:[1-3]\\d|5[89])\\d{6}","\\d{9}",,,"911234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ET",251,"00","0",,,"0",,,,[[,"([1-59]\\d)(\\d{3})(\\d{4})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"FI":[,[,,"1\\d{4,11}|[2-9]\\d{4,10}","\\d{5,12}"],[,,"1(?:[3569][1-8]\\d{3,9}|[47]\\d{5,10})|2[1-8]\\d{3,9}|3(?:[1-8]\\d{3,9}|9\\d{4,8})|[5689][1-8]\\d{3,9}","\\d{5,12}",,,"1312345678"],[,,"4\\d{5,10}|50\\d{4,8}","\\d{6,11}",,,"412345678"],[,,"800\\d{4,7}","\\d{7,10}",,,"8001234567"],[,,"[67]00\\d{5,6}","\\d{8,9}",,,"600123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FI",358,"00|99[049]","0",,,"0",,,,[[,"(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]00|[6-8]0)"],"0$1","",0],[,"(\\d{2})(\\d{4,10})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1","",0],[,"(\\d)(\\d{4,11})","$1 $2",["[25689][1-8]|3"],"0$1","",0]],,[,,"NA","NA"],1,,[,,"[13]00\\d{3,7}|2(?:0(?:0\\d{3,7}|2[023]\\d{1,6}|9[89]\\d{1,6}))|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"100123"],[,,"[13]0\\d{4,8}|2(?:0(?:[016-8]\\d{3,7}|[2-59]\\d{2,7})|9\\d{4,8})|60(?:[12]\\d{5,6}|6\\d{7})|7(?:1\\d{7}|3\\d{8}|5[03-9]\\d{2,7})","\\d{5,10}",,,"10112345"],,,[,,"NA","NA"]],"FJ":[,[,,"[36-9]\\d{6}|0\\d{10}","\\d{7}(?:\\d{4})?"],[,,"(?:3[0-5]|6[25-7]|8[58])\\d{5}","\\d{7}",,,"3212345"],[,,"(?:7[0-8]|8[034679]|9\\d)\\d{5}","\\d{7}",,,"7012345"],[,,"0800\\d{7}","\\d{11}",,,"08001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FJ",679,"0(?:0|52)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1 $2",["[36-9]"],"","",0],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"FK":[,[,,"[2-7]\\d{4}","\\d{5}"],[,,"[2-47]\\d{4}","\\d{5}",,,"31234"],[,,"[56]\\d{4}","\\d{5}",,,"51234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FK",500,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"FM":[,[,,"[39]\\d{6}","\\d{7}"],[,,"3[2357]0[1-9]\\d{3}|9[2-6]\\d{5}","\\d{7}",,,"3201234"],[,,"3[2357]0[1-9]\\d{3}|9[2-7]\\d{5}","\\d{7}",,,"3501234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"FM",691,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"FO":[,[,,"[2-9]\\d{5}","\\d{6}"],[,,"(?:20|[3-4]\\d|8[19])\\d{4}","\\d{6}",,,"201234"],[,,"(?:2[1-9]|5\\d|7[1-79])\\d{4}","\\d{6}",,,"211234"],[,,"80[257-9]\\d{3}","\\d{6}",,,"802123"],[,,"90(?:[1345][15-7]|2[125-7]|99)\\d{2}","\\d{6}",,,"901123"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:6[0-36]|88)\\d{4}","\\d{6}",,,"601234"],"FO",298,"00",,,,"(10(?:01|[12]0|88))",,,,[[,"(\\d{6})","$1",,"","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"FR":[,[,,"[1-9]\\d{8}","\\d{9}"],[,,"[1-5]\\d{8}","\\d{9}",,,"123456789"],[,,"6\\d{8}|7(?:00\\d{6}|[3-9]\\d{7})","\\d{9}",,,"612345678"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89[1-37-9]\\d{6}","\\d{9}",,,"891123456"],[,,"8(?:1[019]|2[0156]|84|90)\\d{6}","\\d{9}",,,"810123456"],[,,"NA","NA"],[,,"9\\d{8}","\\d{9}",,,"912345678"],"FR",33,"00","0",,,"0",,,,[[,"([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1","",0],[,"(1\\d{2})(\\d{3})","$1 $2",["11"],"$1","",0],[,"(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1","",0]],[[,"([1-79])(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1","",0],[,"(8\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1","",0]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],
"GA":[,[,,"0?\\d{7}","\\d{7,8}"],[,,"01\\d{6}","\\d{8}",,,"01441234"],[,,"0?[2-7]\\d{6}","\\d{7,8}",,,"06031234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GA",241,"00",,,,,,,,[[,"(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"GB":[,[,,"\\d{7,10}","\\d{4,10}"],[,,"2(?:0[01378]|3[0189]|4[017]|8[0-46-9]|9[012])\\d{7}|1(?:(?:1(?:3[0-48]|[46][0-4]|5[012789]|7[0-49]|8[01349])|21[0-7]|31[0-8]|[459]1\\d|61[0-46-9]))\\d{6}|1(?:2(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-4789]|7[013-9]|9\\d)|3(?:0\\d|[25][02-9]|3[02-579]|[468][0-46-9]|7[1235679]|9[24578])|4(?:0[03-9]|[28][02-5789]|[37]\\d|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1235-9]|2[024-9]|3[015689]|4[02-9]|5[03-9]|6\\d|7[0-35-9]|8[0-468]|9[0-5789])|6(?:0[034689]|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0124578])|7(?:0[0246-9]|2\\d|3[023678]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-5789]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|2[02-689]|3[1-5789]|4[2-9]|5[0-579]|6[234789]|7[0124578]|8\\d|9[2-57]))\\d{6}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-4789]|8[345])))|3(?:638[2-5]|647[23]|8(?:47[04-9]|64[015789]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[123]))|5(?:24(?:3[2-79]|6\\d)|276\\d|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[567]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|955[0-4])|7(?:26(?:6[13-9]|7[0-7])|442\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|84(?:3[2-58]))|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}|176888[234678]\\d{2}|16977[23]\\d{3}","\\d{4,10}",,,"1212345678"],[,,"7(?:[1-4]\\d\\d|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[04-9]\\d|1[02-9]|2[0-35-9]|3[0-689]))\\d{6}","\\d{10}",,,"7400123456"],[,,"80(?:0(?:1111|\\d{6,7})|8\\d{7})|500\\d{6}","\\d{7}(?:\\d{2,3})?",,,"8001234567"],[,,"(?:87[123]|9(?:[01]\\d|8[2349]))\\d{7}","\\d{10}",,,"9012345678"],[,,"8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})","\\d{7}(?:\\d{3})?",,,"8431234567"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"GB",44,"00","0"," x",,"0",,,,[[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2|5[56]|7(?:0|6[013-9])","2|5[56]|7(?:0|6(?:[013-9]|2[0-35-9]))"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:1|\\d1)|3|9[018]"],"0$1","",0],[,"(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:387|5(?:24|39)|697|768|946)","1(?:3873|5(?:242|39[456])|697[347]|768[347]|9467)"],"0$1","",0],[,"(1\\d{3})(\\d{5,6})","$1 $2",["1"],"0$1","",0],[,"(7\\d{3})(\\d{6})","$1 $2",["7(?:[1-5789]|62)","7(?:[1-5789]|624)"],"0$1","",0],[,"(800)(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1","",0],[,"(845)(46)(4\\d)","$1 $2 $3",["845","8454","84546","845464"],"0$1","",0],[,"(8\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:4[2-5]|7[0-3])"],"0$1","",0],[,"(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1","",0],[,"([58]00)(\\d{6})","$1 $2",["[58]00"],"0$1","",0]],,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","\\d{10}",,,"7640123456"],1,,[,,"NA","NA"],[,,"(?:3[0347]|55)\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],"GD":[,[,,"[4589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"473(?:2(?:3[0-2]|69)|3(?:2[89]|86)|4(?:[06]8|3[5-9]|4[0-49]|5[5-79]|68|73|90)|63[68]|7(?:58|84)|800|938)\\d{4}","\\d{7}(?:\\d{3})?",,,"4732691234"],[,,"473(?:4(?:0[2-79]|1[04-9]|20|58)|5(?:2[01]|3[3-8])|901)\\d{4}","\\d{10}",,,"4734031234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"GD",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"473",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GE":[,[,,"[34578]\\d{8}","\\d{6,9}"],[,,"(?:3(?:[256]\\d|4[124-9]|7[0-4])|4(?:1\\d|2[2-7]|3[1-79]|4[2-8]|7[239]|9[1-7]))\\d{6}","\\d{6,9}",,,"322123456"],[,,"5(?:14|5[01578]|68|7[0147-9]|9[0-35-9])\\d{6}","\\d{9}",,,"555123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"706\\d{6}","\\d{9}",,,"706123456"],"GE",995,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5"],"$1","",0]],,[,,"NA","NA"],,,[,,"706\\d{6}","\\d{9}",,,"706123456"],[,,"NA","NA"],,,[,,"NA","NA"]],"GF":[,[,,"[56]\\d{8}","\\d{9}"],[,,"594(?:10|2[012457-9]|3[0-57-9]|4[3-9]|5[7-9]|6[0-3]|9[014])\\d{4}","\\d{9}",,,"594101234"],[,,"694(?:[04][0-7]|1[0-5]|3[018]|[29]\\d)\\d{4}","\\d{9}",,,"694201234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GF",594,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GG":[,[,,"[135789]\\d{6,9}","\\d{6,10}"],[,,"1481\\d{6}","\\d{6,10}",,,"1481456789"],[,,"7(?:781|839|911)\\d{6}","\\d{10}",,,"7781123456"],[,,"80(?:0(?:1111|\\d{6,7})|8\\d{7})|500\\d{6}","\\d{7}(?:\\d{2,3})?",,,"8001234567"],[,,"(?:87[123]|9(?:[01]\\d|8[0-3]))\\d{7}","\\d{10}",,,"9012345678"],[,,"8(?:4(?:5464\\d|[2-5]\\d{7})|70\\d{7})","\\d{7}(?:\\d{3})?",,,"8431234567"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"GG",44,"00","0"," x",,"0",,,,,,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","\\d{10}",,,"7640123456"],,,[,,"NA","NA"],[,,"(?:3[0347]|55)\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],"GH":[,[,,"[235]\\d{8}|8\\d{7}","\\d{7,9}"],[,,"3(?:0[237]\\d|[167](?:2[0-6]|7\\d)|2(?:2[0-5]|7\\d)|3(?:2[0-3]|7\\d)|4(?:2[013-9]|3[01]|7\\d)|5(?:2[0-7]|7\\d)|8(?:2[0-2]|7\\d)|9(?:20|7\\d))\\d{5}","\\d{7,9}",,,"302345678"],[,,"(?:2[034678]\\d|5(?:[047]\\d|5[3-6]|6[01]))\\d{6}","\\d{9}",,,"231234567"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GH",233,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1","",0],[,"(\\d{3})(\\d{5})","$1 $2",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],,,[,,"NA","NA"]],"GI":[,[,,"[2568]\\d{7}","\\d{8}"],[,,"2(?:00\\d|1(?:6[24-7]|9\\d)|2(?:00|2[2457]))\\d{4}","\\d{8}",,,"20012345"],[,,"(?:5[46-8]|62)\\d{6}","\\d{8}",,,"57123456"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"8[1-689]\\d{6}","\\d{8}",,,"88123456"],[,,"87\\d{6}","\\d{8}",,,"87123456"],[,,"NA","NA"],[,,"NA","NA"],"GI",350,"00",,,,,,,,[[,"(\\d{3})(\\d{5})","$1 $2",["2"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GL":[,[,,"[1-689]\\d{5}","\\d{6}"],[,,"(?:19|3[1-6]|6[14689]|8[14-79]|9\\d)\\d{4}","\\d{6}",,,"321000"],[,,"[245][2-9]\\d{4}","\\d{6}",,,"221234"],[,,"80\\d{4}","\\d{6}",,,"801234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"3[89]\\d{4}","\\d{6}",,,"381234"],"GL",299,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GM":[,[,,"[2-9]\\d{6}","\\d{7}"],[,,"(?:4(?:[23]\\d{2}|4(?:1[024679]|[6-9]\\d))|5(?:54[0-7]|6(?:[67]\\d)|7(?:1[04]|2[035]|3[58]|48))|8\\d{3})\\d{3}","\\d{7}",,,"5661234"],[,,"(?:2[0-6]|[3679]\\d)\\d{5}","\\d{7}",,,"3012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GM",220,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GN":[,[,,"[367]\\d{7,8}","\\d{8,9}"],[,,"30(?:24|3[12]|4[1-35-7]|5[13]|6[189]|[78]1|9[1478])\\d{4}","\\d{8}",,,"30241234"],[,,"6[02356]\\d{7}","\\d{9}",,,"601123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"722\\d{6}","\\d{9}",,,"722123456"],"GN",224,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"],"","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GP":[,[,,"[56]\\d{8}","\\d{9}"],[,,"590(?:0[13468]|1[012]|2[0-68]|3[28]|4[0-8]|5[579]|6[0189]|70|8[0-689]|9\\d)\\d{4}","\\d{9}",,,"590201234"],[,,"690(?:0[0-7]|[1-9]\\d)\\d{4}","\\d{9}",,,"690301234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GP",590,"00","0",,,"0",,,,[[,"([56]90)(\\d{2})(\\d{4})","$1 $2-$3",,"0$1","",0]],,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GQ":[,[,,"[23589]\\d{8}","\\d{9}"],[,,"3(?:3(?:3\\d[7-9]|[0-24-9]\\d[46])|5\\d{2}[7-9])\\d{4}","\\d{9}",,,"333091234"],[,,"(?:222|551)\\d{6}","\\d{9}",,,"222123456"],[,,"80\\d[1-9]\\d{5}","\\d{9}",,,"800123456"],[,,"90\\d[1-9]\\d{5}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GQ",240,"00",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"],"","",0],[,"(\\d{3})(\\d{6})","$1 $2",["[89]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GR":[,[,,"[26-9]\\d{9}","\\d{10}"],[,,"2(?:1\\d{2}|2(?:2[1-46-9]|3[1-8]|4[1-7]|5[1-4]|6[1-8]|7[1-5]|[89][1-9])|3(?:1\\d|2[1-57]|[35][1-3]|4[13]|7[1-7]|8[124-6]|9[1-79])|4(?:1\\d|2[1-8]|3[1-4]|4[13-5]|6[1-578]|9[1-5])|5(?:1\\d|[29][1-4]|3[1-5]|4[124]|5[1-6])|6(?:1\\d|3[1245]|4[1-7]|5[13-9]|[269][1-6]|7[14]|8[1-5])|7(?:1\\d|2[1-5]|3[1-6]|4[1-7]|5[1-57]|6[135]|9[125-7])|8(?:1\\d|2[1-5]|[34][1-4]|9[1-57]))\\d{6}","\\d{10}",,,"2123456789"],[,,"69\\d{8}","\\d{10}",,,"6912345678"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"90[19]\\d{7}","\\d{10}",,,"9091234567"],[,,"8(?:0[16]|12|25)\\d{7}","\\d{10}",,,"8011234567"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"NA","NA"],"GR",30,"00",,,,,,,,[[,"([27]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["21|7"],"","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["2[2-9]1|[689]"],"","",0],[,"(2\\d{3})(\\d{6})","$1 $2",["2[2-9][02-9]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GT":[,[,,"[2-7]\\d{7}|1[89]\\d{9}","\\d{8}(?:\\d{3})?"],[,,"[267][2-9]\\d{6}","\\d{8}",,,"22456789"],[,,"[345]\\d{7}","\\d{8}",,,"51234567"],[,,"18[01]\\d{8}","\\d{11}",,,"18001112222"],[,,"19\\d{9}","\\d{11}",,,"19001112222"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GT",502,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[2-7]"],"","",0],[,"(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GU":[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:56|7[1-9]|8[236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[5-9])|7(?:[079]7|2[0167]|3[45]|8[789])|8(?:[2-5789]8|6[48])|9(?:2[29]|6[79]|7[179]|8[789]|9[78]))\\d{4}","\\d{7}(?:\\d{3})?",,,"6713001234"],[,,"671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:56|7[1-9]|8[236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[5-9])|7(?:[079]7|2[0167]|3[45]|8[789])|8(?:[2-5789]8|6[48])|9(?:2[29]|6[79]|7[179]|8[789]|9[78]))\\d{4}","\\d{7}(?:\\d{3})?",,,"6713001234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"GU",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"671",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GW":[,[,,"[3-79]\\d{6}","\\d{7}"],[,,"3(?:2[0125]|3[1245]|4[12]|5[1-4]|70|9[1-467])\\d{4}","\\d{7}",,,"3201234"],[,,"(?:[5-7]\\d|9[012])\\d{5}","\\d{7}",,,"5012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"40\\d{5}","\\d{7}",,,"4012345"],"GW",245,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"GY":[,[,,"[2-4679]\\d{6}","\\d{7}"],[,,"(?:2(?:1[6-9]|2[0-35-9]|3[1-4]|5[3-9]|6\\d|7[0-24-79])|3(?:2[25-9]|3\\d)|4(?:4[0-24]|5[56])|77[1-57])\\d{4}","\\d{7}",,,"2201234"],[,,"6\\d{6}","\\d{7}",,,"6091234"],[,,"(?:289|862)\\d{4}","\\d{7}",,,"2891234"],[,,"9008\\d{3}","\\d{7}",,,"9008123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"GY",592,"001",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"HK":[,[,,"[235-7]\\d{7}|8\\d{7,8}|9\\d{4,10}","\\d{5,11}"],[,,"(?:[23]\\d|5[78])\\d{6}","\\d{8}",,,"21234567"],[,,"(?:5[1-69]\\d|6\\d{2}|9(?:0[1-9]|[1-8]\\d))\\d{5}","\\d{8}",,,"51234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900(?:[0-24-9]\\d{7}|3\\d{1,4})","\\d{5,11}",,,"90012345678"],[,,"NA","NA"],[,,"8[1-3]\\d{6}","\\d{8}",,,"81123456"],[,,"NA","NA"],"HK",852,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[235-7]|[89](?:0[1-9]|[1-9])"],"","",0],[,"(800)(\\d{3})(\\d{3})","$1 $2 $3",["800"],"","",0],[,"(900)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["900"],"","",0],[,"(900)(\\d{2,5})","$1 $2",["900"],"","",0]],,[,,"7\\d{7}","\\d{8}",,,"71234567"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"HN":[,[,,"[237-9]\\d{7}","\\d{8}"],[,,"2(?:2(?:0[019]|1[1-36]|[23]\\d|4[056]|5[57]|7[01389]|8[0146-9]|9[012])|4(?:2[3-59]|3[13-689]|4[0-68]|5[1-35])|5(?:4[3-5]|5\\d|6[56]|74)|6(?:[056]\\d|34|4[0-378]|[78][0-8]|9[01])|7(?:6[46-9]|7[02-9]|8[34])|8(?:79|8[0-35789]|9[1-57-9]))\\d{4}","\\d{8}",,,"22123456"],[,,"[37-9]\\d{7}","\\d{8}",,,"91234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"HN",504,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1-$2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"HR":[,[,,"[1-7]\\d{5,8}|[89]\\d{6,11}","\\d{6,12}"],[,,"1\\d{7}|(?:2[0-3]|3[1-5]|4[02-47-9]|5[1-3])\\d{6,7}","\\d{6,9}",,,"12345678"],[,,"9(?:[1-9]\\d{6,10}|01\\d{6,9})","\\d{8,12}",,,"912345678"],[,,"80[01]\\d{4,7}","\\d{7,10}",,,"8001234567"],[,,"6(?:[01459]\\d{4,7})","\\d{6,9}",,,"611234"],[,,"NA","NA"],[,,"7[45]\\d{4,7}","\\d{6,9}",,,"741234567"],[,,"NA","NA"],"HR",385,"00","0",,,"0",,,,[[,"(1)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1","",0],[,"(6[09])(\\d{4})(\\d{3})","$1 $2 $3",["6[09]"],"0$1","",0],[,"([67]2)(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]2"],"0$1","",0],[,"([2-5]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1","",0],[,"(9\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1","",0],[,"(9\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9"],"0$1","",0],[,"(9\\d)(\\d{3,4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[0145]|7"],"0$1","",0],[,"(\\d{2})(\\d{3,4})(\\d{3})","$1 $2 $3",["6[0145]|7"],"0$1","",0],[,"(80[01])(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1","",0],[,"(80[01])(\\d{3,4})(\\d{3})","$1 $2 $3",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"[76]2\\d{6,7}","\\d{8,9}",,,"62123456"],,,[,,"NA","NA"]],"HT":[,[,,"[2-489]\\d{7}","\\d{8}"],[,,"2(?:[24]\\d|5[1-5]|94)\\d{5}","\\d{8}",,,"22453300"],[,,"(?:3[1-9]|4\\d)\\d{6}","\\d{8}",,,"34101234"],[,,"8\\d{7}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"98[89]\\d{5}","\\d{8}",,,"98901234"],"HT",509,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"HU":[,[,,"[1-9]\\d{7,8}","\\d{6,9}"],[,,"(?:1\\d|2(?:1\\d|[2-9])|3(?:[2-7]|8\\d)|4[24-9]|5[2-79]|6[23689]|7(?:1\\d|[2-9])|8[2-57-9]|9[2-69])\\d{6}","\\d{6,9}",,,"12345678"],[,,"(?:[257]0|3[01])\\d{7}","\\d{9}",,,"201234567"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"9[01]\\d{6}","\\d{8}",,,"90123456"],[,,"40\\d{6}","\\d{8}",,,"40123456"],[,,"NA","NA"],[,,"NA","NA"],"HU",36,"00","06",,,"06",,,,[[,"(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"($1)","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"($1)","",0]],,[,,"NA","NA"],,,[,,"[48]0\\d{6}","\\d{8}",,,"80123456"],[,,"NA","NA"],,,[,,"NA","NA"]],"ID":[,[,,"[1-9]\\d{6,10}","\\d{5,11}"],[,,"2(?:1(?:14\\d{3}|[0-8]\\d{6,7}|500\\d{3}|9\\d{6})|2\\d{6,8}|4\\d{7,8})|(?:2(?:[35][1-4]|6[0-8]|7[1-6]|8\\d|9[1-8])|3(?:1|[25][1-8]|3[1-68]|4[1-3]|6[1-3568]|7[0-469]|8\\d)|4(?:0[1-589]|1[01347-9]|2[0-36-8]|3[0-24-68]|43|5[1-378]|6[1-5]|7[134]|8[1245])|5(?:1[1-35-9]|2[25-8]|3[124-9]|4[1-3589]|5[1-46]|6[1-8])|6(?:19?|[25]\\d|3[1-69]|4[1-6])|7(?:02|[125][1-9]|[36]\\d|4[1-8]|7[0-36-9])|9(?:0[12]|1[013-8]|2[0-479]|5[125-8]|6[23679]|7[159]|8[01346]))\\d{5,8}","\\d{5,11}",,,"612345678"],[,,"(?:2(?:1(?:3[145]|4[01]|5[1-469]|60|8[0359]|9\\d)|2(?:88|9[1256])|3[1-4]9|4(?:36|91)|5(?:1[349]|[2-4]9)|6[0-7]9|7(?:[1-36]9|4[39])|8[1-5]9|9[1-48]9)|3(?:19[1-3]|2[12]9|3[13]9|4(?:1[69]|39)|5[14]9|6(?:1[69]|2[89])|709)|4[13]19|5(?:1(?:19|8[39])|4[129]9|6[12]9)|6(?:19[12]|2(?:[23]9|77))|7(?:1[13]9|2[15]9|419|5(?:1[89]|29)|6[15]9|7[178]9))\\d{5,6}|8[1-35-9]\\d{7,9}","\\d{9,11}",,,"812345678"],[,,"177\\d{6,8}|800\\d{5,7}","\\d{8,11}",,,"8001234567"],[,,"809\\d{7}","\\d{10}",,,"8091234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ID",62,"0(?:0[1789]|10(?:00|1[67]))","0",,,"0",,,,[[,"(\\d{2})(\\d{5,8})","$1 $2",["2[124]|[36]1"],"(0$1)","",0],[,"(\\d{3})(\\d{5,8})","$1 $2",["[4579]|2[035-9]|[36][02-9]"],"(0$1)","",0],[,"(8\\d{2})(\\d{3,4})(\\d{3,4})","$1-$2-$3",["8[1-35-9]"],"0$1","",0],[,"(177)(\\d{6,8})","$1 $2",["1"],"0$1","",0],[,"(800)(\\d{5,7})","$1 $2",["800"],"0$1","",0],[,"(80\\d)(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80[79]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"8071\\d{6}","\\d{10}",,,"8071123456"],[,,"8071\\d{6}","\\d{10}",,,"8071123456"],,,[,,"NA","NA"]],"IE":[,[,,"[124-9]\\d{6,9}","\\d{5,10}"],[,,"1\\d{7,8}|2(?:1\\d{6,7}|3\\d{7}|[24-9]\\d{5})|4(?:0[24]\\d{5}|[1-469]\\d{7}|5\\d{6}|7\\d{5}|8[0-46-9]\\d{7})|5(?:0[45]\\d{5}|1\\d{6}|[23679]\\d{7}|8\\d{5})|6(?:1\\d{6}|[237-9]\\d{5}|[4-6]\\d{7})|7[14]\\d{7}|9(?:1\\d{6}|[04]\\d{7}|[35-9]\\d{5})","\\d{5,10}",,,"2212345"],[,,"8(?:22\\d{6}|[35-9]\\d{7})","\\d{9}",,,"850123456"],[,,"1800\\d{6}","\\d{10}",,,"1800123456"],[,,"15(?:1[2-8]|[2-8]0|9[089])\\d{6}","\\d{10}",,,"1520123456"],[,,"18[59]0\\d{6}","\\d{10}",,,"1850123456"],[,,"700\\d{6}","\\d{9}",,,"700123456"],[,,"76\\d{7}","\\d{9}",,,"761234567"],"IE",353,"00","0",,,"0",,,,[[,"(1)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)","",0],[,"(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)","",0],[,"(\\d{3})(\\d{5})","$1 $2",["40[24]|50[45]"],"(0$1)","",0],[,"(48)(\\d{4})(\\d{4})","$1 $2 $3",["48"],"(0$1)","",0],[,"(818)(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[24-69]|7[14]"],"(0$1)","",0],[,"([78]\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["76|8[35-9]"],"0$1","",0],[,"(700)(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1","",0],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:8[059]|5)","1(?:8[059]0|5)"],"$1","",0]],,[,,"NA","NA"],,,[,,"18[59]0\\d{6}","\\d{10}",,,"1850123456"],[,,"818\\d{6}","\\d{9}",,,"818123456"],,,[,,"8[35-9]\\d{8}","\\d{10}",,,"8501234567"]],"IL":[,[,,"[17]\\d{6,9}|[2-589]\\d{3}(?:\\d{3,6})?|6\\d{3}","\\d{4,10}"],[,,"[2-489]\\d{7}","\\d{7,8}",,,"21234567"],[,,"5(?:[02-47-9]\\d{2}|5(?:01|2[23]|3[34]|4[45]|5[5689]|6[67]|7[0178]|[89][6-9])|6[2-9]\\d)\\d{5}","\\d{9}",,,"501234567"],[,,"1(?:80[019]\\d{3}|255)\\d{3}","\\d{7,10}",,,"1800123456"],[,,"1(?:212|(?:9(?:0[01]|19)|200)\\d{2})\\d{4}","\\d{8,10}",,,"1919123456"],[,,"1700\\d{6}","\\d{10}",,,"1700123456"],[,,"NA","NA"],[,,"7(?:18\\d|2[23]\\d|3[237]\\d|47\\d|6(?:5\\d|8[0168])|7\\d{2}|8(?:2\\d|33|55|77|81)|99\\d)\\d{5}","\\d{9}",,,"771234567"],"IL",972,"0(?:0|1[2-9])","0",,,"0",,,,[[,"([2-489])(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1","",0],[,"([57]\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1","",0],[,"(1)([7-9]\\d{2})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"],"$1","",0],[,"(1255)(\\d{3})","$1-$2",["125"],"$1","",0],[,"(1200)(\\d{3})(\\d{3})","$1-$2-$3",["120"],"$1","",0],[,"(1212)(\\d{2})(\\d{2})","$1-$2-$3",["121"],"$1","",0],[,"(1599)(\\d{6})","$1-$2",["15"],"$1","",0],[,"(\\d{4})","*$1",["[2-689]"],"$1","",0]],,[,,"NA","NA"],,,[,,"1700\\d{6}|[2-689]\\d{3}","\\d{4,10}",,,"1700123456"],[,,"[2-689]\\d{3}|1599\\d{6}","\\d{4}(?:\\d{6})?",,,"1599123456"],,,[,,"NA","NA"]],"IM":[,[,,"[135789]\\d{6,9}","\\d{6,10}"],[,,"1624\\d{6}","\\d{6,10}",,,"1624456789"],[,,"7[569]24\\d{6}","\\d{10}",,,"7924123456"],[,,"808162\\d{4}","\\d{10}",,,"8081624567"],[,,"(?:872299|90[0167]624)\\d{4}","\\d{10}",,,"9016247890"],[,,"8(?:4(?:40[49]06|5624\\d)|70624\\d)\\d{3}","\\d{10}",,,"8456247890"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"IM",44,"00","0"," x",,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"3(?:08162\\d|3\\d{5}|4(?:40[49]06|5624\\d)|7(?:0624\\d|2299\\d))\\d{3}|55\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],"IN":[,[,,"1\\d{7,12}|[2-9]\\d{9,10}","\\d{6,13}"],[,,"(?:11|2[02]|33|4[04]|79)[2-7]\\d{7}|80[2-467]\\d{7}|(?:1(?:2[0-249]|3[0-25]|4[145]|[59][14]|6[014]|7[1257]|8[01346])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)|7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91))[2-7]\\d{6}|(?:(?:1(?:2[35-8]|3[346-9]|4[236-9]|[59][0235-9]|6[235-9]|7[34689]|8[257-9])|2(?:1[134689]|3[24-8]|4[2-8]|5[25689]|6[2-4679]|7[13-79]|8[2-479]|9[235-9])|3(?:01|1[79]|2[1-5]|4[25-8]|5[125689]|6[235-7]|7[157-9]|8[2-467])|4(?:1[14578]|2[5689]|3[2-467]|5[4-7]|6[35]|73|8[2689]|9[2389])|5(?:[16][146-9]|2[14-8]|3[1346]|4[14-69]|5[46]|7[2-4]|8[2-8]|9[246])|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|[57][2-689]|6[24-578]|8[1-6])|8(?:1[1357-9]|2[235-8]|3[03-57-9]|4[0-24-9]|5\\d|6[2457-9]|7[1-6]|8[1256]|9[2-4]))\\d|7(?:(?:1[013-9]|2[0235-9]|3[2679]|4[1-35689]|5[2-46-9]|[67][02-9]|9\\d)\\d|8(?:2[0-6]|[013-8]\\d)))[2-7]\\d{5}","\\d{6,10}",,,"1123456789"],[,,"(?:7(?:0(?:2[2-9]|[3-8]\\d|9[0-8])|2(?:[079]\\d|1[089]|2[0-79]|3[0-29]|4[89]|5[047-9]|6[015-9]|8[0-59])|3(?:[058]\\d|10|7[3679]|9[689])|4(?:0[1-9]|1[15-9]|[29][89]|39|8[389])|5(?:[034678]\\d|2[03-9]|5[017-9]|9[7-9])|6(?:0[0127]|1[0-257-9]|2[0-4]|3[19]|5[4589]|[6-9]\\d)|7(?:0[2-9]|[1-79]\\d|8[1-9])|8(?:[0-7]\\d|9[013-9]))|8(?:0(?:[01589]\\d|6[67])|1(?:[02-589]\\d|1[0135-9]|7[0-79])|2(?:[236-9]\\d|5[1-9])|3(?:[0357-9]\\d|4[1-9])|[45]\\d{2}|6[02457-9]\\d|7[1-69]\\d|8(?:[0-26-9]\\d|44|5[2-9])|9(?:[035-9]\\d|2[2-9]|4[0-8]))|9\\d{3})\\d{6}","\\d{10}",,,"9123456789"],[,,"1(?:600\\d{6}|80(?:0\\d{4,9}|3\\d{9}))","\\d{8,13}",,,"1800123456"],[,,"186[12]\\d{9}","\\d{13}",,,"1861123456789"],[,,"1860\\d{7}","\\d{11}",,,"18603451234"],[,,"NA","NA"],[,,"NA","NA"],"IN",91,"00","0",,,"0",,,,[[,"(\\d{5})(\\d{5})","$1 $2",["7(?:0[2-9]|[257]|3[057-9]|4[0-389]|6[0-35-9]|8[0-79])|8(?:0[015689]|1[0-57-9]|2[2356-9]|3[0-57-9]|[45]|6[02457-9]|7[1-69]|8[0124-9]|9[02-9])|9","7(?:0(?:2[2-9]|[3-8]|9[0-8])|2(?:[079]\\d|1[089]|2[0-79]|3[0-29]|4[89]|5[047-9]|6[015-9]|8[0-59])|3(?:0[1-9]|[58]|7[3679]|9[689])|4(?:0[1-9]|1[15-9]|[29][89]|39|8[389])|5(?:[034678]|2[03-9]|5[017-9]|9[7-9])|6(?:0[0-27]|1[0-257-9]|2[0-4]|3[19]|5[4589]|[6-9])|7(?:0[2-9]|[1-79]|8[1-9])|8(?:[0-7]|9[013-9]))|8(?:0(?:[01589]|6[67])|1(?:[02-589]|1[0135-9]|7[0-79])|2(?:[236-9]|5[1-9])|3(?:[0357-9]|4[1-9])|[45]|6[02457-9]|7[1-69]|8(?:[0-26-9]|44|5[2-9])|9(?:[035-9]|2[2-9]|4[0-8]))|9"],"0$1","",1],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79|80[2-46]"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[569][14]|7[1257]|8[1346]|[68][1-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|[36][25]|22|4[28]|5[12]|[78]1|9[15])|6(?:12|[2345]1|57|6[13]|7[14]|80)"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7(?:12|2[14]|3[134]|4[47]|5[15]|[67]1|88)","7(?:12|2[14]|3[134]|4[47]|5(?:1|5[2-6])|[67]1|88)"],"0$1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)"],"0$1","",1],[,"(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[23579]|[468][1-9])|[2-8]"],"0$1","",1],[,"(1600)(\\d{2})(\\d{4})","$1 $2 $3",["160","1600"],"$1","",1],[,"(1800)(\\d{4,5})","$1 $2",["180","1800"],"$1","",1],[,"(18[06]0)(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],"$1","",1],[,"(140)(\\d{3})(\\d{4})","$1 $2 $3",["140"],"$1","",1],[,"(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18[06]","18(?:0[03]|6[12])"],"$1","",1]],,[,,"NA","NA"],,,[,,"1(?:600\\d{6}|8(?:0(?:0\\d{4,9}|3\\d{9})|6(?:0\\d{7}|[12]\\d{9})))","\\d{8,13}",,,"1800123456"],[,,"140\\d{7}","\\d{10}",,,"1409305260"],,,[,,"NA","NA"]],"IO":[,[,,"3\\d{6}","\\d{7}"],[,,"37\\d{5}","\\d{7}",,,"3709100"],[,,"38\\d{5}","\\d{7}",,,"3801234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"IO",246,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"IQ":[,[,,"[1-7]\\d{7,9}","\\d{6,10}"],[,,"1\\d{7}|(?:2[13-5]|3[02367]|4[023]|5[03]|6[026])\\d{6,7}","\\d{6,9}",,,"12345678"],[,,"7[3-9]\\d{8}","\\d{10}",,,"7912345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"IQ",964,"00","0",,,"0",,,,[[,"(1)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1","",0],[,"([2-6]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1","",0],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"IR":[,[,,"[1-8]\\d{9}|9(?:[0-4]\\d{8}|9\\d{2,8})","\\d{4,10}"],[,,"(?:1[137]|2[13-68]|3[1458]|4[145]|5[146-8]|6[146]|7[1467]|8[13467])\\d{8}","\\d{10}",,,"2123456789"],[,,"9(?:0[12]|[1-3]\\d)\\d{7}","\\d{10}",,,"9123456789"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:[2-6]0\\d|993)\\d{7}","\\d{10}",,,"9932123456"],"IR",98,"00","0",,,"0",,,,[[,"(21)(\\d{3,5})","$1 $2",["21"],"0$1","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["9"],"0$1","",0],[,"(\\d{3})(\\d{3})","$1 $2",["9"],"0$1","",0]],,[,,"943\\d{7}","\\d{10}",,,"9432123456"],,,[,,"NA","NA"],[,,"9990\\d{0,6}","\\d{4,10}",,,"9990123456"],,,[,,"NA","NA"]],"IS":[,[,,"[4-9]\\d{6}|38\\d{7}","\\d{7,9}"],[,,"(?:4(?:1[0-24-6]|2[0-7]|[37][0-8]|4[0-245]|5[0-3568]|6\\d|8[0-36-8])|5(?:05|[156]\\d|2[02578]|3[013-7]|4[03-7]|7[0-2578]|8[0-35-9]|9[013-689])|87[23])\\d{4}","\\d{7}",,,"4101234"],[,,"38[589]\\d{6}|(?:6(?:1[1-8]|3[089]|4[0167]|5[019]|[67][0-69]|9\\d)|7(?:5[057]|7\\d|8[0-36-8])|8(?:2[0-5]|3[0-4]|[469]\\d|5[1-9]))\\d{4}","\\d{7,9}",,,"6111234"],[,,"800\\d{4}","\\d{7}",,,"8001234"],[,,"90\\d{5}","\\d{7}",,,"9011234"],[,,"NA","NA"],[,,"NA","NA"],[,,"49\\d{5}","\\d{7}",,,"4921234"],"IS",354,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[4-9]"],"","",0],[,"(3\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["3"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"(?:6(?:2[0-8]|49|8\\d)|87[0189]|95[48])\\d{4}","\\d{7}",,,"6201234"]],"IT":[,[,,"[01589]\\d{5,10}|3(?:[12457-9]\\d{8}|[36]\\d{7,9})","\\d{6,11}"],[,,"0(?:[26]\\d{4,9}|(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2346]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[34578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7})","\\d{6,11}",,,"0212345678"],[,,"3(?:[12457-9]\\d{8}|6\\d{7,8}|3\\d{7,9})","\\d{9,11}",,,"3123456789"],[,,"80(?:0\\d{6}|3\\d{3})","\\d{6,9}",,,"800123456"],[,,"0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})","\\d{6,10}",,,"899123456"],[,,"84(?:[08]\\d{6}|[17]\\d{3})","\\d{6,9}",,,"848123456"],[,,"1(?:78\\d|99)\\d{6}","\\d{9,10}",,,"1781234567"],[,,"55\\d{8}","\\d{10}",,,"5512345678"],"IT",39,"00",,,,,,,,[[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|55"],"","",0],[,"(0[26])(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"],"","",0],[,"(0[26])(\\d{4,6})","$1 $2",["0[26]"],"","",0],[,"(0\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]"],"","",0],[,"(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[245])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|[45][0-4]))"],"","",0],[,"(0\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["0[13-57-9][2-46-8]"],"","",0],[,"(0\\d{3})(\\d{2,6})","$1 $2",["0[13-57-9][2-46-8]"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13]|8(?:00|4[08]|9[59])","[13]|8(?:00|4[08]|9(?:5[5-9]|9))"],"","",0],[,"(\\d{4})(\\d{4})","$1 $2",["894","894[5-9]"],"","",0],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["3"],"","",0]],,[,,"NA","NA"],1,,[,,"848\\d{6}","\\d{9}",,,"848123456"],[,,"NA","NA"],1,,[,,"NA","NA"]],"JE":[,[,,"[135789]\\d{6,9}","\\d{6,10}"],[,,"1534\\d{6}","\\d{6,10}",,,"1534456789"],[,,"7(?:509|7(?:00|97)|829|937)\\d{6}","\\d{10}",,,"7797123456"],[,,"80(?:07(?:35|81)|8901)\\d{4}","\\d{10}",,,"8007354567"],[,,"(?:871206|90(?:066[59]|1810|71(?:07|55)))\\d{4}","\\d{10}",,,"9018105678"],[,,"8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|70002)\\d{4}","\\d{10}",,,"8447034567"],[,,"701511\\d{4}","\\d{10}",,,"7015115678"],[,,"56\\d{8}","\\d{10}",,,"5612345678"],"JE",44,"00","0"," x",,"0",,,,,,[,,"76(?:0[012]|2[356]|4[0134]|5[49]|6[0-369]|77|81|9[39])\\d{6}","\\d{10}",,,"7640123456"],,,[,,"NA","NA"],[,,"3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))\\d{4}|55\\d{8}","\\d{10}",,,"5512345678"],,,[,,"NA","NA"]],"JM":[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"876(?:5(?:0[12]|1[0-468]|2[35]|63)|6(?:0[1-3579]|1[027-9]|[23]\\d|40|5[06]|6[2-589]|7[05]|8[04]|9[4-9])|7(?:0[2-689]|[1-6]\\d|8[056]|9[45])|9(?:0[1-8]|1[02378]|[2-8]\\d|9[2-468]))\\d{4}","\\d{7}(?:\\d{3})?",,,"8765123456"],[,,"876(?:2[16-9]\\d|[348]\\d{2}|5(?:0[3-9]|27|6[0-24-9]|[3-578]\\d)|7(?:0[07]|7\\d|8[1-47-9]|9[0-36-9])|9(?:[01]9|9[0579]))\\d{4}","\\d{10}",,,"8762101234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"JM",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"876",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"JO":[,[,,"[235-9]\\d{7,8}","\\d{8,9}"],[,,"(?:2(?:6(?:2[0-35-9]|3[0-57-8]|4[24-7]|5[0-24-8]|[6-8][023]|9[0-3])|7(?:0[1-79]|10|2[014-7]|3[0-689]|4[019]|5[0-3578]))|32(?:0[1-69]|1[1-35-7]|2[024-7]|3\\d|4[0-3]|[57][023]|6[03])|53(?:0[0-3]|[13][023]|2[0-59]|49|5[0-35-9]|6[15]|7[45]|8[1-6]|9[0-36-9])|6(?:2[50]0|3(?:00|33)|4(?:0[0125]|1[2-7]|2[0569]|[38][07-9]|4[025689]|6[0-589]|7\\d|9[0-2])|5(?:[01][056]|2[034]|3[0-57-9]|4[17-8]|5[0-69]|6[0-35-9]|7[1-379]|8[0-68]|9[02-39]))|87(?:[02]0|7[08]|90))\\d{4}","\\d{8}",,,"62001234"],[,,"7(?:55|7[025-9]|8[05-9]|9[0-25-9])\\d{6}","\\d{9}",,,"790123456"],[,,"80\\d{6}","\\d{8}",,,"80012345"],[,,"900\\d{5}","\\d{8}",,,"90012345"],[,,"85\\d{6}","\\d{8}",,,"85012345"],[,,"70\\d{7}","\\d{9}",,,"700123456"],[,,"NA","NA"],"JO",962,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)","",0],[,"(7)(\\d{4})(\\d{4})","$1 $2 $3",["7[457-9]"],"0$1","",0],[,"(\\d{3})(\\d{5,6})","$1 $2",["70|8[0158]|9"],"0$1","",0]],,[,,"74(?:66|77)\\d{5}","\\d{9}",,,"746612345"],,,[,,"NA","NA"],[,,"8(?:10|8\\d)\\d{5}","\\d{8}",,,"88101234"],,,[,,"NA","NA"]],"JP":[,[,,"[1-9]\\d{8,9}|00(?:[36]\\d{7,14}|7\\d{5,7}|8\\d{7})","\\d{8,17}"],[,,"(?:1(?:1[235-8]|2[3-6]|3[3-9]|4[2-6]|[58][2-8]|6[2-7]|7[2-9]|9[1-9])|2[2-9]\\d|[36][1-9]\\d|4(?:6[02-8]|[2-578]\\d|9[2-59])|5(?:6[1-9]|7[2-8]|[2-589]\\d)|7(?:3[4-9]|4[02-9]|[25-9]\\d)|8(?:3[2-9]|4[5-9]|5[1-9]|8[03-9]|[2679]\\d)|9(?:[679][1-9]|[2-58]\\d))\\d{6}","\\d{9}",,,"312345678"],[,,"[7-9]0[1-9]\\d{7}","\\d{10}",,,"9012345678"],[,,"120\\d{6}|800\\d{7}|00(?:37\\d{6,13}|66\\d{6,13}|777(?:[01]\\d{2}|5\\d{3}|8\\d{4})|882[1245]\\d{4})","\\d{8,17}",,,"120123456"],[,,"990\\d{6}","\\d{9}",,,"990123456"],[,,"NA","NA"],[,,"60\\d{7}","\\d{9}",,,"601234567"],[,,"50[1-9]\\d{7}","\\d{10}",,,"5012345678"],"JP",81,"010","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1","",0],[,"(\\d{4})(\\d{4})","$1-$2",["0077"],"$1","",0],[,"(\\d{4})(\\d{2})(\\d{3,4})","$1-$2-$3",["0077"],"$1","",0],[,"(\\d{4})(\\d{2})(\\d{4})","$1-$2-$3",["0088"],"$1","",0],[,"(\\d{4})(\\d{3})(\\d{3,4})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{4})(\\d{4})(\\d{4,5})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{4})(\\d{5})(\\d{5,6})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{4})(\\d{6})(\\d{6,7})","$1-$2-$3",["00(?:37|66)"],"$1","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"],"0$1","",0],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|5(?:76|97)|499|746|8(?:3[89]|63|47|51)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:76|97)9|499[2468]|7468|8(?:3(?:8[78]|96)|636|477|51[24])|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:769|979[2-69])|499[2468]|7468|8(?:3(?:8[78]|96[2457-9])|636[2-57-9]|477|51[24])|9(?:496|802|9(?:1[23]|69))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:7[2-6]|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|[4-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6[56]))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6(?:5[25]|60)))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:[2-589]|39)|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93(?:31|4))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:9[14-79]|74|[34]7|[56]9)|82|993"],"0$1","",0],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"],"0$1","",0]],[[,"(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[2579]0|80[1-9]"],"0$1","",0],[,"(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|5(?:76|97)|499|746|8(?:3[89]|63|47|51)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:76|97)9|499[2468]|7468|8(?:3(?:8[78]|96)|636|477|51[24])|9(?:496|802|9(?:1[23]|69))","1(?:267|3(?:7[247]|9[278])|4(?:5[67]|66)|5(?:47|58|64|8[67])|6(?:3[245]|48|5[4-68]))|5(?:769|979[2-69])|499[2468]|7468|8(?:3(?:8[78]|96[2457-9])|636[2-57-9]|477|51[24])|9(?:496|802|9(?:1[23]|69))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["1(?:2[3-6]|3[3-9]|4[2-6]|5[2-8]|[68][2-7]|7[2-689]|9[1-578])|2(?:2[03-689]|3[3-58]|4[0-468]|5[04-8]|6[013-8]|7[06-9]|8[02-57-9]|9[13])|4(?:2[28]|3[689]|6[035-7]|7[05689]|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9[4-9])|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9[014-9])|8(?:2[49]|3[3-8]|4[5-8]|5[2-9]|6[35-9]|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9[3-7])","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9[2-8])|3(?:7[2-6]|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5[4-7]|6[2-9]|8[2-8]|9[236-9])|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3[34]|[4-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6[56]))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))","1(?:2[3-6]|3[3-9]|4[2-6]|5(?:[236-8]|[45][2-69])|[68][2-7]|7[2-689]|9[1-578])|2(?:2(?:[04-689]|3[23])|3[3-58]|4[0-468]|5(?:5[78]|7[2-4]|[0468][2-9])|6(?:[0135-8]|4[2-5])|7(?:[0679]|8[2-7])|8(?:[024578]|3[25-9]|9[6-9])|9(?:11|3[2-4]))|4(?:2(?:2[2-9]|8[237-9])|3[689]|6[035-7]|7(?:[059][2-8]|[68])|80|9[3-5])|5(?:3[1-36-9]|4[4578]|5[013-8]|6[1-9]|7[2-8]|8[14-7]|9(?:[89][2-8]|[4-7]))|7(?:2[15]|3[5-9]|4[02-9]|6[135-8]|7[0-4689]|9(?:[017-9]|4[6-8]|5[2-478]|6[2-589]))|8(?:2(?:4[4-8]|9(?:[3578]|20|4[04-9]|6(?:5[25]|60)))|3(?:7(?:[2-5]|6[0-59])|[3-6][2-9]|8[2-5])|4[5-8]|5[2-9]|6(?:[37]|5(?:[467]|5[014-9])|6(?:[2-8]|9[02-69])|8[2-8]|9(?:[236-8]|9[23]))|7[579]|8[03-579]|9[2-8])|9(?:[23]0|4[02-46-9]|5[024-79]|6[4-9]|7[2-47-9]|8[02-7]|9(?:3(?:3[02-9]|4[0-24689])|4[2-69]|[5-7]))"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1|2(?:2[37]|5[5-9]|64|78|8[39]|91)|4(?:2[2689]|64|7[347])|5(?:[2-589]|39)|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93)","1|2(?:2[37]|5(?:[57]|[68]0|9[19])|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93[34])","1|2(?:2[37]|5(?:[57]|[68]0|9(?:17|99))|64|78|8[39]|917)|4(?:2(?:[68]|20|9[178])|64|7[347])|5(?:[2-589]|39[67])|60|8(?:[46-9]|3[279]|2[124589])|9(?:[235-8]|93(?:31|4))"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["2(?:9[14-79]|74|[34]7|[56]9)|82|993"],"0$1","",0],[,"(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[2479][1-9]"],"0$1","",0]],[,,"20\\d{8}","\\d{10}",,,"2012345678"],,,[,,"00(?:37\\d{6,13}|66\\d{6,13}|777(?:[01]\\d{2}|5\\d{3}|8\\d{4})|882[1245]\\d{4})","\\d{8,17}",,,"00777012"],[,,"570\\d{6}","\\d{9}",,,"570123456"],1,,[,,"NA","NA"]],
"KE":[,[,,"20\\d{6,7}|[4-9]\\d{6,9}","\\d{7,10}"],[,,"20\\d{6,7}|4(?:[0136]\\d{7}|[245]\\d{5,7})|5(?:[08]\\d{7}|[1-79]\\d{5,7})|6(?:[01457-9]\\d{5,7}|[26]\\d{7})","\\d{7,9}",,,"202012345"],[,,"7(?:[0-36]\\d|5[0-6]|7[0-5]|8[0-25-9])\\d{6}","\\d{9}",,,"712123456"],[,,"800[24-8]\\d{5,6}","\\d{9,10}",,,"800223456"],[,,"900[02-9]\\d{5}","\\d{9}",,,"900223456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KE",254,"000","0",,,"0",,,,[[,"(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1","",0],[,"(\\d{3})(\\d{6,7})","$1 $2",["7"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"KG":[,[,,"[235-8]\\d{8,9}","\\d{5,10}"],[,,"(?:3(?:1(?:[256]\\d|3[1-9]|47)|2(?:22|3[0-479]|6[0-7])|4(?:22|5[6-9]|6\\d)|5(?:22|3[4-7]|59|6\\d)|6(?:22|5[35-7]|6\\d)|7(?:22|3[468]|4[1-9]|59|[67]\\d)|9(?:22|4[1-8]|6\\d))|6(?:09|12|2[2-4])\\d)\\d{5}","\\d{5,10}",,,"312123456"],[,,"(?:20[0-35]|5[124-7]\\d|7[07]\\d)\\d{6}","\\d{9}",,,"700123456"],[,,"800\\d{6,7}","\\d{9,10}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KG",996,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[25-7]|31[25]"],"0$1","",0],[,"(\\d{4})(\\d{5})","$1 $2",["3(?:1[36]|[2-9])"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d)(\\d{3})","$1 $2 $3 $4",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"KH":[,[,,"[1-9]\\d{7,9}","\\d{6,10}"],[,,"(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])(?:[237-9]|4[56]|5\\d|6\\d?)\\d{5}|23(?:4[234]|8\\d{2})\\d{4}","\\d{6,9}",,,"23756789"],[,,"(?:1(?:[013-9]|2\\d?)|3[18]\\d|6[016-9]|7(?:[07-9]|[16]\\d)|8(?:[013-79]|8\\d)|9(?:6\\d|7\\d?|[0-589]))\\d{6}","\\d{8,9}",,,"91234567"],[,,"1800(?:1\\d|2[019])\\d{4}","\\d{10}",,,"1800123456"],[,,"1900(?:1\\d|2[09])\\d{4}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KH",855,"00[14-9]","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["1\\d[1-9]|[2-9]"],"0$1","",0],[,"(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[89]0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"KI":[,[,,"[2458]\\d{4}|3\\d{4,7}|7\\d{7}","\\d{5,8}"],[,,"(?:[24]\\d|3[1-9]|50|8[0-5])\\d{3}","\\d{5}",,,"31234"],[,,"7(?:[24]\\d|3[1-9]|8[0-5])\\d{5}","\\d{8}",,,"72012345"],[,,"NA","NA"],[,,"3001\\d{4}","\\d{5,8}",,,"30010000"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KI",686,"00",,,,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"KM":[,[,,"[379]\\d{6}","\\d{7}"],[,,"7(?:6[0-37-9]|7[0-57-9])\\d{4}","\\d{7}",,,"7712345"],[,,"3[234]\\d{5}","\\d{7}",,,"3212345"],[,,"NA","NA"],[,,"(?:39[01]|9[01]0)\\d{4}","\\d{7}",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KM",269,"00",,,,,,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"KN":[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"869(?:2(?:29|36)|302|4(?:6[015-9]|70))\\d{4}","\\d{7}(?:\\d{3})?",,,"8692361234"],[,,"869(?:5(?:5[6-8]|6[5-7])|66\\d|76[02-6])\\d{4}","\\d{10}",,,"8697652917"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"KN",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"869",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"KP":[,[,,"1\\d{9}|[28]\\d{7}","\\d{6,8}|\\d{10}"],[,,"2\\d{7}|85\\d{6}","\\d{6,8}",,,"21234567"],[,,"19[123]\\d{7}","\\d{10}",,,"1921234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KP",850,"00|99","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1","",0],[,"(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"2(?:[0-24-9]\\d{2}|3(?:[0-79]\\d|8[02-9]))\\d{4}","\\d{8}",,,"23821234"],[,,"NA","NA"],,,[,,"NA","NA"]],"KR":[,[,,"[1-7]\\d{3,9}|8\\d{8}","\\d{4,10}"],[,,"(?:2|3[1-3]|[46][1-4]|5[1-5])(?:1\\d{2,3}|[1-9]\\d{6,7})","\\d{4,10}",,,"22123456"],[,,"1[0-26-9]\\d{7,8}","\\d{9,10}",,,"1000000000"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"60[2-9]\\d{6}","\\d{9}",,,"602345678"],[,,"NA","NA"],[,,"50\\d{8}","\\d{10}",,,"5012345678"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],"KR",82,"00(?:[124-68]|[37]\\d{2})","0",,,"0(8[1-46-8]|85\\d{2})?",,,,[[,"(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["1(?:0|1[19]|[69]9|5[458])|[57]0","1(?:0|1[19]|[69]9|5(?:44|59|8))|[57]0"],"0$1","0$CC-$1",0],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["1(?:[169][2-8]|[78]|5[1-4])|[68]0|[3-6][1-9][1-9]","1(?:[169][2-8]|[78]|5(?:[1-3]|4[56]))|[68]0|[3-6][1-9][1-9]"],"0$1","0$CC-$1",0],[,"(\\d{3})(\\d)(\\d{4})","$1-$2-$3",["131","1312"],"0$1","0$CC-$1",0],[,"(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["131","131[13-9]"],"0$1","0$CC-$1",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["13[2-9]"],"0$1","0$CC-$1",0],[,"(\\d{2})(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3-$4",["30"],"0$1","0$CC-$1",0],[,"(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2[1-9]"],"0$1","0$CC-$1",0],[,"(\\d)(\\d{3,4})","$1-$2",["21[0-46-9]"],"0$1","0$CC-$1",0],[,"(\\d{2})(\\d{3,4})","$1-$2",["[3-6][1-9]1","[3-6][1-9]1(?:[0-46-9])"],"0$1","0$CC-$1",0],[,"(\\d{4})(\\d{4})","$1-$2",["1(?:5[46-9]|6[04678]|8[0579])","1(?:5(?:44|66|77|88|99)|6(?:00|44|6[16]|70|88)|8(?:00|55|77|99))"],"$1","0$CC-$1",0]],,[,,"15\\d{7,8}","\\d{9,10}",,,"1523456789"],,,[,,"NA","NA"],[,,"1(?:5(?:44|66|77|88|99)|6(?:00|44|6[16]|70|88)|8(?:00|55|77|99))\\d{4}","\\d{8}",,,"15441234"],,,[,,"NA","NA"]],"KW":[,[,,"[12569]\\d{6,7}","\\d{7,8}"],[,,"(?:18\\d|2(?:[23]\\d{2}|4(?:[1-35-9]\\d|44)|5(?:0[034]|[2-46]\\d|5[1-3]|7[1-7])))\\d{4}","\\d{7,8}",,,"22345678"],[,,"(?:5(?:[05]\\d|1[0-7])|6(?:0[034679]|5[015-9]|6\\d|7[067]|9[0369])|9(?:0[09]|22|4[01479]|55|6[0679]|[79]\\d|8[057-9]))\\d{5}","\\d{8}",,,"50012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"KW",965,"00",,,,,,,,[[,"(\\d{4})(\\d{3,4})","$1 $2",["[126]|9[04-9]"],"","",0],[,"(\\d{3})(\\d{5})","$1 $2",["5[015]|92"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"KY":[,[,,"[3589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"345(?:2(?:22|44)|444|6(?:23|38|40)|7(?:4[35-79]|6[6-9]|77)|8(?:00|1[45]|25|[48]8)|9(?:14|4[035-9]))\\d{4}","\\d{7}(?:\\d{3})?",,,"3452221234"],[,,"345(?:32[1-9]|5(?:1[67]|2[5-7]|4[6-8]|76)|9(?:1[67]|2[2-9]|3[689]))\\d{4}","\\d{10}",,,"3453231234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}|345976\\d{4}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"KY",1,"011","1",,,"1",,,,,,[,,"345849\\d{4}","\\d{10}",,,"3458491234"],,"345",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"KZ":[,[,,"(?:33\\d|7\\d{2}|80[09])\\d{7}","\\d{10}"],[,,"33622\\d{5}|7(?:1(?:0(?:[23]\\d|4[023]|59|63)|1(?:[23]\\d|4[0-79]|59)|2(?:[23]\\d|59)|3(?:2\\d|3[1-79]|4[0-35-9]|59)|4(?:2\\d|3[013-79]|4[0-8]|5[1-79])|5(?:2\\d|3[1-8]|4[1-7]|59)|6(?:[234]\\d|5[19]|61)|72\\d|8(?:[27]\\d|3[1-46-9]|4[0-5]))|2(?:1(?:[23]\\d|4[46-9]|5[3469])|2(?:2\\d|3[0679]|46|5[12679])|3(?:[234]\\d|5[139])|4(?:2\\d|3[1235-9]|59)|5(?:[23]\\d|4[01246-8]|59|61)|6(?:2\\d|3[1-9]|4[0-4]|59)|7(?:[237]\\d|40|5[279])|8(?:[23]\\d|4[0-3]|59)|9(?:2\\d|3[124578]|59)))\\d{5}","\\d{10}",,,"7123456789"],[,,"7(?:0[012578]|47|6[02-4]|7[15-8]|85)\\d{7}","\\d{10}",,,"7710009998"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"809\\d{7}","\\d{10}",,,"8091234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"751\\d{7}","\\d{10}",,,"7511234567"],"KZ",7,"810","8",,,"8",,"8~10",,,,[,,"NA","NA"],,,[,,"751\\d{7}","\\d{10}",,,"7511234567"],[,,"NA","NA"],,,[,,"NA","NA"]],"LA":[,[,,"[2-8]\\d{7,9}","\\d{6,10}"],[,,"(?:2[13]|3(?:0\\d|[14])|[5-7][14]|41|8[1468])\\d{6}","\\d{6,9}",,,"21212862"],[,,"20(?:2[2389]|5[4-689]|7[6-8]|9[15-9])\\d{6}","\\d{10}",,,"2023123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LA",856,"00","0",,,"0",,,,[[,"(20)(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["20"],"0$1","",0],[,"([2-8]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1","",0],[,"(30)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"LB":[,[,,"[13-9]\\d{6,7}","\\d{7,8}"],[,,"(?:[14-6]\\d{2}|7(?:[2-57]\\d|62|8[0-7]|9[04-9])|8[02-9]\\d|9\\d{2})\\d{4}","\\d{7}",,,"1123456"],[,,"(?:3\\d|7(?:[01]\\d|6[013-9]|8[89]|9[1-3])|81\\d)\\d{5}","\\d{7,8}",,,"71123456"],[,,"NA","NA"],[,,"9[01]\\d{6}","\\d{8}",,,"90123456"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"NA","NA"],[,,"NA","NA"],"LB",961,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-6]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]|9"],"0$1","",0],[,"([7-9]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[89][01]|7(?:[01]|6[013-9]|8[89]|9[1-3])"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"LC":[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"758(?:4(?:30|5[0-9]|6[2-9]|8[0-2])|57[0-2]|638)\\d{4}","\\d{7}(?:\\d{3})?",,,"7584305678"],[,,"758(?:28[4-7]|384|4(?:6[01]|8[4-9])|5(?:1[89]|20|84)|7(?:1[2-9]|2[0-8]))\\d{4}","\\d{10}",,,"7582845678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"LC",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"758",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"LI":[,[,,"6\\d{8}|[23789]\\d{6}","\\d{7,9}"],[,,"(?:2(?:01|1[27]|3\\d|6[02-578]|96)|3(?:7[0135-7]|8[048]|9[0269]))\\d{4}","\\d{7}",,,"2345678"],[,,"6(?:51[01]|6(?:0[0-6]|2[016-9]|39))\\d{5}|7(?:[37-9]\\d|42|56)\\d{4}","\\d{7,9}",,,"660234567"],[,,"80(?:02[28]|9\\d{2})\\d{2}","\\d{7}",,,"8002222"],[,,"90(?:02[258]|1(?:23|3[14])|66[136])\\d{2}","\\d{7}",,,"9002222"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LI",423,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[23789]"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[56]"],"","",0],[,"(69)(7\\d{2})(\\d{4})","$1 $2 $3",["697"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"870(?:28|87)\\d{2}","\\d{7}",,,"8702812"],,,[,,"697(?:42|56|[7-9]\\d)\\d{4}","\\d{9}",,,"697861234"]],"LK":[,[,,"[1-9]\\d{8}","\\d{7,9}"],[,,"(?:[189]1|2[13-7]|3[1-8]|4[157]|5[12457]|6[35-7])[2-57]\\d{6}","\\d{7,9}",,,"112345678"],[,,"7[0125-8]\\d{7}","\\d{9}",,,"712345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LK",94,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{1})(\\d{6})","$1 $2 $3",["[1-689]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"LR":[,[,,"2\\d{7}|[37-9]\\d{8}|[45]\\d{6}","\\d{7,9}"],[,,"2\\d{7}","\\d{8}",,,"21234567"],[,,"(?:330\\d|4[67]|5\\d|77\\d{2}|88\\d{2}|994\\d)\\d{5}","\\d{7,9}",,,"770123456"],[,,"NA","NA"],[,,"90[03]\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"332(?:0[02]|5\\d)\\d{4}","\\d{9}",,,"332001234"],"LR",231,"00","0",,,"0",,,,[[,"(2\\d)(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1","",0],[,"([79]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[79]"],"0$1","",0],[,"([4-6])(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[38]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"LS":[,[,,"[2568]\\d{7}","\\d{8}"],[,,"2\\d{7}","\\d{8}",,,"22123456"],[,,"[56]\\d{7}","\\d{8}",,,"50123456"],[,,"800[256]\\d{4}","\\d{8}",,,"80021234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LS",266,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"LT":[,[,,"[3-9]\\d{7}","\\d{8}"],[,,"(?:3[1478]|4[124-6]|52)\\d{6}","\\d{8}",,,"31234567"],[,,"6\\d{7}","\\d{8}",,,"61234567"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"9(?:0[0239]|10)\\d{5}","\\d{8}",,,"90012345"],[,,"808\\d{5}","\\d{8}",,,"80812345"],[,,"700\\d{5}","\\d{8}",,,"70012345"],[,,"NA","NA"],"LT",370,"00","8",,,"[08]",,,,[[,"([34]\\d)(\\d{6})","$1 $2",["37|4(?:1|5[45]|6[2-4])"],"(8-$1)","",1],[,"([3-6]\\d{2})(\\d{5})","$1 $2",["3[148]|4(?:[24]|6[09])|528|6"],"(8-$1)","",1],[,"([7-9]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1","",1],[,"(5)(2\\d{2})(\\d{4})","$1 $2 $3",["52[0-79]"],"(8-$1)","",1]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"70[67]\\d{5}","\\d{8}",,,"70712345"],,,[,,"NA","NA"]],"LU":[,[,,"[24-9]\\d{3,10}|3(?:[0-46-9]\\d{2,9}|5[013-9]\\d{1,8})","\\d{4,11}"],[,,"(?:2[2-9]\\d{2,9}|(?:[3457]\\d{2}|8(?:0[2-9]|[13-9]\\d)|9(?:0[89]|[2-579]\\d))\\d{1,8})","\\d{4,11}",,,"27123456"],[,,"6[2679][18]\\d{6}","\\d{9}",,,"628123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90[015]\\d{5}","\\d{8}",,,"90012345"],[,,"801\\d{5}","\\d{8}",,,"80112345"],[,,"70\\d{6}","\\d{8}",,,"70123456"],[,,"20(?:1\\d{5}|[2-689]\\d{1,7})","\\d{4,10}",,,"20201234"],"LU",352,"00",,,,"(15(?:0[06]|1[12]|35|4[04]|55|6[26]|77|88|99)\\d)",,,,[[,"(\\d{2})(\\d{3})","$1 $2",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[2-5]|7[1-9]|[89](?:[1-9]|0[2-9])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"],"","$CC $1",0],[,"(\\d{2})(\\d{2})(\\d{2})(\\d{1,4})","$1 $2 $3 $4",["2(?:[12589]|4[12])|[3-5]|7[1-9]|8(?:[1-9]|0[2-9])|9(?:[1-9]|0[2-46-9])"],"","$CC $1",0],[,"(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["70|80[01]|90[015]"],"","$CC $1",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"],"","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"LV":[,[,,"[2689]\\d{7}","\\d{8}"],[,,"6[3-8]\\d{6}","\\d{8}",,,"63123456"],[,,"2\\d{7}","\\d{8}",,,"21234567"],[,,"80\\d{6}","\\d{8}",,,"80123456"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"81\\d{6}","\\d{8}",,,"81123456"],[,,"NA","NA"],[,,"NA","NA"],"LV",371,"00",,,,,,,,[[,"([2689]\\d)(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"LY":[,[,,"[25679]\\d{8}","\\d{7,9}"],[,,"(?:2[1345]|5[1347]|6[123479]|71)\\d{7}","\\d{7,9}",,,"212345678"],[,,"9[1-6]\\d{7}","\\d{9}",,,"912345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"LY",218,"00","0",,,"0",,,,[[,"([25679]\\d)(\\d{7})","$1-$2",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MA":[,[,,"[5689]\\d{8}","\\d{9}"],[,,"5(?:2(?:(?:[015-7]\\d|2[2-9]|3[2-57]|4[2-8]|8[235-7])\\d|9(?:0\\d|[89]0))|3(?:(?:[0-4]\\d|[57][2-9]|6[235-8]|9[3-9])\\d|8(?:0\\d|[89]0)))\\d{4}","\\d{9}",,,"520123456"],[,,"6(?:0[0-8]|[12-79]\\d|8[017])\\d{6}","\\d{9}",,,"650123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89\\d{7}","\\d{9}",,,"891234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MA",212,"00","0",,,"0",,,,[[,"([56]\\d{2})(\\d{6})","$1-$2",["5(?:2[015-7]|3[0-4])|6"],"0$1","",0],[,"([58]\\d{3})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9])|892","5(?:2(?:[2-48]|90)|3(?:[5-79]|80))|892"],"0$1","",0],[,"(5\\d{4})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]"],"0$1","",0],[,"(8[09])(\\d{7})","$1-$2",["8(?:0|9[013-9])"],"0$1","",0]],,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MC":[,[,,"[4689]\\d{7,8}","\\d{8,9}"],[,,"870\\d{5}|9[2-47-9]\\d{6}","\\d{8}",,,"99123456"],[,,"6\\d{8}|4(?:4\\d|5[2-9])\\d{5}","\\d{8,9}",,,"612345678"],[,,"90\\d{6}","\\d{8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MC",377,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1","",0],[,"(6)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["8"],"$1","",0]],,[,,"NA","NA"],,,[,,"8\\d{7}","\\d{8}"],[,,"NA","NA"],,,[,,"NA","NA"]],"MD":[,[,,"[235-9]\\d{7}","\\d{8}"],[,,"(?:2(?:1[0569]|2\\d|3[015-7]|4[1-46-9]|5[0-24689]|6[2-589]|7[1-37]|9[1347-9])|5(?:33|5[257]))\\d{5}","\\d{8}",,,"22212345"],[,,"(?:562\\d|6(?:[089]\\d{2}|1[01]\\d|21\\d|7(?:[1-6]\\d|7[0-4]))|7(?:6[07]|7[457-9]|[89]\\d)\\d)\\d{4}","\\d{8}",,,"62112345"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"90[056]\\d{5}","\\d{8}",,,"90012345"],[,,"808\\d{5}","\\d{8}",,,"80812345"],[,,"NA","NA"],[,,"3[08]\\d{6}","\\d{8}",,,"30123456"],"MD",373,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1","",0],[,"([25-7]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["2[13-79]|[5-7]"],"0$1","",0],[,"([89]\\d{2})(\\d{5})","$1 $2",["[89]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"8(?:03|14)\\d{5}","\\d{8}",,,"80312345"],,,[,,"NA","NA"]],"ME":[,[,,"[2-9]\\d{7,8}","\\d{6,9}"],[,,"(?:20[2-8]|3(?:0[2-7]|[12][35-7]|3[4-7])|4(?:0[2367]|1[267])|5(?:0[467]|1[267]|2[367]))\\d{5}","\\d{6,8}",,,"30234567"],[,,"6(?:00\\d|32\\d|[89]\\d{2}|61\\d|7(?:[0-8]\\d|9(?:[3-9]|[0-2]\\d)))\\d{4}","\\d{8,9}",,,"67622901"],[,,"80\\d{6}","\\d{8}",,,"80080002"],[,,"(?:9(?:4[1568]|5[178]))\\d{5}","\\d{8}",,,"94515151"],[,,"NA","NA"],[,,"NA","NA"],[,,"78[1-9]\\d{5}","\\d{8}",,,"78108780"],"ME",382,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]|6[036-9]","[2-57-9]|6(?:[03689]|7(?:[0-8]|9[3-9]))"],"0$1","",0],[,"(67)(9)(\\d{3})(\\d{3})","$1 $2 $3 $4",["679","679[0-2]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"77\\d{6}","\\d{8}",,,"77273012"],,,[,,"NA","NA"]],"MF":[,[,,"[56]\\d{8}","\\d{9}"],[,,"590(?:[02][79]|13|5[0-268]|[78]7)\\d{4}","\\d{9}",,,"590271234"],[,,"690(?:0[0-7]|[1-9]\\d)\\d{4}","\\d{9}",,,"690301234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MF",590,"00","0",,,"0",,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MG":[,[,,"[23]\\d{8}","\\d{7,9}"],[,,"20(?:2\\d{2}|4[47]\\d|5[3467]\\d|6[279]\\d|7(?:2[29]|[35]\\d)|8[268]\\d|9[245]\\d)\\d{4}","\\d{7,9}",,,"202123456"],[,,"3[2-49]\\d{7}","\\d{9}",,,"321234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"22\\d{7}","\\d{9}",,,"221234567"],"MG",261,"00","0",,,"0",,,,[[,"([23]\\d)(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MH":[,[,,"[2-6]\\d{6}","\\d{7}"],[,,"(?:247|528|625)\\d{4}","\\d{7}",,,"2471234"],[,,"(?:235|329|45[56]|545)\\d{4}","\\d{7}",,,"2351234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"635\\d{4}","\\d{7}",,,"6351234"],"MH",692,"011","1",,,"1",,,,[[,"(\\d{3})(\\d{4})","$1-$2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MK":[,[,,"[2-578]\\d{7}","\\d{8}"],[,,"(?:2(?:[23]\\d|5[124578]|6[01])|3(?:1[3-6]|[23][2-6]|4[2356])|4(?:[23][2-6]|4[3-6]|5[256]|6[25-8]|7[24-6]|8[4-6]))\\d{5}","\\d{6,8}",,,"22212345"],[,,"7(?:[0-25-8]\\d{2}|32\\d|421)\\d{4}","\\d{8}",,,"72345678"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"5[02-9]\\d{6}","\\d{8}",,,"50012345"],[,,"8(?:0[1-9]|[1-9]\\d)\\d{5}","\\d{8}",,,"80123456"],[,,"NA","NA"],[,,"NA","NA"],"MK",389,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1","",0],[,"([347]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1","",0],[,"([58]\\d{2})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"ML":[,[,,"[246-9]\\d{7}","\\d{8}"],[,,"(?:2(?:0(?:2[0-589]|7\\d)|1(?:2[5-7]|[3-689]\\d|7[2-4689]))|44[239]\\d)\\d{4}","\\d{8}",,,"20212345"],[,,"[67]\\d{7}|9[0-25-9]\\d{6}","\\d{8}",,,"65012345"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ML",223,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[246-9]"],"","",0],[,"(\\d{4})","$1",["67|74"],"","",0]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[246-9]"],"","",0]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MM":[,[,,"[14578]\\d{5,7}|[26]\\d{5,8}|9(?:2\\d{0,2}|[58]|3\\d|4\\d{1,2}|6\\d?|[79]\\d{0,2})\\d{6}","\\d{5,10}"],[,,"1(?:2\\d{1,2}|[3-5]\\d|6\\d?|[89][0-6]\\d)\\d{4}|2(?:[236-9]\\d{4}|4(?:0\\d{5}|\\d{4})|5(?:1\\d{3,6}|[02-9]\\d{3,5}))|4(?:2[245-8]|[346][2-6]|5[3-5])\\d{4}|5(?:2(?:20?|[3-8])|3[2-68]|4(?:21?|[4-8])|5[23]|6[2-4]|7[2-8]|8[24-7]|9[2-7])\\d{4}|6(?:0[23]|1[2356]|[24][2-6]|3[24-6]|5[2-4]|6[2-8]|7(?:[2367]|4\\d|5\\d?|8[145]\\d)|8[245]|9[24])\\d{4}|7(?:[04][24-8]|[15][2-7]|22|3[2-4])\\d{4}|8(?:1(?:2\\d?|[3-689])|2[2-8]|3[24]|4[24-7]|5[245]|6[23])\\d{4}","\\d{5,9}",,,"1234567"],[,,"17[01]\\d{4}|9(?:2(?:[0-4]|5\\d{2})|3[136]\\d|4(?:0[0-4]\\d|[1379]\\d|[24][0-589]\\d|5\\d{2}|88)|5[0-6]|61?\\d|7(?:3\\d|[89]\\d{2})|8\\d|9(?:1\\d|7\\d{2}|[089]))\\d{5}","\\d{7,10}",,,"92123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"1333\\d{4}","\\d{8}",,,"13331234"],"MM",95,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["1|2[45]"],"0$1","",0],[,"(2)(\\d{4})(\\d{4})","$1 $2 $3",["251"],"0$1","",0],[,"(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["67|81"],"0$1","",0],[,"(\\d{2})(\\d{2})(\\d{3,4})","$1 $2 $3",["[4-8]"],"0$1","",0],[,"(9)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[13789])"],"0$1","",0],[,"(9)(4\\d{4})(\\d{4})","$1 $2 $3",["94[0245]"],"0$1","",0],[,"(9)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["925"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MN":[,[,,"[12]\\d{7,9}|[57-9]\\d{7}","\\d{6,10}"],[,,"[12](?:1\\d|2(?:[1-3]\\d?|7\\d)|3[2-8]\\d{1,2}|4[2-68]\\d{1,2}|5[1-4689]\\d{1,2})\\d{5}|5[0568]\\d{6}","\\d{6,10}",,,"50123456"],[,,"(?:8[689]|9[013-9])\\d{6}","\\d{8}",,,"88123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"7[05-8]\\d{6}","\\d{8}",,,"75123456"],"MN",976,"001","0",,,"0",,,,[[,"([12]\\d)(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1","",0],[,"([12]2\\d)(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1","",0],[,"([12]\\d{3})(\\d{5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)2"],"0$1","",0],[,"(\\d{4})(\\d{4})","$1 $2",["[57-9]"],"$1","",0],[,"([12]\\d{4})(\\d{4,5})","$1 $2",["[12](?:27|[3-5])","[12](?:27|[3-5]\\d)[4-9]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MO":[,[,,"[268]\\d{7}","\\d{8}"],[,,"(?:28[2-57-9]|8[2-57-9]\\d)\\d{5}","\\d{8}",,,"28212345"],[,,"6[236]\\d{6}","\\d{8}",,,"66123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MO",853,"00",,,,,,,,[[,"([268]\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MP":[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[589]|8[3-9]8|989)\\d{4}","\\d{7}(?:\\d{3})?",,,"6702345678"],[,,"670(?:2(?:3[3-7]|56|8[5-8])|32[1238]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[589]|8[3-9]8|989)\\d{4}","\\d{7}(?:\\d{3})?",,,"6702345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"MP",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"670",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MQ":[,[,,"[56]\\d{8}","\\d{9}"],[,,"596(?:0[2-5]|[12]0|3[05-9]|4[024-8]|[5-7]\\d|89|9[4-8])\\d{4}","\\d{9}",,,"596301234"],[,,"696(?:[0-479]\\d|5[01]|8[0-689])\\d{4}","\\d{9}",,,"696201234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MQ",596,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MR":[,[,,"[2-48]\\d{7}","\\d{8}"],[,,"25[08]\\d{5}|35\\d{6}|45[1-7]\\d{5}","\\d{8}",,,"35123456"],[,,"(?:2(?:2\\d|70)|3(?:3\\d|6[1-36]|7[1-3])|4(?:[49]\\d|6[0457-9]|7[4-9]|8[01346-8]))\\d{5}","\\d{8}",,,"22123456"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MR",222,"00",,,,,,,,[[,"([2-48]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MS":[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"664491\\d{4}","\\d{7}(?:\\d{3})?",,,"6644912345"],[,,"66449[2-6]\\d{4}","\\d{10}",,,"6644923456"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"MS",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"664",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MT":[,[,,"[2357-9]\\d{7}","\\d{8}"],[,,"2(?:0(?:1[0-6]|3[1-4]|[69]\\d)|[1-357]\\d{2})\\d{4}","\\d{8}",,,"21001234"],[,,"(?:7(?:210|[79]\\d{2})|9(?:2(?:1[01]|31)|696|8(?:1[1-3]|89|97)|9\\d{2}))\\d{4}","\\d{8}",,,"96961234"],[,,"800[3467]\\d{4}","\\d{8}",,,"80071234"],[,,"5(?:0(?:0(?:37|43)|6\\d{2}|70\\d|9[0168])|[12]\\d0[1-5])\\d{3}","\\d{8}",,,"50037123"],[,,"NA","NA"],[,,"NA","NA"],[,,"3550\\d{4}","\\d{8}",,,"35501234"],"MT",356,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"7117\\d{4}","\\d{8}",,,"71171234"],,,[,,"NA","NA"],[,,"501\\d{5}","\\d{8}",,,"50112345"],,,[,,"NA","NA"]],"MU":[,[,,"[2-9]\\d{6,7}","\\d{7,8}"],[,,"(?:2(?:[03478]\\d|1[0-7]|6[1-69])|4(?:[013568]\\d|2[4-7])|5(?:44\\d|471)|6\\d{2}|8(?:14|3[129]))\\d{4}","\\d{7,8}",,,"2012345"],[,,"5(?:2[59]\\d|4(?:2[1-389]|4\\d|7[1-9]|9\\d)|7\\d{2}|8(?:[2568]\\d|7[15-8])|9[0-8]\\d)\\d{4}","\\d{8}",,,"52512345"],[,,"80[012]\\d{4}","\\d{7}",,,"8001234"],[,,"30\\d{5}","\\d{7}",,,"3012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"3(?:20|9\\d)\\d{4}","\\d{7}",,,"3201234"],"MU",230,"0(?:0|[2-7]0|33)",,,,,,"020",,[[,"([2-46-9]\\d{2})(\\d{4})","$1 $2",["[2-46-9]"],"","",0],[,"(5\\d{3})(\\d{4})","$1 $2",["5"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MV":[,[,,"[3467]\\d{6}|9(?:00\\d{7}|\\d{6})","\\d{7,10}"],[,,"(?:3(?:0[01]|3[0-59])|6(?:[567][02468]|8[024689]|90))\\d{4}","\\d{7}",,,"6701234"],[,,"(?:46[46]|7[3-9]\\d|9[15-9]\\d)\\d{4}","\\d{7}",,,"7712345"],[,,"NA","NA"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MV",960,"0(?:0|19)",,,,,,"00",,[[,"(\\d{3})(\\d{4})","$1-$2",["[3467]|9(?:[1-9]|0[1-9])"],"","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["900"],"","",0]],,[,,"781\\d{4}","\\d{7}",,,"7812345"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MW":[,[,,"(?:1(?:\\d{2})?|[2789]\\d{2})\\d{6}","\\d{7,9}"],[,,"(?:1[2-9]|21\\d{2})\\d{5}","\\d{7,9}",,,"1234567"],[,,"(?:111|77\\d|88\\d|99\\d)\\d{6}","\\d{9}",,,"991234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MW",265,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1"],"0$1","",0],[,"(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1789]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MX":[,[,,"[1-9]\\d{9,10}","\\d{7,11}"],[,,"(?:33|55|81)\\d{8}|(?:2(?:0[01]|2[2-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[234][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7}","\\d{7,10}",,,"2221234567"],[,,"1(?:(?:33|55|81)\\d{8}|(?:2(?:2[2-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-6][1-9]|[37][1-8]|8[1-35-9]|9[2-689])|5(?:88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[12457-9]|7[1-7]|8[67]|9[4-8])|7(?:[13467][1-9]|2[1-8]|5[13-9]|8[1-69]|9[17])|8(?:2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))\\d{7})","\\d{11}",,,"12221234567"],[,,"8(?:00|88)\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"300\\d{7}","\\d{10}",,,"3001234567"],[,,"500\\d{7}","\\d{10}",,,"5001234567"],[,,"NA","NA"],"MX",52,"0[09]","01",,,"0[12]|04[45](\\d{10})","1$1",,,[[,"([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"],"01 $1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"],"01 $1","",1],[,"(1)([358]\\d)(\\d{4})(\\d{4})","044 $2 $3 $4",["1(?:33|55|81)"],"$1","",1],[,"(1)(\\d{3})(\\d{3})(\\d{4})","044 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"],"$1","",1]],[[,"([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3",["33|55|81"],"01 $1","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2467]|3[0-2457-9]|5[089]|8[02-9]|9[0-35-9]"],"01 $1","",1],[,"(1)([358]\\d)(\\d{4})(\\d{4})","$1 $2 $3 $4",["1(?:33|55|81)"]],[,"(1)(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1(?:[2467]|3[0-2457-9]|5[089]|8[2-9]|9[1-35-9])"]]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"MY":[,[,,"[13-9]\\d{7,9}","\\d{6,10}"],[,,"(?:3[2-9]\\d|[4-9][2-9])\\d{6}","\\d{6,9}",,,"323456789"],[,,"1(?:1[1-5]\\d{2}|[02-4679][2-9]\\d|59\\d{2}|8(?:1[23]|[2-9]\\d))\\d{5}","\\d{9,10}",,,"123456789"],[,,"1[378]00\\d{6}","\\d{10}",,,"1300123456"],[,,"1600\\d{6}","\\d{10}",,,"1600123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"154\\d{7}","\\d{10}",,,"1541234567"],"MY",60,"00","0",,,"0",,,,[[,"([4-79])(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1","",0],[,"(3)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1","",0],[,"([18]\\d)(\\d{3})(\\d{3,4})","$1-$2 $3",["1[02-46-9][1-9]|8"],"0$1","",0],[,"(1)([36-8]00)(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]0"],"","",0],[,"(11)(\\d{4})(\\d{4})","$1-$2 $3",["11"],"0$1","",0],[,"(15[49])(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"MZ":[,[,,"[28]\\d{7,8}","\\d{8,9}"],[,,"2(?:[1346]\\d|5[0-2]|[78][12]|93)\\d{5}","\\d{8}",,,"21123456"],[,,"8[23467]\\d{7}","\\d{9}",,,"821234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"MZ",258,"00",,,,,,,,[[,"([28]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-7]"],"","",0],[,"(80\\d)(\\d{3})(\\d{3})","$1 $2 $3",["80"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"NA":[,[,,"[68]\\d{7,8}","\\d{8,9}"],[,,"6(?:1(?:17|2(?:[0189]\\d|[2-6]|7\\d?)|3(?:[01378]|2\\d)|4[01]|69|7[014])|2(?:17|5(?:[0-36-8]|4\\d?)|69|70)|3(?:17|2(?:[0237]\\d?|[14-689])|34|6[29]|7[01]|81)|4(?:17|2(?:[012]|7?)|4(?:[06]|1\\d)|5(?:[01357]|[25]\\d?)|69|7[01])|5(?:17|2(?:[0459]|[23678]\\d?)|69|7[01])|6(?:17|2(?:5|6\\d?)|38|42|69|7[01])|7(?:17|2(?:[569]|[234]\\d?)|3(?:0\\d?|[13])|69|7[01]))\\d{4}","\\d{8,9}",,,"61221234"],[,,"(?:60|8[125])\\d{7}","\\d{9}",,,"811234567"],[,,"NA","NA"],[,,"8701\\d{5}","\\d{9}",,,"870123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"8(?:3\\d{2}|86)\\d{5}","\\d{8,9}",,,"88612345"],"NA",264,"00","0",,,"0",,,,[[,"(8\\d)(\\d{3})(\\d{4})","$1 $2 $3",["8[1235]"],"0$1","",0],[,"(6\\d)(\\d{2,3})(\\d{4})","$1 $2 $3",["6"],"0$1","",0],[,"(88)(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1","",0],[,"(870)(\\d{3})(\\d{3})","$1 $2 $3",["870"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"NC":[,[,,"[2-57-9]\\d{5}","\\d{6}"],[,,"(?:2[03-9]|3[0-5]|4[1-7]|88)\\d{4}","\\d{6}",,,"201234"],[,,"(?:5[0-4]|[79]\\d|8[0-79])\\d{4}","\\d{6}",,,"751234"],[,,"NA","NA"],[,,"36\\d{4}","\\d{6}",,,"366711"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NC",687,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[2-46-9]|5[0-4]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"NE":[,[,,"[0289]\\d{7}","\\d{8}"],[,,"2(?:0(?:20|3[1-7]|4[134]|5[14]|6[14578]|7[1-578])|1(?:4[145]|5[14]|6[14-68]|7[169]|88))\\d{4}","\\d{8}",,,"20201234"],[,,"(?:8[89]|9\\d)\\d{6}","\\d{8}",,,"93123456"],[,,"08\\d{6}","\\d{8}",,,"08123456"],[,,"09\\d{6}","\\d{8}",,,"09123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NE",227,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[289]|09"],"","",0],[,"(08)(\\d{3})(\\d{3})","$1 $2 $3",["08"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"NF":[,[,,"[13]\\d{5}","\\d{5,6}"],[,,"(?:1(?:06|17|28|39)|3[012]\\d)\\d{3}","\\d{5,6}",,,"106609"],[,,"3[58]\\d{4}","\\d{5,6}",,,"381234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NF",672,"00",,,,,,,,[[,"(\\d{2})(\\d{4})","$1 $2",["1"],"","",0],[,"(\\d)(\\d{5})","$1 $2",["3"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],
"NG":[,[,,"[1-6]\\d{5,8}|9\\d{5,9}|[78]\\d{5,13}","\\d{5,14}"],[,,"[12]\\d{6,7}|9(?:0[3-9]|[1-9]\\d)\\d{5}|(?:3\\d|4[023568]|5[02368]|6[02-469]|7[4-69]|8[2-9])\\d{6}|(?:4[47]|5[14579]|6[1578]|7[0-357])\\d{5,6}|(?:78|41)\\d{5}","\\d{5,9}",,,"12345678"],[,,"(?:1(?:7[34]\\d|8(?:04|[124579]\\d|8[0-3])|95\\d)|287[0-7]|3(?:18[1-8]|88[0-7]|9(?:8[5-9]|6[1-5]))|4(?:28[0-2]|6(?:7[1-9]|8[02-47])|88[0-2])|5(?:2(?:7[7-9]|8\\d)|38[1-79]|48[0-7]|68[4-7])|6(?:2(?:7[7-9]|8\\d)|4(?:3[7-9]|[68][129]|7[04-69]|9[1-8])|58[0-2]|98[7-9])|7(?:38[0-7]|69[1-8]|78[2-4])|8(?:28[3-9]|38[0-2]|4(?:2[12]|3[147-9]|5[346]|7[4-9]|8[014-689]|90)|58[1-8]|78[2-9]|88[5-7])|98[07]\\d)\\d{4}|(?:70(?:[13-9]\\d|2[1-9])|8(?:0[2-9]|1\\d)\\d|90[2359]\\d)\\d{6}","\\d{8,10}",,,"8021234567"],[,,"800\\d{7,11}","\\d{10,14}",,,"80017591759"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NG",234,"009","0",,,"0",,,,[[,"([129])(\\d{3})(\\d{3,4})","$1 $2 $3",["[129]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-6]|7(?:[1-79]|0[1-9])|8[2-9]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["70|8[01]|90[2359]"],"0$1","",0],[,"([78]00)(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]00"],"0$1","",0],[,"([78]00)(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]00"],"0$1","",0],[,"(78)(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"700\\d{7,11}","\\d{10,14}",,,"7001234567"],,,[,,"NA","NA"]],"NI":[,[,,"[12578]\\d{7}","\\d{8}"],[,,"2\\d{7}","\\d{8}",,,"21234567"],[,,"5(?:5[0-7]\\d{5}|[78]\\d{6})|7[5-8]\\d{6}|8\\d{7}","\\d{8}",,,"81234567"],[,,"1800\\d{4}","\\d{8}",,,"18001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NI",505,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"NL":[,[,,"1\\d{4,8}|[2-7]\\d{8}|[89]\\d{6,9}","\\d{5,10}"],[,,"(?:1[0135-8]|2[02-69]|3[0-68]|4[0135-9]|[57]\\d|8[478])\\d{7}","\\d{9}",,,"101234567"],[,,"6[1-58]\\d{7}","\\d{9}",,,"612345678"],[,,"800\\d{4,7}","\\d{7,10}",,,"8001234"],[,,"90[069]\\d{4,7}","\\d{7,10}",,,"9061234"],[,,"NA","NA"],[,,"NA","NA"],[,,"85\\d{7}","\\d{9}",,,"851234567"],"NL",31,"00","0",,,"0",,,,[[,"([1-578]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[035]|2[0346]|3[03568]|4[0356]|5[0358]|7|8[4578]"],"0$1","",0],[,"([1-5]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1","",0],[,"(6)(\\d{8})","$1 $2",["6[0-57-9]"],"0$1","",0],[,"(66)(\\d{7})","$1 $2",["66"],"0$1","",0],[,"(14)(\\d{3,4})","$1 $2",["14"],"$1","",0],[,"([89]0\\d)(\\d{4,7})","$1 $2",["80|9"],"0$1","",0]],,[,,"66\\d{7}","\\d{9}",,,"662345678"],,,[,,"14\\d{3,4}","\\d{5,6}"],[,,"140(?:1(?:[035]|[16-8]\\d)|2(?:[0346]|[259]\\d)|3(?:[03568]|[124]\\d)|4(?:[0356]|[17-9]\\d)|5(?:[0358]|[124679]\\d)|7\\d|8[458])","\\d{5,6}",,,"14020"],,,[,,"NA","NA"]],"NO":[,[,,"0\\d{4}|[2-9]\\d{7}","\\d{5}(?:\\d{3})?"],[,,"(?:2[1-4]|3[1-3578]|5[1-35-7]|6[1-4679]|7[0-8])\\d{6}","\\d{8}",,,"21234567"],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}","\\d{8}",,,"40612345"],[,,"80[01]\\d{5}","\\d{8}",,,"80012345"],[,,"82[09]\\d{5}","\\d{8}",,,"82012345"],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}","\\d{8}",,,"81021234"],[,,"880\\d{5}","\\d{8}",,,"88012345"],[,,"85[0-5]\\d{5}","\\d{8}",,,"85012345"],"NO",47,"00",,,,,,,,[[,"([489]\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[489]"],"","",0],[,"([235-7]\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"],"","",0]],,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}","\\d{5}(?:\\d{3})?",,,"01234"],1,,[,,"81[23]\\d{5}","\\d{8}",,,"81212345"]],"NP":[,[,,"[1-8]\\d{7}|9(?:[1-69]\\d{6,8}|7[2-6]\\d{5,7}|8\\d{8})","\\d{6,10}"],[,,"(?:1[0-6]\\d|2[13-79][2-6]|3[135-8][2-6]|4[146-9][2-6]|5[135-7][2-6]|6[13-9][2-6]|7[15-9][2-6]|8[1-46-9][2-6]|9[1-79][2-6])\\d{5}","\\d{6,8}",,,"14567890"],[,,"9(?:6[013]|7[245]|8[0-24-6])\\d{7}","\\d{10}",,,"9841234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NP",977,"00","0",,,"0",,,,[[,"(1)(\\d{7})","$1-$2",["1[2-6]"],"0$1","",0],[,"(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-69]|7[15-9])"],"0$1","",0],[,"(9\\d{2})(\\d{7})","$1-$2",["9(?:6[013]|7[245]|8)"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"NR":[,[,,"[458]\\d{6}","\\d{7}"],[,,"(?:444|888)\\d{4}","\\d{7}",,,"4441234"],[,,"55[5-9]\\d{4}","\\d{7}",,,"5551234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NR",674,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"NU":[,[,,"[1-5]\\d{3}","\\d{4}"],[,,"[34]\\d{3}","\\d{4}",,,"4002"],[,,"[125]\\d{3}","\\d{4}",,,"1234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"NU",683,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"NZ":[,[,,"6[235-9]\\d{6}|[2-57-9]\\d{7,10}","\\d{7,11}"],[,,"(?:3[2-79]|[49][2-9]|6[235-9]|7[2-57-9])\\d{6}|24099\\d{3}","\\d{7,8}",,,"32345678"],[,,"2(?:[028]\\d{7,8}|1(?:[03]\\d{5,7}|[12457]\\d{5,6}|[689]\\d{5})|[79]\\d{7})","\\d{8,10}",,,"211234567"],[,,"508\\d{6,7}|80\\d{6,8}","\\d{8,10}",,,"800123456"],[,,"90\\d{7,9}","\\d{9,11}",,,"900123456"],[,,"NA","NA"],[,,"70\\d{7}","\\d{9}",,,"701234567"],[,,"NA","NA"],"NZ",64,"0(?:0|161)","0",,,"0",,"00",,[[,"([34679])(\\d{3})(\\d{4})","$1-$2 $3",["[346]|7[2-57-9]|9[1-9]"],"0$1","",0],[,"(24099)(\\d{3})","$1 $2",["240","2409","24099"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["21"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:1[1-9]|[69]|7[0-35-9])|70|86"],"0$1","",0],[,"(2\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["2[028]"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|5|[89]0"],"0$1","",0]],,[,,"[28]6\\d{6,7}","\\d{8,9}",,,"26123456"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"OM":[,[,,"(?:2[2-6]|5|9[1-9])\\d{6}|800\\d{5,6}","\\d{7,9}"],[,,"2[2-6]\\d{6}","\\d{8}",,,"23123456"],[,,"9[1-9]\\d{6}","\\d{8}",,,"92123456"],[,,"8007\\d{4,5}|500\\d{4}","\\d{7,9}",,,"80071234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"OM",968,"00",,,,,,,,[[,"(2\\d)(\\d{6})","$1 $2",["2"],"","",0],[,"(9\\d{3})(\\d{4})","$1 $2",["9"],"","",0],[,"([58]00)(\\d{4,6})","$1 $2",["[58]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"PA":[,[,,"[1-9]\\d{6,7}","\\d{7,8}"],[,,"(?:1(?:0[02-579]|19|2[37]|3[03]|4[479]|57|65|7[016-8]|8[58]|9[1349])|2(?:[0235679]\\d|1[0-7]|4[04-9]|8[028])|3(?:[09]\\d|1[14-7]|2[0-3]|3[03]|4[0457]|5[56]|6[068]|7[06-8]|8[089])|4(?:3[013-69]|4\\d|7[0-689])|5(?:[01]\\d|2[0-7]|[56]0|79)|7(?:0[09]|2[0-267]|3[06]|[49]0|5[06-9]|7[0-24-7]|8[89])|8(?:[34]\\d|5[0-4]|8[02])|9(?:0[6-8]|1[016-8]|2[036-8]|3[3679]|40|5[0489]|6[06-9]|7[046-9]|8[36-8]|9[1-9]))\\d{4}","\\d{7}",,,"2001234"],[,,"(?:1[16]1|21[89]|8(?:1[01]|7[23]))\\d{4}|6(?:[024-9]\\d|1[0-5]|3[0-24-9])\\d{5}","\\d{7,8}",,,"60012345"],[,,"80[09]\\d{4}","\\d{7}",,,"8001234"],[,,"(?:779|8(?:2[235]|55|60|7[578]|86|95)|9(?:0[0-2]|81))\\d{4}","\\d{7}",,,"8601234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PA",507,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"],"","",0],[,"(\\d{4})(\\d{4})","$1-$2",["6"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"PE":[,[,,"[14-9]\\d{7,8}","\\d{6,9}"],[,,"(?:1\\d|4[1-4]|5[1-46]|6[1-7]|7[2-46]|8[2-4])\\d{6}","\\d{6,8}",,,"11234567"],[,,"9\\d{8}","\\d{9}",,,"912345678"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"805\\d{5}","\\d{8}",,,"80512345"],[,,"801\\d{5}","\\d{8}",,,"80112345"],[,,"80[24]\\d{5}","\\d{8}",,,"80212345"],[,,"NA","NA"],"PE",51,"19(?:1[124]|77|90)00","0"," Anexo ",,"0",,,,[[,"(1)(\\d{7})","$1 $2",["1"],"(0$1)","",0],[,"([4-8]\\d)(\\d{6})","$1 $2",["[4-7]|8[2-4]"],"(0$1)","",0],[,"(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)","",0],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"PF":[,[,,"4\\d{5,7}|8\\d{7}","\\d{6}(?:\\d{2})?"],[,,"4(?:[09][45689]\\d|4)\\d{4}","\\d{6}(?:\\d{2})?",,,"40412345"],[,,"8[79]\\d{6}","\\d{8}",,,"87123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PF",689,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4[09]|8[79]"],"","",0],[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"],"","",0]],,[,,"NA","NA"],,,[,,"44\\d{4}","\\d{6}",,,"441234"],[,,"NA","NA"],,,[,,"NA","NA"]],"PG":[,[,,"[1-9]\\d{6,7}","\\d{7,8}"],[,,"(?:3[0-2]\\d|4[25]\\d|5[34]\\d|64[1-9]|77(?:[0-24]\\d|30)|85[02-46-9]|9[78]\\d)\\d{4}","\\d{7}",,,"3123456"],[,,"(?:20150|68\\d{2}|7(?:[0-369]\\d|75)\\d{2})\\d{3}","\\d{7,8}",,,"6812345"],[,,"180\\d{4}","\\d{7}",,,"1801234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"275\\d{4}","\\d{7}",,,"2751234"],"PG",675,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[13-689]|27"],"","",0],[,"(\\d{4})(\\d{4})","$1 $2",["20|7"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"PH":[,[,,"2\\d{5,7}|[3-9]\\d{7,9}|1800\\d{7,9}","\\d{5,13}"],[,,"2\\d{5}(?:\\d{2})?|(?:3[2-68]|4[2-9]|5[2-6]|6[2-58]|7[24578]|8[2-8])\\d{7}|88(?:22\\d{6}|42\\d{4})","\\d{5,10}",,,"21234567"],[,,"(?:81[37]|9(?:0[5-9]|1[024-9]|2[0-35-9]|3[02-9]|4[236-9]|50|7[34-79]|89|9[4-9]))\\d{7}","\\d{10}",,,"9051234567"],[,,"1800\\d{7,9}","\\d{11,13}",,,"180012345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PH",63,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"(0$1)","",0],[,"(2)(\\d{5})","$1 $2",["2"],"(0$1)","",0],[,"(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|5(?:22|44)|642|8(?:62|8[245])","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)","",0],[,"(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)","",0],[,"([3-8]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[3-8]"],"(0$1)","",0],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["81|9"],"0$1","",0],[,"(1800)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"","",0],[,"(1800)(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"PK":[,[,,"1\\d{8}|[2-8]\\d{5,11}|9(?:[013-9]\\d{4,9}|2\\d(?:111\\d{6}|\\d{3,7}))","\\d{6,12}"],[,,"(?:21|42)[2-9]\\d{7}|(?:2[25]|4[0146-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]\\d{6}|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8]))[2-9]\\d{5,6}|58[126]\\d{7}","\\d{6,10}",,,"2123456789"],[,,"3(?:0\\d|1[0-6]|2[0-5]|3[0-7]|4[0-8]|55|64)\\d{7}","\\d{10}",,,"3012345678"],[,,"800\\d{5}","\\d{8}",,,"80012345"],[,,"900\\d{5}","\\d{8}",,,"90012345"],[,,"NA","NA"],[,,"122\\d{6}","\\d{9}",,,"122044444"],[,,"NA","NA"],"PK",92,"00","0",,,"0",,,,[[,"(\\d{2})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)1","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)11","(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)111"],"(0$1)","",0],[,"(\\d{3})(111)(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d1","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d11","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d111"],"(0$1)","",0],[,"(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)","",0],[,"(\\d{3})(\\d{6,7})","$1 $2",["2[349]|45|54|60|72|8[2-5]|9[2-9]","(?:2[349]|45|54|60|72|8[2-5]|9[2-9])\\d[2-9]"],"(0$1)","",0],[,"(3\\d{2})(\\d{7})","$1 $2",["3"],"0$1","",0],[,"([15]\\d{3})(\\d{5,6})","$1 $2",["58[12]|1"],"(0$1)","",0],[,"(586\\d{2})(\\d{5})","$1 $2",["586"],"(0$1)","",0],[,"([89]00)(\\d{3})(\\d{2})","$1 $2 $3",["[89]00"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"(?:2(?:[125]|3[2358]|4[2-4]|9[2-8])|4(?:[0-246-9]|5[3479])|5(?:[1-35-7]|4[2-467])|6(?:[1-8]|0[468])|7(?:[14]|2[236])|8(?:[16]|2[2-689]|3[23578]|4[3478]|5[2356])|9(?:1|22|3[27-9]|4[2-6]|6[3569]|9[2-7]))111\\d{6}","\\d{11,12}",,,"21111825888"],,,[,,"NA","NA"]],"PL":[,[,,"[12]\\d{6,8}|[3-57-9]\\d{8}|6\\d{5,8}","\\d{6,9}"],[,,"(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])\\d{7}|[12]2\\d{5}","\\d{6,9}",,,"123456789"],[,,"(?:5[0137]|6[069]|7[2389]|88)\\d{7}","\\d{9}",,,"512345678"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"70\\d{7}","\\d{9}",,,"701234567"],[,,"801\\d{6}","\\d{9}",,,"801234567"],[,,"NA","NA"],[,,"39\\d{7}","\\d{9}",,,"391234567"],"PL",48,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[14]|2[0-57-9]|3[2-4]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145]"],"","",0],[,"(\\d{2})(\\d{1})(\\d{4})","$1 $2 $3",["[12]2"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["26|39|5[0137]|6[0469]|7[02389]|8[08]"],"","",0],[,"(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"],"","",0],[,"(\\d{3})(\\d{3})","$1 $2",["64"],"","",0]],,[,,"64\\d{4,7}","\\d{6,9}",,,"641234567"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"PM":[,[,,"[45]\\d{5}","\\d{6}"],[,,"41\\d{4}","\\d{6}",,,"411234"],[,,"55\\d{4}","\\d{6}",,,"551234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PM",508,"00","0",,,"0",,,,[[,"([45]\\d)(\\d{2})(\\d{2})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"PR":[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"(?:787|939)[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"7872345678"],[,,"(?:787|939)[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"7872345678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"PR",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"787|939",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"PS":[,[,,"[24589]\\d{7,8}|1(?:[78]\\d{8}|[49]\\d{2,3})","\\d{4,10}"],[,,"(?:22[234789]|42[45]|82[01458]|92[369])\\d{5}","\\d{7,8}",,,"22234567"],[,,"5[69]\\d{7}","\\d{9}",,,"599123456"],[,,"1800\\d{6}","\\d{10}",,,"1800123456"],[,,"1(?:4|9\\d)\\d{2}","\\d{4,5}",,,"19123"],[,,"1700\\d{6}","\\d{10}",,,"1700123456"],[,,"NA","NA"],[,,"NA","NA"],"PS",970,"00","0",,,"0",,,,[[,"([2489])(2\\d{2})(\\d{4})","$1 $2 $3",["[2489]"],"0$1","",0],[,"(5[69]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1","",0],[,"(1[78]00)(\\d{3})(\\d{3})","$1 $2 $3",["1[78]"],"$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"PT":[,[,,"[2-46-9]\\d{8}","\\d{9}"],[,,"2(?:[12]\\d|[35][1-689]|4[1-59]|6[1-35689]|7[1-9]|8[1-69]|9[1256])\\d{6}","\\d{9}",,,"212345678"],[,,"9(?:[136]\\d{2}|2[0-79]\\d|480)\\d{5}","\\d{9}",,,"912345678"],[,,"80[02]\\d{6}","\\d{9}",,,"800123456"],[,,"76(?:0[1-57]|1[2-47]|2[237])\\d{5}","\\d{9}",,,"760123456"],[,,"80(?:8\\d|9[1579])\\d{5}","\\d{9}",,,"808123456"],[,,"884[128]\\d{5}","\\d{9}",,,"884123456"],[,,"30\\d{7}","\\d{9}",,,"301234567"],"PT",351,"00",,,,,,,,[[,"(2\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"],"","",0],[,"([2-46-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[3-9]|[346-9]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"70(?:7\\d|8[17])\\d{5}","\\d{9}",,,"707123456"],,,[,,"NA","NA"]],"PW":[,[,,"[2-8]\\d{6}","\\d{7}"],[,,"2552255|(?:277|345|488|5(?:35|44|87)|6(?:22|54|79)|7(?:33|47)|8(?:24|55|76))\\d{4}","\\d{7}",,,"2771234"],[,,"(?:6[234689]0|77[45789])\\d{4}","\\d{7}",,,"6201234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"PW",680,"01[12]",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"PY":[,[,,"5[0-5]\\d{4,7}|[2-46-9]\\d{5,8}","\\d{5,9}"],[,,"(?:[26]1|3[289]|4[124678]|7[123]|8[1236])\\d{5,7}|(?:2(?:2[4568]|7[15]|9[1-5])|3(?:18|3[167]|4[2357]|51)|4(?:18|2[45]|3[12]|5[13]|64|71|9[1-47])|5(?:[1-4]\\d|5[0234])|6(?:3[1-3]|44|7[1-4678])|7(?:17|4[0-4]|6[1-578]|75|8[0-8])|858)\\d{5,6}","\\d{5,9}",,,"212345678"],[,,"9(?:6[12]|[78][1-6]|9[1-5])\\d{6}","\\d{9}",,,"961456789"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"8700[0-4]\\d{4}","\\d{9}",,,"870012345"],"PY",595,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{5,7})","$1 $2",["(?:[26]1|3[289]|4[124678]|7[123]|8[1236])"],"($1)","",0],[,"(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1","",0],[,"(\\d{3})(\\d{6})","$1 $2",["9[1-9]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8700"],"","",0],[,"(\\d{3})(\\d{4,6})","$1 $2",["[2-8][1-9]"],"($1)","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"[2-9]0\\d{4,7}","\\d{6,9}",,,"201234567"],,,[,,"NA","NA"]],"QA":[,[,,"[2-8]\\d{6,7}","\\d{7,8}"],[,,"4[04]\\d{6}","\\d{7,8}",,,"44123456"],[,,"[3567]\\d{7}","\\d{7,8}",,,"33123456"],[,,"800\\d{4}","\\d{7,8}",,,"8001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"QA",974,"00",,,,,,,,[[,"([28]\\d{2})(\\d{4})","$1 $2",["[28]"],"","",0],[,"([3-7]\\d{3})(\\d{4})","$1 $2",["[3-7]"],"","",0]],,[,,"2(?:[12]\\d|61)\\d{4}","\\d{7}",,,"2123456"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"RE":[,[,,"[268]\\d{8}","\\d{9}"],[,,"262\\d{6}","\\d{9}",,,"262161234"],[,,"6(?:9[23]|47)\\d{6}","\\d{9}",,,"692123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"89[1-37-9]\\d{6}","\\d{9}",,,"891123456"],[,,"8(?:1[019]|2[0156]|84|90)\\d{6}","\\d{9}",,,"810123456"],[,,"NA","NA"],[,,"NA","NA"],"RE",262,"00","0",,,"0",,,,[[,"([268]\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"0$1","",0]],,[,,"NA","NA"],1,"262|6[49]|8",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"RO":[,[,,"2\\d{5,8}|[37-9]\\d{8}","\\d{6,9}"],[,,"2(?:1(?:\\d{7}|9\\d{3})|[3-6](?:\\d{7}|\\d9\\d{2}))|3[13-6]\\d{7}","\\d{6,9}",,,"211234567"],[,,"7(?:000|[1-8]\\d{2}|99\\d)\\d{5}","\\d{9}",,,"712345678"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"90[036]\\d{6}","\\d{9}",,,"900123456"],[,,"801\\d{6}","\\d{9}",,,"801123456"],[,,"802\\d{6}","\\d{9}",,,"802123456"],[,,"NA","NA"],"RO",40,"00","0"," int ",,"0",,,,[[,"([237]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1","",0],[,"(21)(\\d{4})","$1 $2",["21"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23][3-7]|[7-9]"],"0$1","",0],[,"(2\\d{2})(\\d{3})","$1 $2",["2[3-6]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"37\\d{7}","\\d{9}",,,"372123456"],,,[,,"NA","NA"]],"RS":[,[,,"[126-9]\\d{4,11}|3(?:[0-79]\\d{3,10}|8[2-9]\\d{2,9})","\\d{5,12}"],[,,"(?:1(?:[02-9][2-9]|1[1-9])\\d|2(?:[0-24-7][2-9]\\d|[389](?:0[2-9]|[2-9]\\d))|3(?:[0-8][2-9]\\d|9(?:[2-9]\\d|0[2-9])))\\d{3,8}","\\d{5,12}",,,"10234567"],[,,"6(?:[0-689]|7\\d)\\d{6,7}","\\d{8,10}",,,"601234567"],[,,"800\\d{3,9}","\\d{6,12}",,,"80012345"],[,,"(?:90[0169]|78\\d)\\d{3,7}","\\d{6,12}",,,"90012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"RS",381,"00","0",,,"0",,,,[[,"([23]\\d{2})(\\d{4,9})","$1 $2",["(?:2[389]|39)0"],"0$1","",0],[,"([1-3]\\d)(\\d{5,10})","$1 $2",["1|2(?:[0-24-7]|[389][1-9])|3(?:[0-8]|9[1-9])"],"0$1","",0],[,"(6\\d)(\\d{6,8})","$1 $2",["6"],"0$1","",0],[,"([89]\\d{2})(\\d{3,9})","$1 $2",["[89]"],"0$1","",0],[,"(7[26])(\\d{4,9})","$1 $2",["7[26]"],"0$1","",0],[,"(7[08]\\d)(\\d{4,9})","$1 $2",["7[08]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"7[06]\\d{4,10}","\\d{6,12}",,,"700123456"],,,[,,"NA","NA"]],"RU":[,[,,"[3489]\\d{9}","\\d{10}"],[,,"(?:3(?:0[12]|4[1-35-79]|5[1-3]|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15]|6[1-35-7]|7[1-37-9]))\\d{7}","\\d{10}",,,"3011234567"],[,,"9\\d{9}","\\d{10}",,,"9123456789"],[,,"80[04]\\d{7}","\\d{10}",,,"8001234567"],[,,"80[39]\\d{7}","\\d{10}",,,"8091234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"RU",7,"810","8",,,"8",,"8~10",,[[,"(\\d{3})(\\d{2})(\\d{2})","$1-$2-$3",["[1-79]"],"$1","",1],[,"([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[34689]"],"8 ($1)","",1],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)","",1]],[[,"([3489]\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[34689]"],"8 ($1)","",1],[,"(7\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)","",1]],[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"RW":[,[,,"[027-9]\\d{7,8}","\\d{8,9}"],[,,"2[258]\\d{7}|06\\d{6}","\\d{8,9}",,,"250123456"],[,,"7[238]\\d{7}","\\d{9}",,,"720123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"RW",250,"00","0",,,"0",,,,[[,"(2\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"$1","",0],[,"([7-9]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1","",0],[,"(0\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"SA":[,[,,"1\\d{7,8}|(?:[2-467]|92)\\d{7}|5\\d{8}|8\\d{9}","\\d{7,10}"],[,,"11\\d{7}|1?(?:2[24-8]|3[35-8]|4[3-68]|6[2-5]|7[235-7])\\d{6}","\\d{7,9}",,,"112345678"],[,,"(?:5(?:[013-689]\\d|7[0-26-8])|811\\d)\\d{6}","\\d{9,10}",,,"512345678"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"NA","NA"],[,,"92[05]\\d{6}","\\d{9}",,,"920012345"],[,,"NA","NA"],[,,"NA","NA"],"SA",966,"00","0",,,"0",,,,[[,"([1-467])(\\d{3})(\\d{4})","$1 $2 $3",["[1-467]"],"0$1","",0],[,"(1\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1[1-467]"],"0$1","",0],[,"(5\\d)(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1","",0],[,"(92\\d{2})(\\d{5})","$1 $2",["92"],"$1","",0],[,"(800)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"$1","",0],[,"(811)(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SB":[,[,,"[1-9]\\d{4,6}","\\d{5,7}"],[,,"(?:1[4-79]|[23]\\d|4[0-2]|5[03]|6[0-37])\\d{3}","\\d{5}",,,"40123"],[,,"48\\d{3}|7(?:30|[46-8]\\d|5[025-9]|9[0-5])\\d{4}|8[4-8]\\d{5}|9(?:1[2-9]|2[013-9]|3[0-2]|[46]\\d|5[0-46-9]|7[0-689]|8[0-79]|9[0-8])\\d{4}","\\d{5,7}",,,"7421234"],[,,"1[38]\\d{3}","\\d{5}",,,"18123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"5[12]\\d{3}","\\d{5}",,,"51123"],"SB",677,"0[01]",,,,,,,,[[,"(\\d{2})(\\d{5})","$1 $2",["[7-9]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SC":[,[,,"[2468]\\d{5,6}","\\d{6,7}"],[,,"4[2-46]\\d{5}","\\d{7}",,,"4217123"],[,,"2[5-8]\\d{5}","\\d{7}",,,"2510123"],[,,"8000\\d{2}","\\d{6}",,,"800000"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"64\\d{5}","\\d{7}",,,"6412345"],"SC",248,"0[0-2]",,,,,,"00",,[[,"(\\d{3})(\\d{3})","$1 $2",["8"],"","",0],[,"(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SD":[,[,,"[19]\\d{8}","\\d{9}"],[,,"1(?:[125]\\d|8[3567])\\d{6}","\\d{9}",,,"121231234"],[,,"9[0-3569]\\d{7}","\\d{9}",,,"911231234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SD",249,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SE":[,[,,"[1-9]\\d{5,9}","\\d{5,10}"],[,,"1(?:0[1-8]\\d{6}|[136]\\d{5,7}|(?:2[0-35]|4[0-4]|5[0-25-9]|7[13-6]|[89]\\d)\\d{5,6})|2(?:[136]\\d{5,7}|(?:2[0-7]|4[0136-8]|5[0138]|7[018]|8[01]|9[0-57])\\d{5,6})|3(?:[356]\\d{5,7}|(?:0[0-4]|1\\d|2[0-25]|4[056]|7[0-2]|8[0-3]|9[023])\\d{5,6})|4(?:0[1-9]\\d{4,6}|[246]\\d{5,7}|(?:1[013-8]|3[0135]|5[14-79]|7[0-246-9]|8[0156]|9[0-689])\\d{5,6})|5(?:0[0-6]|[15][0-5]|2[0-68]|3[0-4]|4\\d|6[03-5]|7[013]|8[0-79]|9[01])\\d{5,6}|6(?:0[1-9]\\d{4,6}|3\\d{5,7}|(?:1[1-3]|2[0-4]|4[02-57]|5[0-37]|6[0-3]|7[0-2]|8[0247]|9[0-356])\\d{5,6})|8[1-9]\\d{5,7}|9(?:0[1-9]\\d{4,6}|(?:1[0-68]|2\\d|3[02-5]|4[0-3]|5[0-4]|[68][01]|7[0135-8])\\d{5,6})","\\d{5,9}",,,"8123456"],[,,"7[02369]\\d{7}","\\d{9}",,,"701234567"],[,,"20(?:0(?:0\\d{2}|[1-9](?:0\\d{1,4}|[1-9]\\d{4}))|1(?:0\\d{4}|[1-9]\\d{4,5})|[2-9]\\d{5})","\\d{6,9}",,,"20123456"],[,,"9(?:00|39|44)(?:1(?:[0-26]\\d{5}|[3-57-9]\\d{2})|2(?:[0-2]\\d{5}|[3-9]\\d{2})|3(?:[0139]\\d{5}|[24-8]\\d{2})|4(?:[045]\\d{5}|[1-36-9]\\d{2})|5(?:5\\d{5}|[0-46-9]\\d{2})|6(?:[679]\\d{5}|[0-58]\\d{2})|7(?:[078]\\d{5}|[1-69]\\d{2})|8(?:[578]\\d{5}|[0-469]\\d{2}))","\\d{7}(?:\\d{3})?",,,"9001234567"],[,,"77(?:0(?:0\\d{2}|[1-9](?:0\\d|[1-9]\\d{4}))|[1-6][1-9]\\d{5})","\\d{6}(?:\\d{3})?",,,"771234567"],[,,"75[1-8]\\d{6}","\\d{9}",,,"751234567"],[,,"NA","NA"],"SE",46,"00","0",,,"0",,,,[[,"(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1","",0],[,"([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"],"0$1","",0],[,"([1-69]\\d)(\\d{3})(\\d{2})","$1-$2 $3",["1[13689]|2[136]|3[1356]|4[0246]|54|6[03]|90"],"0$1","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"],"0$1","",0],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"],"0$1","",0],[,"(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["7"],"0$1","",0],[,"(77)(\\d{2})(\\d{2})","$1-$2$3",["7"],"0$1","",0],[,"(20)(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1","",0],[,"(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9[034]"],"0$1","",0],[,"(9[034]\\d)(\\d{4})","$1-$2",["9[034]"],"0$1","",0]],[[,"(8)(\\d{2,3})(\\d{2,3})(\\d{2})","$1 $2 $3 $4",["8"]],[,"([1-69]\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90"]],[,"([1-69]\\d)(\\d{3})(\\d{2})","$1 $2 $3",["1[13689]|2[136]|3[1356]|4[0246]|54|6[03]|90"]],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"]],[,"(\\d{3})(\\d{2,3})(\\d{2})","$1 $2 $3",["1[2457]|2[2457-9]|3[0247-9]|4[1357-9]|5[0-35-9]|6[124-9]|9(?:[125-8]|3[0-5]|4[0-3])"]],[,"(7\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7"]],[,"(77)(\\d{2})(\\d{2})","$1 $2 $3",["7"]],[,"(20)(\\d{2,3})(\\d{2})","$1 $2 $3",["20"]],[,"(9[034]\\d)(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["9[034]"]],[,"(9[034]\\d)(\\d{4})","$1 $2",["9[034]"]]],[,,"74[02-9]\\d{6}","\\d{9}",,,"740123456"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SG":[,[,,"[36]\\d{7}|[17-9]\\d{7,10}","\\d{8,11}"],[,,"6[1-9]\\d{6}","\\d{8}",,,"61234567"],[,,"(?:8[1-8]|9[0-8])\\d{6}","\\d{8}",,,"81234567"],[,,"1?800\\d{7}","\\d{10,11}",,,"18001234567"],[,,"1900\\d{7}","\\d{11}",,,"19001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"3[12]\\d{6}","\\d{8}",,,"31234567"],"SG",65,"0[0-3]\\d",,,,,,,,[[,"([3689]\\d{3})(\\d{4})","$1 $2",["[369]|8[1-9]"],"","",0],[,"(1[89]00)(\\d{3})(\\d{4})","$1 $2 $3",["1[89]"],"","",0],[,"(7000)(\\d{4})(\\d{3})","$1 $2 $3",["70"],"","",0],[,"(800)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"7000\\d{7}","\\d{11}",,,"70001234567"],,,[,,"NA","NA"]],"SH":[,[,,"[256]\\d{4}","\\d{4,5}"],[,,"2(?:[0-57-9]\\d|6[4-9])\\d{2}","\\d{5}",,,"22158"],[,,"[56]\\d{4}","\\d{5}"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"262\\d{2}","\\d{5}"],"SH",290,"00",,,,,,,,,,[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SI":[,[,,"[1-7]\\d{6,7}|[89]\\d{4,7}","\\d{5,8}"],[,,"(?:1\\d|[25][2-8]|3[4-8]|4[24-8]|7[3-8])\\d{6}","\\d{7,8}",,,"11234567"],[,,"(?:[37][01]|4[0139]|51|6[48])\\d{6}","\\d{8}",,,"31234567"],[,,"80\\d{4,6}","\\d{6,8}",,,"80123456"],[,,"90\\d{4,6}|89[1-3]\\d{2,5}","\\d{5,8}",,,"90123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"(?:59|8[1-3])\\d{6}","\\d{8}",,,"59012345"],"SI",386,"00","0",,,"0",,,,[[,"(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[12]|3[4-8]|4[24-8]|5[2-8]|7[3-8]"],"(0$1)","",0],[,"([3-7]\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1","",0],[,"([89][09])(\\d{3,6})","$1 $2",["[89][09]"],"0$1","",0],[,"([58]\\d{2})(\\d{5})","$1 $2",["59|8[1-3]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SJ":[,[,,"0\\d{4}|[4789]\\d{7}","\\d{5}(?:\\d{3})?"],[,,"79\\d{6}","\\d{8}",,,"79123456"],[,,"(?:4[015-8]|5[89]|9\\d)\\d{6}","\\d{8}",,,"41234567"],[,,"80[01]\\d{5}","\\d{8}",,,"80012345"],[,,"82[09]\\d{5}","\\d{8}",,,"82012345"],[,,"810(?:0[0-6]|[2-8]\\d)\\d{3}","\\d{8}",,,"81021234"],[,,"880\\d{5}","\\d{8}",,,"88012345"],[,,"85[0-5]\\d{5}","\\d{8}",,,"85012345"],"SJ",47,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"0\\d{4}|81(?:0(?:0[7-9]|1\\d)|5\\d{2})\\d{3}","\\d{5}(?:\\d{3})?",,,"01234"],1,,[,,"81[23]\\d{5}","\\d{8}",,,"81212345"]],"SK":[,[,,"[2-689]\\d{8}","\\d{9}"],[,,"[2-5]\\d{8}","\\d{9}",,,"212345678"],[,,"9(?:0[1-8]|1[0-24-9]|4[0489])\\d{6}","\\d{9}",,,"912123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"9(?:[78]\\d{7}|00\\d{6})","\\d{9}",,,"900123456"],[,,"8[5-9]\\d{7}","\\d{9}",,,"850123456"],[,,"NA","NA"],[,,"6(?:5[0-4]|9[0-6])\\d{6}","\\d{9}",,,"690123456"],"SK",421,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1","",0],[,"([3-5]\\d)(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1","",0],[,"([689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"(?:8(?:00|[5-9]\\d)|9(?:00|[78]\\d))\\d{6}","\\d{9}",,,"800123456"],[,,"96\\d{7}","\\d{9}",,,"961234567"],,,[,,"NA","NA"]],"SL":[,[,,"[2-9]\\d{7}","\\d{6,8}"],[,,"[235]2[2-4][2-9]\\d{4}","\\d{6,8}",,,"22221234"],[,,"(?:2[15]|3[03-5]|4[04]|5[05]|66|7[6-9]|88|99)\\d{6}","\\d{6,8}",,,"25123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SL",232,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{6})","$1 $2",,"(0$1)","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SM":[,[,,"[05-7]\\d{7,9}","\\d{6,10}"],[,,"0549(?:8[0157-9]|9\\d)\\d{4}","\\d{6,10}",,,"0549886377"],[,,"6[16]\\d{6}","\\d{8}",,,"66661212"],[,,"NA","NA"],[,,"7[178]\\d{6}","\\d{8}",,,"71123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"5[158]\\d{6}","\\d{8}",,,"58001110"],"SM",378,"00",,,,"(?:0549)?([89]\\d{5})","0549$1",,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"],"","",0],[,"(0549)(\\d{6})","$1 $2",["0"],"","",0],[,"(\\d{6})","0549 $1",["[89]"],"","",0]],[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"],"","",0],[,"(0549)(\\d{6})","($1) $2",["0"]],[,"(\\d{6})","(0549) $1",["[89]"]]],[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"SN":[,[,,"[3789]\\d{8}","\\d{9}"],[,,"3(?:0(?:1[0-2]|80)|282|3(?:8[1-9]|9[3-9])|611|90[1-5])\\d{5}","\\d{9}",,,"301012345"],[,,"7(?:[067]\\d|21|8[0-26]|90)\\d{6}","\\d{9}",,,"701234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"88[4689]\\d{6}","\\d{9}",,,"884123456"],[,,"81[02468]\\d{6}","\\d{9}",,,"810123456"],[,,"NA","NA"],[,,"3392\\d{5}|93330\\d{4}","\\d{9}",,,"933301234"],"SN",221,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"],"","",0],[,"(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SO":[,[,,"[1-79]\\d{6,8}","\\d{7,9}"],[,,"(?:1\\d|2[0-79]|3[0-46-8]|4[0-7]|59)\\d{5}","\\d{7}",,,"4012345"],[,,"(?:15\\d|2(?:4\\d|8)|6[137-9]?\\d{2}|7[1-9]\\d|907\\d)\\d{5}","\\d{7,9}",,,"71123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SO",252,"00","0",,,"0",,,,[[,"(\\d)(\\d{6})","$1 $2",["2[0-79]|[13-5]"],"","",0],[,"(\\d)(\\d{7})","$1 $2",["24|[67]"],"","",0],[,"(\\d{2})(\\d{5,7})","$1 $2",["15|28|6[1378]"],"","",0],[,"(69\\d)(\\d{6})","$1 $2",["69"],"","",0],[,"(90\\d)(\\d{3})(\\d{3})","$1 $2 $3",["90"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SR":[,[,,"[2-8]\\d{5,6}","\\d{6,7}"],[,,"(?:2[1-3]|3[0-7]|4\\d|5[2-58]|68\\d)\\d{4}","\\d{6,7}",,,"211234"],[,,"(?:7[124-7]|8[1-9])\\d{5}","\\d{7}",,,"7412345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"5(?:6\\d{4}|90[0-4]\\d{3})","\\d{6,7}",,,"561234"],"SR",597,"00",,,,,,,,[[,"(\\d{3})(\\d{3})","$1-$2",["[2-4]|5[2-58]"],"","",0],[,"(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"],"","",0],[,"(\\d{3})(\\d{4})","$1-$2",["59|[6-8]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SS":[,[,,"[19]\\d{8}","\\d{9}"],[,,"18\\d{7}","\\d{9}",,,"181234567"],[,,"(?:12|9[1257])\\d{7}","\\d{9}",,,"977123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SS",211,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"ST":[,[,,"[29]\\d{6}","\\d{7}"],[,,"22\\d{5}","\\d{7}",,,"2221234"],[,,"9[89]\\d{5}","\\d{7}",,,"9812345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ST",239,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SV":[,[,,"[267]\\d{7}|[89]\\d{6}(?:\\d{4})?","\\d{7,8}|\\d{11}"],[,,"2[1-6]\\d{6}","\\d{8}",,,"21234567"],[,,"[67]\\d{7}","\\d{8}",,,"70123456"],[,,"800\\d{4}(?:\\d{4})?","\\d{7}(?:\\d{4})?",,,"8001234"],[,,"900\\d{4}(?:\\d{4})?","\\d{7}(?:\\d{4})?",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SV",503,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[267]"],"","",0],[,"(\\d{3})(\\d{4})","$1 $2",["[89]"],"","",0],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],
"SX":[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"7215(?:4[2-8]|8[239]|9[056])\\d{4}","\\d{7}(?:\\d{3})?",,,"7215425678"],[,,"7215(?:1[02]|2\\d|5[034679]|8[014-8])\\d{4}","\\d{10}",,,"7215205678"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002123456"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002123456"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"SX",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"721",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SY":[,[,,"[1-59]\\d{7,8}","\\d{6,9}"],[,,"(?:1(?:1\\d?|4\\d|[2356])|2(?:1\\d?|[235])|3(?:[13]\\d|4)|4[13]|5[1-3])\\d{6}","\\d{6,9}",,,"112345678"],[,,"9(?:22|[35][0-8]|4\\d|6[024-9]|88|9[0-489])\\d{6}","\\d{9}",,,"944567890"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SY",963,"00","0",,,"0",,,,[[,"(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1","",1],[,"(9\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1","",1]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"SZ":[,[,,"[027]\\d{7}","\\d{8}"],[,,"2[2-5]\\d{6}","\\d{8}",,,"22171234"],[,,"7[6-8]\\d{6}","\\d{8}",,,"76123456"],[,,"0800\\d{4}","\\d{8}",,,"08001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"SZ",268,"00",,,,,,,,[[,"(\\d{4})(\\d{4})","$1 $2",["[027]"],"","",0]],,[,,"NA","NA"],,,[,,"0800\\d{4}","\\d{8}",,,"08001234"],[,,"NA","NA"],1,,[,,"NA","NA"]],"TA":[,[,,"8\\d{3}","\\d{4}"],[,,"8\\d{3}","\\d{4}",,,"8999"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TA",290,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TC":[,[,,"[5689]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"649(?:712|9(?:4\\d|50))\\d{4}","\\d{7}(?:\\d{3})?",,,"6497121234"],[,,"649(?:2(?:3[129]|4[1-7])|3(?:3[1-389]|4[1-7])|4[34][1-3])\\d{4}","\\d{10}",,,"6492311234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"64971[01]\\d{4}","\\d{10}",,,"6497101234"],"TC",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"649",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TD":[,[,,"[2679]\\d{7}","\\d{8}"],[,,"22(?:[3789]0|5[0-5]|6[89])\\d{4}","\\d{8}",,,"22501234"],[,,"(?:6[02368]\\d|77\\d|9(?:5[0-4]|9\\d))\\d{5}","\\d{8}",,,"63012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TD",235,"00|16",,,,,,"00",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TG":[,[,,"[29]\\d{7}","\\d{8}"],[,,"2(?:2[2-7]|3[23]|44|55|66|77)\\d{5}","\\d{8}",,,"22212345"],[,,"9[0-389]\\d{6}","\\d{8}",,,"90112345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TG",228,"00",,,,,,,,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TH":[,[,,"[2-9]\\d{7,8}|1\\d{3}(?:\\d{5,6})?","\\d{4}|\\d{8,10}"],[,,"(?:2\\d|3[2-9]|4[2-5]|5[2-6]|7[3-7])\\d{6}","\\d{8}",,,"21234567"],[,,"(?:14|6[1-3]|[89]\\d)\\d{7}","\\d{9}",,,"812345678"],[,,"1800\\d{6}","\\d{10}",,,"1800123456"],[,,"1900\\d{6}","\\d{10}",,,"1900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"6[08]\\d{7}","\\d{9}",,,"601234567"],"TH",66,"00","0",,,"0",,,,[[,"(2)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1","",0],[,"([13-9]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["14|[3-9]"],"0$1","",0],[,"(1[89]00)(\\d{3})(\\d{3})","$1 $2 $3",["1"],"$1","",0]],,[,,"NA","NA"],,,[,,"1\\d{3}","\\d{4}",,,"1100"],[,,"1\\d{3}","\\d{4}",,,"1100"],,,[,,"NA","NA"]],"TJ":[,[,,"[3-59]\\d{8}","\\d{3,9}"],[,,"(?:3(?:1[3-5]|2[245]|3[12]|4[24-7]|5[25]|72)|4(?:46|74|87))\\d{6}","\\d{3,9}",,,"372123456"],[,,"(?:50[125]|9[0-35-9]\\d)\\d{6}","\\d{9}",,,"917123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TJ",992,"810","8",,,"8",,"8~10",,[[,"([349]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"],"(8) $1","",1],[,"([459]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[48]|5|9(?:1[59]|[0235-9])"],"(8) $1","",1],[,"(331700)(\\d)(\\d{2})","$1 $2 $3",["331","3317","33170","331700"],"(8) $1","",1],[,"(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]","3(?:[1245]|3(?:[02-9]|1[0-589]))"],"(8) $1","",1]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TK":[,[,,"[2-9]\\d{3}","\\d{4}"],[,,"[2-4]\\d{3}","\\d{4}",,,"3010"],[,,"[5-9]\\d{3}","\\d{4}",,,"5190"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TK",690,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TL":[,[,,"[2-489]\\d{6}|7\\d{6,7}","\\d{7,8}"],[,,"(?:2[1-5]|3[1-9]|4[1-4])\\d{5}","\\d{7}",,,"2112345"],[,,"7[3-8]\\d{6}","\\d{8}",,,"77212345"],[,,"80\\d{5}","\\d{7}",,,"8012345"],[,,"90\\d{5}","\\d{7}",,,"9012345"],[,,"NA","NA"],[,,"70\\d{5}","\\d{7}",,,"7012345"],[,,"NA","NA"],"TL",670,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[2-489]"],"","",0],[,"(\\d{4})(\\d{4})","$1 $2",["7"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TM":[,[,,"[1-6]\\d{7}","\\d{8}"],[,,"(?:1(?:2\\d|3[1-9])|2(?:22|4[0-35-8])|3(?:22|4[03-9])|4(?:22|3[128]|4\\d|6[15])|5(?:22|5[7-9]|6[014-689]))\\d{5}","\\d{8}",,,"12345678"],[,,"6[2-9]\\d{6}","\\d{8}",,,"66123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TM",993,"810","8",,,"8",,"8~10",,[[,"(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)","",0],[,"(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1","",0],[,"(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["13|[2-5]"],"(8 $1)","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TN":[,[,,"[2-57-9]\\d{7}","\\d{8}"],[,,"3[012]\\d{6}|7\\d{7}|81200\\d{3}","\\d{8}",,,"71234567"],[,,"(?:[259]\\d|4[0-24])\\d{6}","\\d{8}",,,"20123456"],[,,"8010\\d{4}","\\d{8}",,,"80101234"],[,,"88\\d{6}","\\d{8}",,,"88123456"],[,,"8[12]10\\d{4}","\\d{8}",,,"81101234"],[,,"NA","NA"],[,,"NA","NA"],"TN",216,"00",,,,,,,,[[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TO":[,[,,"[02-8]\\d{4,6}","\\d{5,7}"],[,,"(?:2\\d|3[1-8]|4[1-4]|[56]0|7[0149]|8[05])\\d{3}","\\d{5}",,,"20123"],[,,"(?:7[578]|8[47-9])\\d{5}","\\d{7}",,,"7715123"],[,,"0800\\d{3}","\\d{7}",,,"0800222"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TO",676,"00",,,,,,,,[[,"(\\d{2})(\\d{3})","$1-$2",["[1-6]|7[0-4]|8[05]"],"","",0],[,"(\\d{3})(\\d{4})","$1 $2",["7[5-9]|8[47-9]"],"","",0],[,"(\\d{4})(\\d{3})","$1 $2",["0"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"TR":[,[,,"[2-589]\\d{9}|444\\d{4}","\\d{7,10}"],[,,"(?:2(?:[13][26]|[28][2468]|[45][268]|[67][246])|3(?:[13][28]|[24-6][2468]|[78][02468]|92)|4(?:[16][246]|[23578][2468]|4[26]))\\d{7}","\\d{10}",,,"2123456789"],[,,"5(?:0[1-7]|22|[34]\\d|5[1-59]|9[246])\\d{7}","\\d{10}",,,"5012345678"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TR",90,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[23]|4(?:[0-35-9]|4[0-35-9])"],"(0$1)","",1],[,"(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[589]"],"0$1","",1],[,"(444)(\\d{1})(\\d{3})","$1 $2 $3",["444"],"","",0]],,[,,"512\\d{7}","\\d{10}",,,"5123456789"],,,[,,"444\\d{4}","\\d{7}",,,"4441444"],[,,"444\\d{4}|850\\d{7}","\\d{7,10}",,,"4441444"],,,[,,"NA","NA"]],"TT":[,[,,"[589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"868(?:2(?:[03]1|2[1-5])|6(?:0[79]|1[02-8]|2[1-9]|[3-69]\\d|7[0-79])|82[124])\\d{4}","\\d{7}(?:\\d{3})?",,,"8682211234"],[,,"868(?:2(?:[789]\\d)|3(?:0[1-9]|1[02-9]|[2-9]\\d)|4[6-9]\\d|6(?:20|78|8\\d)|7(?:0[1-9]|1[02-9]|[2-9]\\d))\\d{4}","\\d{10}",,,"8682911234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"TT",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"868",[,,"NA","NA"],[,,"NA","NA"],,,[,,"868619\\d{4}","\\d{10}"]],"TV":[,[,,"[29]\\d{4,5}","\\d{5,6}"],[,,"2[02-9]\\d{3}","\\d{5}",,,"20123"],[,,"90\\d{4}","\\d{6}",,,"901234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"TV",688,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TW":[,[,,"[2-689]\\d{7,8}|7\\d{7,9}","\\d{8,10}"],[,,"[2-8]\\d{7,8}","\\d{8,9}",,,"21234567"],[,,"9\\d{8}","\\d{9}",,,"912345678"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"70\\d{8}","\\d{10}",,,"7012345678"],"TW",886,"0(?:0[25679]|19)","0","#",,"0",,,,[[,"([2-8])(\\d{3,4})(\\d{4})","$1 $2 $3",["[2-6]|[78][1-9]"],"0$1","",0],[,"([89]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["80|9"],"0$1","",0],[,"(70)(\\d{4})(\\d{4})","$1 $2 $3",["70"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"TZ":[,[,,"\\d{9}","\\d{7,9}"],[,,"2[2-8]\\d{7}","\\d{7,9}",,,"222345678"],[,,"(?:6[1578]|7[1-9])\\d{7}","\\d{9}",,,"612345678"],[,,"80[08]\\d{6}","\\d{9}",,,"800123456"],[,,"90\\d{7}","\\d{9}",,,"900123456"],[,,"8(?:40|6[01])\\d{6}","\\d{9}",,,"840123456"],[,,"NA","NA"],[,,"41\\d{7}","\\d{9}",,,"412345678"],"TZ",255,"00[056]","0",,,"0",,,,[[,"([24]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1","",0],[,"([67]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1","",0],[,"([89]\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"UA":[,[,,"[3-9]\\d{8}","\\d{5,9}"],[,,"(?:3[1-8]|4[13-8]|5[1-7]|6[12459])\\d{7}","\\d{5,9}",,,"311234567"],[,,"(?:39|50|6[36-8]|73|9[1-9])\\d{7}","\\d{9}",,,"391234567"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"900\\d{6}","\\d{9}",,,"900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"89\\d{7}","\\d{9}",,,"891234567"],"UA",380,"00","0",,,"0",,"0~0",,[[,"([3-9]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[38]9|4(?:[45][0-5]|87)|5(?:0|6[37]|7[37])|6[36-8]|73|9[1-9]","[38]9|4(?:[45][0-5]|87)|5(?:0|6(?:3[14-7]|7)|7[37])|6[36-8]|73|9[1-9]"],"0$1","",0],[,"([3-689]\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["3[1-8]2|4[13678]2|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90","3(?:[1-46-8]2[013-9]|52)|4(?:[1378]2|62[013-9])|5(?:[12457]2|6[24])|6(?:[49]2|[12][29]|5[24])|8[0-8]|90"],"0$1","",0],[,"([3-6]\\d{3})(\\d{5})","$1 $2",["3(?:5[013-9]|[1-46-8])|4(?:[137][013-9]|6|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6[0135-9]|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])","3(?:5[013-9]|[1-46-8](?:22|[013-9]))|4(?:[137][013-9]|6(?:[013-9]|22)|[45][6-9]|8[4-6])|5(?:[1245][013-9]|6(?:3[02389]|[015689])|3|7[4-6])|6(?:[49][013-9]|5[0135-9]|[12][13-8])"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"UG":[,[,,"\\d{9}","\\d{5,9}"],[,,"20(?:[0147]\\d{2}|2(?:40|[5-9]\\d)|3[23]\\d|5[0-4]\\d|6[03]\\d|8[0-2]\\d)\\d{4}|[34]\\d{8}","\\d{5,9}",,,"312345678"],[,,"2030\\d{5}|7(?:0[0-7]|[15789]\\d|2[03]|30|[46][0-4])\\d{6}","\\d{9}",,,"712345678"],[,,"800[123]\\d{5}","\\d{9}",,,"800123456"],[,,"90[123]\\d{6}","\\d{9}",,,"901123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"UG",256,"00[057]","0",,,"0",,,,[[,"(\\d{3})(\\d{6})","$1 $2",["[7-9]|20(?:[013-8]|2[5-9])|4(?:6[45]|[7-9])"],"0$1","",0],[,"(\\d{2})(\\d{7})","$1 $2",["3|4(?:[1-5]|6[0-36-9])"],"0$1","",0],[,"(2024)(\\d{5})","$1 $2",["2024"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"US":[,[,,"[2-9]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[04589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[04589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"US",1,"011","1",,,"1",,,1,[[,"(\\d{3})(\\d{4})","$1-$2",,"","",1],[,"(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",,"","",1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3"]],[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"UY":[,[,,"[2489]\\d{6,7}","\\d{7,8}"],[,,"2\\d{7}|4[2-7]\\d{6}","\\d{7,8}",,,"21231234"],[,,"9[1-9]\\d{6}","\\d{8}",,,"94231234"],[,,"80[05]\\d{4}","\\d{7}",,,"8001234"],[,,"90[0-8]\\d{4}","\\d{7}",,,"9001234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"UY",598,"0(?:1[3-9]\\d|0)","0"," int. ",,"0",,"00",,[[,"(\\d{4})(\\d{4})","$1 $2",["[24]"],"","",0],[,"(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9[1-9]"],"0$1","",0],[,"(\\d{3})(\\d{4})","$1 $2",["[89]0"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"UZ":[,[,,"[679]\\d{8}","\\d{7,9}"],[,,"(?:6(?:1(?:22|3[124]|4[1-4]|5[123578]|64)|2(?:22|3[0-57-9]|41)|5(?:22|3[3-7]|5[024-8])|6\\d{2}|7(?:[23]\\d|7[69])|9(?:22|4[1-8]|6[135]))|7(?:0(?:5[4-9]|6[0146]|7[12456]|9[135-8])|1[12]\\d|2(?:22|3[1345789]|4[123579]|5[14])|3(?:2\\d|3[1578]|4[1-35-7]|5[1-57]|61)|4(?:2\\d|3[1-579]|7[1-79])|5(?:22|5[1-9]|6[1457])|6(?:22|3[12457]|4[13-8])|9(?:22|5[1-9])))\\d{5}","\\d{7,9}",,,"662345678"],[,,"6(?:1(?:2(?:98|2[01])|35[0-4]|50\\d|61[23]|7(?:[01][017]|4\\d|55|9[5-9]))|2(?:11\\d|2(?:[12]1|9[01379])|5(?:[126]\\d|3[0-4])|7\\d{2})|5(?:19[01]|2(?:27|9[26])|30\\d|59\\d|7\\d{2})|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|3[79]\\d|4(?:56|83)|7(?:[07]\\d|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79])|9[0-3]\\d)|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0\\d|[39][07])|9(?:0\\d|7[079]))|9(?:2(?:1[1267]|5\\d|3[01]|7[0-4])|5[67]\\d|6(?:2[0-26]|8\\d)|7\\d{2}))\\d{4}|7(?:0\\d{3}|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98\\d)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57\\d|7(?:0\\d|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|33\\d|5(?:0[0-4]|5[579]|9\\d)|7(?:[0-3579]\\d|4[0467]|6[67]|8[078])|9[4-6]\\d)|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8\\d|9[5-9])|7(?:0\\d|1[024589]|2[0127]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89]\\d))|5(?:112|2(?:0\\d|2[29]|[49]4)|3[1568]\\d|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7]\\d|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39\\d|41[179]|5(?:[349]\\d|5[0-2])|7(?:0[017]|[13]\\d|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7\\d)|57[05629]|7(?:2[05-9]|3[37]|4\\d|60|7[2579]|87|9[07])))\\d{4}|9[0-57-9]\\d{7}","\\d{7,9}",,,"912345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"UZ",998,"810","8",,,"8",,"8~10",,[[,"([679]\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",,"8 $1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"VA":[,[,,"(?:0(?:878\\d{5}|6698\\d{5})|[1589]\\d{5,10}|3(?:[12457-9]\\d{8}|[36]\\d{7,9}))","\\d{6,11}"],[,,"06698\\d{5}","\\d{10}",,,"0669812345"],[,,"3(?:[12457-9]\\d{8}|6\\d{7,8}|3\\d{7,9})","\\d{9,11}",,,"3123456789"],[,,"80(?:0\\d{6}|3\\d{3})","\\d{6,9}",,,"800123456"],[,,"0878\\d{5}|1(?:44|6[346])\\d{6}|89(?:2\\d{3}|4(?:[0-4]\\d{2}|[5-9]\\d{4})|5(?:[0-4]\\d{2}|[5-9]\\d{6})|9\\d{6})","\\d{6,10}",,,"899123456"],[,,"84(?:[08]\\d{6}|[17]\\d{3})","\\d{6,9}",,,"848123456"],[,,"1(?:78\\d|99)\\d{6}","\\d{9,10}",,,"1781234567"],[,,"55\\d{8}","\\d{10}",,,"5512345678"],"VA",39,"00",,,,,,,,,,[,,"NA","NA"],,,[,,"848\\d{6}","\\d{9}",,,"848123456"],[,,"NA","NA"],1,,[,,"NA","NA"]],"VC":[,[,,"[5789]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"784(?:266|3(?:6[6-9]|7\\d|8[0-24-6])|4(?:38|5[0-36-8]|8[0-8])|5(?:55|7[0-2]|93)|638|784)\\d{4}","\\d{7}(?:\\d{3})?",,,"7842661234"],[,,"784(?:4(?:3[0-4]|5[45]|89|9[0-5])|5(?:2[6-9]|3[0-4]))\\d{4}","\\d{10}",,,"7844301234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"VC",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"784",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"VE":[,[,,"[24589]\\d{9}","\\d{7,10}"],[,,"(?:2(?:12|3[457-9]|[58][1-9]|[467]\\d|9[1-6])|50[01])\\d{7}","\\d{7,10}",,,"2121234567"],[,,"4(?:1[24-8]|2[46])\\d{7}","\\d{10}",,,"4121234567"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"900\\d{7}","\\d{10}",,,"9001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"VE",58,"00","0",,,"0",,,,[[,"(\\d{3})(\\d{7})","$1-$2",,"0$1","$CC $1",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"VG":[,[,,"[2589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"284(?:(?:229|4(?:22|9[45])|774|8(?:52|6[459]))\\d{4}|496[0-5]\\d{3})","\\d{7}(?:\\d{3})?",,,"2842291234"],[,,"284(?:(?:3(?:0[0-3]|4[0-367])|4(?:4[0-6]|68|99)|54[0-57])\\d{4}|496[6-9]\\d{3})","\\d{10}",,,"2843001234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"VG",1,"011","1",,,"1",,,,,,[,,"NA","NA"],,"284",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"VI":[,[,,"[3589]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7\\d)|884|998)\\d{4}","\\d{7}(?:\\d{3})?",,,"3406421234"],[,,"340(?:2(?:01|2[0678]|44|77)|3(?:32|44)|4(?:22|7[34])|5(?:1[34]|55)|6(?:26|4[23]|77|9[023])|7(?:1[2-589]|27|7\\d)|884|998)\\d{4}","\\d{7}(?:\\d{3})?",,,"3406421234"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"VI",1,"011","1",,,"1",,,1,,,[,,"NA","NA"],,"340",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"VN":[,[,,"[17]\\d{6,9}|[2-69]\\d{7,9}|8\\d{6,8}","\\d{7,10}"],[,,"(?:2(?:[025-79]|1[0189]|[348][01])|3(?:[0136-9]|[25][01])|4\\d|5(?:[01][01]|[2-9])|6(?:[0-46-8]|5[01])|7(?:[02-79]|[18][01])|8[1-9])\\d{7}","\\d{9,10}",,,"2101234567"],[,,"(?:9\\d|1(?:2\\d|6[2-9]|8[68]|99))\\d{7}","\\d{9,10}",,,"912345678"],[,,"1800\\d{4,6}","\\d{8,10}",,,"1800123456"],[,,"1900\\d{4,6}","\\d{8,10}",,,"1900123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"VN",84,"00","0",,,"0",,,,[[,"([17]99)(\\d{4})","$1 $2",["[17]99"],"0$1","",1],[,"([48])(\\d{4})(\\d{4})","$1 $2 $3",["[48]"],"0$1","",1],[,"([235-7]\\d)(\\d{4})(\\d{3})","$1 $2 $3",["2[025-79]|3[0136-9]|5[2-9]|6[0-46-8]|7[02-79]"],"0$1","",1],[,"(80)(\\d{5})","$1 $2",["80"],"0$1","",1],[,"(69\\d)(\\d{4,5})","$1 $2",["69"],"0$1","",1],[,"([235-7]\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["2[1348]|3[25]|5[01]|65|7[18]"],"0$1","",1],[,"(9\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1","",1],[,"(1[2689]\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1(?:[26]|8[68]|99)"],"0$1","",1],[,"(1[89]00)(\\d{4,6})","$1 $2",["1[89]0"],"$1","",1]],,[,,"NA","NA"],,,[,,"[17]99\\d{4}|69\\d{5,6}","\\d{7,8}",,,"1992000"],[,,"[17]99\\d{4}|69\\d{5,6}|80\\d{5}","\\d{7,8}",,,"1992000"],,,[,,"NA","NA"]],"VU":[,[,,"[2-57-9]\\d{4,6}","\\d{5,7}"],[,,"(?:2[02-9]\\d|3(?:[5-7]\\d|8[0-8])|48[4-9]|88\\d)\\d{2}","\\d{5}",,,"22123"],[,,"(?:5(?:7[2-5]|[3-69]\\d)|7[013-7]\\d)\\d{4}","\\d{7}",,,"5912345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"VU",678,"00",,,,,,,,[[,"(\\d{3})(\\d{4})","$1 $2",["[579]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"3[03]\\d{3}|900\\d{4}","\\d{5,7}",,,"30123"],,,[,,"NA","NA"]],"WF":[,[,,"[5-7]\\d{5}","\\d{6}"],[,,"(?:50|68|72)\\d{4}","\\d{6}",,,"501234"],[,,"(?:50|68|72)\\d{4}","\\d{6}",,,"501234"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"WF",681,"00",,,,,,,1,[[,"(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"WS":[,[,,"[2-8]\\d{4,6}","\\d{5,7}"],[,,"(?:[2-5]\\d|6[1-9]|84\\d{2})\\d{3}","\\d{5,7}",,,"22123"],[,,"(?:60|7[25-7]\\d)\\d{4}","\\d{6,7}",,,"601234"],[,,"800\\d{3}","\\d{6}",,,"800123"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"WS",685,"0",,,,,,,,[[,"(8\\d{2})(\\d{3,4})","$1 $2",["8"],"","",0],[,"(7\\d)(\\d{5})","$1 $2",["7"],"","",0],[,"(\\d{5})","$1",["[2-6]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"YE":[,[,,"[1-7]\\d{6,8}","\\d{6,9}"],[,,"(?:1(?:7\\d|[2-68])|2[2-68]|3[2358]|4[2-58]|5[2-6]|6[3-58]|7[24-68])\\d{5}","\\d{6,8}",,,"1234567"],[,,"7[0137]\\d{7}","\\d{9}",,,"712345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"YE",967,"00","0",,,"0",,,,[[,"([1-7])(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1","",0],[,"(7\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["7[0137]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"YT":[,[,,"[268]\\d{8}","\\d{9}"],[,,"269(?:6[0-4]|50)\\d{4}","\\d{9}",,,"269601234"],[,,"639\\d{6}","\\d{9}",,,"639123456"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"YT",262,"00","0",,,"0",,,,,,[,,"NA","NA"],,"269|63",[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"ZA":[,[,,"[1-79]\\d{8}|8(?:[067]\\d{7}|[1-4]\\d{3,7})","\\d{5,9}"],[,,"(?:1[0-8]|2[0-378]|3[1-69]|4\\d|5[1346-8])\\d{7}","\\d{9}",,,"101234567"],[,,"(?:6[0-5]|7[0-46-9])\\d{7}|8[1-4]\\d{3,7}","\\d{5,9}",,,"711234567"],[,,"80\\d{7}","\\d{9}",,,"801234567"],[,,"86[2-9]\\d{6}|90\\d{7}","\\d{9}",,,"862345678"],[,,"860\\d{6}","\\d{9}",,,"860123456"],[,,"NA","NA"],[,,"87\\d{7}","\\d{9}",,,"871234567"],"ZA",27,"00","0",,,"0",,,,[[,"(860)(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-79]|8(?:[0-47]|6[1-9])"],"0$1","",0],[,"(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1","",0],[,"(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"861\\d{6}","\\d{9}",,,"861123456"],,,[,,"NA","NA"]],"ZM":[,[,,"[289]\\d{8}","\\d{9}"],[,,"21[1-8]\\d{6}","\\d{9}",,,"211234567"],[,,"9(?:5[05]|6\\d|7[1-9])\\d{6}","\\d{9}",,,"955123456"],[,,"800\\d{6}","\\d{9}",,,"800123456"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"ZM",260,"00","0",,,"0",,,,[[,"([29]\\d)(\\d{7})","$1 $2",["[29]"],"0$1","",0],[,"(800)(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"ZW":[,[,,"2(?:[012457-9]\\d{3,8}|6\\d{3,6})|[13-79]\\d{4,8}|8[06]\\d{8}","\\d{5,10}"],[,,"(?:1[3-9]|2(?:0[45]|[16]|2[28]|[49]8?|58[23]|7[246]|8[1346-9])|3(?:08?|17?|3[78]|[2456]|7[1569]|8[379])|5(?:[07-9]|1[78]|483|5(?:7?|8))|6(?:0|28|37?|[45][68][78]|98?)|848)\\d{3,6}|(?:2(?:27|5|7[135789]|8[25])|3[39]|5[1-46]|6[126-8])\\d{4,6}|2(?:(?:0|70)\\d{5,6}|2[05]\\d{7})|(?:4\\d|9[2-8])\\d{4,7}","\\d{5,10}",,,"1312345"],[,,"7[1378]\\d{7}","\\d{9}",,,"711234567"],[,,"800\\d{7}","\\d{10}",,,"8001234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"86(?:1[12]|30|44|55|77|8[367]|99)\\d{6}","\\d{10}",,,"8686123456"],"ZW",263,"00","0",,,"0",,,,[[,"([49])(\\d{3})(\\d{2,4})","$1 $2 $3",["4|9[2-9]"],"0$1","",0],[,"(7\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["7"],"0$1","",0],[,"(86\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["86[24]"],"0$1","",0],[,"([2356]\\d{2})(\\d{3,5})","$1 $2",["2(?:[278]|0[45]|[49]8)|3(?:08|17|3[78]|[78])|5[15][78]|6(?:[29]8|37|[68][78])"],"0$1","",0],[,"(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:[278]|0[45]|48)|3(?:08|17|3[78]|[78])|5[15][78]|6(?:[29]8|37|[68][78])|80"],"0$1","",0],[,"([1-356]\\d)(\\d{3,5})","$1 $2",["1[3-9]|2(?:[1-469]|0[0-35-9]|[45][0-79])|3(?:0[0-79]|1[0-689]|[24-69]|3[0-69])|5(?:[02-46-9]|[15][0-69])|6(?:[0145]|[29][0-79]|3[0-689]|[68][0-69])"],"0$1","",0],[,"([1-356]\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["1[3-9]|2(?:[1-469]|0[0-35-9]|[45][0-79])|3(?:0[0-79]|1[0-689]|[24-69]|3[0-69])|5(?:[02-46-9]|[15][0-69])|6(?:[0145]|[29][0-79]|3[0-689]|[68][0-69])"],"0$1","",0],[,"([25]\\d{3})(\\d{3,5})","$1 $2",["(?:25|54)8","258[23]|5483"],"0$1","",0],[,"(8\\d{3})(\\d{6})","$1 $2",["86"],"0$1","",0],[,"(80\\d)(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"800":[,[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",800,"",,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"808":[,[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"NA","NA",,,"12345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"\\d{8}","\\d{8}",,,"12345678"],[,,"NA","NA"],[,,"NA","NA"],"001",808,"",,,,,,,1,[[,"(\\d{4})(\\d{4})","$1 $2",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]],"870":[,[,,"[35-7]\\d{8}","\\d{9}",,,"301234567"],[,,"NA","NA",,,"301234567"],[,,"(?:[356]\\d|7[6-8])\\d{7}","\\d{9}",,,"301234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",870,"",,,,,,,,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"878":[,[,,"1\\d{11}","\\d{12}",,,"101234567890"],[,,"NA","NA",,,"101234567890"],[,,"NA","NA",,,"101234567890"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"10\\d{10}","\\d{12}",,,"101234567890"],"001",878,"",,,,,,,1,[[,"(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"881":[,[,,"[67]\\d{8}","\\d{9}",,,"612345678"],[,,"NA","NA",,,"612345678"],[,,"[67]\\d{8}","\\d{9}",,,"612345678"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",881,"",,,,,,,,[[,"(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[67]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"882":[,[,,"[13]\\d{6,11}","\\d{7,12}",,,"3451234567"],[,,"NA","NA",,,"3451234567"],[,,"3(?:2\\d{3}|37\\d{2}|4(?:2|7\\d{3}))\\d{4}","\\d{7,10}",,,"3451234567"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15678]|9[0689])\\d{4}|6\\d{5,10})|345\\d{7}","\\d{7,12}",,,"3451234567"],"001",882,"",,,,,,,,[[,"(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"],"","",0],[,"(\\d{2})(\\d{5})","$1 $2",["16|342"],"","",0],[,"(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"],"","",0],[,"(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["348"],"","",0],[,"(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1"],"","",0],[,"(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"],"","",0],[,"(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["16"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"348[57]\\d{7}","\\d{11}",,,"3451234567"]],"883":[,[,,"51\\d{7}(?:\\d{3})?","\\d{9}(?:\\d{3})?",,,"510012345"],[,,"NA","NA",,,"510012345"],[,,"NA","NA",,,"510012345"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"51(?:00\\d{5}(?:\\d{3})?|[13]0\\d{8})","\\d{9}(?:\\d{3})?",,,"510012345"],"001",883,"",,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"],"","",0],[,"(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["510"],"","",0],[,"(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"],"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]],"888":[,[,,"\\d{11}","\\d{11}",,,"12345678901"],[,,"NA","NA",,,"12345678901"],[,,"NA","NA",,,"12345678901"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",888,"",,,,,,,1,[[,"(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"\\d{11}","\\d{11}",,,"12345678901"],1,,[,,"NA","NA"]],"979":[,[,,"\\d{9}","\\d{9}",,,"123456789"],[,,"NA","NA",,,"123456789"],[,,"NA","NA",,,"123456789"],[,,"NA","NA"],[,,"\\d{9}","\\d{9}",,,"123456789"],[,,"NA","NA"],[,,"NA","NA"],[,,"NA","NA"],"001",979,"",,,,,,,1,[[,"(\\d)(\\d{4})(\\d{4})","$1 $2 $3",,"","",0]],,[,,"NA","NA"],,,[,,"NA","NA"],[,,"NA","NA"],1,,[,,"NA","NA"]]};M.a=function(){return M.b?M.b:M.b=new M};N={"0":"0","1":"1","2":"2","3":"3","4":"4","5":"5","6":"6","7":"7","8":"8","9":"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"},ra={"0":"0","1":"1","2":"2","3":"3","4":"4","5":"5","6":"6","7":"7","8":"8","9":"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","A":"2","B":"2","C":"2","D":"3","E":"3","F":"3","G":"4","H":"4","I":"4","J":"5","K":"5","L":"5","M":"6","N":"6","O":"6","P":"7","Q":"7","R":"7","S":"7","T":"8","U":"8","V":"8","W":"9","X":"9","Y":"9","Z":"9"},sa=RegExp("[+＋]+"),O=RegExp("^[+＋]+"),ta=RegExp("([0-9０-９٠-٩۰-۹])"),ua=RegExp("[+＋0-9０-９٠-٩۰-۹]"),va=/[\\\/] *x/,wa=RegExp("[^0-9０-９٠-٩۰-۹A-Za-z#]+$"),xa=/(?:.*?[A-Za-z]){3}.*/,ya=RegExp("(?:;ext=([0-9０-９٠-٩۰-۹]{1,7})|[  \\t,]*(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|[,xｘ#＃~～]|int|anexo|ｉｎｔ)[:\\.．]?[  \\t,-]*([0-9０-９٠-٩۰-۹]{1,7})#?|[- ]+([0-9０-９٠-٩۰-۹]{1,5})#)$","i"),za=RegExp("^[0-9０-９٠-٩۰-۹]{2}$|^[+＋]*(?:[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～*]*[0-9０-９٠-٩۰-۹]){3,}[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～*A-Za-z0-9０-９٠-٩۰-۹]*(?:;ext=([0-9０-９٠-٩۰-۹]{1,7})|[  \\t,]*(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|[,xｘ#＃~～]|int|anexo|ｉｎｔ)[:\\.．]?[  \\t,-]*([0-9０-９٠-٩۰-۹]{1,7})#?|[- ]+([0-9０-９٠-٩۰-۹]{1,5})#)?$","i"),Aa=/(\$\d)/,Ba=/^\(?\$1\)?$/;Sa=new E;v(Sa,11,"NA");Ta=/\[([^\[\]])*\]/g,Ua=/\d(?=[^,}][^,}])/g,Va=RegExp("^[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～]*(\\$\\d[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～]*)+$"),Wa=/[- ]/;k("intlTelInputUtils",{});k("intlTelInputUtils.formatNumber",function(a,b,c,d,f){var e,g,h,l,n;try{e=a.replace(/\D/g,""),g=new Qa(b);b="";"+"==a.substr(0,1)&&(e="+"+e);for(l=0;l<e.length;l++){h=Za(g,e.charAt(l));if(d&&b&&h.length<=b.length&&-1==h.indexOf(" ")){h=-1;break}b=h}" "==b.charAt(b.length-1)&&(b=b.substr(0,b.length-1));if(c&&!a.split(" ext. ")[1]){n=Za(g,"5");" "==n.charAt(n.length-1)&&(n=n.substr(0,n.length-1));if(isNaN(parseFloat(n.substr(n.length-2,1))))return n.substr(0,n.length-1);if(d&&b&&n.length<=b.length&&-1==n.indexOf(" ")&&!f)return b+" ext. "}-1==h&&(b+=" ext. "+e.substring(l,e.length));return b}catch(u){return a}});k("intlTelInputUtils.formatNumberByType",function(a,b,c){try{var d=M.a(),f=Y(d,a,b);return Ga(d,f,"undefined"==typeof c?0:c)}catch(e){return""}});k("intlTelInputUtils.getExampleNumber",function(a,b,c){var d,f,e,g;try{d=M.a();a:{if(R(a)){e=Ia(V(d,a),c);try{if(null!=e.a[6]){g=x(e,6);f=Pa(d,g,a,!1);break a}}catch(h){}}f=null}return Ga(d,f,b?2:1)}catch(l){return""}});k("intlTelInputUtils.getNumberType",function(a,b){var c,d,f,e,g,h;try{c=M.a();f=Y(c,a,b),e=Ja(c,f),g=T(c,x(f,1),e);if(null==g)d=-1;else{h=S(f);d=W(h,g)}return d}catch(l){return-99}});k("intlTelInputUtils.getValidationError",function(a,b){var c,d,f,e,g,h,l,n;try{c=M.a();f=Y(c,a,b),e=S(f),g=x(f,1);if(g in L){l=T(c,g,U(g));h=w(l,1);n=x(h,3);d=La(n,e)}else d=1;return d}catch(u){return"Invalid country calling code"==u?1:"The string supplied did not seem to be a phone number"==u?4:"Phone number too short after IDD"==u||"The string supplied is too short to be a phone number"==u?2:"The string supplied is too long to be a phone number"==u?3:-99}});k("intlTelInputUtils.isValidNumber",function(a,b){var c,d,f,e,g,h,l;try{c=M.a(),d=Y(c,a,b);e=Ja(c,d),g=x(d,1),h=T(c,g,e);if(null==h||"001"!=e&&g!=Ka(c,e))f=!1;else{l=S(d);f=-1!=W(l,h)}return f}catch(n){return!1}});k("intlTelInputUtils.numberType",{"FIXED_LINE":0,"MOBILE":1,"FIXED_LINE_OR_MOBILE":2,"TOLL_FREE":3,"PREMIUM_RATE":4,"SHARED_COST":5,"VOIP":6,"PERSONAL_NUMBER":7,
"PAGER":8,"UAN":9,"VOICEMAIL":10,"UNKNOWN":-1});k("intlTelInputUtils.validationError",{"IS_POSSIBLE":0,"INVALID_COUNTRY_CODE":1,"TOO_SHORT":2,"TOO_LONG":3,"NOT_A_NUMBER":4});k("intlTelInputUtils.numberFormat",{"E164":0,"INTERNATIONAL":1,"NATIONAL":2,"RFC3966":3})})();define("tiny-lib/phonenumberutil",function(){});define("tiny-common/UnifyValid",["tiny-lib/underscore","tiny-lib/jquery","tiny-widgets/Tip","tiny-lib/phonenumberutil"],function(_,$,Tip){var widgetsLanguage=tinyLanguage.language,UnifyValid={"initValid":function(validOption){var unifyValidThis=this;if(!unifyValidThis._checkParams(validOption))return;unifyValidThis._parseParams(validOption);unifyValidThis._addValidBehavior(validOption.evtInstance,validOption.eleInput)},"phoneValidUtils":window.intlTelInputUtils,"_checkParams":function(validOption){if(!validOption||_.isUndefined(validOption.eleInput))return!1;var elementInput=validOption.eleInput;elementInput instanceof jQuery||(elementInput=$(elementInput));_.isUndefined(validOption.eleTip)&&(validOption.eleTip=elementInput);_.isUndefined(validOption.evtInstance)&&(validOption.evtInstance=elementInput);if(!_.isString(validOption.validate)&&!_.isArray(validOption.validate)){if(_.isString(validOption.tooltip)){elementInput.data({"validOpt":validOption,"tooltip":validOption.tooltip,"eleTip":validOption.eleTip});this._addTooltipBehavior(validOption.evtInstance,elementInput)}return!1}return!0},"_parseParams":function(validOption){validOption.eleInput.data({"validOpt":validOption,"tooltip":validOption.tooltip,"errMsg":validOption.errMsg,"eleTip":validOption.eleTip});this._addExtendFun(validOption.extendFun);this.updateValidate(validOption.eleInput,validOption.validate)},"updateTooltip":function(eleInput,tip){eleInput.data("tooltip",tip)},"updateErrMsg":function(eleInput,errMsg){eleInput.data("errMsg",errMsg)},"updateValidate":function(eleInput,validObj){var unifyValidThis=this;if(!_.isString(validObj)&&!_.isArray(validObj))return;unifyValidThis._clearValidate(eleInput.data("eleTip"));_.isString(validObj)&&(validObj=unifyValidThis._parseStrValid(eleInput,validObj));if(0===validObj.length){eleInput.removeAttr("validator");eleInput.data("validObj",[])}else{eleInput.attr("validator",!0);eleInput.data("validObj",validObj)}},"format":function(source,params){if(1===arguments.length)return function(){var args=$.makeArray(arguments);args.unshift(source);return UnifyValid.format.apply(this,args)};arguments.length>2&&params.constructor!==Array&&(params=$.makeArray(arguments).slice(1));params.constructor!==Array&&(params=[params]);$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n})});return source},"_parseStrValid":function(eleInput,validate){var attrArray,validArray,i,len,attrParam,errorMsgNew,attr,attrName,attrParaAndMsg,value,validObjArray=[];if(""===validate)return validObjArray;attrArray=_.keys(ATTRS);validArray=validate.split(";");for(i=0,len=validArray.length;len>i;i++){attrParam=[];errorMsgNew=void 0;if(-1===validArray[i].indexOf("(")){attr=validArray[i].split(":");attrName=$.trim(attr[0]);errorMsgNew=attr[1]}else{attr=validArray[i].split("(");attrName=$.trim(attr[0]);if("regularCheck"===attrName){attrParaAndMsg=validArray[i].split("regularCheck(").pop("");attrParaAndMsg=$.trim(attrParaAndMsg);if(")"===attrParaAndMsg.charAt(attrParaAndMsg.length-1))attrParam=[attrParaAndMsg.slice(0,-1)];else{value=attrParaAndMsg.split(/[\)]:|[\)]\s:/);attrParam=[value[0]];errorMsgNew=value[1]}}else{value=validArray[i].split(":");attrParam=value[0].slice(value[0].indexOf("(")+1,value[0].lastIndexOf(")")).split(",");errorMsgNew=value[1]}}if(_.contains(attrArray,attrName)){errorMsgNew=errorMsgNew||eleInput.data("errMsg")||ERROR_INFOMATION[attrName]||"";validObjArray.push({"validFn":attrName,"params":attrParam,"errorDetail":errorMsgNew})}}return validObjArray},"_addExtendFun":function(extendFunction){if(_.isArray(extendFunction))for(var e=0,len=extendFunction.length;len>e;e++)UnifyValid.addFunction(extendFunction[e],null);else UnifyValid.addFunction(extendFunction)},"addFunction":function(name,callback){_.isString(name)&&(ATTRS[name]=callback);if(_.isObject(name))for(key in name)ATTRS[key]=name[key]},"_addTooltipBehavior":function(evtInst,element){var unifyValidThis=this;evtInst.on("focus",function(){element.data("validTip")&&element.data("validTip").remove();unifyValidThis._addTip(element,element.data("tooltip"))});evtInst.on("blur",function(){element.data("validTip")&&element.data("validTip").remove()})},"_addValidBehavior":function(evtInst,element){var unifyValidThis=this;evtInst.on("focus",function(){unifyValidThis._focusHandler(element)});evtInst.on("contentChange",function(){unifyValidThis._changeHandler(element)});evtInst.on("blur",function(){unifyValidThis._blurHandler(element)})},"_focusHandler":function(elementInput){var isfirstFocus,unifyValidThis=this;unifyValidThis._clearValidate(elementInput.data("eleTip"));isfirstFocus=elementInput.data("isValid");if(_.isUndefined(isfirstFocus)||unifyValidThis._check(elementInput)){unifyValidThis._addTip(elementInput,elementInput.data("tooltip"));return}unifyValidThis._failedHandle(elementInput)},"_changeHandler":function(elementInput){var unifyValidThis=this,isValid=unifyValidThis._check(elementInput);unifyValidThis._clearValidate(elementInput.data("eleTip"));if(isValid){unifyValidThis._addTip(elementInput,elementInput.data("tooltip"));return}unifyValidThis._failedHandle(elementInput)},"_blurHandler":function(elementInput){var unifyValidThis=this;unifyValidThis._clearValidate(elementInput.data("eleTip"));unifyValidThis._check(elementInput)||elementInput.data("eleTip").addClass("valid_error_input")},"_addTip":function(elementInput,tipContent){var options,tip;if(!tipContent)return;options=elementInput.data("validOpt");tip=new Tip({"auto":!1,"content":tipContent,"element":options.eleTip,"position":options.tipPos||this.defaultTipPos||"right","width":options.tipWidth});tip.show();elementInput.data("validTip",tip)},"_failedHandle":function(elementInput){var errorMsgDom,unifyValidThis=this,errorMsg=elementInput.data("errorDetail");elementInput.data("eleTip").addClass("valid_error_input");if(""===errorMsg)return;errorMsgDom="<div class='valid_div'><span class='ti ti-exclamation-circle-angle valid_tip_error'></span><span class='valid_text_error'>"+errorMsg+"</span></div>";unifyValidThis._addTip(elementInput,errorMsgDom)},"_check":function(element){var validResult,errorMsg,i,len,validate,key,fn,unifyValidThis=this,validArray=element.data("validObj");for(i=0,len=validArray.length;len>i;i++){validate=validArray[i];key=validate.validFn;fn=_.isFunction(key)?key:ATTRS[key]||UnifyValid[key];if(!_.isFunction(fn))continue;validResult=fn.call(element,$.makeArray(validate.params),validate,unifyValidThis);if(!0!==validResult&&""!==validResult){element.data("isValid",!1);if(_.isString(validResult))element.data("errorDetail",validResult);else{errorMsg=unifyValidThis._getErrMsg(element,validate);element.data("errorDetail",errorMsg)}break}element.data("isValid",!0)}return element.data("isValid")},"_getErrMsg":function(element,validate){var errDetail,i,len,theregex,errDetailArr=[validate.errorDetail,element.data("errMsg"),ERROR_INFOMATION[validate.validFn]];for(i=0,len=errDetailArr.length;len>i;i++){errDetail=errDetailArr[i];theregex=/\$?\{(\d+)\}/g;"function"==typeof errDetail&&(errDetail=errDetail.call(this,validate.params,element));if(_.isUndefined(errDetail))continue;break}return errDetail||""},"clearValidate":function(elements){var i,len,clearElements=this._parseElements(elements);for(i=0,len=clearElements.length;len>i;i++)this._clearValidate($(clearElements[i]))},"_parseElements":function(elements){var elementResult;if(_.isArray(elements)&&elements.length>1)elementResult=elements;else{elementResult=$(elements).filter("[validator]");elementResult=elementResult.length?elementResult:$(elements).find("[validator]")}return elementResult},"_clearValidate":function($element){var $eleInput,tip,eleTip;$element instanceof jQuery||($element=$($element));$eleInput=$element.filter("[validator]");$eleInput=$eleInput.length?$eleInput:$element.find("[validator]");if(!$eleInput.length)return;tip=$eleInput.data("validTip");tip&&tip.remove();eleTip=$eleInput.data("eleTip");eleTip&&eleTip.removeClass("valid_error_input")},"FormValid":function(elements,validOptions){var isValid,$element,i,len,$focusElem,unifyValidThis=this,containerValid=!0,validElements=this._parseElements(elements),checkHidden=!1,focusInvalid=!1;if($.isPlainObject(validOptions)){checkHidden="true"===String(validOptions.checkHidden);focusInvalid="true"===String(validOptions.focusInvalid)}else _.isUndefined(validOptions)||(checkHidden="true"===String(validOptions));for(i=0,len=validElements.length;len>i;i++){$element=$(validElements[i]).filter("[validator]");$element=$element.length?$element:$(validElements[i]).find("[validator]");if(!$element.length||!$element.data("eleTip")||!checkHidden&&$element.data("eleTip").is(":hidden")||$element.attr("disabled"))continue;isValid=unifyValidThis._check($element);if(isValid)$element.data("eleTip").removeClass("valid_error_input");else{$element.data("eleTip").addClass("valid_error_input");containerValid=!1;$focusElem=$element.data("validOpt").focusElem;if(focusInvalid&&$focusElem.is(":visible")){if("readonly"===$focusElem.attr("readonly")){$focusElem.attr("readonly",!1);$focusElem.focus().blur();$focusElem.attr("readonly","readonly");$element.data("validOpt").evtInstance.trigger("focus")}else $focusElem.focus().blur().focus();focusInvalid=!1}}}return containerValid},"checkMaxLength":function(paras){var value=$(this).val();return""===value||value.length<=parseInt(paras[0],10)},"checkMinLength":function(paras){var value=$(this).val();return""===value||value.length>=parseInt(paras[0],10)},"checkRangeLength":function(paras){var value=$(this).val(),length=value.length;return""===value||length>=paras[0]&&length<=paras[1]},"checkMaxValue":function(paras){var value=$(this).val();return""===value||parseFloat(value)<=parseFloat(paras[0])},"checkMinValue":function(paras){var value=$(this).val();return""===value||parseFloat(value)>=parseFloat(paras[0])},"checkRangeValue":function(paras){var value=$(this).val();return""===value||parseFloat(value)>=parseFloat(paras[0])&&parseFloat(value)<=parseFloat(paras[1])},"checkEmpty":function(){if(!$(this).val())return!1;return!0},"checkReg":function(paras){var reg=new RegExp(paras[0].substring(1,paras[0].length-1)),value=$(this).val();_.isArray(value)&&value.length>0&&(value=value[0]);if(value.match(reg))return!0;return!1},"checkNotContains":function(paras){var value=$(this).val();return""===value||-1==value.indexOf(paras[0])},"checkEqual":function(paras){var value=$(this).val();return""===value||value==paras[0]},"checkScriptInfo":function(){var content=$(this).val(),regExp=new RegExp("<+/?[Ss][Cc][Rr][Ii][Pp][Tt] *.*>*");return""===content||!regExp.test(content)},"pathCheck":function(){var value=$(this).val(),checkReg=/^([\/][\w-]+)*$/;return""===value||checkReg.test(value)},"portCheck":function(){var value=$(this).val();return""===value||/^\d+$/.test(value)&&value>=0&&65535>=value},"emailCheck":function(){var value=$(this).val();return""===value||/^((([A-Za-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([A-Za-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([A-Za-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([A-Za-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([A-Za-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([A-Za-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([A-Za-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([A-Za-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([A-Za-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([A-Za-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/.test(value)},"dateCheck":function(){var value=$(this).val();return""===value||!/Invalid|NaN/.test(new Date(value).toString())},"urlCheck":function(){var value=$(this).val();return""===value||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},"numberCheck":function(){var value=$(this).val();return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value)},"digitsCheck":function(){var value=$(this).val();return""===value||/^\d+$/.test(value)},"integerCheck":function(){var value=$(this).val();return""===value||/^-?\d+$/.test(value)},"ipv4Check":function(){var value=$(this).val();return""===value||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(value)},"ipv6Check":function(){var value=$(this).val();return""===value||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value)},"isValidPhoneNumber":function(paras,validate,unifyValidThis){var countryCode,expNumberType,isShowDetailError,checkInfo,isValid,value=$.trim($(this).val());if(""===value||!window.intlTelInputUtils)return!0;if(window.intlTelInputUtils){countryCode=paras[0]||"";expNumberType=_.isUndefined(paras[1])?1:paras[1];isShowDetailError=paras[2];checkInfo={"countryCode":countryCode,"value":value,"validate":validate,"expNumberType":expNumberType,"isShowDetailError":isShowDetailError};isValid=unifyValidThis.checkPhoneNumber(checkInfo);checkInfo.isValid=isValid;return unifyValidThis.getPhoneValidResult(checkInfo)}},"checkPhoneNumber":function(checkInfo){var isValidNumber=intlTelInputUtils.isValidNumber(checkInfo.value,checkInfo.countryCode),actNumberType=intlTelInputUtils.getNumberType(checkInfo.value,checkInfo.countryCode),isValidType=""===checkInfo.expNumberType||checkInfo.expNumberType===actNumberType;return isValidNumber&&isValidType},"getPhoneValidResult":function(checkInfo){var errorInfo,isErrorInfoDefined,tooShortError,tooLongError,invalidError,errorCode;if(checkInfo.isValid)return!0;errorInfo=checkInfo.validate.errorInfo;isErrorInfoDefined=!_.isUndefined(errorInfo);tooShortError=isErrorInfoDefined&&!_.isUndefined(errorInfo.tooShort)?errorInfo.tooShort:widgetsLanguage.unifyValid.phoneNumber.tooShort;tooLongError=isErrorInfoDefined&&!_.isUndefined(errorInfo.tooLong)?errorInfo.tooLong:widgetsLanguage.unifyValid.phoneNumber.tooLong;invalidError=isErrorInfoDefined&&!_.isUndefined(errorInfo.invalidNumber)?errorInfo.invalidNumber:!1;if(checkInfo.isShowDetailError!==!1){errorCode=intlTelInputUtils.getValidationError(checkInfo.value,checkInfo.countryCode);if(errorCode===intlTelInputUtils.validationError.TOO_SHORT)return tooShortError;if(errorCode===intlTelInputUtils.validationError.TOO_LONG)return tooLongError}return invalidError}},ATTRS={"required":UnifyValid.checkEmpty,"maxSize":UnifyValid.checkMaxLength,"minSize":UnifyValid.checkMinLength,"rangeSize":UnifyValid.checkRangeLength,"maxValue":UnifyValid.checkMaxValue,"minValue":UnifyValid.checkMinValue,"rangeValue":UnifyValid.checkRangeValue,"regularCheck":UnifyValid.checkReg,"notContains":UnifyValid.checkNotContains,"equal":UnifyValid.checkEqual,"extendFunction":UnifyValid.extendFunction,"checkScriptInfo":UnifyValid.checkScriptInfo,"path":UnifyValid.pathCheck,"port":UnifyValid.portCheck,"email":UnifyValid.emailCheck,"date":UnifyValid.dateCheck,"url":UnifyValid.urlCheck,"integer":UnifyValid.integerCheck,"number":UnifyValid.numberCheck,"float":UnifyValid.numberCheck,"digits":UnifyValid.digitsCheck,"ipv4":UnifyValid.ipv4Check,"ipv6":UnifyValid.ipv6Check,"phone":UnifyValid.isValidPhoneNumber},ERROR_INFOMATION={"required":widgetsLanguage.unifyValid.required,"maxSize":UnifyValid.format(widgetsLanguage.unifyValid.maxSize),"minSize":UnifyValid.format(widgetsLanguage.unifyValid.minSize),"rangeSize":UnifyValid.format(widgetsLanguage.unifyValid.rangeSize),"maxValue":UnifyValid.format(widgetsLanguage.unifyValid.maxValue),"minValue":UnifyValid.format(widgetsLanguage.unifyValid.minValue),"rangeValue":UnifyValid.format(widgetsLanguage.unifyValid.rangeValue),"regularCheck":widgetsLanguage.unifyValid.regularCheck,"notContains":UnifyValid.format(widgetsLanguage.unifyValid.notContains),"checkScriptInfo":widgetsLanguage.unifyValid.checkScriptInfo,"equal":UnifyValid.format(widgetsLanguage.unifyValid.equal),"port":widgetsLanguage.unifyValid.port,"path":widgetsLanguage.unifyValid.path,"email":widgetsLanguage.unifyValid.email,"date":widgetsLanguage.unifyValid.date,"url":widgetsLanguage.unifyValid.url,"integer":widgetsLanguage.unifyValid.integer,"number":widgetsLanguage.unifyValid.number,"float":widgetsLanguage.unifyValid.floatCheck,"digits":widgetsLanguage.unifyValid.digits,"ipv4":widgetsLanguage.unifyValid.ipv4,"ipv6":widgetsLanguage.unifyValid.ipv6,"phone":widgetsLanguage.unifyValid.phoneNumber.invalidNumber};window.tinyWidget.UnifyValid=UnifyValid;return UnifyValid});define("tiny-widgets/Combobox",["tiny-lib/angular","tiny-lib/jquery","tiny-widgets/Widget","tiny-common/util","tiny-common/UnifyValid","tiny-lib/encoder"],function(angular,$,Widget,util,UnifyValid,encoder){var domTemplate='<div class="tiny-combobox"><div class="tiny-combobox-container"><div class="tiny-combobox-editor"><input type="text" class="tiny-combobox-input"/></div><div class="tiny-combobox-popbutton"> </div></div></div>',popTemplate='<div class="tiny-combobox-popup-container"></div>',widgetsLanguage=tinyLanguage.language,DEFAULT_CONFIG={"template":domTemplate,"width":200,"height":1e4,"display":!0,"disable":!1,"value":"","placeholder":"","valuesFrom":"local","values":[],"matchMethod":"head","trigger":"delay","delay":"200ms","isvalidtip":!0,"optionWidth":"inherit"},CONST_VALUES={"DECIMAL":10,"OPTION_BORDER":8,"INPUT_BORDER":2,"CALC_INPUT_WIDTH":35},Combobox=Widget.extend({"init":function(options){var comboboxThis=this;options=_.extend({},DEFAULT_CONFIG,options);comboboxThis._super(options);comboboxThis._setOptions(comboboxThis.options);comboboxThis._addValidate(options,comboboxThis);$("#"+options.id).append(comboboxThis._element)},"_addValidate":function(options,widgetThis){if(options.validate||options.tooltip){var validOption={"eleInput":widgetThis.$inputText,"focusElem":widgetThis.$inputText,"eleTip":widgetThis.$container,"validate":options.validate,"tooltip":options.tooltip,"errorMsg":options.errorMsg,"extendFun":options.extendFunction,"tipPos":options.tipPosition,"tipWidth":options.tipWidth,"evtInstance":widgetThis};UnifyValid.initValid(validOption)}},"_generateElement":function(){var comboboxThis=this;comboboxThis.$popup=$(popTemplate);$("body").append(comboboxThis.$popup);comboboxThis._element=$(_.template(comboboxThis.options.template)(this))},"_setOption":function(key,value){var comboboxThis=this;comboboxThis._super(key,value);switch(key){case"id":comboboxThis._updateId(value);break;case"display":comboboxThis._updateDisplay();break;case"disable":comboboxThis._updateDisable();break;case"width":comboboxThis._updateWidth();break;case"height":comboboxThis._updateHeight(value);break;case"inputFieldHeight":comboboxThis._updateInputFieldHeight(value);break;case"value":comboboxThis._updateValue();break;case"values":comboboxThis._updateValues();break;case"placeholder":comboboxThis._updatePlaceholder();break;case"valuesFrom":comboboxThis._updateValuesFrom();break;case"tooltip":UnifyValid.updateTooltip(comboboxThis.$inputText,value);break;case"validate":UnifyValid.updateValidate(comboboxThis.$inputText,value);break;case"errorMsg":UnifyValid.updateErrMsg(comboboxThis.$inputText,value)}},"_updateDisable":function(){var comboboxThis=this,options=comboboxThis.options;if(util.isTrue(options.disable)){comboboxThis.$inputText.attr("disabled","true");comboboxThis.$container.addClass("tiny-combobox-disable");options.validate&&UnifyValid.clearValidate(comboboxThis.$inputText)}else{comboboxThis.$inputText.removeAttr("disabled");comboboxThis.$container.removeClass("tiny-combobox-disable")}},"_updateDisplay":function(){var comboboxThis=this,options=comboboxThis.options;util.isTrue(options.display)?comboboxThis.$element.css("display","inline-block"):comboboxThis.$element.hide()},"_updateWidth":function(){var comboboxThis=this,options=comboboxThis.options,elementWidth=parseInt(options.width,CONST_VALUES.DECIMAL);elementWidth=Math.max(elementWidth,40);comboboxThis.$inputText.css("width",elementWidth-CONST_VALUES.CALC_INPUT_WIDTH+"px");"auto"!==options.optionWidth?comboboxThis.$popup.css({"width":elementWidth-2}):comboboxThis.$popup.css("min-width",elementWidth-2);comboboxThis._setInputTitle()},"_updateHeight":function(height){var comboboxThis;height=parseInt(height,CONST_VALUES.DECIMAL);if(isNaN(height))return;comboboxThis=this;comboboxThis.$popup.css("max-height",height)},"_updateInputFieldHeight":function(inputFieldHeight){var inputHeight,comboboxThis=this;inputFieldHeight=parseInt(inputFieldHeight,CONST_VALUES.DECIMAL);if(isNaN(inputFieldHeight))return;inputHeight=inputFieldHeight-CONST_VALUES.INPUT_BORDER+"px";comboboxThis.$container.css("height",inputHeight);comboboxThis.$inputText.css({"height":inputHeight,"line-height":inputHeight})},"_updatePlaceholder":function(){var comboboxThis=this,options=comboboxThis.options;if(""===options.placeholder||""!=comboboxThis.$inputText.val())return;comboboxThis.$inputText.val(options.placeholder);comboboxThis.$inputText.addClass("tiny-combobox-input-placeholder")},"_updateValue":function(){var comboboxThis=this,options=comboboxThis.options;comboboxThis.$inputText.val(options.value);comboboxThis.inputTxt=options.value;comboboxThis._setInputTitle();""!=options.value&&comboboxThis.$inputText.removeClass("tiny-combobox-input-placeholder")},"_setInputTitle":function(){var inputWidth,comboboxThis=this,options=comboboxThis.options,content=comboboxThis.$inputText.val(),$tmpLabelBox=$("<span>").addClass("tiny-combobox-input").text(content).appendTo("body"),textWidth=parseInt($tmpLabelBox.width(),10);$tmpLabelBox.remove();inputWidth=parseInt(options.width,10)-CONST_VALUES.CALC_INPUT_WIDTH;textWidth>inputWidth?comboboxThis.$inputText.attr("title",content):comboboxThis.$inputText.removeAttr("title")},"_updateValues":function(){var $ulWrapper,comboboxThis=this,options=comboboxThis.options;if("local"!==options.valuesFrom)return;comboboxThis._creatOptions(options.values);$ulWrapper=$("<ul>").append(comboboxThis.optionHtml);comboboxThis.$popup.empty().append($ulWrapper).css("display","none")},"_creatOptions":function(values){var curValue,comboboxThis=this;comboboxThis.optionHtml="";curValue=comboboxThis.getValue();_.each(values,function(op,index){if(curValue===op+""){comboboxThis.optionHtml+='<li class="tiny-combobox-option tiny-combobox-option-default-selected">';comboboxThis.selectedIndex=index}else comboboxThis.optionHtml+='<li class="tiny-combobox-option">';op=$.encoder.encodeForHTML(op);comboboxThis.optionHtml+="<span>"+op+"</span>";comboboxThis.optionHtml+="</li>"})},"_updateOptions":function(inputTxt){var position,$ulWrapper,comboboxThis=this,options=comboboxThis.options,vaildnum=0,optionHtml="";_.each(options.values,function(op){if(comboboxThis._ismatched(inputTxt,op)){optionHtml+='<li class="tiny-combobox-option">';op=$.encoder.encodeForHTML(op);optionHtml+="<span>"+op+"</span>";optionHtml+="</li>";vaildnum++}});if(0==vaildnum)comboboxThis._unpop();else{position=comboboxThis.$container.offset();$ulWrapper=$("<ul>").append(optionHtml);comboboxThis.$popup.empty().append($ulWrapper).css("display","block");comboboxThis._adaptivePop(position);comboboxThis._setOptionsTitle()}},"_ismatched":function(keyword,op){var comboboxThis=this,options=comboboxThis.options;if(""===keyword)return!0;if("head"===options.matchMethod&&0==op.indexOf(keyword))return!0;if("any"===options.matchMethod&&op.indexOf(keyword)>=0)return!0;if("head-nocap"===options.matchMethod&&0==op.toLowerCase().indexOf(keyword.toLowerCase()))return!0;if("any-nocap"===options.matchMethod&&op.toLowerCase().indexOf(keyword.toLowerCase())>=0)return!0;return!1},"_updateValuesFrom":function(key,value){var $ulWrapper,comboboxThis=this,options=comboboxThis.options;if("local"!=options.valuesFrom){comboboxThis.optionHtml="";comboboxThis.optionHtml+='<li class="tiny-combobox-option-tips">';comboboxThis.optionHtml+="<span>"+widgetsLanguage.comboboxTip+"</span>";comboboxThis.optionHtml+="</li>";$ulWrapper=$("<ul>").append(comboboxThis.optionHtml);comboboxThis.$popup.empty().append($ulWrapper).css("display","none");comboboxThis.selectedIndex=0}},"getValue":function(key,value){var comboboxThis=this;if(comboboxThis.$inputText.hasClass("tiny-combobox-input-placeholder"))return"";return comboboxThis.$inputText.val()},"setSearch":function(values){var $ulWrapper,comboboxThis=this;if(!comboboxThis.waitingSearch)return;comboboxThis.optionHtml="";if(null==values||0==values.length){comboboxThis.optionHtml+='<li class="tiny-combobox-option-tips">';comboboxThis.optionHtml+="<span>"+widgetsLanguage.comboboxNoSearch+"</span>";comboboxThis.optionHtml+="</li>";comboboxThis.selectedIndex=0}else comboboxThis._creatOptions(values);$ulWrapper=$("<ul>").append(comboboxThis.optionHtml);comboboxThis.$popup.empty().append($ulWrapper);comboboxThis._pop()},"_pop":function(){var comboboxOptions,comboboxThis=this,position=comboboxThis.$container.offset(),inputFieldHeight=comboboxThis.$container[0].offsetHeight;comboboxOptions=comboboxThis.$popup.find(".tiny-combobox-option").length?comboboxThis.$popup.find(".tiny-combobox-option"):comboboxThis.$popup.find(".tiny-combobox-option-tips");comboboxOptions.css({"height":inputFieldHeight,"line-height":inputFieldHeight+"px"});comboboxThis.$popup.css("display","block");comboboxThis._adaptivePop(position,inputFieldHeight);comboboxThis._autoPopWidth();comboboxThis._setOptionsTitle();comboboxThis._setScrollTop(inputFieldHeight)},"_autoPopWidth":function(){var popDom,clientWidth,offsetWidth,scrollWidth,comboboxThis=this;if("auto"!==comboboxThis.options.optionWidth||"Microsoft Internet Explorer"===navigator.appName)return;comboboxThis.$popup.css("width","auto");popDom=comboboxThis.$popup[0];clientWidth=popDom.clientWidth;offsetWidth=popDom.offsetWidth;if(offsetWidth>clientWidth+2){scrollWidth=offsetWidth-clientWidth;comboboxThis.$popup.css("width",comboboxThis.$popup.width()+scrollWidth)}},"_setScrollTop":function(inputFieldHeight){var $popupChildren,selectedIndex,curValue,comboboxThis=this,values=comboboxThis.options.values;if(0===values.length)return;$popupChildren=$("li",comboboxThis.$popup);$popupChildren.removeClass("tiny-combobox-option-default-selected");selectedIndex=0;curValue=comboboxThis.getValue();_.each($popupChildren,function(op,index){if(curValue===$("span",op).html()){selectedIndex=index;$($popupChildren[index]).addClass("tiny-combobox-option-default-selected")}});comboboxThis.$popup.scrollTop(inputFieldHeight*selectedIndex)},"_changeScrollTop":function(content){var i,len,comboboxThis=this,$popupChildren=$("li",comboboxThis.$popup);for(i=0,len=$popupChildren.length;len>i;i++)if(content===$("span",$popupChildren[i]).html()){comboboxThis.$popup.scrollTop(comboboxThis.$container[0].offsetHeight*i);return}},"_setOptionsTitle":function(){var values,availableWidth,optionNum,optionWidth,$tempNode,index,$tmpLabelBox,comboboxThis=this,options=comboboxThis.options;if("auto"===options.optionWidth)return;values=options.values;if($("li",comboboxThis.$popup).length<1)return;availableWidth=parseInt(comboboxThis.$popup[0].clientWidth,10)-CONST_VALUES.OPTION_BORDER;optionNum=values.length;optionWidth=0;$tempNode=$("li",comboboxThis.$popup).first();for(index=0;optionNum>index;index++){$tempNode.removeAttr("title");$tmpLabelBox=$("<span>").addClass("tiny-combobox-option").text(values[index]).appendTo("body");optionWidth=parseInt($tmpLabelBox.width(),10);$tmpLabelBox.remove();optionWidth>availableWidth&&$tempNode.attr("title",values[index]);$tempNode=$tempNode.next()}},"_adaptivePop":function(position,inputFieldHeight){var tempHeight,comboboxThis=this,actualHeight=comboboxThis.$popup.height(),compatibleHeight=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,availableHeightUnder=compatibleHeight+$(document).scrollTop()-position.top-inputFieldHeight,availableHeightOver=position.top-$(document).scrollTop();if(availableHeightUnder>=actualHeight){comboboxThis.$popup.css({"left":position.left,"top":position.top+inputFieldHeight});comboboxThis.$container.addClass("tiny-combobox-container-pop-down")}else if(availableHeightOver>actualHeight){comboboxThis.$popup.css({"left":position.left,"top":position.top-actualHeight-1});comboboxThis.$container.addClass("tiny-combobox-container-pop-up");comboboxThis.$popup.addClass("tiny-combobox-popup-container-up")}else if(availableHeightUnder>=availableHeightOver){tempHeight=availableHeightUnder-2;comboboxThis._updateHeight(tempHeight);comboboxThis.$popup.css({"left":position.left,"top":position.top+inputFieldHeight});comboboxThis.$container.addClass("tiny-combobox-container-pop-down")}else{tempHeight=availableHeightOver-2;comboboxThis._updateHeight(tempHeight);comboboxThis.$popup.css({"left":position.left,"top":position.top-tempHeight-1});comboboxThis.$container.addClass("tiny-combobox-container-pop-up");comboboxThis.$popup.addClass("tiny-combobox-popup-container-up")}},"_unpop":function(){var comboboxThis=this;comboboxThis._updateHeight(comboboxThis.options.height);comboboxThis.$popup.find(".tiny-combobox-option").removeClass("tiny-combobox-option-selected");comboboxThis.$popup.css("display","none");comboboxThis.$container.removeClass("tiny-combobox-container-pop-down  tiny-combobox-container-pop-up");comboboxThis.$popup.removeClass("tiny-combobox-popup-container-up")},"_locateElement":function(){var comboboxThis=this;comboboxThis.$element=comboboxThis._element;comboboxThis.$container=comboboxThis._element.find(".tiny-combobox-container");comboboxThis.$editor=comboboxThis._element.find(".tiny-combobox-editor");comboboxThis.$inputText=comboboxThis._element.find(".tiny-combobox-input");
comboboxThis.$popbutton=comboboxThis._element.find(".tiny-combobox-popbutton")},"_getfocus":function(){var comboboxThis=this;comboboxThis.options;comboboxThis.$container.addClass("tiny-combobox-container-focus");comboboxThis.hasfocus||comboboxThis.trigger("focus");comboboxThis.hasfocus=!0},"_lostfocus":function(){var comboboxThis=this;comboboxThis.options;comboboxThis.$container.removeClass("tiny-combobox-container-focus");comboboxThis.hasfocus&&comboboxThis.trigger("blur");comboboxThis.hasfocus=!1},"destroy":function(){var comboboxThis=this;$(document).unbind("keydown",comboboxThis.keydownHandler);$(document).unbind("mousedown",comboboxThis.mousedownHandler);$(document).unbind("mousewheel DOMMouseScroll",comboboxThis.mousewheelHandler);$(window).unbind("resize",comboboxThis.resizeHandler);comboboxThis.$popup.remove()},"_addPopupBehavior":function(){var comboboxThis=this,options=comboboxThis.options;comboboxThis.$popup.on("mousedown",".tiny-combobox-option",function(e){newValues=e.currentTarget.textContent||e.currentTarget.innerText;comboboxThis.$inputText.val(newValues);comboboxThis._setInputTitle();comboboxThis.inputTxt=newValues;comboboxThis._unpop();comboboxThis.$inputText.removeClass("tiny-combobox-input-placeholder");e.stopPropagation();e.preventDefault();comboboxThis.trigger("select");"function"==typeof options.select&&options.select();comboboxThis._contentChangeHandler(e,newValues);comboboxThis.trigger("blur")}).on("mousemove",".tiny-combobox-option",function(e){comboboxThis.$popup.find(".tiny-combobox-option").removeClass("tiny-combobox-option-selected");$(this).addClass("tiny-combobox-option-selected")}).on("mouseout",function(e){comboboxThis.$popup.find(".tiny-combobox-option").removeClass("tiny-combobox-option-selected")});comboboxThis.$popup.on("mousedown",".tiny-combobox-option-tips",function(e){e.stopPropagation();e.preventDefault()});comboboxThis.$popup.on("mousewheel DOMMouseScroll",function(e){$.browser.mozilla?comboboxThis.$popup[0].scrollTop+=e.originalEvent.detail>0?60:-60:comboboxThis.$popup[0].scrollTop+=e.originalEvent.wheelDelta>0?-60:60;e.stopPropagation();e.preventDefault()})},"_contentChangeHandler":function(event,newValue){var comboboxThis=this,options=comboboxThis.options,oldValue=options.value;if(newValue===oldValue)return;options.value=newValue;comboboxThis.trigger("contentChange",[event,newValue]);"function"==typeof options.contentChange&&options.contentChange(event,newValue)},"_addBehavior":function(){var handler,comboboxThis=this,options=comboboxThis.options,popFlag=!1,timer=null;comboboxThis.waitingSearch=!1;comboboxThis.hasfocus=!1;comboboxThis._locateElement();comboboxThis._addPopupBehavior();comboboxThis.$container.on("mousedown",function(e){setTimeout(function(){comboboxThis.$inputText.focus()},0)});comboboxThis.$popbutton.on("mousedown",function(e){if(util.isTrue(options.disable))return;popFlag=!0;if("interact"===options.valuesFrom){comboboxThis.waitingSearch=!0;comboboxThis.trigger("search");"function"==typeof options.search&&options.search();return}"block"!=comboboxThis.$popup.css("display")?comboboxThis._pop():comboboxThis._unpop()});comboboxThis.$inputText.on("mousedown",function(e){popFlag=!0});comboboxThis.$inputText.on("focus",function(e){if(comboboxThis.$inputText.hasClass("tiny-combobox-input-placeholder")){comboboxThis.$inputText.val("");comboboxThis.$inputText.removeClass("tiny-combobox-input-placeholder")}comboboxThis._getfocus()}).on("blur",function(e){timer||clearInterval(timer);comboboxThis.waitingSearch=!1;if(""===options.placeholder||""!=comboboxThis.$inputText.val())return;comboboxThis.$inputText.val(options.placeholder);comboboxThis.$inputText.addClass("tiny-combobox-input-placeholder")});comboboxThis.resizeHandler=function(){"block"==comboboxThis.$popup.css("display")&&comboboxThis._unpop()};$(window).on("resize",comboboxThis.resizeHandler);comboboxThis.keydownHandler=function(e){if("true"===String(options.disable)||"block"!==comboboxThis.$popup.css("display"))return;switch(e.keyCode){case 38:comboboxThis._responseUp(e);break;case 40:comboboxThis._responseDown(e);break;case 27:comboboxThis._unpop();break;case 9:comboboxThis._responseTab(e);break;case 13:case 108:comboboxThis._responseEnter(e)}};comboboxThis.mousedownHandler=function(e){if($(e.target).hasClass("tiny-combobox-popup-container"))return;popFlag||comboboxThis._lostfocus();popFlag||"block"!=comboboxThis.$popup.css("display")||comboboxThis._unpop();popFlag=!1};comboboxThis.mousewheelHandler=function(){"block"==comboboxThis.$popup.css("display")&&comboboxThis._unpop()};$(document).on("keydown",comboboxThis.keydownHandler).on("mousedown",comboboxThis.mousedownHandler).on("mousewheel DOMMouseScroll",comboboxThis.mousewheelHandler);comboboxThis.$inputText.on("input",function(event){var newValue=comboboxThis.$inputText.val();comboboxThis._contentChangeHandler(event,newValue)});"Microsoft Internet Explorer"==navigator.appName&&comboboxThis.$inputText.on("cut",function(event){setTimeout(function(){var newValue=comboboxThis.$inputText.val();comboboxThis._contentChangeHandler(event,newValue)},0)});comboboxThis.inputTxt=options.value;comboboxThis.$inputText.on("keyup",function(e){var newTxt,delay;comboboxThis.trigger("keyup",[e]);"function"==typeof options.keyup&&options.keyup(e);newTxt=comboboxThis.$inputText.val();comboboxThis._setInputTitle();"Microsoft Internet Explorer"!=navigator.appName||8!=e.keyCode&&46!=e.keyCode||comboboxThis._contentChangeHandler(e,newTxt);if("local"===options.valuesFrom&&comboboxThis.inputTxt!==newTxt){comboboxThis.inputTxt=newTxt;comboboxThis._updateOptions(comboboxThis.inputTxt);return}comboboxThis.waitingSearch=!0;if("enter"!=options.trigger||108!=e.keyCode&&13!=e.keyCode){if("delay"==options.trigger){delay=parseInt(options.delay,CONST_VALUES.DECIMAL);timer&&clearTimeout(timer);timer=setTimeout(handler,delay)}}else{comboboxThis.trigger("search");"function"==typeof options.search&&options.search()}});handler=function(){comboboxThis.trigger("search");"function"==typeof options.search&&options.search()};comboboxThis.$inputText.on("keydown",function(e){9==e.keyCode&&comboboxThis._lostfocus();comboboxThis.trigger("keydown",[e]);"function"==typeof options.keydown&&options.keydown(e)});comboboxThis._element.on("$destroy",function(){comboboxThis.destroy()})},"_responseTab":function(evt){var comboboxThis=this;if("block"===comboboxThis.$popup.css("display")){comboboxThis._unpop();comboboxThis._lostfocus()}},"_responseUp":function(evt){var $allItems,totalLength,$previousSelectedItem,$currentItem,comboboxThis=this;evt.preventDefault();$allItems=comboboxThis.$popup.find("li");totalLength=$allItems.length;if(!totalLength||$allItems.filter(".tiny-combobox-option-tips").length)return;$previousSelectedItem=$allItems.filter(".tiny-combobox-option-selected");!$previousSelectedItem.length&&($previousSelectedItem=$allItems.filter(".tiny-combobox-option-default-selected"));$currentItem=$previousSelectedItem.length&&$previousSelectedItem.prev().length?$previousSelectedItem.prev():$allItems.last();$previousSelectedItem.removeClass("tiny-combobox-option-selected");$currentItem.addClass("tiny-combobox-option-selected");comboboxThis._changeScrollTop($currentItem.find("span").text())},"_responseDown":function(evt){var $allItems,totalLength,$previousSelectedItem,$currentItem,comboboxThis=this;evt.preventDefault();$allItems=comboboxThis.$popup.find("li");totalLength=$allItems.length;if(!totalLength||$allItems.filter(".tiny-combobox-option-tips").length)return;$previousSelectedItem=$allItems.filter(".tiny-combobox-option-selected");!$previousSelectedItem.length&&($previousSelectedItem=$allItems.filter(".tiny-combobox-option-default-selected"));$currentItem=$previousSelectedItem.length&&$previousSelectedItem.next().length?$previousSelectedItem.next():$allItems.first();$previousSelectedItem.removeClass("tiny-combobox-option-selected");$currentItem.addClass("tiny-combobox-option-selected");comboboxThis._changeScrollTop($currentItem.find("span").text())},"_responseEnter":function(evt){var $currentItem,newValues,comboboxThis=this,options=comboboxThis.options;evt.stopPropagation();$currentItem=comboboxThis.$popup.find(".tiny-combobox-option-selected");if($currentItem.length){newValues=$currentItem.find("span").text();comboboxThis.$inputText.val(newValues);comboboxThis.inputTxt=newValues;comboboxThis.$inputText.removeClass("tiny-combobox-input-placeholder");comboboxThis._setInputTitle();comboboxThis.trigger("select");"function"==typeof options.select&&options.select();comboboxThis._contentChangeHandler(evt,newValues)}comboboxThis._unpop()}});window.tinyWidget.Combobox=Combobox;return Combobox});define("tiny-directives/Combobox",["tiny-directives/Directive","tiny-widgets/Combobox"],function(Directive,ComboboxWidget){var DEFAULT_CONFIG={"directiveName":"tinyCombobox","widgetClass":ComboboxWidget,"scope":{"id":"=","width":"=","display":"=","disable":"=","height":"=","inputFieldHeight":"=","value":"=","placeholder":"=","valuesFrom":"=","values":"=","matchMethod":"=","trigger":"=","delay":"=","validate":"=","tooltip":"=","tipWidth":"=","tipPosition":"=","errorMsg":"=","extendFunction":"=","optionWidth":"=","select":"&","search":"&","keyup":"&","keydown":"&","contentChange":"&"},"constantProperties":["validate","tooltip","tipWidth","tipPosition","errorMsg","extendFunction","optionWidth"],"template":"<span></span>","replace":"true"},Combobox=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var comboboxInstance,comboboxThis=this,constants=_.pick(scope,comboboxThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});comboboxInstance=new comboboxThis.widgetClass(_.pick(constants,validProperName));comboboxInstance.on("contentChange",function(event,newValue){comboboxThis.setAttr(scope,"value",newValue,attrMap)});element.append(comboboxInstance._element);scope.$watch("id",function(newValues,oldValues){comboboxInstance.option("id",newValues)});scope.$watch("width",function(newValues,oldValues){comboboxInstance.option("width",newValues)});scope.$watch("display",function(newValues,oldValues){comboboxInstance.option("display",newValues)});scope.$watch("disable",function(newValues,oldValues){comboboxInstance.option("disable",newValues)});scope.$watch("height",function(newValues,oldValues){comboboxInstance.option("height",newValues)});scope.$watch("inputFieldHeight",function(newValues,oldValues){comboboxInstance.option("inputFieldHeight",newValues)});scope.$watch("value",function(newValues,oldValues){if(scope.changeFlag===!0){scope.changeFlag=!1;return}comboboxInstance.option("value",newValues)});scope.$watch("placeholder",function(newValues,oldValues){comboboxInstance.option("placeholder",newValues)});scope.$watch("valuesFrom",function(newValues,oldValues){comboboxInstance.option("valuesFrom",newValues)});scope.$watch("values",function(newValues,oldValues){comboboxInstance.option("values",newValues)});scope.$watch("matchMethod",function(newValues,oldValues){comboboxInstance.option("matchMethod",newValues)});scope.$watch("trigger",function(newValues,oldValues){comboboxInstance.option("trigger",newValues)});scope.$watch("delay",function(newValues,oldValues){comboboxInstance.option("delay",newValues)});scope.$watch("validate",function(newValues,oldValues){comboboxInstance.option("validate",newValues)});scope.$watch("tooltip",function(newValues,oldValues){comboboxInstance.option("tooltip",newValues)});scope.$watch("errorMsg",function(newValues,oldValues){comboboxInstance.option("errorMsg",newValues)});attrMap.select&&comboboxInstance.on("select",function(){scope.$apply(scope.select())});attrMap.search&&comboboxInstance.on("search",function(){scope.$apply(scope.search())});attrMap.keyup&&comboboxInstance.on("keyup",function(){var param={"event":arguments[0]};scope.keyup(param);scope.$digest()});attrMap.keydown&&comboboxInstance.on("keydown",function(){var param={"event":arguments[0]};scope.keydown(param);scope.$digest()});attrMap.contentChange&&comboboxInstance.on("contentChange",function(){var param={"event":arguments[0],"value":arguments[1]};scope.contentChange(param);scope.$digest()});comboboxInstance._element.on("$destroy",function(){scope.$destroy()})}});(new Combobox).toAngularDirective();return Combobox});(function($,undefined){function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||"map"!==map.nodeName.toLowerCase())return!1;img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img)}return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};$.extend($.ui,{"version":"1.10.3","keyCode":{"BACKSPACE":8,"COMMA":188,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"LEFT":37,"NUMPAD_ADD":107,"NUMPAD_DECIMAL":110,"NUMPAD_DIVIDE":111,"NUMPAD_ENTER":108,"NUMPAD_MULTIPLY":106,"NUMPAD_SUBTRACT":109,"PAGE_DOWN":34,"PAGE_UP":33,"PERIOD":190,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38}});$.fn.extend({"focus":function(orig){return function(delay,fn){return"number"==typeof delay?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();fn&&fn.call(elem)},delay)}):orig.apply(this,arguments)}}($.fn.focus),"scrollParent":function(){var scrollParent;scrollParent=$.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.css(this,"position"))&&/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!scrollParent.length?$(document):scrollParent},"zIndex":function(zIndex){if(zIndex!==undefined)return this.css("zIndex",zIndex);if(this.length){var position,value,elem=$(this[0]);for(;elem.length&&elem[0]!==document;){position=elem.css("position");if("absolute"===position||"relative"===position||"fixed"===position){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&0!==value)return value}elem=elem.parent()}}return 0},"uniqueId":function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++uuid)})},"removeUniqueId":function(){return this.each(function(){runiqueId.test(this.id)&&$(this).removeAttr("id")})}});$.extend($.expr[":"],{"data":$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},"focusable":function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},"tabbable":function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}});$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(i,name){function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;border&&(size-=parseFloat($.css(elem,"border"+this+"Width"))||0);margin&&(size-=parseFloat($.css(elem,"margin"+this))||0)});return size}var side="Width"===name?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={"innerWidth":$.fn.innerWidth,"innerHeight":$.fn.innerHeight,"outerWidth":$.fn.outerWidth,"outerHeight":$.fn.outerHeight};$.fn["inner"+name]=function(size){if(size===undefined)return orig["inner"+name].call(this);return this.each(function(){$(this).css(type,reduce(this,size)+"px")})};$.fn["outer"+name]=function(size,margin){if("number"!=typeof size)return orig["outer"+name].call(this,size);return this.each(function(){$(this).css(type,reduce(this,size,!0,margin)+"px")})}});$.fn.addBack||($.fn.addBack=function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))});$("<a>").data("a-b","a").removeData("a-b").data("a-b")&&($.fn.removeData=function(removeData){return function(key){return arguments.length?removeData.call(this,$.camelCase(key)):removeData.call(this)}}($.fn.removeData));$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.support.selectstart="onselectstart"in document.createElement("div");$.fn.extend({"disableSelection":function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault()})},"enableSelection":function(){return this.unbind(".ui-disableSelection")}});$.extend($.ui,{"plugin":{"add":function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]])}},"call":function(instance,name,args){var i,set=instance.plugins[name];if(!set||!instance.element[0].parentNode||11===instance.element[0].parentNode.nodeType)return;for(i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}},"hasScroll":function(el,a){if("hidden"===$(el).css("overflow"))return!1;var scroll=a&&"left"===a?"scrollLeft":"scrollTop",has=!1;if(el[scroll]>0)return!0;el[scroll]=1;has=el[scroll]>0;el[scroll]=0;return has}})})(jQuery);(function($,undefined){function Datepicker(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={"okBtn":"OK","clearBtn":"Clear","closeText":"Done","prevText":"Prev","nextText":"Next","currentText":"Today","monthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"monthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"dayNamesShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dayNamesMin":["Su","Mo","Tu","We","Th","Fr","Sa"],"weekHeader":"Wk","dateFormat":"mm/dd/yy","firstDay":0,"isRTL":!1,"showMonthAfterYear":!1,"yearSuffix":"","monthSuffix":""};this._defaults={"showOn":"focus","showAnim":"fadeIn","showOptions":{},"defaultDate":null,"appendText":"","buttonText":"...","buttonImage":"","disable":!1,"buttonImageOnly":!1,"hideIfNoPrevNext":!1,"navigationAsDateFormat":!1,"gotoCurrent":!1,"changeMonth":!1,"changeYear":!1,"yearRange":"c-10:c+10","showOtherMonths":!1,"selectOtherMonths":!1,"showWeek":!1,"calculateWeek":this.iso8601Week,"shortYearCutoff":"+10","minDate":new Date("1970/01/01"),"maxDate":new Date("2099/12/31"),"duration":"fast","beforeShowDay":null,"beforeShow":null,"onSelect":null,"onSelectTime":null,"onChangeMonthYear":null,"onClose":null,"numberOfMonths":1,"showCurrentAtPos":0,"stepMonths":1,"stepBigMonths":12,"altField":"","altFormat":"","constrainInput":!0,"showButtonPanel":!1,"autoSize":!1,"disabled":!1,"isTimeVisible":!1,"showStyle":"left","timeDiv":"","timeformat":"hh:mm"};$.extend(this._defaults,this.regional[""]);this.dpDiv=bindHover($("<div id='"+this._mainDivId+"' class='tiny-ui-widget-content tiny-ui-datepicker tiny-ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function bindHover(dpDiv){var selector="button, .tiny-ui-datepicker-calendar td a";return dpDiv.bind("mouseout",function(event){var elem=$(event.target).closest(selector);if(!elem.length)return;elem.removeClass("tiny-ui-state-default-hover")}).bind("mouseover",function(event){var elem=$(event.target).closest(selector);if($.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])||!elem.length)return;if(!elem.parents(".tiny-ui-datepicker-calendar").find("a").attr("tiny-ui-state-default"))return;elem.parents(".tiny-ui-datepicker-calendar").find("a").removeClass("tiny-ui-state-default-hover");elem.addClass("tiny-ui-state-default-hover")})}function extendRemove(target,props){$.extend(target,props);for(var name in props)null==props[name]&&(target[name]=props[name]);return target}function eventStop(evt){evt.stopPropagation?evt.stopPropagation():evt.cancelBubble=!0}var PROP_NAME,dpuuid,instActive;$.extend($.ui,{"datepicker":{"version":"1.10.3"}});PROP_NAME="datepicker";dpuuid=(new Date).getTime();$.extend(Datepicker.prototype,{"markerClassName":"hasDatepicker","maxRows":4,"_widgetDatepicker":function(){return this.dpDiv},"setDefaults":function(settings){extendRemove(this._defaults,settings||{});return this},"_attachDatepicker":function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline="div"===nodeName||"span"===nodeName;if(!target.id){this.uuid+=1;target.id="dp"+this.uuid}inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});"input"===nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},"_newInst":function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{"id":id,"input":target,"selectedDay":0,"selectedMonth":0,"selectedYear":0,"drawMonth":0,"drawYear":0,"inline":inline,"dpDiv":inline?bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},"_connectDatepicker":function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName))return;this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(inst);$.data(target,PROP_NAME,inst);inst.settings.disabled&&this._disableDatepicker(target)},"_attachments":function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");inst.append&&inst.append.remove();if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append)}input.unbind("focus",this._showDatepicker);inst.trigger&&inst.trigger.remove();showOn=this._get(inst,"showOn");("focus"===showOn||"both"===showOn)&&input.focus(this._showDatepicker);if("button"===showOn||"both"===showOn){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<span></span>").addClass(this._triggerClass).append('<i class="ti ti-calendar tiny-datetime-calendarimage"></i>'):$("<button type='button'></button>").addClass(this._triggerClass).append('<i class="ti ti-calendar tiny-datetime-calendarimage"></i>').html(buttonImage?$("<span></span>").attr({"alt":buttonText,"title":buttonText}):buttonText));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){var isDisable="true"===String(inst.input[0].disable);if(isDisable)return;if($.datepicker._datepickerShowing)return!1;$.datepicker._showDatepicker(input[0]);return!1})}},"_autoSize":function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,11,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++)if(names[i].length>max){max=names[i].length;maxI=i}return maxI};date.setMonth(findMax(this._get(inst,dateFormat.match(/MM/)?"monthNames":"monthNamesShort")));date.setDate(findMax(this._get(inst,dateFormat.match(/DD/)?"dayNames":"dayNamesShort"))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},"_inlineDatepicker":function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName))return;divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),!0);this._updateDatepicker(inst);this._updateAlternate(inst);inst.settings.disabled&&this._disableDatepicker(target);inst.dpDiv.css("display","block")},"_dialogDatepicker":function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,!1);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst)}extendRemove(inst.settings,settings||{});date=date&&date.constructor===Date?this._formatDate(inst,date):date;this._dialogInput.val(date);this._pos=pos?pos.length?pos:[pos.pageX,pos.pageY]:null;if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[browserWidth/2-100+scrollX,browserHeight/2-150+scrollY]}this._dialogInput.css("left",this._pos[0]+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);$.blockUI&&$.blockUI(this.dpDiv);$.data(this._dialogInput[0],PROP_NAME,inst);return this},"_destroyDatepicker":function(target){var nodeName,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName))return;nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if("input"===nodeName){inst.append.remove();inst.trigger.remove();$.datepicker.dpDiv.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else("div"===nodeName||"span"===nodeName)&&$target.removeClass(this.markerClassName).empty()},"_enableDatepicker":function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName))return;nodeName=target.nodeName.toLowerCase();if("input"===nodeName){target.disabled=!1;inst.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({"opacity":"1.0","cursor":""})}else if("div"===nodeName||"span"===nodeName){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value})},"_disableDatepicker":function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName))return;nodeName=target.nodeName.toLowerCase();if("input"===nodeName){target.disabled=!0;inst.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({"opacity":"0.5","cursor":"default"})}else if("div"===nodeName||"span"===nodeName){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value});this._disabledInputs[this._disabledInputs.length]=target},"_isDisabledDatepicker":function(target){if(!target)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]===target)return!0;return!1},"_getInst":function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},"_optionDatepicker":function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(2===arguments.length&&"string"==typeof name)return"defaults"===name?$.extend({},$.datepicker._defaults):inst?"all"===name?$.extend({},inst.settings):this._get(inst,name):null;settings=name||{};if("string"==typeof name){settings={};settings[name]=value}if(inst){this._curInst===inst&&this._hideDatepicker();date=this._getDateDatepicker(target,!0);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings);null!==minDate&&settings.dateFormat!==undefined&&settings.minDate===undefined&&(inst.settings.minDate=this._formatDate(inst,minDate));null!==maxDate&&settings.dateFormat!==undefined&&settings.maxDate===undefined&&(inst.settings.maxDate=this._formatDate(inst,maxDate));"disabled"in settings&&(settings.disabled?this._disableDatepicker(target):this._enableDatepicker(target));this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst)}},"_changeDatepicker":function(target,name,value){this._optionDatepicker(target,name,value)},"_refreshDatepicker":function(target){var inst=this._getInst(target);inst&&this._updateDatepicker(inst)},"_setDateDatepicker":function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst)}},"_getDateDatepicker":function(target,noDefault){var inst=this._getInst(target);inst&&!inst.inline&&this._setDateFromField(inst,noDefault);return inst?this._getDate(inst):null},"_doKeyDown":function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=!0,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=!0;if($.datepicker._datepickerShowing)switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=!1;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);sel[0]&&$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 35:(event.ctrlKey||event.metaKey)&&$.datepicker._clearDate(event.target);handled=event.ctrlKey||event.metaKey;break;case 36:(event.ctrlKey||event.metaKey)&&$.datepicker._gotoToday(event.target);handled=event.ctrlKey||event.metaKey;break;case 37:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?1:-1,"D");handled=event.ctrlKey||event.metaKey;event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 38:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,-7,"D");handled=event.ctrlKey||event.metaKey;break;case 39:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?-1:1,"D");handled=event.ctrlKey||event.metaKey;event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 40:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,7,"D");handled=event.ctrlKey||event.metaKey;break;default:handled=!1;
}else 36===event.keyCode&&event.ctrlKey?$.datepicker._showDatepicker(this):handled=!1;if(handled){event.preventDefault();event.stopPropagation()}},"_doKeyPress":function(event){$.datepicker._getInst(event.target)},"_doKeyUp":function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal)try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),inst.input?inst.input.val():null,$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst)}}catch(err){}return!0},"_showDatepicker":function(input){var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration,offsetLeft,dpWidth,inputWidth,shiftDist;input=input.target||input;"input"!==input.nodeName.toLowerCase()&&(input=$("input",input.parentNode)[0]);if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input)return;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(!0,!0);inst&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0])}beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===!1)return;extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);$.datepicker._inDialog&&(input.value="");if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}isFixed=!1;$(input).parents().each(function(){isFixed|="fixed"===$(this).css("position");return!isFixed});offset={"left":$.datepicker._pos[0],"top":$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({"position":"absolute","display":"block","top":"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);offsetLeft=offset.left;if("right"==$.datepicker._get(inst,"showStyle")){dpWidth=inst.dpDiv.outerWidth(),inputWidth=inst.input?inst.input.parent().outerWidth():0;shiftDist=dpWidth-inputWidth;offsetLeft-=shiftDist}inst.dpDiv.css({"position":$.datepicker._inDialog&&$.blockUI?"static":isFixed?"fixed":"absolute","display":"none","left":offsetLeft+"px","top":offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");$.datepicker._datepickerShowing=!0;$.effects&&$.effects.effect[showAnim]?inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration):inst.dpDiv[showAnim||"show"](showAnim?duration:null);$.datepicker._shouldFocusInput(inst)&&inst.input.focus();$.datepicker._curInst=inst}},"_updateDatepicker":function(inst){var borders,cover,numMonths,cols,width,origyearshtml,self=this;self.maxRows=4;borders=$.datepicker._getBorders(inst.dpDiv);instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));inst.inputDiv=inst.dpDiv.find(".tiny-time-input");inst.focusInput=[];inst.expendedMonthYearData=!1;$dpTitle=inst.dpDiv.find(".ui-datepicker-title");$("#img"+inst.id).on("click",function(){var downBtnImgDiv,styl,path,yearList,y,$monthSelect,monthList,counter,upBtnImgDiv,overviewHeight,viewportHeight,sliderHeight,sliderTop,overviewTop,diff;if(inst.expendedMonthYearData===!0){$($dpTitle[0].lastChild).remove();$($dpTitle[0].lastChild).remove();$dpTitle.find("input").css({"color":"#666"});$("#img"+inst.id).removeClass("upbtn").addClass("downbtn");downBtnImgDiv=$("<div>");downBtnImgDiv[0].className="tiny_widgets_charts_downbuttonbright_image";document.body.appendChild(downBtnImgDiv[0]);styl=downBtnImgDiv[0].currentStyle||window.getComputedStyle(downBtnImgDiv[0],null);path=styl.backgroundImage.substring(4,styl.backgroundImage.length-1);path=path.split('"');path.length>1&&(path=path[1]);downBtnImgDiv.remove();inst.expendedMonthYearData=!1;$($dpTitle).removeClass("tiny-ui-title-expand")}else{inst.isMove=!1;$dpTitle.append(inst.yearMonthData);$(inst.dpDiv.find(".ui-datepicker-header")[0]);$($dpTitle).addClass("tiny-ui-title-expand");$dpTitle.find("input").css({"color":"#4896c6"});yearList=inst.dpDiv.find(".tiny_Date_Select_Year")[0].childNodes;for(y=0;y<yearList.length;y++)yearList[y].value===inst.selectedYear&&$(yearList[y]).addClass("tiny-datepicker-selected-yearmonth");$monthSelect=inst.dpDiv.find(".tiny_Date_Select_Month");monthList=$monthSelect[0].childNodes;counter=0;$monthSelect.find("[value ="+(inst.selectedMonth-counter)+"]").addClass("tiny-datepicker-selected-yearmonth");$("#img"+inst.id).removeClass("downbtn").addClass("upbtn");upBtnImgDiv=$("<div>");upBtnImgDiv[0].className="tiny_widgets_charts_upbuttonbright_image";document.body.appendChild(upBtnImgDiv[0]);styl=upBtnImgDiv[0].currentStyle||window.getComputedStyle(upBtnImgDiv[0],null);path=styl.backgroundImage.substring(4,styl.backgroundImage.length-1);path=path.split('"');path.length>1&&(path=path[1]);upBtnImgDiv.remove();inst.expendedMonthYearData=!0;inst.dpDiv.find(".tiny_Date_Select_Year")[0].onclick=function(e){evt=window.event?event:e;var yearValue=evt.target?evt.target.innerHTML:evt.srcElement.innerHTML;inst.drawYear=parseInt(yearValue,10);if(isNaN(inst.drawYear)){e.preventDefault();return!1}$.datepicker._notifyChange(inst);$.datepicker._adjustDate($("#"+inst.id))};$monthSelect[0].onclick=function(e){evt=window.event?event:e;inst.drawMonth=evt.target?evt.target.value:evt.srcElement.value;isNaN(inst.drawYear)&&$dpTitle.find("input").each(function(index,elm){if(0===index){inst.drawYear=parseInt(elm.value);return}});$.datepicker._notifyChange(inst);$.datepicker._adjustDate($("#"+inst.id))}}overviewHeight=21*(inst.maxYear-inst.minYear+1);viewportHeight=250;sliderHeight=60;sliderTop=0;overviewTop=0;inst.enableMove=!1;if(overviewHeight>viewportHeight){inst.enableMove=!0;inst.maxSize=viewportHeight-sliderHeight-7;inst.ratio=(overviewHeight-viewportHeight)/inst.maxSize;diff=21*(inst.drawYear-inst.minYear);overviewTop=diff;sliderTop=overviewTop/inst.ratio;if(sliderTop>inst.maxSize){sliderTop=inst.maxSize;overviewTop=sliderTop*inst.ratio}}inst.sliderElement=inst.dpDiv.find("#DP_jQuery_"+dpuuid+"dv_scroll_bar3").find(".tiny-datetime-scroll-handle");inst.overview=inst.dpDiv.find("#DP_jQuery_"+dpuuid+"dv_scroll3").find(".Scroller-Container");inst.sliderElement.css("top",sliderTop+"px");inst.overview.css("top",-overviewTop)});cover=inst.dpDiv.find("iframe.ui-datepicker-cover");cover.length&&cover.css({"left":-borders[0],"top":-borders[1],"width":inst.dpDiv.outerWidth(),"height":inst.dpDiv.outerHeight()});inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();numMonths=this._getNumberOfMonths(inst);cols=numMonths[1];width=17;inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");cols>1&&inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",width*cols+"em");inst.dpDiv[(1!=numMonths[0]||1!=numMonths[1]?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input[0]!=document.activeElement&&inst.input.focus();if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){origyearshtml===inst.yearshtml&&inst.yearshtml&&inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);origyearshtml=inst.yearshtml=null},0)}},"_getBorders":function(elem){var convert=function(value){return{"thin":1,"medium":2,"thick":3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},"_shouldFocusInput":function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus")},"_checkOffset":function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.parent().outerWidth():0,inputHeight=inst.input?inst.input.parent().outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=this._get(inst,"isRTL")?dpWidth-inputWidth:0;offset.left-=isFixed&&offset.left===inst.input.offset().left?$(document).scrollLeft():0;offset.top-=isFixed&&offset.top===inst.input.offset().top+inputHeight?$(document).scrollTop():0;offset.left-=Math.min(offset.left,offset.left+dpWidth>viewWidth&&viewWidth>dpWidth?Math.abs(offset.left+dpWidth-viewWidth):2);offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&viewHeight>dpHeight?Math.abs(dpHeight+inputHeight):-8);return offset},"_findPos":function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");for(;obj&&("hidden"===obj.type||1!==obj.nodeType||$.expr.filters.hidden(obj));)obj=obj[isRTL?"previousSibling":"nextSibling"];position=$(obj).offset();return[position.left,position.top]},"_hideDatepicker":function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||input&&inst!==$.data(input,PROP_NAME))return;if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst)};$.effects&&($.effects.effect[showAnim]||$.effects[showAnim])?inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv["slideDown"===showAnim?"slideUp":"fadeIn"===showAnim?"fadeOut":"hide"](showAnim?duration:null,postProcess);showAnim||postProcess();this._datepickerShowing=!1;onClose=this._get(inst,"onClose");onClose&&onClose.apply(inst.input?inst.input[0]:null,[inst.input?inst.input.val():"",inst]);this._lastInput=null;if(this._inDialog){this._dialogInput.css({"position":"absolute","left":"0","top":"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=!1}},"_tidyDialog":function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},"_checkExternalClick":function(event){if(!$.datepicker._curInst)return;var $target=$(event.target),inst=$.datepicker._getInst($target[0]);($target[0].id!==$.datepicker._mainDivId&&0===$target.parents("#"+$.datepicker._mainDivId).length&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest(".ui-datepicker-trigger").length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||$target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)&&$.datepicker._hideDatepicker()},"_adjustDate":function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0]))return;this._adjustInstDate(inst,offset+("M"===period?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst)},"_gotoToday":function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{date=new Date;inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},"_selectMonthYear":function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+("M"===period?"Month":"Year")]=inst["draw"+("M"===period?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},"_isValidTimeKey":function(e){var i,c,valid=[8,9,13,27,35,36,37,39,46,38,40,48,96,49,97,50,98,51,99,52,100,53,101,54,102,55,103,56,104,57,105];for(i=0;c=valid[i];i++)if(e.keyCode==c)return!0;return!1},"_eventPrevent":function(evt){evt.preventDefault?evt.preventDefault():evt.returnValue=!1},"_eventStop":function(evt){evt.stopPropagation?evt.stopPropagation():evt.cancelBubble=!0},"_timeFocusEvt":function(id,e){var $targetinput,target=$(id),inst=this._getInst(target[0]);$targetinput=$(window.event?e.srcElement:e.target);inst.focusInput=$targetinput},"_timeKeydownEvt":function(id,e){var keyNum,inputElement,inputLength,format,maxLength,sel,target=$(id);this._getInst(target[0]);keyNum=window.event?e.keyCode:e.which;inputElement=$(e.target?e.target:e.srcElement);this._isValidTimeKey(e)||this._eventPrevent(e);if(keyNum>=48&&57>=keyNum||keyNum>=96&&105>=keyNum){inputLength=inputElement.val().length;format=inputElement.attr("format");maxLength=2;if(document.selection){sel=document.selection.createRange();if(sel.text.length>0)return}if(inputElement[0].selectionEnd!==inputElement[0].selectionStart)return;"SSS"===format&&(maxLength=3);maxLength===inputLength&&this._eventPrevent(e)}switch(keyNum){case 38:this._eventPrevent(e);this._eventStop(e);this._selectTime(id,1);break;case 40:this._eventPrevent(e);this._eventStop(e);this._selectTime(id,0);break;case 9:this._eventPrevent(e);this._eventStop(e);this._tabRange(id)}},"_setTimeEditorValue":function(inst){var timeValueArray,timeArray,timeLength,timeValue=inst.input[0].timeValue,$timeEditor=inst.dpDiv.find(".tiny-time-editor");if(this._get(inst,"ampm")){timeValueArray=timeValue.split(" ");$timeEditor.find("[format = AMPM]").val(timeValueArray[1]);timeArray=timeValueArray[0].split(":")}else timeArray=timeValue.split(":");timeLength=timeArray.length;1===timeLength&&$timeEditor.find("[format = HH],[format = H]").val(timeArray[0]);if(2===timeLength){$timeEditor.find("[format = HH],[format = H]").val(timeArray[0]);$timeEditor.find("[format = MM]").val(timeArray[1])}if(3===timeLength){$timeEditor.find("[format = HH],[format = H]").val(timeArray[0]);$timeEditor.find("[format = MM]").val(timeArray[1]);$timeEditor.find("[format = SSS],[format = SS]").val(timeArray[2])}},"_timeblurEvt":function(id,e){var inputElement,inputNum,value,format,maxNum,target=$(id),inst=this._getInst(target[0]);inputElement=$(e.target?e.target:e.srcElement);inputNum=inputElement.val();format=inputElement.attr("format");maxNum=inputElement.attr("maxNum");if("PM"!==maxNum){inputNum=parseInt(inputNum,10);maxNum=parseInt(maxNum,10);isNaN(inputNum)||inputNum>maxNum?inputNum=maxNum:12===maxNum&&0===inputNum&&(inputNum=1)}inputNum+="";value="AMPM"===format?"AM"!==inputNum&&"PM"!==inputNum?"AM":inputNum:"H"===format?inputNum:"SSS"===format?inputNum.length<2?"00"+inputNum:inputNum.length<3?"0"+inputNum:inputNum:inputNum.length<2?"0"+inputNum:inputNum;inputElement.val(value);this._conformTime(id);inst.input[0].minMaxDate===inst.dateStr&&this._restrictDateTime(inst)},"_clearTime":function(id){var target=$(id),inst=this._getInst(target[0]);inst.input.val("");this._hideDatepicker()},"_selectTime":function(id,action){var $currentDay,focusElement,target=$(id),inst=this._getInst(target[0]);if(!this._get(inst,"isTimeVisible")){$currentDay=inst.dpDiv.find(".ui-datepicker-current-day");$currentDay.trigger("click");return}0===inst.focusInput.length&&(inst.focusInput=$(inst.inputDiv[0]));inst.focusInput.select();focusElement=inst.focusInput;if(1==action){onSelectTime=this._get(inst,"onSelectTimeUp");onSelectTime.apply(inst.input?inst.input[0]:null,[focusElement,inst])}if(0==action){onSelectTime=this._get(inst,"onSelectTimeDown");onSelectTime.apply(inst.input?inst.input[0]:null,[focusElement,inst])}this._conformTime(id);2==action&&this._hideDatepicker();inst.input[0].minMaxDate===inst.dateStr&&this._restrictDateTime(inst)},"_conformTime":function(id){var i,target=$(id),inst=this._getInst(target[0]),inputValues=[],num=inst.inputDiv.length;this._get(inst,"ampm")&&(num-=1);for(i=0;num>i;i++)inputValues.push(inst.inputDiv[i].value);inst.editorValue=inputValues.join(":");this._get(inst,"ampm")&&(inst.editorValue=inst.editorValue+" "+inst.inputDiv[num].value);inst.input[0].timeValue=inst.editorValue;inst.input.val(inst.dateStr+" "+inst.editorValue)},"_tabRange":function(id){var i,target=$(id),inst=this._getInst(target[0]),inputsNum=inst.inputDiv.length;inst.focusInput||(inst.focusInput=$(inst.inputDiv[0]));for(i=0;inputsNum>i&&inst.focusInput[0]!==inst.inputDiv[i];i++);if(inputsNum-1==i){inst.inputDiv[0].focus();inst.focusInput=$(inst.inputDiv[0])}else{inst.inputDiv[i+1].focus();inst.focusInput=$(inst.inputDiv[i+1])}},"_selectDay":function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0]))return;inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();instActive.dpDiv.find(".ui-datepicker-current-day").removeClass("ui-datepicker-current-day").addClass("tiny-ui-state-default");$("a",td).removeClass("tiny-ui-state-default").addClass("ui-datepicker-current-day");inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))},"_clearDate":function(id){var target=$(id);this._selectDate(target,"")},"_selectDate":function(id,dateStr){var onSelect,time,target=$(id),inst=this._getInst(target[0]);dateStr=null!=dateStr?dateStr:this._formatDate(inst),onSelect=this._get(inst,"onSelect");onSelect?onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]):inst.input&&inst.input.trigger("change");if(inst.input)if(this._get(inst,"isTimeVisible")){inst.editorValue||this._conformTime(id);inst.dateStr=dateStr;inst.input[0].dateStr=dateStr;time=inst.editorValue;inst.input.val(dateStr+" "+time);inst.input[0].minMaxDate===dateStr&&this._restrictDateTime(inst)}else inst.input.val(dateStr);this._updateAlternate(inst);if(inst.inline)this._updateDatepicker(inst);else{this._get(inst,"isTimeVisible")||this._hideDatepicker();this._lastInput=inst.input[0];"object"!=typeof inst.input[0]&&inst.input.focus();this._lastInput=null}},"_restrictDateTime":function(inst){var onDateTimeRestict=this._get(inst,"onDateTimeRestict");onDateTimeRestict&&onDateTimeRestict.apply(inst.input?inst.input[0]:null,[]);this._setTimeEditorValue(inst)},"_updateAlternate":function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},"noWeekends":function(date){var day=date.getDay();return[day>0&&6>day,""]},"iso8601Week":function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/864e5)/7)+1},"parseDate":function(format,value,settings){if(null==format||null==value)throw"Invalid arguments";value="object"==typeof value?value.toString():value+"";if(""===value)return null;var iFormat,dim,extra,date,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff="string"!=typeof shortYearCutoffTemp?shortYearCutoffTemp:(new Date).getFullYear()%100+parseInt(shortYearCutoffTemp,10),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;matches&&iFormat++;return matches},getNumber=function(match){var isDoubled=lookAhead(match),size="@"===match?14:"!"===match?20:"y"===match&&isDoubled?4:"o"===match?3:2,digits=new RegExp("^\\d{1,"+size+"}"),num=value.substring(iValue).match(digits);if(!num)throw"Missing number at position "+iValue;iValue+=num[0].length;return parseInt(num[0],10)},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]]}).sort(function(a,b){return-(a[1].length-b[1].length)});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return!1}});if(-1!==index)return index+1;throw"Unknown name at position "+iValue},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++};for(iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?checkLiteral():literal=!1;else switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/1e4);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":lookAhead("'")?checkLiteral():literal=!0;break;default:checkLiteral()}if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra))throw"Extra/unparsed characters found in date: "+extra}-1===year?year=(new Date).getFullYear():100>year&&(year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(shortYearCutoff>=year?0:-100));if(doy>-1){month=1;day=doy;for(;;){dim=this._getDaysInMonth(year,month-1);if(dim>=day)break;month++;day-=dim}}date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day)throw"Invalid date";return date},"ATOM":"yy-mm-dd","COOKIE":"D, dd M yy","ISO_8601":"yy-mm-dd","RFC_822":"D, d M y","RFC_850":"DD, dd-M-y","RFC_1036":"D, d M y","RFC_1123":"D, d M yy","RFC_2822":"D, d M yy","RSS":"D, d M y","TICKS":"!","TIMESTAMP":"@","W3C":"yy-mm-dd","_ticksTo1970":24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,"formatDate":function(format,date,settings){if(!date)return"";var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;matches&&iFormat++;return matches},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match))for(;num.length<len;)num="0"+num;return num},formatName=function(match,value,shortNames,longNames){return lookAhead(match)?longNames[value]:shortNames[value]},output="",literal=!1;if(date)for(iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?output+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/864e5),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100;break;case"@":output+=date.getTime();break;case"!":output+=1e4*date.getTime()+this._ticksTo1970;break;case"'":lookAhead("'")?output+="'":literal=!0;break;default:output+=format.charAt(iFormat)}return output},"_possibleChars":function(format){var iFormat,chars="",literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;matches&&iFormat++;return matches};for(iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?chars+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?chars+="'":literal=!0;break;default:chars+=format.charAt(iFormat)}return chars},"_get":function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},"_setDateFromField":function(inst,noDefault){if(inst.input.val()===inst.lastVal)return;var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){dates=noDefault?"":dates}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=dates?date.getDate():0;inst.currentMonth=dates?date.getMonth():0;inst.currentYear=dates?date.getFullYear():0;this._adjustInstDate(inst)},"_getDefaultDate":function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date))},"_determineDate":function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date;date.setDate(date.getDate()+offset);return date},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date,year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);for(;matches;){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=7*parseInt(matches[1],10);break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month))}matches=pattern.exec(offset)}return new Date(year,month,day)},newDate=null==date||""===date?defaultDate:"string"==typeof date?offsetString(date):"number"==typeof date?isNaN(date)?defaultDate:offsetNumeric(date):new Date(date.getTime());newDate=newDate&&"Invalid Date"===newDate.toString()?defaultDate:newDate;if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0)}return this._daylightSavingAdjust(newDate)},"_daylightSavingAdjust":function(date){if(!date)return null;date.setHours(date.getHours()>12?date.getHours()+2:0);return date},"_setDate":function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();origMonth===inst.selectedMonth&&origYear===inst.selectedYear||noChange||this._notifyChange(inst);this._adjustInstDate(inst);this._get(inst,"isTimeVisible")||inst.input.val(clear?"":this._formatDate(inst))},"_getDate":function(inst){var startDate=!inst.currentYear||inst.input&&""===inst.input.val()?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return startDate},"_attachHandlers":function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={"prev":function(){$.datepicker._adjustDate(id,-stepMonths,"M")},"next":function(){$.datepicker._adjustDate(id,+stepMonths,"M")},"hide":function(){$.datepicker._hideDatepicker()},"today":function(){$.datepicker._gotoToday(id)},"selectDay":function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return!1},"selectMonth":function(){$.datepicker._selectMonthYear(id,this,"M");return!1},"selectYear":function(){$.datepicker._selectMonthYear(id,this,"Y");return!1}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])})},"_generateHTML":function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,timeEditorHtml,tempDate=new Date,today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=1!==numMonths[0]||1!==numMonths[1],currentDateSelect=this._daylightSavingAdjust(inst.currentDay?new Date(inst.currentYear,inst.currentMonth,inst.currentDay):new Date(9999,9,9)),defaultDate=this._getDefaultDate(inst);9999==currentDateSelect.getFullYear()?currentDate=defaultDate:currentDate=currentDateSelect;minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate()));maxDraw=minDate&&maxDraw<minDate?minDate:maxDraw;for(;this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw;){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=navigationAsDateFormat?this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)):prevText;prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' onclick='DP_jQuery_"+dpuuid+'.datepicker._adjustDate("#'+inst.id+'", -'+stepMonths+", \"M\");' title='"+prevText+"'><span class='ti ti-angle-"+(isRTL?"right":"left")+"'></span></a>":hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ti ti-angle-"+(isRTL?"right":"left")+"'></span></a>";nextText=this._get(inst,"nextText");nextText=navigationAsDateFormat?this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)):nextText;next=this._canAdjustMonth(inst,1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' onclick='DP_jQuery_"+dpuuid+'.datepicker._adjustDate("#'+inst.id+'", +'+stepMonths+", \"M\");' title='"+nextText+"'><span class='ti ti-angle-"+(isRTL?"left":"right")+"'></span></a>":hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ti ti-angle-"+(isRTL?"left":"right")+"'></span></a>";currentText=this._get(inst,"currentText");gotoDate=this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today;inst.defalultstr=this._formatDate(inst,currentDate.getDate(),currentDate.getMonth(),currentDate.getFullYear());currentText=navigationAsDateFormat?this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)):currentText;controls=inst.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(inst,"closeText")+"</button>";buttonPanel=showButtonPanel?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";
firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=isNaN(firstDay)?0:firstDay;showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");html="";for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1)switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass=""}calender+="'>"}calender+="<div class='ui-datepicker-header tiny-ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+(/all|left/.test(cornerClass)&&0===row?isRTL?next:prev:"")+(/all|right/.test(cornerClass)&&0===row?isRTL?prev:next:"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='tiny-ui-datepicker-calendar'><thead><tr>";thead=showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"";for(dow=0;7>dow;dow++){day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth&&(inst.selectedDay=Math.min(inst.selectedDay,daysInMonth));leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);numRows=isMultiMonth&&this.maxRows>curRows?this.maxRows:curRows;this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;numRows>dRow;dRow++){calender+="<tr>";tbody=showWeek?"<td class='ui-datepicker-week-col'>"+this._get(inst,"calculateWeek")(printDate)+"</td>":"";for(dow=0;7>dow;dow++){daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[!0,""];otherMonth=printDate.getMonth()!==drawMonth;unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&printDate<minDate||maxDate&&printDate>maxDate;tbody+="<td class='"+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month  tiny-ui-state-disabled":"")+(printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime()?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+(otherMonth&&!showOtherMonths||!daySettings[2]?"":" title='"+daySettings[2].replace(/'/g,"&#39;")+"'")+(unselectable?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+inst.id+"',"+printDate.getMonth()+","+printDate.getFullYear()+', this);return false;"')+">"+(otherMonth&&!showOtherMonths?"&#xa0;":unselectable?"<span class='tiny-ui-state-default'>"+printDate.getDate()+"</span>":"<a class='"+(printDate.getTime()==currentDate.getTime()?this._currentClass:"tiny-ui-state-default")+(printDate.getTime()==today.getTime()?" tiny-ui-state-highlight":"")+(otherMonth?" ui-priority-secondary":"")+"' href='#' draggable='false'>"+printDate.getDate()+"</a>")+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+="</tbody></table>"+(isMultiMonth?"</div>"+(numMonths[0]>0&&col===numMonths[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender}html+=group}html+=buttonPanel;if(this._get(inst,"isTimeVisible")){timeEditorHtml=this._generateTimeEditor(inst);html+='<div class = "tiny-datetime-time"><div class="tiny-time-container"><div class="tiny-time-editor">'+timeEditorHtml+'</div><div id="time_button_up" class="tiny-time-upbtn tiny-time-updownbutt-style" onclick="DP_jQuery_'+dpuuid+".datepicker._selectTime('#"+inst.id+'\',1)"></div><div id="time_button_down" class="tiny-time-downbtn tiny-time-updownbutt-style" onclick="DP_jQuery_'+dpuuid+".datepicker._selectTime('#"+inst.id+"',0)\"></div></div>"}this._get(inst,"showClear")?html+='<div class="tiny-datetime-btn-wrapper"><button class="tiny-btn-basic tiny-btn-without-icon tiny-datetime-clear-btn"  onclick="DP_jQuery_'+dpuuid+".datepicker._clearTime('#"+inst.id+"')\">"+this._get(inst,"clearBtn")+'</button><button class="tiny-btn-basic tiny-btn-without-icon tiny-datetime-confirm-btn" onclick="DP_jQuery_'+dpuuid+".datepicker._selectTime('#"+inst.id+"',2)\">"+this._get(inst,"okBtn")+"</button></div>":this._get(inst,"isTimeVisible")&&(html+='<div class="tiny-datetime-btn-wrapper"><button class="tiny-btn-basic tiny-btn-without-icon tiny-datetime-confirm-btn" onclick="DP_jQuery_'+dpuuid+".datepicker._selectTime('#"+inst.id+"',2)\">"+this._get(inst,"okBtn")+"</button></div>");inst._keyEvent=!1;return html},"_generateTimeEditor":function(inst){var TimeFormatArray,timeEditorHtml,inputStr,timeAMPMArray,timeArray,timeArrayLength,i,currDateTime,octets=[],maxHour=23,timeAMPM=!1;inst.dateStr=this._formatDate(inst);inst.input[0].dateStr=inst.dateStr;if(this._get(inst,"ampm")){maxHour=12;timeAMPM=!0}TimeFormatArray=this._get(inst,"timeFormatArray");timeEditorHtml="";inputStr=inst.input[0].value;if(inputStr){inst.editorValue=inst.input[0].timeValue;timeAMPMArray=(inst.editorValue+""||"").split(" ");timeAMPM&&(inst.AMPM=timeAMPMArray[1]);timeArray=timeAMPMArray[0].split(":");timeArrayLength=timeArray.length;for(i=0;timeArrayLength>i;i++)switch(i){case 0:inst.HOURS=timeArray[0];break;case 1:inst.MINU=timeArray[1];break;case 2:inst.SECS=timeArray[2];break;case 3:inst.MSECS=timeArray[1]}}else if(inst.input[0].minMaxDate===inst.dateStr){currDateTime=new Date(inst.dateStr.replace(/-/g,"/")+" "+this._get(inst,"defaultTimeValue").toTimeString());if(inst.input[0].maxDateTime&&currDateTime>inst.input[0].maxDateTime){inst.HOURS=inst.input[0].MAXHOURS;inst.MINU=inst.input[0].MAXMINU;inst.SECS=inst.input[0].MAXSECS;inst.MSECS=inst.input[0].MAXMSECS;inst.AMPM=inst.input[0].MAXAMPM}if(inst.input[0].minDateTime&&currDateTime<inst.input[0].minDateTime){inst.HOURS=inst.input[0].MINHOURS;inst.MINU=inst.input[0].MINMINU;inst.SECS=inst.input[0].MINSECS;inst.MSECS=inst.input[0].MINMSECS;inst.AMPM=inst.input[0].MINAMPM}}if(2==TimeFormatArray[0].length){void 0===inst.HOURS&&(inst.HOURS=this._get(inst,"HOURS"));inst.HOURS=parseInt(inst.HOURS,10);inst.HOURS=inst.HOURS<10?"0"+inst.HOURS:inst.HOURS;octets.push('<input type="text" maxlength = "2" class="tiny-time-input" format = "HH" maxNum = "'+maxHour+'" value="'+inst.HOURS+'" onfocus = "DP_jQuery_'+dpuuid+".datepicker._timeFocusEvt('#"+inst.id+'\',event)"  onkeydown = "DP_jQuery_'+dpuuid+".datepicker._timeKeydownEvt('#"+inst.id+'\',event)" onblur = "DP_jQuery_'+dpuuid+".datepicker._timeblurEvt('#"+inst.id+"',event)\"/>")}if(1==TimeFormatArray[0].length){void 0===inst.HOURS&&(inst.HOURS=this._get(inst,"HOURS"));inst.HOURS=parseInt(inst.HOURS,10);octets.push('<input type="text" maxlength = "2" class="tiny-time-input" format = "H" maxNum = "'+maxHour+'" value="'+inst.HOURS+'"onfocus = "DP_jQuery_'+dpuuid+".datepicker._timeFocusEvt('#"+inst.id+'\',event)"  onkeydown = "DP_jQuery_'+dpuuid+".datepicker._timeKeydownEvt('#"+inst.id+'\',event)" onblur = "DP_jQuery_'+dpuuid+".datepicker._timeblurEvt('#"+inst.id+"',event)\"/>")}if(TimeFormatArray.length>=2&&2==TimeFormatArray[1].length){void 0===inst.MINU&&(inst.MINU=this._get(inst,"MINU"));inst.MINU=parseInt(inst.MINU,10);inst.MINU=inst.MINU<10?"0"+inst.MINU:inst.MINU;octets.push('<input type="text" maxlength = "2" class="tiny-time-input" format = "MM" maxNum = "59" value="'+inst.MINU+'"onfocus = "DP_jQuery_'+dpuuid+".datepicker._timeFocusEvt('#"+inst.id+'\',event)"  onkeydown = "DP_jQuery_'+dpuuid+".datepicker._timeKeydownEvt('#"+inst.id+'\',event)" onblur = "DP_jQuery_'+dpuuid+".datepicker._timeblurEvt('#"+inst.id+"',event)\"/>")}if(TimeFormatArray.length>=3&&2==TimeFormatArray[2].length){void 0===inst.SECS&&(inst.SECS=this._get(inst,"SECS"));inst.SECS=parseInt(inst.SECS,10);inst.SECS=inst.SECS<10?"0"+inst.SECS:inst.SECS;octets.push('<input type="text" maxlength = "2" class="tiny-time-input" format = "SS" maxNum = "59" value="'+inst.SECS+'"onfocus = "DP_jQuery_'+dpuuid+".datepicker._timeFocusEvt('#"+inst.id+'\',event)"  onkeydown = "DP_jQuery_'+dpuuid+".datepicker._timeKeydownEvt('#"+inst.id+'\',event)" onblur = "DP_jQuery_'+dpuuid+".datepicker._timeblurEvt('#"+inst.id+"',event)\"/>")}if(4==TimeFormatArray.length){void 0===inst.MSECS&&(inst.MSECS=this._get(inst,"MSECS"));inst.MSECS=parseInt(inst.MSECS,10);inst.MSECS=inst.MSECS<10?"00"+inst.MSECS:inst.MSECS;octets.push('<input type="text" maxlength = "3" class="tiny-time-input" format = "SSS" maxNum = "999" value="'+inst.MSECS+'"onfocus = "DP_jQuery_'+dpuuid+".datepicker._timeFocusEvt('#"+inst.id+'\',event)"  onkeydown = "DP_jQuery_'+dpuuid+".datepicker._timeKeydownEvt('#"+inst.id+'\',event)" onblur = "DP_jQuery_'+dpuuid+".datepicker._timeblurEvt('#"+inst.id+"',event)\"/>")}timeEditorHtml=octets.join(":");if(this._get(inst,"ampm")){void 0===inst.AMPM&&(inst.AMPM=this._get(inst,"AMPM"));timeEditorHtml="<div>"+timeEditorHtml+'<input type="text" class="tiny-time-input" format = "AMPM" maxNum = "PM" value="'+inst.AMPM+'"onfocus = "DP_jQuery_'+dpuuid+".datepicker._timeFocusEvt('#"+inst.id+'\',event)"  onkeydown = "DP_jQuery_'+dpuuid+".datepicker._timeKeydownEvt('#"+inst.id+'\',event)" onblur = "DP_jQuery_'+dpuuid+".datepicker._timeblurEvt('#"+inst.id+"',event)\"/></div>"}else timeEditorHtml="<div>"+timeEditorHtml+"</div>";return timeEditorHtml},"_generateMonthYearHeader":function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var monthList,addedMonths,inMinYear,inMaxYear,monthDiv,monthData,month,listItem,year,endYear,yearsDiv,yearsData,yearList,yrLi,pare1,pare2,addedStyle,addedStyleSTrack,pare3,imgDiv,image,downBtnImgDiv,styl,path,yearStr,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),html=(this._get(inst,"showMonthAfterYear"),'<div class="ui-datepicker-title" style="float:center">'),monthHtml="",yearMonthData=$("<div>");yearMonthData.css({"border":"1px solid gray","width":"170px"});addedMonths=0;if(secondary||!changeMonth)monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span>";else{inMinYear=minDate&&minDate.getFullYear()==drawYear;inMaxYear=maxDate&&maxDate.getFullYear()==drawYear;monthDiv=$("<div>");monthData='<input type="text" readonly="readonly" value="'+monthNames[drawMonth]+'" style="width:30px; outline:none; border:1px solid #ffffff;" class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+inst.id+"', this, 'M');\" >";monthDiv[0].innerHTML=monthData;monthList=$('<div class="tiny_Date_Select_Month">');for(month=0;12>month;month++)if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){addedMonths++;listItem=$('<li value="'+month+'">'+monthNamesShort[month]+" "+this._get(inst,"monthSuffix")+"</li>");monthList.append(listItem)}}if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear)html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";else{year=1970;endYear=2099;year=minDate?Math.max(year,minDate.getFullYear()):year;endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear;inst.minYear=year;inst.maxYear=endYear;yearsDiv=$("<div>");yearsData='<input type="text" readonly="readonly" value="'+drawYear+'" style="text-align:right; border:1px solid #ffffff; width:40px; outline:none;" class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+inst.id+"', this, 'Y');\" >";yearsDiv[0].innerHTML=yearsData;yearList=$('<div class="tiny_Date_Select_Year" >');for(year=year;endYear>=year;year++){yrLi=$('<li value="'+year+'">'+year+" "+this._get(inst,"yearSuffix")+"</li>");yearList.append(yrLi)}pare1=$('<div id="DP_jQuery_'+dpuuid+'dv_scroll3" class="tiny-datetime_date_sel_box_scroll">');pare2=$('<div class="Scroller-Container" style=" top: 0px; position:absolute;">');addedStyle="",addedStyleSTrack="";if(12===addedMonths){addedStyle=' style="height:250px"';addedStyleSTrack=' style="height:240px"'}pare3=$('<div id="DP_jQuery_'+dpuuid+'dv_scroll_bar3" class="tiny-datetime-scroll-bar3" '+addedStyle+'><div id="dv_scroll_track" '+addedStyleSTrack+'><div class="tiny-datetime-scroll-handle" onmousedown = "DP_jQuery_'+dpuuid+".datepicker._start('#"+inst.id+'\',event)" style="top: 0px; "></div></div></div>');pare1.append(pare2);pare1.append(pare3);pare2.append(yearList);yearMonthData.append(pare1);yearMonthData.append(monthList);html+=yearsDiv[0].innerHTML}}imgDiv=$("<div>");image=document.createElement("span");image.id="img"+inst.id;image.className="downbtn";downBtnImgDiv=$("<div>");downBtnImgDiv[0].className="tiny_widgets_charts_downbuttonbright_image";document.body.appendChild(downBtnImgDiv[0]);styl=downBtnImgDiv[0].currentStyle||window.getComputedStyle(downBtnImgDiv[0],null);path=styl.backgroundImage.substring(4,styl.backgroundImage.length-1);path=path.split('"');path.length>1&&(path=path[1]);downBtnImgDiv.remove();$(image).css("float","center");imgDiv.append(image);yearStr=this._get(inst,"yearSuffix");html+=""===yearStr?"&nbsp":'<input type="text" readonly="readonly" value="'+yearStr+'" class = "ui-datepicker-year-name" style="text-align:right; border:1px solid #ffffff; width:12px;">';html+=(!secondary&&changeMonth&&changeYear?"":"&#xa0;")+monthDiv[0].innerHTML;inst.yearMonthData=yearMonthData[0].innerHTML;html+=imgDiv[0].innerHTML;html+="</div>";return html},"_start":function(id,event){var target=$(id),sliderThis=this,inst=sliderThis._getInst(target[0]);if(!inst.enableMove)return;inst.isMove=!0;if(event.target){inst.sliderElement=$(event.target);inst.mouseStartY=event.pageY}else{inst.sliderElement=$(event.srcElement);inst.mouseStartY=event.clientY}inst.sliderStartY=inst.sliderElement.position().top;sliderThis._eventPrevent(event);sliderThis._eventStop(event);$(document).off("mousemove").on("mousemove",function(e){inst.isMove&&sliderThis._drag(inst,e)})},"_drag":function(inst,event){var sliderTop,overviewTop;inst.overview||(inst.overview=inst.dpDiv.find("#DP_jQuery_"+dpuuid+"dv_scroll3").find(".Scroller-Container"));sliderTop=Math.min(Math.max(0,event.pageY-inst.mouseStartY+inst.sliderStartY),inst.maxSize);overviewTop=-sliderTop*inst.ratio;inst.sliderElement.css("top",sliderTop+"px");inst.overview.css("top",overviewTop);inst.sliderTop=sliderTop;inst.overviewTop=overviewTop;$(document).off("mouseup").on("mouseup",function(e){inst.isMove=!1})},"_adjustInstDate":function(inst,offset,period){var year=inst.drawYear+("Y"===period?offset:0),month=inst.drawMonth+("M"===period?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+("D"===period?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();("M"===period||"Y"===period)&&this._notifyChange(inst)},"_restrictMinMax":function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=minDate&&minDate>date?minDate:date;return maxDate&&newDate>maxDate?maxDate:newDate},"_notifyChange":function(inst){var onChange=this._get(inst,"onChangeMonthYear");onChange&&onChange.apply(inst.input?inst.input[0]:null,[inst.selectedYear,inst.selectedMonth+1,inst])},"_getNumberOfMonths":function(inst){var numMonths=this._get(inst,"numberOfMonths");return null==numMonths?[1,1]:"number"==typeof numMonths?[1,numMonths]:numMonths},"_getMinMaxDate":function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},"_getDaysInMonth":function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},"_getFirstDayOfMonth":function(year,month){return new Date(year,month,1).getDay()},"_canAdjustMonth":function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(0>offset?offset:numMonths[0]*numMonths[1]),1));0>offset&&date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));return this._isInRange(inst,date)},"_isInRange":function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=(new Date).getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);yearSplit[0].match(/[+\-].*/)&&(minYear+=currentYear);yearSplit[1].match(/[+\-].*/)&&(maxYear+=currentYear)}return(!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear)},"_getFormatConfig":function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10);return{"shortYearCutoff":shortYearCutoff,"dayNamesShort":this._get(inst,"dayNamesShort"),"dayNames":this._get(inst,"dayNames"),"monthNamesShort":this._get(inst,"monthNamesShort"),"monthNames":this._get(inst,"monthNames")}},"_formatDate":function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=day?"object"==typeof day?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}});$.fn.datepicker=function(options){if(!this.length)return this;if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick);$.datepicker.initialized=!0}if(0===$("#"+$.datepicker._mainDivId).length){$.datepicker.dpDiv=bindHover($("<div id='"+$.datepicker._mainDivId+"' class='tiny-ui-widget-content tiny-ui-datepicker tiny-ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));$("body").append($.datepicker.dpDiv)}$.datepicker.dpDiv.bind("mousedown click",function(evt){eventStop(evt)});var otherArgs=Array.prototype.slice.call(arguments,1);if("string"==typeof options&&("isDisabled"===options||"getDate"===options||"widget"===options))return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));if("option"===options&&2===arguments.length&&"string"==typeof arguments[1])return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));if("option"===options&&2===arguments.length&&"string"==typeof arguments[1])return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));return this.each(function(){"string"==typeof options?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker;$.datepicker.initialized=!1;$.datepicker.uuid=(new Date).getTime();$.datepicker.version="1.10.3";window["DP_jQuery_"+dpuuid]=$})(jQuery);define("tiny-lib/jquery-ui-datepicker",["tiny-lib/jquery"],function(){});define("tiny-widgets/DateTime",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/jquery-ui-datepicker","tiny-widgets/Widget","tiny-widgets/Tip"],function(angular,jQuery,$ui,Widget,Tip){var widgetsLanguage=tinyLanguage.language,CONSTANT_VALUES={"BORDER_WIDTH":1,"PADDING_LEFT":8,"CALENDER_IMAGE_WIDTH":22,"UP_DOWN_BTN_WIDTH":15,"UP_DOWN_TRIANGLE_HEIGHT":5},DEFAULT_CONFIG={"ampm":!1,"showClear":!0,"timeFormat":"hh:mm","dateFormat":widgetsLanguage.regional.dateFormat,"type":"datetime","template":'<div class="tiny-datetime-enableclass"><input type="text" class="tiny-datetime-input" readonly="true"/></div>'},DateTimeChooser=Widget.extend({"init":function(options){var DTChooserThis=this;options=_.extend({},DEFAULT_CONFIG,options);DTChooserThis._super(options);DTChooserThis._updateType(options.type);"time"===options.type&&(options=_.extend({},options,{"defaultTime":new Date}));DTChooserThis._setOptions(options);"datetime"===options.type&&DTChooserThis._dateTimeBehavior();"time"===options.type&&DTChooserThis._timeBehavior();"date"===options.type&&DTChooserThis._dateBehavior();$("#"+options.id).append(DTChooserThis._element)},"_setOption":function(key,value){var DTChooserThis=this;DTChooserThis._super(key,value);switch(key){case"defaultDate":DTChooserThis._updateDate(value);break;case"defaultTime":DTChooserThis._updateTime(value);break;case"minDate":DTChooserThis._updateMinDateTime(value);break;case"maxDate":DTChooserThis._updateMaxDateTime(value);break;case"disable":DTChooserThis._updateDisable(value);break;case"width":DTChooserThis._updateWidth(value);break;case"height":DTChooserThis._updateHeight(value)}},"_updateWidth":function(width){var DTChooserThis=this,options=DTChooserThis.options;"time"==options.type?DTChooserThis._setTimeWidth(width):DTChooserThis._setDateTimeWidth(width)},"_updateHeight":function(height){var containerHeight,trianglePosition,contentHeight,DTChooserThis=this,options=DTChooserThis.options;height=parseInt(height,10);if(isNaN(height))return;containerHeight=height-2*CONSTANT_VALUES.BORDER_WIDTH+"px";if("time"===options.type){DTChooserThis._element.css("height",containerHeight);trianglePosition=height/4-CONSTANT_VALUES.UP_DOWN_TRIANGLE_HEIGHT/2;DTChooserThis._element.find(".tiny-timet-up-arrow").css("top",trianglePosition);DTChooserThis._element.find(".tiny-timet-down-arrow").css("bottom",trianglePosition)}else{DTChooserThis._element.css({"height":containerHeight,"line-height":containerHeight});contentHeight=height-CONSTANT_VALUES.BORDER_WIDTH+"px";DTChooserThis._element.find(".tiny-datetime-input").css({"height":contentHeight,"line-height":contentHeight})}},"_getDateConfig":function(){var DTChooserThis=this,options=DTChooserThis.options,dateOptions={"buttonImageOnly":!0,"changeMonth":!0,"changeYear":!0,"dateFormat":options.dateFormat,"ampm":options.ampm,"showAnim":"show","showOtherMonths":!0,"selectOtherMonths":!1,"isTimeVisible":!1,"showStyle":options.showStyle,"showOn":"both","showClear":options.showClear,"onClose":function(date){DTChooserThis._element.trigger("onClose",[date])},"okBtn":widgetsLanguage.regional.okBtn,"clearBtn":widgetsLanguage.regional.clearBtn,"closeText":widgetsLanguage.regional.closeText,"prevText":widgetsLanguage.regional.prevText,"nextText":widgetsLanguage.regional.nextText,"currentText":widgetsLanguage.regional.currentText,"monthNames":widgetsLanguage.regional.monthNames,"monthNamesShort":widgetsLanguage.regional.monthNamesShort,"dayNames":widgetsLanguage.regional.dayNames,"dayNamesShort":widgetsLanguage.regional.dayNamesShort,"dayNamesMin":widgetsLanguage.regional.dayNamesMin,"weekHeader":widgetsLanguage.regional.weekHeader,"firstDay":void 0===options.firstDay?widgetsLanguage.regional.firstDay:options.firstDay,"isRTL":widgetsLanguage.regional.isRTL,"showMonthAfterYear":widgetsLanguage.regional.showMonthAfterYear,"yearSuffix":widgetsLanguage.regional.yearSuffix,"monthSuffix":widgetsLanguage.regional.monthSuffix};return dateOptions},"_getTimeConfig":function(){var DTChooserThis=this,options=DTChooserThis.options,editorTimeValue=DTChooserThis._setDefaultTime(options.defaultTime),timeOptions={"isTimeVisible":!0,"timeFormatArray":options.timeFormat.split(":"),"HOURS":DTChooserThis.HOURS,"MINU":DTChooserThis.MINU,"SECS":DTChooserThis.SECS,"MSECS":DTChooserThis.MSECS,"AMPM":DTChooserThis.AMPM,"defaultTimeValue":editorTimeValue,"onSelectTimeUp":function(inputElement){DTChooserThis.focusInput=$(inputElement);DTChooserThis._changeValue("UP")},"onSelectTimeDown":function(inputElement){DTChooserThis.focusInput=$(inputElement);DTChooserThis._changeValue("DOWN")},"onDateTimeRestict":function(){DTChooserThis._dateTimeRestict()}};return timeOptions},"_dateTimeRestict":function(){var DTChooserThis=this,options=DTChooserThis.options;options.maxDate&&DTChooserThis._setMaxDateTime(options.maxDate);options.minDate&&DTChooserThis._setMinDateTime(options.minDate)},"_updateType":function(type){var datepickerConfig,dateTimeConfig,DTChooserThis=this,options=DTChooserThis.options,width=parseInt(options.width,10);isNaN(width)&&(width=void 0);if("date"==type){DTChooserThis.$selectedInput=DTChooserThis._element.find("input");DTChooserThis._element.on("onClose",function(event,date){"function"==typeof options.onClose&&options.onClose(date)});datepickerConfig=DTChooserThis._getDateConfig();DTChooserThis.$selectedInput.datepicker(datepickerConfig);DTChooserThis._setDateTimeWidth(width||110)}if("time"==type){DTChooserThis._timeHtmlFactory();DTChooserThis._element.widget(DTChooserThis);DTChooserThis.$selectedInput=DTChooserThis._element.find("input");DTChooserThis._setTimeWidth(width||118)}if("datetime"==type){DTChooserThis.$selectedInput=DTChooserThis._element.find("input");dateTimeConfig=$.extend({},DTChooserThis._getDateConfig(),DTChooserThis._getTimeConfig());DTChooserThis.$selectedInput.datepicker(dateTimeConfig);DTChooserThis.pickerWidget=DTChooserThis._element.find("input").datepicker("widget");DTChooserThis._setDateTimeWidth(width||175)}},"empty":function(){var DTChooserThis=this,options=DTChooserThis.options;"time"!==options.type&&DTChooserThis.$selectedInput.val("")},"_updateMinDateTime":function(value){var DTChooserThis=this,type=DTChooserThis.options.type;"datetime"===type&&DTChooserThis.setMinDateTime(value);"date"===type&&DTChooserThis.setMinDate(value);"time"===type&&DTChooserThis.setMinTime(value)},"_updateMaxDateTime":function(value){var DTChooserThis=this,type=DTChooserThis.options.type;"datetime"===type&&DTChooserThis.setMaxDateTime(value);"date"===type&&DTChooserThis.setMaxDate(value);"time"===type&&DTChooserThis.setMaxTime(value)},"_getMaxParseTime":function(){this.$selectedInput[0].MAXHOURS=this.HOURS;this.$selectedInput[0].MAXMINU=this.MINU;this.$selectedInput[0].MAXSECS=this.SECS;this.$selectedInput[0].MAXMSECS=this.MSECS;this.$selectedInput[0].MAXAMPM=this.AMPM},"_getMinParseTime":function(){this.$selectedInput[0].MINHOURS=this.HOURS;this.$selectedInput[0].MINMINU=this.MINU;this.$selectedInput[0].MINSECS=this.SECS;this.$selectedInput[0].MINMSECS=this.MSECS;this.$selectedInput[0].MINAMPM=this.AMPM},"setMaxDateTime":function(maxDateTime){this.$selectedInput.datepicker("option","maxDate",maxDateTime);maxDateTime=maxDateTime.replace(/-/g,"/");var dateObj=new Date(maxDateTime);this.$selectedInput[0].minMaxDate=$.datepicker.formatDate(this.options.dateFormat,dateObj);this.$selectedInput[0].maxDateTime=dateObj;this._parseTimeValue(maxDateTime);this._getMaxParseTime();this._setMaxDateTime(maxDateTime)},"_setMaxDateTime":function(maxDateTime){var DTChooserThis=this;maxDateTime=maxDateTime.replace(/-/g,"/");DTChooserThis.options.maxDateTime=maxDateTime;DTChooserThis.$selectedInput[0].timeSetting=!1;if(Date.parse(DTChooserThis.$selectedInput.val().replace(/-/g,"/"))>Date.parse(maxDateTime)){DTChooserThis._updateTime(maxDateTime);DTChooserThis.$selectedInput[0].timeSetting=!0}},"setMinDateTime":function(minDateTime){this.$selectedInput.datepicker("option","minDate",minDateTime);minDateTime=minDateTime.replace(/-/g,"/");var dateObj=new Date(minDateTime);this.$selectedInput[0].minMaxDate=$.datepicker.formatDate(this.options.dateFormat,dateObj);this.$selectedInput[0].minDateTime=dateObj;this._parseTimeValue(minDateTime);this._getMinParseTime();this._setMinDateTime(minDateTime)},"_setMinDateTime":function(minDateTime){var DTChooserThis=this;minDateTime=minDateTime.replace(/-/g,"/");DTChooserThis.options.minDate=minDateTime;DTChooserThis.$selectedInput[0].timeSetting=!1;if(Date.parse(DTChooserThis.$selectedInput.val().replace(/-/g,"/"))<Date.parse(minDateTime)){DTChooserThis._updateTime(minDateTime);DTChooserThis.$selectedInput[0].timeSetting=!0}},"setMaxTime":function(maxTime){this.options.maxDate=maxTime;this._checkMaxTime(this.editorValue,maxTime)&&this._updateTime(maxTime)},"setMinTime":function(minTime){this.options.minDate=minTime;this._checkMinTime(this.editorValue,minTime)&&this._updateTime(minTime)},"_checkMaxTime":function(currTime,maxTime){var dateStr="2014/03/26",currDateTime=dateStr+" "+currTime,maxDateTime=dateStr+" "+maxTime;if(Date.parse(currDateTime)>=Date.parse(maxDateTime))return!0},"_checkMinTime":function(currTime,minTime){var dateStr="2014/03/26",currDateTime=dateStr+" "+currTime,minDateTime=dateStr+" "+minTime;if(Date.parse(currDateTime)<Date.parse(minDateTime))return!0},"setMaxDate":function(maxDate){this.$selectedInput.datepicker("option","maxDate",maxDate)},"setMinDate":function(minDate){this.$selectedInput.datepicker("option","minDate",minDate)},"_updateDisable":function(disable){var DTChooserThis=this;if("true"===String(disable)){DTChooserThis.$selectedInput.attr("disabled",!0);DTChooserThis._element.addClass("tiny-datetime-container-disable");DTChooserThis.options.disable=!0;DTChooserThis.$selectedInput[0].disable=!0;"time"==DTChooserThis.options.type&&DTChooserThis._element.find(".tiny-timet-editor input").prop("disabled",!0)}else{DTChooserThis.$selectedInput.attr("disabled",!1);DTChooserThis._element.removeClass("tiny-datetime-container-disable");DTChooserThis.options.disable=!1;DTChooserThis.$selectedInput[0].disable=!1;"time"==DTChooserThis.options.type&&DTChooserThis._element.find(".tiny-timet-editor input").prop("disabled",!1)}},"_updateDate":function(dateValue){var date,time,DTChooserThis=this,options=DTChooserThis.options;"date"===options.type&&DTChooserThis._setDate(dateValue);if("datetime"===options.type){date=DTChooserThis._getDefaultDate(dateValue);DTChooserThis.$selectedInput[0].dateStr=date;if(void 0===DTChooserThis.editorValue){DTChooserThis._setDefaultTime(options.defaultTime);time=DTChooserThis._setInputsTime();DTChooserThis.editorValue=time;DTChooserThis.$selectedInput[0].timeValue=time}else time=DTChooserThis.editorValue;DTChooserThis.$selectedInput.val(date+" "+time)}},"_updateTime":function(timeValue){var date,time,DTChooserThis=this,options=DTChooserThis.options;"time"===options.type&&DTChooserThis._setTime(timeValue);if("datetime"===options.type){date=DTChooserThis.$selectedInput[0].dateStr||$.datepicker.formatDate(options.dateFormat,DTChooserThis.defaultDate||new Date);DTChooserThis._setDefaultTime(timeValue);time=DTChooserThis._setInputsTime(timeValue);DTChooserThis.editorValue=time;DTChooserThis.$selectedInput[0].timeValue=time;DTChooserThis.$selectedInput.val(date+" "+time)}},"_dateBehavior":function(){var DTChooserThis=this;DTChooserThis._element.on("$destroy",function(){DTChooserThis.destroy()})},"_setDate":function(value){var DTChooserThis=this,date=DTChooserThis._getDefaultDate(value);DTChooserThis.$selectedInput.val(date)},"_setTime":function(value){var $timeEditor,DTChooserThis=this;DTChooserThis._setTimeValue(value);$timeEditor=DTChooserThis._element.find(".tiny-timet-editor");$timeEditor.children().remove();$timeEditor.prepend(DTChooserThis.octet_html)},"_setDateTimeWidth":function(value){var containerWidth,DTChooserThis=this,width=parseInt(value,10);if(isNaN(width))return;containerWidth=width-2*CONSTANT_VALUES.BORDER_WIDTH;DTChooserThis._element.css("width",containerWidth);DTChooserThis._element.find(".tiny-datetime-input").css("width",containerWidth-CONSTANT_VALUES.PADDING_LEFT-CONSTANT_VALUES.CALENDER_IMAGE_WIDTH);
},"_setTimeWidth":function(width){var containerWidth,DTChooserThis=this;width=parseInt(width,10);if(isNaN(width))return;containerWidth=width-2*CONSTANT_VALUES.BORDER_WIDTH;DTChooserThis._element.css("width",containerWidth);DTChooserThis._element.find(".tiny-timet-editor").css("width",containerWidth-CONSTANT_VALUES.PADDING_LEFT-CONSTANT_VALUES.UP_DOWN_BTN_WIDTH)},"_timeHtmlFactory":function(){var DTChooserThis=this,elementContent=$('<div class="tiny-timet-container"><input type="text" class="tiny-datetime-input" style="display:none;"/><div class="tiny-timet-editor"></div><div class="tiny_timet_btn"><div id="time_button_up" class="tiny-timet-upbtn"><div class="tiny-timet-up-arrow"></div></div><div id="time_button_down" class="tiny-timet-downbtn"><div class="tiny-timet-down-arrow"></div></div></div></div>');DTChooserThis._element=elementContent},"_dateTimeBehavior":function(){var DTChooserThis=this,options=DTChooserThis.options;DTChooserThis._element.on("onClose",function(event,date){"function"==typeof options.onClose&&options.onClose(date)});DTChooserThis._element.on("$destroy",function(){DTChooserThis.destroy()})},"_eventPrevent":function(evt){evt.preventDefault?evt.preventDefault():evt.returnValue=!1},"_eventStop":function(evt){evt.stopPropagation?evt.stopPropagation():evt.cancelBubble=!0},"_timeBehavior":function(){var DTChooserThis=this,options=DTChooserThis.options;DTChooserThis._element.on("focus",".tiny-time-input",function(evt){DTChooserThis.focusInput=$(this)});DTChooserThis._element.on("keydown",".tiny-time-input",function(evt){var inputLength,format,maxLength,sel;if(!DTChooserThis._isValidKey(evt)){this.value=this.value.replace(/\D/g,"");DTChooserThis._eventPrevent(evt)}if(evt.keyCode>=48&&evt.keyCode<=57||evt.keyCode>=96&&evt.keyCode<=105){inputLength=$(this).val().length;format=$(this).attr("format");maxLength=2;if(document.selection){sel=document.selection.createRange();if(sel.text.length>0)return}if($(this)[0].selectionEnd!==$(this)[0].selectionStart)return;"SSS"===format&&(maxLength=3);maxLength===inputLength&&DTChooserThis._eventPrevent(evt)}if(38==evt.keyCode){DTChooserThis._eventPrevent(evt);DTChooserThis._eventStop(evt);DTChooserThis._changeValue("UP");DTChooserThis.lastInputTime=DTChooserThis.editorValue;DTChooserThis.focusInput.select()}if(40==evt.keyCode){DTChooserThis._eventPrevent(evt);DTChooserThis._eventStop(evt);DTChooserThis._changeValue("DOWN");DTChooserThis.lastInputTime=DTChooserThis.editorValue;DTChooserThis.focusInput.select()}if(9==evt.keyCode){DTChooserThis._eventPrevent(evt);DTChooserThis._eventStop(evt);DTChooserThis._tabRange();DTChooserThis.focusInput.select()}});DTChooserThis._element.on("blur",".tiny-time-input",function(evt){var inputNum,value,format=$(this).attr("format"),maxNum=$(this).attr("maxNum");if("PM"!==maxNum){inputNum=parseInt($(this).val(),10);maxNum=parseInt($(this).attr("maxNum"),10);isNaN(inputNum)||inputNum>maxNum?inputNum=maxNum:12===maxNum&&0===inputNum&&(inputNum=1)}value=DTChooserThis._formatTime(format,inputNum+"");$(this).val(value);DTChooserThis.editorValue=DTChooserThis._conformTime()});DTChooserThis._element.on("click","#time_button_down",function(){if("true"===String(options.disable))return;DTChooserThis._changeValue("DOWN");DTChooserThis.lastInputTime=DTChooserThis.editorValue;DTChooserThis.focusInput.select()});DTChooserThis._element.on("click","#time_button_up",function(){if("true"===String(options.disable))return;DTChooserThis._changeValue("UP");DTChooserThis.lastInputTime=DTChooserThis.editorValue;DTChooserThis.focusInput.select()})},"_isValidKey":function(e){var i,c,valid=[8,9,13,27,35,36,37,39,46,38,40,48,96,49,97,50,98,51,99,52,100,53,101,54,102,55,103,56,104,57,105];for(i=0;c=valid[i];i++)if(e.keyCode==c)return!0;return!1},"_setTimeValue":function(value){var DTChooserThis=this;DTChooserThis._setDefaultTime(value);value=DTChooserThis._setInputsTime();DTChooserThis.editorValue=value;DTChooserThis.$selectedInput[0].timeValue=value;DTChooserThis.$selectedInput.val(value);DTChooserThis.lastInputTime=DTChooserThis.editorValue},"_getDefaultDate":function(value){var date,DTChooserThis=this,options=DTChooserThis.options,defaultDate=value||new Date;DTChooserThis._setDefaultDate(defaultDate);DTChooserThis.defaultDate||(DTChooserThis.defaultDate=new Date);date=$.datepicker.formatDate(options.dateFormat,DTChooserThis.defaultDate);DTChooserThis.date=date;return date},"_validateDT":function(isInputField){var msg,isValid,DTChooserThis=this,options=DTChooserThis.options,datetimeRegExp=null;if(isInputField){"datetime"==options.type&&(datetimeRegExp=DTChooserThis._getDateRegExp()+"[\\s]"+DTChooserThis._getTimeRegExp());"date"==options.type&&(datetimeRegExp=DTChooserThis._getDateRegExp());"time"==options.type&&(datetimeRegExp=DTChooserThis._getTimeRegExp())}else datetimeRegExp="^"+DTChooserThis._getTimeRegExp();datetimeRegExp=new RegExp(datetimeRegExp);msg="";options.ampm&&(msg+=" AM/PM");isValid=DTChooserThis._validate(datetimeRegExp,msg,isInputField);return isValid},"_getDateRegExp":function(){var i,DTChooserThis=this,options=DTChooserThis.options,exp="^",dformat=options.dateFormat,seprator=dformat.toLowerCase().match(/[^a-z]/)[0],dformatsplit=dformat.split(seprator);for(i=0;3>i;i++){"yyyy"==dformatsplit[i]&&(exp+="(19|20)\\d\\d["+seprator+"]");"yy"==dformatsplit[i]&&(exp+="(19|20)\\d\\d["+seprator+"]");"mm"==dformatsplit[i]&&(exp+="(0[1-9]|1[012])["+seprator+"]");"m"==dformatsplit[i]&&(exp+="([1-9]|1[012])["+seprator+"]");"dd"==dformatsplit[i]&&(exp+="(0[1-9]|[12][0-9]|3[01])["+seprator+"]");"d"==dformatsplit[i]&&(exp+="([1-9]|[12][0-9]|3[01])["+seprator+"]")}exp=exp.substring(0,exp.length-3);return exp},"_getTimeRegExp":function(){var exp,DTChooserThis=this,options=DTChooserThis.options,tformat=options.timeFormat,tformatsplit=tformat.split(":");exp="hh"==tformatsplit[0]?options.ampm?"([0][1-9]|[1][012])[:]":"([0-1]\\d|[2][0-3])[:]":options.ampm?"([1-9]|[1][12])[:]":"(\\d|[1]\\d|[2][0-3])[:]";exp+="mm"==tformatsplit[1]?"([0-5]\\d)":"(\\d|[1-5]\\d)";tformatsplit.length>=3&&(exp+="ss"==tformatsplit[2]?"[:]([0-5]\\d)":"[:](\\d|[1-5]\\d)");4==tformatsplit.length&&"l"==tformatsplit[3]&&(exp+="[:]([0-9][0-9][0-9])");exp+=options.ampm?"[\\s](AM|PM)$":"$";return exp},"getDateTime":function(){var dateTime,DTChooserThis=this;dateTime="time"===DTChooserThis.options.type?DTChooserThis.editorValue:DTChooserThis.$selectedInput.val();return dateTime},"_setDefaultDate":function(defaultDate){var defaultDateArray,DTChooserThis=this,options=DTChooserThis.options;if(defaultDate instanceof Date){DTChooserThis.defaultDate=defaultDate;return}if("time"==options.type)return;defaultDateArray=defaultDate.toString().split(" ");try{DTChooserThis.defaultDate=$.datepicker.parseDate(options.dateFormat,defaultDateArray[0])}catch(e){}},"_setDefaultTime":function(value){var DTChooserThis=this,defaultDateTime=DTChooserThis._getDefaultTime(value);DTChooserThis._parseTimeValue(defaultDateTime);return defaultDateTime},"_getDefaultTime":function(time){var defaultTime;if(void 0===time)defaultTime=new Date;else{defaultTime=new Date(time);if("Invalid Date"==defaultTime){1==time.split(":").length&&(time+=":00");defaultTime=new Date("2014/03/26 "+time)}}return defaultTime},"_formatTime":function(format,inputNum){var value;value="AMPM"===format?"AM"!==inputNum&&"PM"!==inputNum?"AM":inputNum:"H"===format?inputNum:"SSS"===format?inputNum.length<2?"00"+inputNum:inputNum.length<3?"0"+inputNum:inputNum:inputNum.length<2?"0"+inputNum:inputNum;return value},"_parseTimeValue":function(dateTimeValue){var hour,minutes,seconds,milliSeconds,isAmpm,dd,DTChooserThis=this;dateTimeValue=new Date(dateTimeValue);hour=dateTimeValue.getHours(),minutes=dateTimeValue.getMinutes(),seconds=dateTimeValue.getSeconds(),milliSeconds=dateTimeValue.getMilliseconds(),isAmpm=DTChooserThis.options.ampm;if(isAmpm){dd="AM";if(hour>12){hour-=12;dd="PM"}12==hour&&(dd="PM");0==hour&&(hour=12)}DTChooserThis.HOURS=parseInt(hour,10);DTChooserThis.MINU=parseInt(minutes,10);DTChooserThis.SECS=parseInt(seconds,10);DTChooserThis.MSECS=parseInt(milliSeconds,10);DTChooserThis.AMPM=dd},"_parseTime":function(date){var dh,dmin,dsec,dms,isAmpm=!1,ddt=date.split(" "),dateseprator="";ddtlength=ddt.length;if(3===ddtlength){isAmpm=!0;dateseprator=ddt[1]}else if(2==ddtlength)if("AM"==ddt[1].toUpperCase()||"PM"==ddt[1].toUpperCase()){isAmpm=!0;dateseprator=ddt[0]}else dateseprator=ddt[1];else dateseprator=ddt[0];dt=dateseprator.split(":");dh="undefined"==typeof dt[0]?0:dt[0];dmin="undefined"==typeof dt[1]?0:dt[1];dsec="undefined"==typeof dt[2]?0:dt[2];dms="undefined"==typeof dt[3]?0:dt[3];return isAmpm?dh+":"+dmin+":"+dsec+":"+dms+" "+ddt[ddtlength-1]:dh+":"+dmin+":"+dsec+":"+dms},"_setInputsTime":function(){var value,DTChooserThis=this,options=DTChooserThis.options,TimeFormatArray=options.timeFormat.split(":"),octets=[],maxHour=23;DTChooserThis.timeInputLength=TimeFormatArray.length;if(options.ampm){maxHour=12;DTChooserThis.timeInputLength+=1}if(2==TimeFormatArray[0].length){DTChooserThis.HOURS=DTChooserThis.HOURS<10?"0"+DTChooserThis.HOURS:DTChooserThis.HOURS;octets.push('<input type="text" class="tiny-time-input" format = "HH" maxNum = "'+maxHour+'" value="'+DTChooserThis.HOURS+'" maxlength = "2"/>')}1==TimeFormatArray[0].length&&octets.push('<input type="text" class="tiny-time-input" format = "H" maxNum = "'+maxHour+'" value="'+DTChooserThis.HOURS+'" maxlength = "2"/>');if(TimeFormatArray.length>=2&&2==TimeFormatArray[1].length){DTChooserThis.MINU=DTChooserThis.MINU<10?"0"+DTChooserThis.MINU:DTChooserThis.MINU;octets.push('<input type="text" class="tiny-time-input" format = "MM" maxNum = "59" value="'+DTChooserThis.MINU+'" maxlength = "2"/>')}if(TimeFormatArray.length>=3&&2==TimeFormatArray[2].length){DTChooserThis.SECS=DTChooserThis.SECS<10?"0"+DTChooserThis.SECS:DTChooserThis.SECS;octets.push('<input type="text" class="tiny-time-input" format = "SS" maxNum = "59" value="'+DTChooserThis.SECS+'" maxlength = "2"/>')}if(4==TimeFormatArray.length){DTChooserThis.MSECS=DTChooserThis.MSECS.length<2?"00"+DTChooserThis.MSECS:DTChooserThis.MSECS.length<3?"0"+DTChooserThis.MSECS:DTChooserThis.MSECS;octets.push('<input type="text" class="tiny-time-input" format = "SSS" maxNum = "999" value="'+DTChooserThis.SECS+'" maxlength = "3"/>')}DTChooserThis.octet_html=octets.join(":");switch(TimeFormatArray.length){case 1:value=DTChooserThis.HOURS;break;case 2:value=DTChooserThis.HOURS+":"+DTChooserThis.MINU;break;case 4:value=DTChooserThis.HOURS+":"+DTChooserThis.MINU+":"+DTChooserThis.SECS+":"+DTChooserThis.MSECS;break;default:value=DTChooserThis.HOURS+":"+DTChooserThis.MINU+":"+DTChooserThis.SECS}if("true"===String(options.ampm)){value+=" "+DTChooserThis.AMPM;DTChooserThis.octet_html+='<input type="text" class="tiny-time-input" format = "AMPM" maxNum = "PM" value="'+DTChooserThis.AMPM+'" />'}DTChooserThis.octet_html='<div class="tiny-timet-inputs">'+DTChooserThis.octet_html+"</div>";DTChooserThis.editorValue=value;return value},"_tabRange":function(){var i,DTChooserThis=this,inputsNum=(DTChooserThis.options,DTChooserThis.timeInputLength);DTChooserThis.inputsDiv=DTChooserThis._element.find(".tiny-timet-editor input");DTChooserThis.focusInput||(DTChooserThis.focusInput=$(DTChooserThis.inputsDiv[0]));for(i=0;inputsNum>i&&DTChooserThis.focusInput.attr("format")!==$(DTChooserThis.inputsDiv[i]).attr("format");i++);inputsNum-1==i?DTChooserThis._element.find("input.tiny-time-input").first().focus():DTChooserThis.focusInput.next().focus()},"_changeValue":function(method){var num,maxNum,minNum,format,value,formatValue,DTChooserThis=this,options=DTChooserThis.options;if(!DTChooserThis.focusInput){DTChooserThis.inputsDiv=DTChooserThis._element.find(".tiny-timet-editor input");DTChooserThis.focusInput=$(DTChooserThis.inputsDiv[0])}num=DTChooserThis.focusInput.val(),maxNum=DTChooserThis.focusInput.attr("maxnum"),minNum=0,format=DTChooserThis.focusInput.attr("format");if("PM"==maxNum)minNum="AM";else{num=parseInt(num,10);maxNum=parseInt(maxNum,10)}12==maxNum&&(minNum=1);value=DTChooserThis._getNum(num,maxNum,minNum,method);formatValue=DTChooserThis._formatTime(format,value+"");DTChooserThis.focusInput.val(formatValue);"time"==options.type&&DTChooserThis._timeRestrict()},"_timeRestrict":function(){var DTChooserThis=this,options=DTChooserThis.options,timeValue=DTChooserThis._conformTime();options.maxDate&&DTChooserThis._checkMaxTime(timeValue,options.maxDate)&&DTChooserThis._updateTime(options.maxDate);options.minDate&&DTChooserThis._checkMinTime(timeValue,options.minDate)&&DTChooserThis._updateTime(options.minDate);DTChooserThis.editorValue=timeValue},"_conformTime":function(){var i,timeValue,DTChooserThis=this,inputValues=[],options=DTChooserThis.options,num=DTChooserThis.timeInputLength;DTChooserThis.inputsDiv=DTChooserThis._element.find(".tiny-timet-editor input");options.ampm&&(num-=1);for(i=0;num>i;i++)inputValues.push(DTChooserThis.inputsDiv[i].value);timeValue=inputValues.join(":");options.ampm&&(timeValue=timeValue+" "+DTChooserThis.inputsDiv[num].value);return timeValue},"_getNum":function(num,max,min,type){if("PM"==max)return"AM"==num?"PM":"AM";isNaN(num)&&(num=0);if("UP"==type){num+=1;void 0!==max&&num>max&&(num=min)}else if("DOWN"==type){num-=1;void 0!==min&&min>num&&(num=max)}return num},"destroy":function(){var DTChooserThis=this;$.datepicker._destroyDatepicker(DTChooserThis.$selectedInput[0])}});window.tinyWidget.DateTime=DateTimeChooser;return DateTimeChooser});define("tiny-directives/DateTime",["tiny-directives/Directive","tiny-widgets/DateTime"],function(Directive,DateTime){var DEFAULT_CONFIG={"directiveName":"tinyDatetime","widgetClass":DateTime,"constantProperties":["id","type","dateFormat","timeFormat","ampm","firstDay","width","onClose","showStyle","showClear"],"scope":{"id":"=","type":"=","defaultTime":"=","defaultDate":"=","timeFormat":"=","dateFormat":"=","ampm":"=","firstDay":"=","minDate":"=","maxDate":"=","disable":"=","width":"=","height":"=","onClose":"=","showStyle":"=","showClear":"="},"replace":!0,"template":"<span></span>"},Datetime=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var dateTimeThis=this,constants=_.pick(scope,dateTimeThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});dateTimeThis=new dateTimeThis.widgetClass(_.pick(constants,validProperName));element.append(dateTimeThis._element);dateTimeThis._element.prop("id",scope.id);scope.$watch("defaultDate",function(newValues,oldValues){dateTimeThis.option("defaultDate",newValues)});scope.$watch("defaultTime",function(newValues,oldValues){dateTimeThis.option("defaultTime",newValues)});scope.$watch("minDate",function(newValues,oldValues){dateTimeThis.option("minDate",newValues)});scope.$watch("maxDate",function(newValues,oldValues){dateTimeThis.option("maxDate",newValues)});scope.$watch("disable",function(newValues,oldValues){dateTimeThis.option("disable",newValues)});scope.$watch("width",function(newValues,oldValues){dateTimeThis.option("width",newValues)});scope.$watch("height",function(newValues,oldValues){dateTimeThis.option("height",newValues)});dateTimeThis._element.on("$destroy",function(){scope.$destroy()})}});(new Datetime).toAngularDirective();return Datetime});define("tiny-widgets/Progressbar",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget"],function(angular,$,Class,Widget){var progressBarTemplate='<div class="tiny-progressBar-package"><div class="tiny-progressBar-graphArea"><div class="tiny-progressBar-graphFilled"></div></div><div class="tiny-progressBar-annotation"></div></div>',DEFAULT_CONFIG={"template":progressBarTemplate,"display":!0,"width":240,"color":"#1FBE5C","height":18,"value":0,"labelColor":"#666666","label-position":"right"},Progressbar=Widget.extend({"init":function(options){var progressBarThis=this;options=_.extend({},DEFAULT_CONFIG,options);progressBarThis._super(options);progressBarThis._setOptions(options);$("#"+options.id).append(progressBarThis._element)},"_locateElement":function(){var progressBarThis=this;progressBarThis.$graphArea=progressBarThis._element.find(".tiny-progressBar-graphArea");progressBarThis.$graphFilled=progressBarThis._element.find(".tiny-progressBar-graphFilled");progressBarThis.$annotation=progressBarThis._element.find(".tiny-progressBar-annotation")},"_setOption":function(key,value){var progressBarThis=this;progressBarThis._super(key,value);switch(key){case"id":progressBarThis._updateId(value);break;case"display":progressBarThis._updateDisplay(value);break;case"width":progressBarThis._updateWidth(value);break;case"color":progressBarThis._updateColor(value);break;case"label-position":progressBarThis._updateAnnotation(value);break;case"height":progressBarThis._updateHeight(value);break;case"value":progressBarThis._updatePercentage(value);break;case"labelColor":progressBarThis._updateLabelColor(value)}},"_updateDisplay":function(display){var progressBarThis=this;"true"==String(display)?progressBarThis._element.css("display","inline-block"):progressBarThis._element.css("display","none")},"_updateWidth":function(progressWidth){var graphFilledWidth,progressBarThis=this,options=progressBarThis.options,progressBarWidth=parseInt(progressWidth,10);if(isNaN(progressBarWidth))return;progressBarThis.$graphArea.css("width",progressBarWidth+"px");graphFilledWidth=options.value/100*progressBarWidth;progressBarThis.$graphFilled.css("width",graphFilledWidth+"px");progressBarThis._calcPosition()},"_updateColor":function(filledColor){var progressBarThis=this;progressBarThis.$graphFilled.css("background-color",filledColor)},"_updateLabelColor":function(annotationColor){var progressBarThis=this;progressBarThis.$annotation.css("color",annotationColor)},"_updateAnnotation":function(value){var progressBarThis=this;progressBarThis.options;if("none"==String(value)){progressBarThis.$annotation.css("display","none");return}progressBarThis.$annotation.css("position","absolute");progressBarThis._calcPosition()},"_updateHeight":function(progressHeight){var progressBarThis=this;progressHeight=parseInt(progressHeight,10);if(isNaN(progressHeight))return;progressBarThis.$graphArea.css("border-radius",progressHeight/2+"px");progressBarThis.$graphFilled.css("height",progressHeight+"px");progressBarThis.$graphFilled.css("border-radius",progressHeight/2+"px");progressBarThis._calcPosition()},"_updatePercentage":function(percentage){var progressBarThis=this;progressBarThis.opProgress(percentage)},"_calcPosition":function(){var progressBarWidth,progressBarThis=this,options=progressBarThis.options,tmpLabelBox=$("<div>").addClass("tiny-progressBar-annotation").text(options.value+"%").appendTo("body"),labelWidth=tmpLabelBox.width(),labelHeight=tmpLabelBox.height();tmpLabelBox.remove();progressBarWidth=parseInt(options.width,10);switch(options["label-position"]){case"center":progressBarThis.$annotation.css({"left":parseInt(options.width,10)/2-labelWidth/2,"top":parseInt(options.height,10)/2-labelHeight/2});progressBarThis.$graphArea.css("margin-right","0px");progressBarThis._element.css("width",progressBarWidth+"px");break;case"right":progressBarThis.$annotation.css({"left":parseInt(options.width,10)+10,"top":parseInt(options.height,10)/2-labelHeight/2});progressBarThis.$graphArea.css("margin-right","10px");progressBarThis._element.css("width",progressBarWidth+10+labelWidth+"px");break;case"down":progressBarThis.$annotation.css({"left":parseInt(options.width,10)/2-labelWidth/2,"top":parseInt(options.height,10)});progressBarThis.$graphArea.css("margin-right","0px");progressBarThis._element.css("width",progressBarWidth+"px")}},"opProgress":function(percentage){var percentageFormatted,oldPercentage,wholeWidth,progressBarWidth,graphFilledWidth,newPercentage,progressBarThis=this,options=progressBarThis.options;if(0===arguments.length)return options.value;percentageFormatted=parseInt(percentage,10);isNaN(percentageFormatted)||0>percentageFormatted?percentage=0:percentageFormatted>100&&(percentage=100);options.value=percentage;oldPercentage=+progressBarThis.$annotation.text().replace("%","");progressBarThis.$annotation.text(percentage+"%");progressBarThis._calcPosition();wholeWidth=options.width;progressBarWidth=parseInt(wholeWidth,10);graphFilledWidth=percentage/100*progressBarWidth;progressBarThis.$graphFilled.css("width",graphFilledWidth+"px");newPercentage=+percentage;if(oldPercentage!==newPercentage){progressBarThis.trigger("changeEvt");100===newPercentage&&progressBarThis.trigger("completeEvt")}},"_addBehavior":function(){var progressBarThis=this,options=progressBarThis.options;progressBarThis._locateElement();progressBarThis.on("changeEvt",function(){progressBarThis.trigger("change");"function"==typeof options.change&&options.change()});progressBarThis.on("completeEvt",function(){progressBarThis.trigger("complete");"function"==typeof options.complete&&options.complete()})}});window.tinyWidget.Progressbar=Progressbar;return Progressbar});define("tiny-widgets/FileUpload",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/underscore","tiny-widgets/Widget","tiny-widgets/Progressbar","tiny-common/UnifyValid","tiny-lib/encoder"],function(angular,$,_,Widget,Progressbar,UnifyValid,encoder){var language=tinyLanguage.language,DEFAULT_CONFIG={"template":'<div class = "tiny-fileUpload"></div>',"fileObjName":"tinyfileName"},CONSTANT_VALUES={"BORDER_WIDTH":1,"PADDING_VERTICAL":2,"PADDING_LEFT":8,"SEL_BTN_WIDTH":30},FileUpload=Widget.extend({"init":function(options){var validOption,fileUploadThis=this,option=_.extend({},DEFAULT_CONFIG,options);fileUploadThis._super(option);fileUploadThis._generateFileHtml(String(option.multi));fileUploadThis._setFileOptions(options);if(options.validate||options.tooltip){validOption={"eleInput":fileUploadThis.$fileNameInputSel,"eleTip":fileUploadThis.$fileSelectFr,"validate":options.validate,"tooltip":options.tooltip,"errorMsg":options.errorMsg,"extendFun":options.extendFunction,"tipPos":options.tipPosition,"tipWidth":options.tipWidth,"evtInstance":fileUploadThis};UnifyValid.initValid(validOption)}"true"!==String(options.multi)?fileUploadThis._addBehaviorFile():fileUploadThis._addBehaviorMultiFile();$("#"+options.id).append(fileUploadThis._element)},"_setFileOptions":function(options){var fileUploadThis=this;"true"===String(options.disable)&&fileUploadThis.setDisable(!0);fileUploadThis._setHeight(options.height);fileUploadThis._setWidth(options.width)},"_generateFileHtml":function(value){var width,height,fileUploadThis=this,options=fileUploadThis.options;fileUploadThis.formTatget="iframePostForm"+$.guid++;if("true"!==value){fileUploadThis._opSingleHtml();fileUploadThis._element.append(fileUploadThis.singleFrameHtml);fileUploadThis.$formSel=fileUploadThis._element.find("form");fileUploadThis.$fileNameInputSel=fileUploadThis._element.find(".tiny-file-input");fileUploadThis.$fileSelectFr=fileUploadThis._element.find(".tiny-file-select");fileUploadThis.$fileSelectSel=fileUploadThis._element.find("#file_upload");fileUploadThis.$fileSubmitSel=fileUploadThis._element.find(".tiny-submit-button");fileUploadThis.$fileSelBtn=fileUploadThis._element.find(".tiny-file-select-button-container")}else{fileUploadThis._opMultiHtml();fileUploadThis._element.append(fileUploadThis.multiFrameHtml);fileUploadThis.$formSel=fileUploadThis._element.find("#tiny-file-upload-form");fileUploadThis.$fileSelectSel=fileUploadThis._element.find("#file_upload");fileUploadThis.$formStatusSel=fileUploadThis._element.find("#tiny-file-status");fileUploadThis.$formWaitingSel=fileUploadThis._element.find("#file-waiting-status");fileUploadThis.$formUploadingSel=fileUploadThis._element.find("#file-uploading-status");fileUploadThis.$formUploadList=fileUploadThis._element.find(".tiny-file-upload-list");fileUploadThis.$formUploadSel=fileUploadThis._element.find(".tiny-file-multi-select");if("false"!==String(options.enableTotalProgress)){fileUploadThis.$totalProgSel=fileUploadThis._element.find("#total-progress");width="500px",height="10px";fileUploadThis._creatProgressbar(fileUploadThis.$totalProgSel,width,height)}fileUploadThis.selectFileQueue=[];fileUploadThis.selectFileNameQueue=[]}},"_setOption":function(key,value){var fileUploadThis=this;fileUploadThis._super(key,value);switch(key){case"width":fileUploadThis._setWidth(value);break;case"height":fileUploadThis._setHeight(value)}},"setInputValue":function(value){if(!value)return;this.$fileNameInputSel.val(value)},"setDisable":function(value){var fileUploadThis=this;if("true"===String(value)){fileUploadThis.options.disable=!0;if("true"!==String(fileUploadThis.options.multi)){fileUploadThis.$fileSelectSel.prop("disabled",!0);fileUploadThis._element.find(".tiny-file-select").addClass("tiny-file-disabled");fileUploadThis._element.find(".tiny-file-upload-button").prop("disabled",!0);fileUploadThis._element.find(".tiny-file-upload-button").addClass("tiny-btn-disable")}else{fileUploadThis.$fileSelectSel.prop("disabled",!0);fileUploadThis._element.find(".tiny-file-multi-select-button").prop("disabled",!0);fileUploadThis._element.find(".tiny-file-upload-multi").prop("disabled",!0);fileUploadThis._element.find(".tiny-file-upload-multi").addClass("tiny-btn-disable");fileUploadThis._element.find(".tiny-file-upload-button").prop("disabled",!0);fileUploadThis._element.find(".tiny-file-upload-button").addClass("tiny-btn-disable")}}else{fileUploadThis.options.disable=!1;if("true"!==String(fileUploadThis.options.multi)){fileUploadThis.$fileSelectSel.prop("disabled",!1);fileUploadThis._element.find(".tiny-file-select").removeClass("tiny-file-disabled");fileUploadThis._element.find(".tiny-file-upload-button").prop("disabled",!1);fileUploadThis._element.find(".tiny-file-upload-button").removeClass("tiny-btn-disable")}else{fileUploadThis.$fileSelectSel.prop("disabled",!1);fileUploadThis._element.find(".tiny-file-multi-select-button").prop("disabled",!1);fileUploadThis._element.find(".tiny-file-upload-multi").prop("disabled",!1);fileUploadThis._element.find(".tiny-file-upload-multi").removeClass("tiny-btn-disable");fileUploadThis._element.find(".tiny-file-upload-button").prop("disabled",!1);fileUploadThis._element.find(".tiny-file-upload-button").removeClass("tiny-btn-disable")}}},"setAction":function(newAction){var fileUploadThis=this;"true"!==String(fileUploadThis.options.multi)?fileUploadThis.singleFrameHtml.find("form").attr("action",newAction):fileUploadThis.multiFrameHtml.filter("form").attr("action",newAction)},"_opSingleHtml":function(){var fileUploadThis=this,options=fileUploadThis.options,singleHtml="",method=$.encoder.encodeForHTMLAttribute("method",options.method,!0)||"post",name=$.encoder.encodeForHTMLAttribute("name",options.fileObjName,!0),action=options.action;singleHtml+='<div class= "tiny-file-upload"><div class = "tiny-file-select">';"false"!==String("showform")&&(singleHtml+='<form target="'+fileUploadThis.formTatget+'" enctype="multipart/form-data" method="'+method+'" action="'+action+'" onkeydown="if(event.keyCode==13){return false;}" style="display:none""></form>');singleHtml+='<div class="tiny-file-box"><input type="text" class = "tiny-file-input" readonly = true;></div><div class = "tiny-file-select-button-container"><i class="ti ti-ellipsis tiny-file-selimage"></i><input type="file" name="'+name+'" id="file_upload" class = "tiny-file-select-button"/></div>';singleHtml+="</div>";"false"!==String(options.showSubmitBtn)&&(singleHtml+='<button class="tiny-btn-basic tiny-btn-without-icon tiny-file-upload-button tiny-file-upload-single" type="button">'+language.upload+"</button></div>");fileUploadThis.singleFrameHtml=$(singleHtml)},"_setWidth":function(width){var fileBoxWidth,fileUploadThis=this;if("multi"===fileUploadThis.options.type)return;width=parseInt(width,10);if(isNaN(width)||width<=2*CONSTANT_VALUES.BORDER_WIDTH+CONSTANT_VALUES.SEL_BTN_WIDTH+CONSTANT_VALUES.PADDING_LEFT)return;fileUploadThis.$fileSelectFr.css("width",width-2*CONSTANT_VALUES.BORDER_WIDTH);fileBoxWidth=width-2*CONSTANT_VALUES.BORDER_WIDTH-CONSTANT_VALUES.SEL_BTN_WIDTH;fileUploadThis._element.find(".tiny-file-box").css("width",fileBoxWidth);fileUploadThis.$fileNameInputSel.css("width",fileBoxWidth-CONSTANT_VALUES.PADDING_LEFT)},"_setHeight":function(height){var fileSelHeight,fileInputHeight,fileUploadThis=this;if("multi"===fileUploadThis.options.type)return;height=parseInt(height,10);if(isNaN(height)||height<2*CONSTANT_VALUES.PADDING_VERTICAL+2*CONSTANT_VALUES.BORDER_WIDTH)return;fileUploadThis._element.find(".tiny-file-upload").css("height",height);fileUploadThis._element.find(".tiny-file-selimage").css("line-height",height+"px");fileSelHeight=height-2*CONSTANT_VALUES.BORDER_WIDTH;fileUploadThis.$fileSelectFr.css("height",fileSelHeight);fileUploadThis._element.find(".tiny-file-upload-button").css("height",fileSelHeight);fileInputHeight=height-2*CONSTANT_VALUES.PADDING_VERTICAL-2*CONSTANT_VALUES.BORDER_WIDTH;fileUploadThis.$fileNameInputSel.css({"height":fileInputHeight,"line-height":fileInputHeight+"px"})},"setDetail":function(detailType,detail){var fileUploadThis=this;switch(detailType){case"success":fileUploadThis._setSuccessDetail(detail);break;case"error":fileUploadThis._setErrorDetail(detail);break;case"custom":fileUploadThis._setCustomDetail(detail);break;default:isNaN(parseFloat(detailType))||fileUploadThis._setProgress(detailType)}},"_setUploadingDetail":function(){var fileUploadThis=this;fileUploadThis.$uploadingHtml=$('<div class="tiny-file-single-detail-line"><div class="tiny-file-statusicon tiny-uploading-icon"></div><span class = "tiny-file-upload-state">'+language.uploading+'</span><span class= "tiny-file-bytes-uploaded"></span><a href="javascript:void(0)" class="tiny-file-upload-cancel">'+language.cancelBtnTitile+"</a></div>");fileUploadThis.$detailHtml=fileUploadThis.$uploadingHtml;fileUploadThis.$progressHtml=fileUploadThis.$uploadingHtml.find(".tiny-file-bytes-uploaded");fileUploadThis._element.append(fileUploadThis.$detailHtml);fileUploadThis.$fileNameInputSel.addClass("tiny-file-selected")},"_setProgress":function(bytes){var fileUploadThis=this;fileUploadThis.$progressHtml.text(language.uploaded+bytes)},"_setSuccessDetail":function(successDetail){var fileUploadThis=this;_.isUndefined(successDetail)&&(successDetail=language.uploadSuccess);fileUploadThis.$successHtml=$('<div class = "tiny-file-single-detail-line"><i class="ti ti-check-circle-thick tiny-upload-success-icon"></i><span class = "tiny-file-upload-state">'+successDetail+'</span><a href="javascript:void(0)" class="tiny-file-upload-remove">'+language.del+"</a></div>");fileUploadThis.$detailHtml&&fileUploadThis.$detailHtml.remove();fileUploadThis.$detailHtml=fileUploadThis.$successHtml;fileUploadThis._element.append(fileUploadThis.$detailHtml);fileUploadThis.$fileNameInputSel.removeClass("tiny-file-selected")},"_setErrorDetail":function(errDetail){var fileUploadThis=this;_.isUndefined(errDetail)&&(errDetail=language.uploadFail);fileUploadThis.$errorHtml=$('<div class = "tiny-file-single-detail-line"><i class="ti ti-exclamation-circle-angle tiny-upload-error-icon"></i><span class = "tiny-file-upload-state">'+errDetail+'</span><a href="javascript:void(0)" class="tiny-file-upload-cancel">'+language.cancelBtnTitile+"</a></div>");fileUploadThis.$detailHtml&&fileUploadThis.$detailHtml.remove();fileUploadThis.$detailHtml=fileUploadThis.$errorHtml;fileUploadThis._element.append(fileUploadThis.$detailHtml);fileUploadThis.$fileNameInputSel.removeClass("tiny-file-selected")},"_setCustomDetail":function(customDetail){var fileUploadThis=this;fileUploadThis.$detailHtml&&fileUploadThis.$detailHtml.remove();fileUploadThis.$detailHtml=$('<div class = "tiny-file-single-detail-line"></div>').append(customDetail);fileUploadThis._element.append(fileUploadThis.$detailHtml)},
"_getFileSize":function(fileObj){var fso,objValue,fileSize=-1;if(fileObj.files)fileSize=fileObj.files[0].size;else try{fso=new ActiveXObject("Scripting.FileSystemObject");fileObj.select();objValue=document.selection.createRange().text;fileSize=parseInt(fso.getFile(objValue).size,10)}catch(err){fileSize=-1}return fileSize},"_addBehaviorFile":function(){var fileUploadThis=this,options=fileUploadThis.options;fileUploadThis.validate=!1;fileUploadThis.isFocused=!1;fileUploadThis.$fileNameInputSel.on("focus",function(event){if("true"===String(options.disable))return;fileUploadThis.trigger("focus",[event]);fileUploadThis.$fileSelectFr.addClass("tiny-file-focus")});fileUploadThis._element.on("mousedown",".tiny-file-select-button-container",function(event){if("true"===String(options.disable))return;fileUploadThis.isFocused=!0});fileUploadThis.$fileNameInputSel.on("blur",function(event){if("true"===String(options.disable))return;setTimeout(function(){if(fileUploadThis.isFocused)return;fileUploadThis.trigger("blurEvt");fileUploadThis.isFocused=!1},10)});fileUploadThis.on("blurEvt",function(){fileUploadThis.trigger("blur");fileUploadThis.$fileSelectFr.removeClass("tiny-file-focus")});fileUploadThis._element.on("change","#file_upload",function(event){var fileName,file,fileType,typeArray,typeArrayLen,isSelType,i,fileSize,maxSize,minSize,filePath=this.value;if(""==filePath)return;fileName=filePath.slice(filePath.lastIndexOf("\\")+1);file=this.files?this.files[0]:{"name":fileName};fileUploadThis.$formSel.children().remove();if(options.fileType){fileType=fileName.substring(fileName.lastIndexOf("."),fileName.length).toUpperCase(),typeArray=[],typeArrayLen=0,isSelType=!1;typeArray=options.fileType.split(";"),typeArrayLen=typeArray.length;for(i=0;typeArrayLen>i;i++)if(null!==filePath.match(new RegExp(".("+typeArray[i]+")$","i"))){isSelType=!0;break}if(!isSelType){fileUploadThis.$fileNameInputSel.val(fileName);$(this).trigger("selErrorEvt",[file,"INVALID_FILE_TYPE",this]);return}}fileSize=fileUploadThis._getFileSize(this);if(-1!=fileSize){if(options.maxSize){maxSize=parseInt(options.maxSize,10);if(isNaN(maxSize)||fileSize>maxSize){fileUploadThis.$fileNameInputSel.val(fileName);$(this).trigger("selErrorEvt",[file,"EXCEED_FILE_SIZE",this]);return}}if(options.minSize){minSize=parseInt(options.minSize,10);if(isNaN(minSize)||minSize>fileSize){fileUploadThis.$fileNameInputSel.val(fileName);$(this).trigger("selErrorEvt",[file,"SMALL_FILE_SIZE",this]);return}}}fileUploadThis.$fileNameInputSel.val(fileName);fileUploadThis.trigger("blurEvt");fileUploadThis.isFocused=!1;if("function"==typeof options.select&&!1===options.select(event,file,fileUploadThis)){fileUploadThis.validate=!1;return}fileUploadThis.validate=!0;if(!fileUploadThis.$fileiframeSel){fileUploadThis.$fileiframeSel=$('<iframe name="'+fileUploadThis.formTatget+'" style="display:none;"></iframe>');fileUploadThis._element.append(fileUploadThis.$fileiframeSel)}fileUploadThis.file=file;fileUploadThis.$formSel.append($(this));fileUploadThis.$fileSelectSel=$(this).clone();fileUploadThis.$fileSelBtn.append(fileUploadThis.$fileSelectSel);"true"===String(options.auto)&&fileUploadThis.submit()});fileUploadThis._element.on("click",".tiny-file-upload-button",function(event){fileUploadThis._element.trigger("submitEvt")});fileUploadThis._element.on("submitEvt",function(event){if(!fileUploadThis.validate)return;fileUploadThis.$detailHtml&&fileUploadThis.$detailHtml.remove();if("false"!==String(options.enableDetail)){fileUploadThis._setUploadingDetail();"false"!==String(options.enableProgress)&&fileUploadThis._setProgress("0KB")}void 0!==options.formData&&fileUploadThis.addFormData(options.formData);if("function"==typeof options.beforeSubmit&&!1===options.beforeSubmit(event,fileUploadThis.file))return;fileUploadThis.$formSel.submit();fileUploadThis.$fileSelBtn.addClass("tiny-file-selected-button-container");fileUploadThis.$fileSelectSel.prop("disabled",!0);$(this).trigger("afterSubmitEvt",[fileUploadThis.file]);fileUploadThis.$fileiframeSel.off("load").on("load",function(){fileUploadThis.$fileSelBtn.removeClass("tiny-file-selected-button-container");fileUploadThis.$fileSelectSel.prop("disabled",!1);var result=$(this.contentWindow.document.body).html()||{};$(this).trigger("completeEvt",[result])})});fileUploadThis._element.on("click",".tiny-file-upload-cancel",function(event){fileUploadThis.empty();fileUploadThis._element.trigger("cancelEvt",[event])});fileUploadThis._element.on("click",".tiny-file-upload-remove",function(event){fileUploadThis.empty();fileUploadThis._element.trigger("removeEvt",[event])});fileUploadThis._element.on("selErrorEvt",function(event,file,errorMsg,fileSelInput){fileUploadThis.trigger("blurEvt");fileUploadThis.isFocused=!1;fileUploadThis.$fileSelectSel=$(fileSelInput).clone();fileUploadThis.$fileSelBtn.append(fileUploadThis.$fileSelectSel);$(fileSelInput).remove();fileUploadThis.validate=!1;"function"==typeof options.selectError&&options.selectError(event,file,errorMsg,fileUploadThis)});fileUploadThis._element.on("afterSubmitEvt",function(event,file){"function"==typeof options.afterSubmit&&options.afterSubmit(event,file)});fileUploadThis._element.on("completeEvt",function(event,result){"function"==typeof options.complete&&options.complete(event,result)});fileUploadThis._element.on("removeEvt",function(event){"function"==typeof options.remove&&options.remove(event)});fileUploadThis._element.on("cancelEvt",function(event){"function"==typeof options.cancel&&options.cancel(event)})},"_opMultiHtml":function(){var fileUploadThis=this,options=fileUploadThis.options,method=$.encoder.encodeForHTMLAttribute("method",options.method,!0)||"post",name=$.encoder.encodeForHTMLAttribute("name",options.fileObjName,!0),action=options.action,multiHtml="";"false"!==String("showform")&&(multiHtml+='<form id="tiny-file-upload-form" target="'+fileUploadThis.formTatget+'"  method="'+method+'" enctype="multipart/form-data" action="'+action+'" onkeydown="if(event.keyCode==13){return false;}">');multiHtml+='<div class="tiny-file-upload-list"></div>';"false"!==String("showform")&&(multiHtml+="</form>");multiHtml+='<div class = "tiny-file-multi-select"><input type="file" id="file_upload" class = "tiny-file-multi-select-button" name="'+name+'"/><button class="tiny-btn-basic tiny-btn-without-icon tiny-file-upload-multi" type="button">'+language.selectFile+"</button></div>";"false"!==String(options.showSubmitBtn)&&(multiHtml+='<div class = "tiny-file-multi-submit"><button class="tiny-btn-basic tiny-btn-without-icon tiny-file-upload-button" type="button">'+language.upload+"</button></div>");multiHtml+='<div style = "clear:both;"></div>';multiHtml+="false"!==String(options.enableTotalProgress)?'<div style="margin-top:10px;"><span style="margin-right:10px;">'+language.totalProgress+'</span><div id = "total-progress" style = "display:inline-block;position: relative;"></div><div class = "tiny-file-progressDetail"></div></div><div id = "tiny-file-status"></div><div id = "file-waiting-status" style="display:none;"></div>':'<div id = "tiny-file-status"></div><div id = "file-waiting-status" style="display:none;"></div>';multiHtml+='<div id = "file-uploading-status" style = "display:none;"></div>';fileUploadThis.multiFrameHtml=$(multiHtml)},"_opMultiWaitingHtml":function(id,name){var multiDetailHtml=$('<div id = "tiny-file'+id+'" status = "waiting" class="tiny-file-status-line"><i class="ti ti-hourglass tiny-upload-waiting-icon"></i><span class = "tiny-file-multi-name" style="margin-left: 5px;">'+name+'</span><span class = "tiny-file-upload-state" style="margin-left: 20px;color: #5b5b5b;">'+language.uploadWaiting+'</span><a href="javascript:void(0)" class="tiny-file-multi-upload-cancel" style = "margin-left: 20px;">'+language.cancelBtnTitile+"</a></div>");return multiDetailHtml},"_opMultiSuccessHtml":function(id,name){var multiSuccessHtml=$("<div id = "+id+' status = "success" class="tiny-file-status-line"><i class="ti ti-check-circle-thick tiny-upload-success-icon"></i><span class = "tiny-file-multi-name" style = "margin-left:5px;">'+name+'</span><a href="javascript:void(0)" class="tiny-file-multi-upload-remove" style = "margin-left:20px;">'+language.del+"</a></div>");return multiSuccessHtml},"_opMultiErrorHtml":function(id,name){var multiErrorHtml=$("<div id = "+id+' status = "error" class="tiny-file-status-line"><i class="ti ti-exclamation-circle-angle tiny-upload-error-icon"></i><span class = "tiny-file-multi-name" style = "margin-left:5px;">'+name+'</span><span class = "tiny-file-upload-state" style = "color: #BE0000;margin-left:20px;">'+language.multiFailed+'</span><a href="javascript:void(0)" class="tiny-file-multi-upload-reload" style = "margin-left:20px;">'+language.reload+'</a><a href="javascript:void(0)" class="tiny-file-multi-upload-cancel" style = "margin-left:10px;">'+language.cancelBtnTitile+"</a></div>");return multiErrorHtml},"_opMultiProgressHtml":function(id,name){var multiProgressHtmlStr='<div id = "tiny-file'+id+'" status = "uploading" class="tiny-file-status-line"><div class="tiny-file-statusicon tiny-uploading-icon"></div><span class = "tiny-file-multi-name" style = "margin-left:5px;">'+name+"</span>";"false"!==String(this.options.enableProgress)&&(multiProgressHtmlStr+='<div id="tiny-file-status'+id+'" class = "tiny-file-status-all"></div>');multiProgressHtmlStr+='<a href="javascript:void(0)" class="tiny-file-multi-upload-cancel">'+language.cancelBtnTitile+"</a></div>";return $(multiProgressHtmlStr)},"_creatProgressbar":function($selector,width,height){var progressbar=new Progressbar({"width":width,"height":height});$selector.html(progressbar.getDom())},"submit":function(){this._element.trigger("submitEvt")},"empty":function(){var fileUploadThis=this;if("true"===String(fileUploadThis.options.multi)){fileUploadThis._destroyMultiList();fileUploadThis.$formStatusSel.empty();fileUploadThis.$formUploadingSel.empty();fileUploadThis.$formWaitingSel.empty()}else{fileUploadThis.$formSel.children().remove();fileUploadThis.$fileNameInputSel.val("");fileUploadThis._element.find(".tiny-file-single-detail-line").remove();null!==fileUploadThis.$fileiframeSel&&fileUploadThis._destroyFileInfo();if(fileUploadThis.options.disable)return;fileUploadThis.$fileNameInputSel.removeClass("tiny-file-selected");fileUploadThis.$fileSelBtn.removeClass("tiny-file-selected-button-container");fileUploadThis.$fileSelectSel.prop("disabled",!1)}},"getFileObject":function(){var fileObject,fileUploadThis=this,options=fileUploadThis.options;fileObject="true"!==String(options.multi)?fileUploadThis.$formSel:fileUploadThis.$formUploadList;return fileObject},"_destroyFileInfo":function(){var fileUploadThis=this;fileUploadThis.validate=!1;fileUploadThis.file=null;if(fileUploadThis.$fileiframeSel){fileUploadThis.$fileiframeSel.remove();fileUploadThis.$fileiframeSel=null}if(fileUploadThis.$formDatainput){fileUploadThis.$formDatainput.remove();fileUploadThis.$formDatainput=null}},"_destroyMultiList":function(){var fileUploadThis=this,fileListChild=fileUploadThis.$formUploadList.children();if(0!==fileListChild.length){fileUploadThis.$formUploadList.children().remove();fileUploadThis.selectFileNameQueue=[]}fileUploadThis.selectFileQueue=[];fileUploadThis.totalSize=0;if(fileUploadThis.$fileiframeSel){fileUploadThis.$fileiframeSel.remove();fileUploadThis.$fileiframeSel=null}if(fileUploadThis.$formDatainput){fileUploadThis.$formDatainput.remove();fileUploadThis.$formDatainput=null}},"setTotalProgress":function(uploadSize,totalSize){var fileUploadThis=this;if(!isNaN(parseFloat(totalSize))&&!isNaN(parseFloat(uploadSize))){fileUploadThis._element.find(".tiny-file-progressDetail").html(language.uploadProgress+uploadSize+" "+language.totalSize+totalSize);fileUploadThis._element.find("#total-progress").children().widget().opProgress(parseFloat(uploadSize)/parseFloat(totalSize)*100)}},"addFormData":function(formData){var fileUploadThis=this,submitList=(fileUploadThis.options,fileUploadThis.$formSel);fileUploadThis.$formDatainput||(fileUploadThis.$formDatainput=$('<input type = "hidden" name = "tinyFormDatas"/>'));fileUploadThis.$formDatainput.val(JSON.stringify(formData));submitList.append(fileUploadThis.$formDatainput)},"addFormDom":function(formDom){var i,len,fileUploadThis=this,submitList=(fileUploadThis.options,fileUploadThis.$formSel);for(i=0,len=formDom.length;len>i;i++)submitList.append(formDom[i])},"setMultiQueueDetail":function(filePath,detail){var correId,i,$fileThisSel,fileName,successHtml,errorHtml,fileUploadThis=this,selectLength=fileUploadThis.selectFileQueue.length;for(i=0;selectLength>i;i++)if(filePath==fileUploadThis.selectFileQueue[i].filePath){correId=fileUploadThis.selectFileQueue[i].orderId;break}$fileThisSel=fileUploadThis._element.find("#"+correId),fileName=$fileThisSel.find(".tiny-file-multi-name").html();switch(detail){case"success":successHtml=fileUploadThis._opMultiSuccessHtml(correId,fileName);$fileThisSel.replaceWith(successHtml);break;case"error":errorHtml=fileUploadThis._opMultiErrorHtml(correId,fileName);$fileThisSel.replaceWith(errorHtml);break;default:isNaN(parseFloat(detail))||$fileThisSel.find(".tiny-progressbar").widget().option("value",parseFloat(detail))}},"_findFileDetail":function(orderId){var i,fileUploadThis=this,queuelength=fileUploadThis.selectFileQueue.length;for(i=0;queuelength>i;i++)if(orderId==fileUploadThis.selectFileQueue[i].orderId)return fileUploadThis.selectFileQueue[i]},"_cancelRemoveHandle":function(detailThis){var fileUploadThis=this,$thisSel=$(detailThis).parent(),detailId=$thisSel.attr("id"),corrFileDetail=fileUploadThis._findFileDetail(detailId);$thisSel.remove();fileUploadThis.$formUploadingSel.find("#"+detailId).remove();corrFileDetail.fileInput.remove();fileUploadThis.selectFileQueue=_.without(fileUploadThis.selectFileQueue,corrFileDetail);fileUploadThis.selectFileNameQueue=_.without(fileUploadThis.selectFileNameQueue,corrFileDetail.filePath);fileUploadThis.totalSize-=corrFileDetail.file&&corrFileDetail.file.size||0;return corrFileDetail},"_islegalSize":function(size){size=parseInt(size,10);if(isNaN(size)||0>size)return!1;return size},"_addBehaviorMultiFile":function(){var fileUploadThis=this,options=fileUploadThis.options,totalSize=0;fileUploadThis.totalSize=0;fileUploadThis._element.on("change",".tiny-file-multi-select-button",function(event){var fileName,file,maxNum,fileType,typeArray,typeArrayLen,isSelType,i,size,maxSize,minSize,maxTotalSize,minTotalSize,order,multiWaitingHtml,multiUploadingHtml,$selector,width,height,fileObjNameEncodered,$newFileInput,filePath=this.value;if(""===filePath)return;fileName=filePath.slice(filePath.lastIndexOf("\\")+1);file=this.files?this.files[0]:{"name":fileName};if(options.maxCount){maxNum=parseInt(options.maxCount,10);if(isNaN(maxNum)||0>maxNum||maxNum<=fileUploadThis.selectFileNameQueue.length){$(this).trigger("selErrorEvt",[file,"EXCCED_FILE_COUNT",this]);return}}if("true"!==String(options.enableRepeat)&&_.contains(fileUploadThis.selectFileNameQueue,filePath)){$(this).trigger("selErrorEvt",[file,"REPEAT_FILE",this]);return}fileType=fileName.substring(fileName.lastIndexOf("."),fileName.length).toLowerCase();if(options.fileType){typeArray=[],typeArrayLen=0,isSelType=!1;typeArray=options.fileType.split(";");typeArrayLen=typeArray.length;for(i=0;typeArrayLen>i;i++)if(null!==filePath.match(new RegExp(".("+typeArray[i]+")$","i"))){isSelType=!0;break}if(!isSelType){$(this).trigger("selErrorEvt",[file,"INVALID_FILE_TYPE",this]);return}}size=fileUploadThis._getFileSize(this);if(-1!=size){if(options.maxSize){maxSize=parseInt(options.maxSize,10);if(isNaN(maxSize)||0>maxSize||size>maxSize){$(this).trigger("selErrorEvt",[file,"EXCEED_FILE_SIZE",this]);return}}if(options.minSize){minSize=parseInt(options.minSize,10);if(isNaN(minSize)||0>minSize||minSize>size){$(this).trigger("selErrorEvt",[file,"SMALL_FILE_SIZE",this]);return}}if(options.maxTotalSize){totalSize=fileUploadThis.totalSize+size;maxTotalSize=fileUploadThis._islegalSize(options.maxTotalSize);if(maxTotalSize&&totalSize>maxTotalSize){$(this).trigger("selErrorEvt",[file,"MAX_TOTAL_SIZE",this]);return}}if(options.minTotalSize){totalSize=fileUploadThis.totalSize+size;minTotalSize=fileUploadThis._islegalSize(options.minTotalSize);if(minTotalSize&&minTotalSize>totalSize){$(this).trigger("selErrorEvt",[file,"MIN_TOTAL_SIZE",this]);return}}fileUploadThis.totalSize=totalSize}if("function"==typeof options.select&&!1===options.select(event,file,fileUploadThis.selectFileQueue))return;if(!fileUploadThis.$fileiframeSel){fileUploadThis.$fileiframeSel=$('<iframe name="'+fileUploadThis.formTatget+'" style="display:none;"></iframe>');fileUploadThis._element.append(fileUploadThis.$fileiframeSel)}fileUploadThis.selectFileNameQueue.push(filePath);order=$.guid++;if(void 0!==options.listTemplate){multiWaitingHtml=_.template(options.listTemplate,{"name":fileName,"size":size,"type":fileType,"file":file});fileUploadThis.$formStatusSel.append(multiWaitingHtml)}else if("false"!==String(options.enableDetail)){multiWaitingHtml=fileUploadThis._opMultiWaitingHtml(order,fileName);multiUploadingHtml=fileUploadThis._opMultiProgressHtml(order,fileName);if("false"!==String(options.enableProgress)){$selector=multiUploadingHtml.find("#tiny-file-status"+order),width="130px",height="10px";fileUploadThis._creatProgressbar($selector,width,height)}"none"===fileUploadThis.$formWaitingSel.css("display")&&fileUploadThis.$formWaitingSel.show();fileUploadThis.$formWaitingSel.append(multiWaitingHtml);fileUploadThis.$formUploadingSel.append(multiUploadingHtml)}fileObjNameEncodered=$.encoder.encodeForHTMLAttribute("name",options.fileObjName,!0);$newFileInput=$('<input type="file" class="tiny-file-multi-select-button" name="'+fileObjNameEncodered+'"/>');fileUploadThis.$formUploadSel.append($newFileInput);fileUploadThis.$formUploadList.append($(this).attr("fileIndex","tiny-file"+order));fileUploadThis.selectFileQueue.push({"file":file,"filePath":filePath,"fileName":fileName,"orderId":"tiny-file"+order,"fileInput":$(this),"uploadingHtml":multiUploadingHtml})});fileUploadThis._element.on("click",".tiny-file-upload-button",function(event){fileUploadThis._element.trigger("submitEvt")});fileUploadThis._element.on("submitEvt",function(event){if(0==fileUploadThis.selectFileNameQueue.length)return;if("false"!==String(options.enableDetail)&&!fileUploadThis.isReload){var $formuploadingSel=fileUploadThis.$formUploadingSel;fileUploadThis.$formUploadingSel=$formuploadingSel.clone();fileUploadThis.$formWaitingSel.children().remove();fileUploadThis.$formWaitingSel.append($formuploadingSel.children())}void 0!==options.formData&&fileUploadThis.addFormData(options.formData);if("function"==typeof options.beforeSubmit&&!1===options.beforeSubmit(event,fileUploadThis.selectFileQueue))return;fileUploadThis.$formSel.submit();$(this).trigger("afterSubmitEvt",[fileUploadThis.selectFileQueue]);fileUploadThis.$fileiframeSel.off("load").on("load",function(){var result=$(this.contentWindow.document.body).text()||{};$(this).trigger("completeEvt",[result])})});fileUploadThis._element.on("click",".tiny-file-multi-upload-remove",function(event){var corrFileDetail=fileUploadThis._cancelRemoveHandle(this);fileUploadThis._element.trigger("removeEvt",[corrFileDetail])});fileUploadThis._element.on("click",".tiny-file-multi-upload-cancel",function(event){var corrFileDetail=fileUploadThis._cancelRemoveHandle(this);fileUploadThis._element.trigger("cancelEvt",[corrFileDetail])});fileUploadThis._element.on("click",".tiny-file-multi-upload-reload",function(event){var $uploadingSel,$progreeSel,$thisSel=$(this).parent(),reloadId=$thisSel.attr("id"),corrFileDetail=fileUploadThis._findFileDetail(reloadId);fileUploadThis.$formUploadList.find("input[fileIndex !="+reloadId+"]").prop("disabled",!0);fileUploadThis.isReload=!0;fileUploadThis.submit();fileUploadThis.$formUploadList.find("input").prop("disabled",!1);fileUploadThis.isReload=!1;$uploadingSel=corrFileDetail.uploadingHtml;$progreeSel=$uploadingSel.find(".tiny-progressbar-fillimage-green");if($progreeSel){$uploadingSel.find(".tiny-progressbar-lablebox").html("0%");$progreeSel.remove()}$(this).parent().replaceWith(corrFileDetail.uploadingHtml);fileUploadThis._element.trigger("reloadEvt",[corrFileDetail])});fileUploadThis._element.on("selErrorEvt",function(event,file,errorMsg,fileInput){$(fileInput).remove();fileUploadThis.$formUploadSel.append($(fileInput).clone());"function"==typeof options.selectError&&options.selectError(event,file,errorMsg,fileUploadThis.selectFileQueue)});fileUploadThis._element.on("afterSubmitEvt",function(event){"function"==typeof options.afterSubmit&&options.afterSubmit(event,fileUploadThis.selectFileQueue)});fileUploadThis._element.on("completeEvt",function(event,result){"function"==typeof options.complete&&options.complete(event,result,fileUploadThis.selectFileQueue)});fileUploadThis._element.on("removeEvt",function(event,corrFilePath){"function"==typeof options.remove&&options.remove(event,corrFilePath,fileUploadThis.selectFileQueue)});fileUploadThis._element.on("cancelEvt",function(event,corrFilePath){"function"==typeof options.cancel&&options.cancel(event,corrFilePath,fileUploadThis.selectFileQueue)});fileUploadThis._element.on("reloadEvt",function(event,corrFilePath){"function"==typeof options.reload&&options.reload(event,corrFilePath,fileUploadThis.selectFileQueue)})}});window.tinyWidget.FileUpload=FileUpload;return FileUpload});define("tiny-directives/FileUpload",["tiny-directives/Directive","tiny-widgets/FileUpload"],function(Directive,FileUploadWidget){var DEFAULT_CONFIG={"directiveName":"tinyFileupload","widgetClass":FileUploadWidget,"constantProperties":["id","multi","action","enableDetail","enableProgress","fileType","showSubmitBtn","width","height","method","maxCount","maxSize","minSize","selectError","select","beforeSubmit","afterSubmit","complete","cancel","remove","reload","enableRepeat","listTemplate","formData","enableTotalProgress","disable","tooltip","tipWidth","validate","fileObjName","showform","auto","maxTotalSize","minTotalSize"],"scope":{"model":"=tinyFileupload","id":"=","tooltip":"=","tipWidth":"=","validate":"=","multi":"=","action":"=","width":"=","height":"=","method":"=","formData":"=","enableDetail":"=","listTemplate":"=","fileObjName":"=","enableTotalProgress":"=","enableProgress":"=","enableRepeat":"=","showSubmitBtn":"=","fileType":"=","disable":"=","maxCount":"=","maxSize":"=","minSize":"=","selectError":"=","select":"=","beforeSubmit":"=","afterSubmit":"=","complete":"=","cancel":"=","remove":"=","reload":"=","showform":"=","auto":"=","inputValue":"=","maxTotalSize":"=","minTotalSize":"="},"replace":!0,"template":"<div></div>"},FileUpload=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var fileUploadInstance,fileUploadThis=this,constants=_.pick(scope,fileUploadThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});fileUploadInstance=new fileUploadThis.widgetClass(_.pick(constants,validProperName));element.append(fileUploadInstance._element);fileUploadInstance._element.prop("id",scope.id);scope.$watch("disable",function(newValues,oldValues){fileUploadInstance.setDisable(newValues)});scope.$watch("action",function(newValues,oldValues){fileUploadInstance.setAction(newValues)});scope.$watch("inputValue",function(newValues,oldValues){fileUploadInstance.setInputValue(newValues)});scope.$watch("fileType",function(newValues,oldValues){fileUploadInstance.option("fileType",newValues)});scope.$watch("width",function(newValues,oldValues){if(newValues===oldValues)return;fileUploadInstance.option("width",newValues)});scope.$watch("height",function(newValues,oldValues){if(newValues===oldValues)return;fileUploadInstance.option("height",newValues)})}});(new FileUpload).toAngularDirective();return FileUpload});define("tiny-directives/FormField",["tiny-directives/Directive","tiny-lib/angular","tiny-widgets/common"],function(Directive,angular,common){var FormField=Directive.extend({"init":function(){},"toAngularDirective":function(){var module=angular.module(common.WIDGET_MODULE_NAME);module.directive("tinyFormfield",function(){var directiveConfig={"restrict":"E","transclude":!0,"template":"<div ng-transclude></div>","scope":{"labelwidth":"="},"controller":["$scope",function($scope){$scope.itemsDomArray=[];this.addItem=function(item,element){var $itemDom,$itemlabelDom,$itemCotentDom,label=item.label,verticalAlign=item.verticalAlign;void 0===label&&(label="");$itemDom=$('<tr class="tiny_form_tr"></tr>');$itemlabelDom=$('<td class = "tiny_item_require"></td><td class="tiny_form_td_label"><label class="tiny_form_label_default">'+label+"</label></td>");this.setVerticalAlign(verticalAlign,$itemlabelDom);$itemDom.append($itemlabelDom);$itemCotentDom=$('<td class = "tiny_form_td_widget"></td>');$itemCotentDom.append(element);$itemDom.append($itemCotentDom);$scope.itemsDomArray.push($itemDom);return $itemDom};this.getItemDom=function(){return $scope.itemsDomArray};this.setVerticalAlign=function(verticalAlign,$itemTdDom){verticalAlign=(verticalAlign||"top").toLowerCase();"middle"===verticalAlign?$itemTdDom.addClass("tiny_form_vertical_middle"):"bottom"===verticalAlign&&$itemTdDom.addClass("tiny_form_vertical_bottom")}}],"link":function(scope,element,attrs,ctrl){var elementBody,i,len,itemsDomArray=[];itemsDomArray=ctrl.getItemDom();$(element).append('<table class="tiny_form"><tbody></tbody></table>');elementBody=element.find("tbody");for(i=0,len=itemsDomArray.length;len>i;i++)elementBody.append(itemsDomArray[i]);elementBody.find(':input[focused="true"]').focus();scope.$watch("labelwidth",function(newValue,oldValue){elementBody.find(".tiny_form_td_label").eq(0).css("width",scope.labelwidth)});$(element).on("$destroy",function(){scope.$destroy()})}};return directiveConfig});module.directive("tinyItem",function(){var directiveItemConfig={"require":"^tinyFormfield","restrict":"E","transclude":!0,"template":'<div class="tiny_form_td_content clearfix" ng-transclude></div>',"replace":!0,"scope":{"label":"=","require":"=","display":"=","labelcls":"=","contentcls":"=","verticalAlign":"=","contentTdAttr":"="},"link":function(scope,element,attrs,fieldCtrl){var $itemDom=fieldCtrl.addItem(scope,element),verticalAlign=scope.verticalAlign;void 0!==scope.labelcls&&$itemDom.find(".tiny_form_td_label").addClass(scope.labelcls);void 0!==scope.contentcls&&$itemDom.find(".tiny_form_td_content").addClass(scope.contentcls);scope.$watch("require",function(newValue,oldValue){if("true"!==String(newValue))$itemDom.find(".tiny_item_require").html("")[0].className="tiny_item_require";else{var $itemRequireDom=$itemDom.find(".tiny_item_require");$itemRequireDom.html("*")[0].className="tiny_form_require tiny_item_require";fieldCtrl.setVerticalAlign(verticalAlign,$itemRequireDom)}});scope.$watch("display",function(newValue,oldValue){"false"===String(newValue)?$itemDom.hide():$itemDom.show()});scope.$watch("contentTdAttr",function(newValue,oldValue){newValue&&$itemDom.find(".tiny_form_td_widget").attr(newValue)});scope.$watch("label",function(newValue,oldValue){newValue!==oldValue&&$itemDom.find(".tiny_form_label_default").html(newValue)})}};return directiveItemConfig})}});(new FormField).toAngularDirective();return FormField});(function($){$.fn.caret=function(s,e){var el,r,end,start,setPosition=function(el,start,end){if(el.setSelectionRange){el.focus();el.setSelectionRange(start,end)}else if(el.createTextRange){var range=el.createTextRange();range.collapse(!0);range.moveEnd("character",end);range.moveStart("character",start);range.select()}};if(null!=s&&null!=e)return this.each(function(){setPosition(this,s,e)});if(null!=s)return this.each(function(){setPosition(this,s,s)});el=this[0];if(el.createTextRange&&document.selection){r=document.selection.createRange().duplicate();end=el.value.lastIndexOf(r.text)+r.text.length;r.moveEnd("character",el.value.length);start=""==r.text?el.value.length:el.value.lastIndexOf(r.text);return[start,end]}return[el.selectionStart,el.selectionEnd]}})(jQuery);define("tiny-lib/jquery.caret",["tiny-lib/jquery"],function(){});define("tiny-widgets/IP",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/jquery.caret","tiny-widgets/Widget","tiny-common/UnifyValid"],function(angular,$,caret,Widget,UnifyValid){var DEFAULT_CONFIG={"type":"ipv4","isValidTip":!0,"template":'<div class="tiny_input_ip_container"><input class = "tiny-ip-value-input"/></div>'},CONST_VALUES={"IPV4_DEFAULT_WIDTH":141,"IPV4_INPUT_DEFAULT_WIDTH":30,"IPV6_DEFAULT_WIDTH":313,"IPV6_INPUT_DEFAULT_WIDTH":35,"BORDER_WIDTH":1,"PADDING_VERTICAL":2},IPS=Widget.extend({"init":function(options){var ipThis=this;options=_.extend({},DEFAULT_CONFIG,options);ipThis._super(options);ipThis._createDom(options.type);ipThis._setOptions(options);ipThis._addValidate(options,ipThis);$("#"+options.id).append(ipThis._element);"true"===String(options.focused)&&ipThis._setFocuse()},"_addValidate":function(options,widgetThis){var inputElem,validOption;if(options.validate||options.tooltip){inputElem=widgetThis._element.find(".tiny_input_ip_anchor")[0];validOption={"eleInput":widgetThis.$ipInput,"focusElem":$(inputElem),"eleTip":widgetThis._element,"validate":options.validate,"tooltip":options.tooltip,"errorMsg":options.errorMsg,"extendFun":options.extendFunction,"tipPos":options.tipPosition,"tipWidth":options.tipWidth,"evtInstance":widgetThis};UnifyValid.initValid(validOption)}},"_setOption":function(key,value){var ipThis=this;ipThis._super(key,value);switch(key){case"id":ipThis._updateId(value);break;case"value":ipThis._updateValue(value);break;case"disable":ipThis.setDisable(value);break;case"width":ipThis._updateWidth(value);break;case"height":ipThis._updateHeight(value);break;case"tooltip":UnifyValid.updateTooltip(ipThis.$ipInput,value);break;case"validate":UnifyValid.updateValidate(ipThis.$ipInput,value);break;case"errorMsg":UnifyValid.updateErrMsg(ipThis.$ipInput,value)}},"_createDom":function(type){var $cell_html,i,ipThis=this,cells=[];if("ipv6"!==type){for(i=0;4>i;i++)cells.push('<input type="text" class="tiny_input_ip_anchor tiny_input_ip_octet" maxlength = "3"/>');$cell_html=$(cells.join('<span class="tiny_input_ip_division">.</span>'))}else{for(i=0;8>i;i++)cells.push('<input type="text" class="tiny_input_ip_anchor tiny_input_ip_octet_v6" maxlength = "4"/>');$cell_html=$(cells.join('<span class="tiny_input_ip_division">:</span>'))}ipThis._element.append($cell_html);ipThis.$cellArray=ipThis._element.find(".tiny_input_ip_anchor")},"_updateValue":function(value){var ipThis=this,options=ipThis.options,type=options.type;if("ipv6"!==type){if(!ipThis._isIpv4(value)){ipThis._clearIpv4Value();return}ipThis._setIpv4Value(options.value)}else{if(!ipThis._isIpv6(value)){options.value="";ipThis._clearIpv6Value();return}ipThis._setIpv6Value(options.value)}},"_clearIpv4Value":function(){var i,ipThis=this,$cellArray=ipThis.$cellArray;for(i=0;4>i;i++)$($cellArray[i]).val("");ipThis.options.value="";ipThis.$ipInput.val(ipThis.options.value)},"_clearIpv6Value":function(){var i,ipThis=this,$cellArray=ipThis.$cellArray;for(i=0;8>i;i++)$($cellArray[i]).val("");ipThis.options.value="";ipThis.$ipInput.val(ipThis.options.value)},"_setIpv4Value":function(value){var i,ipThis=this,ip_valueNew=[],ip_value=value.split("."),$cellArray=ipThis.$cellArray;for(i=0;4>i;i++){ip_value[i]=parseInt(ip_value[i],10);ip_valueNew.push(ip_value[i]);$($cellArray[i]).val(ip_value[i]+"")}ipThis.options.value=ip_valueNew.join(".");ipThis.$ipInput.val(ipThis.options.value)},"_setIpv6Value":function(value){var i,ipThis=this,ip_value=value.split(":"),$cellArray=ipThis.$cellArray;for(i=0;8>i;i++)$($cellArray[i]).val(ip_value[i]+"");ipThis.$ipInput.val(value);ipThis.options.value=value},"_setFocuse":function(value){
var ipThis=this,firstcell=ipThis.$cellArray[0];$(firstcell).attr("focused",!0);firstcell.focus()},"setDisable":function(disable){var ipThis=this,$element=ipThis._element;if("true"===String(disable)){ipThis.$cellArray.attr("disabled","disabled");$element.find("span.tiny_input_ip_division").attr("disabled","disabled");$element.addClass("tiny_ip_container_disable");if(ipThis.options.validate){ipThis.$ipInput.attr("disabled","true");UnifyValid.clearValidate($element)}}else{ipThis.$cellArray.removeAttr("disabled");$element.find("span.tiny_input_ip_division").removeAttr("disabled");$element.removeClass("tiny_ip_container_disable");ipThis.options.validate&&ipThis.$ipInput.removeAttr("disabled")}},"_updateWidth":function(value){var add,i,ipThis=this,widthset=parseInt(value,10),$cellArray=ipThis.$cellArray;if("ipv6"!==ipThis.options.type){if(widthset<=CONST_VALUES.IPV4_DEFAULT_WIDTH)return;add=Math.floor((widthset-CONST_VALUES.IPV4_DEFAULT_WIDTH)/4);for(i=0;3>i;i++)$($cellArray[i]).css("width",add+CONST_VALUES.IPV4_INPUT_DEFAULT_WIDTH);$($cellArray[3]).css("width",widthset-(CONST_VALUES.IPV4_DEFAULT_WIDTH-CONST_VALUES.IPV4_INPUT_DEFAULT_WIDTH)-3*add)}else{if(widthset<=CONST_VALUES.IPV6_DEFAULT_WIDTH)return;add=Math.floor((widthset-CONST_VALUES.IPV6_DEFAULT_WIDTH)/8);for(i=0;7>i;i++)$($cellArray[i]).css("width",add+CONST_VALUES.IPV6_INPUT_DEFAULT_WIDTH);$($cellArray[7]).css("width",widthset-(CONST_VALUES.IPV6_DEFAULT_WIDTH-CONST_VALUES.IPV6_INPUT_DEFAULT_WIDTH)-7*add)}},"_updateHeight":function(height){var ipThis=this,$cellArray=ipThis.$cellArray;height=parseInt(height,10);if(isNaN(height)||height<2*CONST_VALUES.BORDER_WIDTH+2*CONST_VALUES.PADDING_VERTICAL)return;height=height-2*CONST_VALUES.BORDER_WIDTH-2*CONST_VALUES.PADDING_VERTICAL+"px";$cellArray.css({"height":height})},"getValue":function(){var ipThis=this;return ipThis.options.value||""},"_isIpv4":function(value){var rgx=/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;return rgx.test(value)},"_isIpv6":function(value){var rgx=/\b([A-F0-9]{1,4}:){7}([A-F0-9]{1,4})\b/i;return rgx.test(value)},"_isValidKeyIPV4":function(e){var valid=[8,9,37,39,46,48,96,49,97,50,98,51,99,52,100,53,101,54,102,55,103,56,104,57,105,110,190],keyCode=e.keyCode;if(e.ctrlKey&&(67==keyCode||86==keyCode||65==keyCode||88==keyCode))return!0;if(_.contains(valid,keyCode))return!0;return!1},"_isValidKeyIPV6":function(e){var valid=[8,9,37,39,46,48,96,49,97,50,98,51,99,52,100,53,101,54,102,55,103,56,104,57,105,110,190,65,66,67,68,69,70],keyCode=e.keyCode;if(e.ctrlKey&&(67==keyCode||86==keyCode||65==keyCode||88==keyCode))return!0;if(_.contains(valid,keyCode))return!0;return!1},"_isNumeric":function(e){if(e.shiftKey||e.ctrlKey)return!1;return e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105},"_isHexaDecimal":function(e){var isValidInput,keyCode=e.keyCode;if(e.ctrlKey)return!1;isValidInput=e.shiftKey&&keyCode>=65&&70>=keyCode||!e.shiftKey&&(keyCode>=48&&57>=keyCode||keyCode>=96&&105>=keyCode||keyCode>=65&&70>=keyCode);if(isValidInput)return!0},"_isIPV4MoveToNext":function(thisInput,next_cell,e){return 3==thisInput.value.length&&this._isNumeric(e)&&3==$(thisInput).caret()[0]&&next_cell.length},"_isIPV6MoveToNext":function(thisInput,next_cell,e){return 4==thisInput.value.length&&this._isHexaDecimal(e)&&4==$(thisInput).caret()[0]&&next_cell.length},"_isPrevous":function(keyCode,thisInput,prevcellLength){return(37==keyCode&&0==$(thisInput).caret()[0]||8==keyCode&&0==$(thisInput).caret()[0]&&$(thisInput).caret()[0]==$(thisInput).caret()[1])&&prevcellLength},"_keydownHandle":function(e,thisInput,type){var isMoveToNext,ipThis=this,next_cell=$(thisInput).next("span.tiny_input_ip_division").next("input.tiny_input_ip_anchor"),prev_cell=$(thisInput).prev("span.tiny_input_ip_division").prev("input.tiny_input_ip_anchor"),keyCode=e.keyCode;if(110==keyCode||190==keyCode){if(next_cell.length){next_cell.focus();next_cell.select()}e.preventDefault();return}isMoveToNext="ipv6"!==type?ipThis._isIPV4MoveToNext(thisInput,next_cell,e):ipThis._isIPV6MoveToNext(thisInput,next_cell,e);isMoveToNext&&next_cell.focus().caret(0);if(39==keyCode&&$(thisInput).caret()[0]==thisInput.value.length&&next_cell.length){next_cell.focus().caret(0);return}if(ipThis._isPrevous(keyCode,thisInput,prev_cell.length)){prev_cell.caret(prev_cell.val().length);e.preventDefault()}},"_setIPV4Val":function(ipThis,event){var newValue,ip_value,inInputArray,i,ipValue,value=this.value;if(""==value)return;newValue=parseInt(value,10);newValue>255&&(newValue=255);this.value=newValue;ip_value=[];inInputArray=ipThis.$cellArray;for(i=0;4>i;i++)ip_value.push(inInputArray[i].value);ipValue=ip_value.join(".");"..."===ipValue&&(ipValue="");ipThis._contentChangeHandler(event,ipValue)},"_contentChangeHandler":function(event,newValue){var ipThis=this,options=ipThis.options,oldValue=options.value;if(newValue===oldValue)return;ipThis.$ipInput.val(newValue);ipThis.options.value=newValue;ipThis.trigger("contentChange",[event,newValue]);"function"==typeof options.contentChange&&options.contentChange(event,newValue)},"_generateIPValue":function(inputThis){var ipvCheckReg,inInputArray,i,ipValue,ipThis=this,type=ipThis.options.type,value=inputThis.value,ip_value=[];switch(type){case"ipv4":ipvCheckReg=/[\D]/g;ipvCheckReg.test(value)&&(inputThis.value=value.replace(ipvCheckReg,""));inputThis.value>255&&(inputThis.value=255);inInputArray=ipThis.$cellArray;for(i=0;4>i;i++)ip_value.push(inInputArray[i].value);ipValue=ip_value.join(".");"..."===ipValue&&(ipValue="");break;case"ipv6":ipvCheckReg=/[^a-f\d]/gi;ipvCheckReg.test(value)&&(inputThis.value=value.replace(ipvCheckReg,""));inInputArray=ipThis.$cellArray;for(i=0;8>i;i++)ip_value.push(inInputArray[i].value);ipValue=ip_value.join(":");":::::::"===ipValue&&(ipValue="")}return ipValue},"_addBehavior":function(){function triggerChangeEvt(event){var newValue=ipThis.getValue();if(focusValue===newValue)return;ipThis.trigger("change",[event,newValue]);"function"==typeof options.change&&options.change(event,newValue)}var haveFocus,isOtherInput,focusValue,ipThis=this,options=ipThis.options;ipThis.$ipInput=ipThis._element.find(".tiny-ip-value-input");ipThis._element.on("keydown","input.tiny_input_ip_octet",function(e){if(!ipThis._isValidKeyIPV4(e)){e.preventDefault();return}ipThis._keydownHandle(e,this,"ipv4")});ipThis._element.on("keydown","input.tiny_input_ip_octet_v6",function(e){if(!ipThis._isValidKeyIPV6(e)){e.preventDefault();return}ipThis._keydownHandle(e,this,"ipv6")});haveFocus=!1,isOtherInput=!1;ipThis._element.on("blur","input.tiny_input_ip_anchor",function(event){$(this).hasClass("tiny_input_ip_octet")&&ipThis._setIPV4Val.call(this,ipThis,event);setTimeout(function(){if(isOtherInput)isOtherInput=!1;else{haveFocus=!1;ipThis._element.removeClass("tiny_input_ip_container_focus");var ipValue=ipThis.getValue();ipThis.trigger("blur",[ipValue,ipThis]);"function"==typeof options.blur&&options.blur(ipValue,ipThis);triggerChangeEvt(event)}},10)});ipThis._element.on("focus","input.tiny_input_ip_anchor",function(e){if(haveFocus)isOtherInput=!0;else{haveFocus=!0;ipThis._element.addClass("tiny_input_ip_container_focus");focusValue=ipThis.getValue();ipThis.trigger("focus",[focusValue,ipThis]);"function"==typeof options.focus&&options.focus(focusValue,ipThis)}});ipThis._element.on("input","input.tiny_input_ip_anchor",function(event){var ipValue=ipThis._generateIPValue(this);ipThis._contentChangeHandler(event,ipValue)});if("Microsoft Internet Explorer"==navigator.appName){ipThis._element.on("keyup","input.tiny_input_ip_anchor",function(event){if(9==event.keyCode)return;if(8==event.keyCode||46==event.keyCode){var ipValue=ipThis._generateIPValue(this);ipThis._contentChangeHandler(event,ipValue)}});ipThis._element.on("cut","input.tiny_input_ip_anchor",function(event){var cutThis=this;setTimeout(function(){var ipValue=ipThis._generateIPValue(cutThis);ipThis._contentChangeHandler(event,ipValue)},0)})}}});window.tinyWidget.IP=IPS;return IPS});define("tiny-directives/IP",["tiny-directives/Directive","tiny-widgets/IP"],function(Directive,IpWidget){var DEFAULT_CONFIG={"directiveName":"tinyIp","widgetClass":IpWidget,"constantProperties":["id","type","focused","validate","tooltip","tipWidth","tipPosition","errorMsg","extendFunction"],"scope":{"id":"=","type":"=","value":"=","disable":"=","width":"=","height":"=","focused":"=","validate":"=","tooltip":"=","tipWidth":"=","tipPosition":"=","errorMsg":"=","extendFunction":"=","contentChange":"&","change":"&","blur":"&","focus":"&"},"replace":!0,"template":"<span></span>"},Ip=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var ipInstance,ipThis=this,constants=_.pick(scope,ipThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});ipInstance=new ipThis.widgetClass(_.pick(constants,validProperName));ipInstance.on("contentChange",function(event,newValue){ipThis.setAttr(scope,"value",newValue,attrMap)});element.append(ipInstance._element);ipInstance._element.find(':input[focused="true"]').focus();scope.$watch("id",function(newValues,oldValues){ipInstance.option("id",newValues)});scope.$watch("value",function(newValues,oldValues){if(scope.changeFlag===!0){scope.changeFlag=!1;return}ipInstance.option("value",newValues)});scope.$watch("disable",function(newValues,oldValues){ipInstance.option("disable",newValues)});scope.$watch("width",function(newValues,oldValues){ipInstance.option("width",newValues)});scope.$watch("height",function(newValues,oldValues){ipInstance.option("height",newValues)});scope.$watch("validate",function(newValues,oldValues){ipInstance.option("validate",newValues)});scope.$watch("tooltip",function(newValues,oldValues){ipInstance.option("tooltip",newValues)});scope.$watch("errorMsg",function(newValues,oldValues){ipInstance.option("errorMsg",newValues)});attrMap.contentChange&&ipInstance.on("contentChange",function(){var param={"event":arguments[0],"value":arguments[1]};scope.contentChange(param);scope.$digest()});attrMap.change&&ipInstance.on("change",function(){scope.$apply(scope.change()(arguments[0],arguments[1]))});attrMap.focus&&ipInstance.on("focus",function(focusValue){scope.$evalAsync(function(){scope.focus({"value":focusValue,"widget":ipInstance})})});attrMap.blur&&ipInstance.on("blur",function(ipValue){scope.$evalAsync(function(){scope.blur({"value":ipValue,"widget":ipInstance})})})}});(new Ip).toAngularDirective();return Ip});define("tiny-widgets/Layout",["tiny-lib/angular","tiny-lib/jquery","tiny-widgets/Widget"],function(angular,$,Widget){var layout=Widget.extend({"init":function(options){var widgetThis=this;widgetThis._initContainer(options);widgetThis._addLayoutBehavior(options)},"_initContainer":function(options){var height,footerHeight,widgetThis=this,$Container=$("#"+options.id),$layoutContainer=$Container.filter(".tiny-layout-container");widgetThis.container=$layoutContainer.length?$layoutContainer:$Container.find(".tiny-layout-container");widgetThis.headDom=$Container.find(".tiny-layout-west");widgetThis.contentDom=$Container.find(".tiny-layout-center");widgetThis.headDom&&widgetThis._setHead(widgetThis.headDom);widgetThis._element=$Container;widgetThis._element.widget(widgetThis);widgetThis.height=0;widgetThis.footerHeight=0;if("undefined"!=typeof options.subheight){height=parseInt(options.subheight,10);(isNaN(height)||0>height)&&(height=0);widgetThis.height=height}if("undefined"!=typeof options.footerHeight){footerHeight=parseInt(options.footerHeight,10);(isNaN(footerHeight)||0>footerHeight)&&(footerHeight=0);widgetThis.footerHeight=footerHeight}widgetThis.headerHeight=widgetThis.height-widgetThis.footerHeight},"opActive":function($selector){var $currentActive,$currentHead,$selectHead,widgetThis=this;"object"==typeof $selector&&($selector=$($selector));if("A"!=$selector[0].tagName)return;$currentActive=widgetThis.headDom.find("a[index='"+widgetThis.activeIndex+"']");$currentActive.removeClass("tiny-layout-a-current");if($currentActive.parent().hasClass("tiny-layout-sideli2")){$currentHead=$currentActive.closest("ul");$currentHead.hide();$currentHead.siblings(".tiny-layout-head").removeClass("tiny-layout-current")}$selector.addClass("tiny-layout-a-current");widgetThis.activeIndex=$selector.attr("index");widgetThis.contentDom.find("#"+widgetThis.activeIndex).show();if($selector.hasClass("tiny-layout-a-top"))return;if($selector.parent().hasClass("tiny-layout-sideli2")){$selectHead=$selector.closest("ul");$selectHead.show();$selectHead.siblings(".tiny-layout-head").addClass("tiny-layout-current")}},"_setHead":function(headDom){var firstLevel,j,i,len,widgetThis=this;widgetThis.indexArray=[];headDom.addClass("sideList sideMenu");headDom.width("215px");firstLevel=[],j=0;firstLevel=headDom.find("ul").eq(0).children();for(i=0,len=firstLevel.length;len>i;i++)if("LI"==firstLevel[i].tagName){$(firstLevel[i]).addClass("tiny-layout-sideli");widgetThis._parseSecLevel($(firstLevel[i]),j);j++}},"_parseSecLevel":function($firstLevel,fl){var secondLevel,secondLI,len,$secondA,secondAUrl,index,isTop,i,widgetThis=this,$headDom=$firstLevel.find(".tiny-layout-head");$headDom.find(".ui-icon").length||$headDom.prepend($('<span class="tiny-icon ti ti-caret-circle-o-right"></span>'));secondLevel=[],secondLI=$firstLevel.find("ul"),len=0;if(0==secondLI.length&&$firstLevel.has("a")){secondLevel=$firstLevel;len=1;isTop=!0}else{secondLevel=secondLI.find("li:has(a)");len=secondLevel.length;secondLI.css("display","none");isTop=!1}for(i=0;len>i;i++){$secondA=$(secondLevel[i]).find("a");index=""+fl+i;$secondA.addClass("tiny-layout-a").attr("index",index);widgetThis.indexArray.push(index);isActive="true"===String($secondA.attr("active"));if(isActive&&!widgetThis.activeIndex){$secondA.addClass("tiny-layout-a-current");widgetThis.activeIndex=index}if(isTop)$secondA.addClass("tiny-layout-a-top");else{$(secondLevel[i]).addClass("tiny-layout-sideli2");if(isActive){$(secondLevel[i]).parent().css("display","block");$headDom.addClass("tiny-layout-current")}}secondAUrl=$secondA.attr("url");secondAUrl&&widgetThis._setContent(secondAUrl,index,isActive)}},"_setContent":function(anchor,index,isActive){var widgetThis=this,$outerDiv=$("<div id='"+index+"' class='tiny-layout-maincontent'></div>");widgetThis.contentDom.append($outerDiv);isActive||$outerDiv.css("display","none");if("#"===anchor[0]){content=widgetThis.contentDom.find(anchor);$outerDiv.append(content)}else $outerDiv.load(anchor)},"_selectItem":function(item){var widgetThis=this;widgetThis.contentDom.find("#"+widgetThis.activeIndex).hide();widgetThis.headDom.find("[index="+widgetThis.activeIndex+"]").removeClass("tiny-layout-a-current");item.addClass("tiny-layout-a-current");widgetThis.activeIndex=item.attr("index");widgetThis.contentDom.find("#"+widgetThis.activeIndex).show();widgetThis.resetHeight()},"resetHeight":function(){var layoutHeight,contentHeight,footerHeight,headerHeight,scrollTop,deltaHeight,widgetThis=this,docClientHeight=document.documentElement.clientHeight,headFootHeight=widgetThis.height,contentMinHeight=docClientHeight-headFootHeight,containerDom=widgetThis.container[0];containerDom.style.minHeight=contentMinHeight+"px";layoutHeight=contentMinHeight;contentHeight=containerDom.clientHeight;footerHeight=widgetThis.footerHeight;if(footerHeight&&contentHeight+headFootHeight>docClientHeight){headerHeight=widgetThis.headerHeight;scrollTop=document.body.scrollTop;deltaHeight=docClientHeight+scrollTop-contentHeight-headerHeight;layoutHeight=0>deltaHeight?docClientHeight-headerHeight:contentHeight-scrollTop}widgetThis.headDom.addClass("tiny-layout-west-overflow");widgetThis.headDom.removeAttr("style");layoutHeight<widgetThis.headDom.find("ul").height()&&widgetThis.headDom.removeClass("tiny-layout-west-overflow");widgetThis.headDom.css("height",layoutHeight)},"_addLayoutBehavior":function(options){var widgetThis=this;widgetThis._element.on("click",".tiny-layout-head",function(obj){var $currentHead,$activeA,$headDiv=$(this);if($headDiv.hasClass("tiny-layout-current")){$headDiv.siblings("ul").hide();$headDiv.removeClass("tiny-layout-current")}else{$currentHead=widgetThis.headDom.find(".tiny-layout-current");$currentHead.siblings("ul").hide();$currentHead.removeClass("tiny-layout-current");$(this).addClass("tiny-layout-current");$(this).siblings("ul").show();if("false"!==String(options.isAutoActive)){$activeA=$(this).siblings("ul").find("li:first a");widgetThis._selectItem($activeA);widgetThis.activeIndex=$activeA.attr("index")}}widgetThis.resetHeight()});widgetThis._element.on("click",".tiny-layout-a",function(evt){var item=$(evt.target);widgetThis._selectItem(item);if(item.hasClass("tiny-layout-a-top")){$("ul",$(evt.target).parents("ul:first")).hide();$(".tiny-layout-current",$(evt.target).parents("ul:first")).removeClass("tiny-layout-current")}widgetThis.resetHeight()});$(document).ready(function(){widgetThis.resetHeight()});$(window).resize(function(){widgetThis.resetHeight()});widgetThis.footerHeight&&$(window).scroll(function(){widgetThis.headDom.css("height",Math.min(widgetThis.container[0].clientHeight-$(document).scrollTop(),document.documentElement.clientHeight-widgetThis.headerHeight))})}});window.tinyWidget.Layout=layout;return layout});define("tiny-directives/Layout",["tiny-directives/Directive","tiny-widgets/Layout"],function(Directive,layoutWidget){var DEFAULT_CONFIG={"directiveName":"tinyLayout","widgetClass":layoutWidget,"constantProperties":[],"scope":{"id":"=","subheight":"="},"transclude":"true","replace":!0,"template":"<div ng-transclude></div>"},layout=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var directiveThis=this;element.prop("id",scope.id);directiveThis.widgetInstance=new directiveThis.widgetClass({"id":scope.id,"subheight":scope.subheight});element.append(directiveThis.widgetInstance._element)}});(new layout).toAngularDirective();return layout});(function($){$.color={};$.color.make=function(r,g,b,a){var o={};o.r=r||0;o.g=g||0;o.b=b||0;o.a=null!=a?a:1;o.add=function(c,d){for(var i=0;i<c.length;++i)o[c.charAt(i)]+=d;return o.normalize()};o.scale=function(c,f){for(var i=0;i<c.length;++i)o[c.charAt(i)]*=f;return o.normalize()};o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"};o.normalize=function(){function clamp(min,value,max){return min>value?min:value>max?max:value}o.r=clamp(0,parseInt(o.r),255);o.g=clamp(0,parseInt(o.g),255);o.b=clamp(0,parseInt(o.b),255);o.a=clamp(0,o.a,1);return o};o.clone=function(){return $.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};$.color.extract=function(elem,css){var c;do{c=elem.css(css).toLowerCase();if(""!=c&&"transparent"!=c)break;elem=elem.parent()}while(elem.length&&!$.nodeName(elem.get(0),"body"));"rgba(0, 0, 0, 0)"==c&&(c="transparent");return $.color.parse(c)};$.color.parse=function(str){var res,name,m=$.color.make;if(res=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10));if(res=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10),parseFloat(res[4]));if(res=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(str))return m(2.55*parseFloat(res[1]),2.55*parseFloat(res[2]),2.55*parseFloat(res[3]));if(res=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(2.55*parseFloat(res[1]),2.55*parseFloat(res[2]),2.55*parseFloat(res[3]),parseFloat(res[4]));if(res=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str))return m(parseInt(res[1],16),parseInt(res[2],16),parseInt(res[3],16));if(res=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str))return m(parseInt(res[1]+res[1],16),parseInt(res[2]+res[2],16),parseInt(res[3]+res[3],16));name=$.trim(str).toLowerCase();if("transparent"==name)return m(255,255,255,0);res=lookupColors[name]||[0,0,0];return m(res[0],res[1],res[2])};var lookupColors={"aqua":[0,255,255],"azure":[240,255,255],"beige":[245,245,220],"black":[0,0,0],"blue":[0,0,255],"brown":[165,42,42],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgrey":[169,169,169],"darkgreen":[0,100,0],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkviolet":[148,0,211],"fuchsia":[255,0,255],"gold":[255,215,0],"green":[0,128,0],"indigo":[75,0,130],"khaki":[240,230,140],"lightblue":[173,216,230],"lightcyan":[224,255,255],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightyellow":[255,255,224],"lime":[0,255,0],"magenta":[255,0,255],"maroon":[128,0,0],"navy":[0,0,128],"olive":[128,128,0],"orange":[255,165,0],"pink":[255,192,203],"purple":[128,0,128],"violet":[128,0,128],"red":[255,0,0],"silver":[192,192,192],"white":[255,255,255],"yellow":[255,255,0]}})(jQuery);(function($){function Canvas(cls,container){function dashedLineTo(fromX,fromY,toX,toY,pattern){var offsetX,offsetY,idx,dash,ang,len,lt=function(a,b){return b>=a},gt=function(a,b){return a>=b},capmin=function(a,b){return Math.min(a,b)},capmax=function(a,b){return Math.max(a,b)},checkX={"thereYet":gt,"cap":capmin},checkY={"thereYet":gt,"cap":capmin};if(fromY-toY>0){checkY.thereYet=lt;checkY.cap=capmax}if(fromX-toX>0){checkX.thereYet=lt;checkX.cap=capmax}this.moveTo(fromX,fromY);offsetX=fromX;offsetY=fromY;idx=0,dash=!0;for(;!checkX.thereYet(offsetX,toX)||!checkY.thereYet(offsetY,toY);){ang=Math.atan2(toY-fromY,toX-fromX);len=pattern[idx];offsetX=checkX.cap(toX,offsetX+Math.cos(ang)*len);offsetY=checkY.cap(toY,offsetY+Math.sin(ang)*len);dash?this.lineTo(offsetX,offsetY):this.moveTo(offsetX,offsetY);idx=(idx+1)%pattern.length;dash=!dash}}var context,devicePixelRatio,backingStoreRatio,element=container.children("."+cls)[0];if(null==element){element=document.createElement("canvas");element.className=cls;$(element).css({"direction":"ltr","left":0,"top":0}).appendTo(container);void 0===arguments[2]&&$(element).css("position","absolute");if(!element.getContext){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");element=window.G_vmlCanvasManager.initElement(element)}}this.element=element;element.getContext("2d").dashedLineTo=dashedLineTo;context=this.context=element.getContext("2d");devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1;this.pixelRatio=devicePixelRatio/backingStoreRatio;this.resize(container.width(),container.height());this.textContainer=null;this.text={};this._textCache={}}function Plot(placeholder,data_,options_,plugins){function executeHooks(hook,args){args=[plot].concat(args);for(var i=0;i<hook.length;++i)hook[i].apply(this,args)}function initPlugins(){var i,p,classes={"Canvas":Canvas};for(i=0;i<plugins.length;++i){p=plugins[i];p.init(plot,classes);p.options&&$.extend(!0,options,p.options)}}function parseOptions(opts){var i,axisOptions,axisCount,fontSize,fontSizeDefault,fontDefaults,n;$.extend(!0,options,opts);opts&&opts.colors&&(options.colors=opts.colors);null==options.xaxis.color&&(options.xaxis.color=$.color.parse(options.grid.color).scale("a",.22).toString());null==options.yaxis.color&&(options.yaxis.color=$.color.parse(options.grid.color).scale("a",.22).toString());null==options.xaxis.tickColor&&(options.xaxis.tickColor=options.grid.tickColor||options.xaxis.color);null==options.yaxis.tickColor&&(options.yaxis.tickColor=options.grid.tickColor||options.yaxis.color);null==options.grid.borderColor&&(options.grid.borderColor=options.grid.color);null==options.grid.tickColor&&(options.grid.tickColor=$.color.parse(options.grid.color).scale("a",.22).toString());fontSize=placeholder.css("font-size"),fontSizeDefault=fontSize?+fontSize.replace("px",""):13,fontDefaults={"style":placeholder.css("font-style"),"size":Math.round(.8*fontSizeDefault),"variant":placeholder.css("font-variant"),"weight":placeholder.css("font-weight"),"family":placeholder.css("font-family")};axisCount=options.xaxes.length||1;for(i=0;axisCount>i;++i){axisOptions=options.xaxes[i];axisOptions&&!axisOptions.tickColor&&(axisOptions.tickColor=axisOptions.color);axisOptions=$.extend(!0,{},options.xaxis,axisOptions);options.xaxes[i]=axisOptions;if(axisOptions.font){axisOptions.font=$.extend({},fontDefaults,axisOptions.font);axisOptions.font.color||(axisOptions.font.color=axisOptions.color);axisOptions.font.lineHeight||(axisOptions.font.lineHeight=Math.round(1.15*axisOptions.font.size))}}axisCount=options.yaxes.length||1;for(i=0;axisCount>i;++i){axisOptions=options.yaxes[i];axisOptions&&!axisOptions.tickColor&&(axisOptions.tickColor=axisOptions.color);axisOptions=$.extend(!0,{},options.yaxis,axisOptions);options.yaxes[i]=axisOptions;if(axisOptions.font){axisOptions.font=$.extend({},fontDefaults,axisOptions.font);axisOptions.font.color||(axisOptions.font.color=axisOptions.color);axisOptions.font.lineHeight||(axisOptions.font.lineHeight=Math.round(1.15*axisOptions.font.size))}}options.xaxis.noTicks&&null==options.xaxis.ticks&&(options.xaxis.ticks=options.xaxis.noTicks);options.yaxis.noTicks&&null==options.yaxis.ticks&&(options.yaxis.ticks=options.yaxis.noTicks);if(options.x2axis){options.xaxes[1]=$.extend(!0,{},options.xaxis,options.x2axis);options.xaxes[1].position="top"}if(options.y2axis){options.yaxes[1]=$.extend(!0,{},options.yaxis,options.y2axis);options.yaxes[1].position="right"}options.grid.coloredAreas&&(options.grid.markings=options.grid.coloredAreas);options.grid.coloredAreasColor&&(options.grid.markingsColor=options.grid.coloredAreasColor);options.lines&&$.extend(!0,options.series.lines,options.lines);options.points&&$.extend(!0,options.series.points,options.points);options.bars&&$.extend(!0,options.series.bars,options.bars);null!=options.shadowSize&&(options.series.shadowSize=options.shadowSize);null!=options.highlightColor&&(options.series.highlightColor=options.highlightColor);for(i=0;i<options.xaxes.length;++i)getOrCreateAxis(xaxes,i+1).options=options.xaxes[i];for(i=0;i<options.yaxes.length;++i)getOrCreateAxis(yaxes,i+1).options=options.yaxes[i];for(n in hooks)options.hooks[n]&&options.hooks[n].length&&(hooks[n]=hooks[n].concat(options.hooks[n]));executeHooks(hooks.processOptions,[options])}function setData(d){series=parseData(d);fillInSeriesOptions();processData()}function parseData(d){var i,s,res=[];for(i=0;i<d.length;++i){s=$.extend(!0,{},options.series);if(null!=d[i].data){s.data=d[i].data;delete d[i].data;$.extend(!0,s,d[i]);d[i].data=s.data}else s.data=d[i];res.push(s)}return res}function axisNumber(obj,coord){var a=obj[coord+"axis"];"object"==typeof a&&(a=a.n);"number"!=typeof a&&(a=1);return a}function allAxes(){return $.grep(xaxes.concat(yaxes),function(a){return a})}function canvasToAxisCoords(pos){var i,axis,res={};for(i=0;i<xaxes.length;++i){axis=xaxes[i];axis&&axis.used&&(res["x"+axis.n]=axis.c2p(pos.left))}for(i=0;i<yaxes.length;++i){axis=yaxes[i];axis&&axis.used&&(res["y"+axis.n]=axis.c2p(pos.top))}void 0!==res.x1&&(res.x=res.x1);void 0!==res.y1&&(res.y=res.y1);return res}function axisToCanvasCoords(pos){var i,axis,key,res={};for(i=0;i<xaxes.length;++i){axis=xaxes[i];if(axis&&axis.used){key="x"+axis.n;null==pos[key]&&1==axis.n&&(key="x");if(null!=pos[key]){res.left=axis.p2c(pos[key]);break}}}for(i=0;i<yaxes.length;++i){axis=yaxes[i];if(axis&&axis.used){key="y"+axis.n;null==pos[key]&&1==axis.n&&(key="y");if(null!=pos[key]){res.top=axis.p2c(pos[key]);break}}}return res}function getOrCreateAxis(axes,number){axes[number-1]||(axes[number-1]={"n":number,"direction":axes==xaxes?"x":"y","options":$.extend(!0,{},axes==xaxes?options.xaxis:options.yaxis)});return axes[number-1]}function fillInSeriesOptions(){var i,sc,c,colors,colorPool,colorPoolSize,variation,colori,s,v,show,neededColors=series.length,maxIndex=-1;for(i=0;i<series.length;++i){sc=series[i].color;if(null!=sc){neededColors--;"number"==typeof sc&&sc>maxIndex&&(maxIndex=sc)}}maxIndex>=neededColors&&(neededColors=maxIndex+1);colors=[],colorPool=options.colors,colorPoolSize=colorPool.length,variation=0;for(i=0;neededColors>i;i++){c=$.color.parse(colorPool[i%colorPoolSize]||"#666");i%colorPoolSize==0&&i&&(variation=variation>=0?.5>variation?-variation-.2:0:-variation);colors[i]=c.scale("rgb",1+variation)}colori=0;for(i=0;i<series.length;++i){s=series[i];if(null==s.color){s.color=colors[colori].toString();++colori}else"number"==typeof s.color&&(s.color=colors[s.color].toString());if(null==s.lines.show){show=!0;for(v in s)if(s[v]&&s[v].show){show=!1;break}show&&(s.lines.show=!0)}null==s.lines.zero&&(s.lines.zero=!!s.lines.fill);s.xaxis=getOrCreateAxis(xaxes,axisNumber(s,"x"));s.yaxis=getOrCreateAxis(yaxes,axisNumber(s,"y"))}}function processData(){function updateAxis(axis,min,max){min<axis.datamin&&min!=-fakeInfinity&&(axis.datamin=min);max>axis.datamax&&max!=fakeInfinity&&(axis.datamax=max)}var i,j,k,m,s,points,ps,val,f,p,data,format,autoscale,insertSteps,nullify,xmin,ymin,xmax,ymax,delta,topSentry=Number.POSITIVE_INFINITY,bottomSentry=Number.NEGATIVE_INFINITY,fakeInfinity=Number.MAX_VALUE;$.each(allAxes(),function(_,axis){axis.datamin=topSentry;axis.datamax=bottomSentry;axis.used=!1});for(i=0;i<series.length;++i){s=series[i];s.datapoints={"points":[]};executeHooks(hooks.processRawData,[s,s.data,s.datapoints])}for(i=0;i<series.length;++i){s=series[i];data=s.data;format=s.datapoints.format;if(!format){format=[];format.push({"x":!0,"number":!0,"required":!0});format.push({"y":!0,"number":!0,"required":!0});if(s.bars.show||s.lines.show&&s.lines.fill){autoscale=!!(s.bars.show&&s.bars.zero||s.lines.show&&s.lines.zero);format.push({"y":!0,"number":!0,"required":!1,"defaultValue":0,"autoscale":autoscale});if(s.bars.horizontal){delete format[format.length-1].y;format[format.length-1].x=!0}}s.datapoints.format=format}if(null!=s.datapoints.pointsize)continue;s.datapoints.pointsize=format.length;ps=s.datapoints.pointsize;points=s.datapoints.points;insertSteps=s.lines.show&&s.lines.steps;s.xaxis.used=s.yaxis.used=!0;for(j=k=0;j<data.length;++j,k+=ps){p=data[j];nullify=null==p;if(!nullify)for(m=0;ps>m;++m){val=p[m];f=format[m];if(f){if(f.number&&null!=val){val=+val;isNaN(val)?val=null:val==1/0?val=fakeInfinity:val==-(1/0)&&(val=-fakeInfinity)}if(null==val){f.required&&(nullify=!0);null!=f.defaultValue&&(val=f.defaultValue)}}points[k+m]=val}if(nullify)for(m=0;ps>m;++m){val=points[k+m];if(null!=val){f=format[m];if(f.autoscale!==!1){f.x&&updateAxis(s.xaxis,val,val);f.y&&updateAxis(s.yaxis,val,val)}}points[k+m]=null}else if(insertSteps&&k>0&&null!=points[k-ps]&&points[k-ps]!=points[k]&&points[k-ps+1]!=points[k+1]){for(m=0;ps>m;++m)points[k+ps+m]=points[k+m];points[k+1]=points[k-ps+1];k+=ps}}}for(i=0;i<series.length;++i){s=series[i];executeHooks(hooks.processDatapoints,[s,s.datapoints])}for(i=0;i<series.length;++i){s=series[i];points=s.datapoints.points;ps=s.datapoints.pointsize;format=s.datapoints.format;xmin=topSentry,ymin=topSentry,xmax=bottomSentry,ymax=bottomSentry;for(j=0;j<points.length;j+=ps){if(null==points[j])continue;for(m=0;ps>m;++m){val=points[j+m];f=format[m];
if(!f||f.autoscale===!1||val==fakeInfinity||val==-fakeInfinity)continue;if(f.x){xmin>val&&(xmin=val);val>xmax&&(xmax=val)}if(f.y){ymin>val&&(ymin=val);val>ymax&&(ymax=val)}}}if(s.bars.show){switch(s.bars.align){case"left":delta=0;break;case"right":delta=-s.bars.barWidth;break;default:delta=-s.bars.barWidth/2}if(s.bars.horizontal){ymin+=delta;ymax+=delta+s.bars.barWidth}else{xmin+=delta;xmax+=delta+s.bars.barWidth}}updateAxis(s.xaxis,xmin,xmax);updateAxis(s.yaxis,ymin,ymax)}$.each(allAxes(),function(_,axis){axis.datamin==topSentry&&(axis.datamin=null);axis.datamax==bottomSentry&&(axis.datamax=null)})}function setupCanvases(){placeholder.css("padding",0).children().filter(function(){return!$(this).hasClass("flot-overlay")&&!$(this).hasClass("flot-base")}).remove();"static"==placeholder.css("position")&&placeholder.css("position","relative");surface=new Canvas("flot-base",placeholder);overlay=new Canvas("flot-overlay",placeholder);ctx=surface.context;octx=overlay.context;eventHolder=$(overlay.element).unbind();var existing=placeholder.data("plot");if(existing){existing.shutdown();overlay.clear()}placeholder.data("plot",plot)}function bindEvents(){if(options.grid.hoverable){eventHolder.mousemove(onMouseMove);eventHolder.bind("mouseleave",onMouseLeave)}options.grid.clickable&&eventHolder.click(onClick);executeHooks(hooks.bindEvents,[eventHolder])}function shutdown(){redrawTimeout&&clearTimeout(redrawTimeout);eventHolder.unbind("mousemove",onMouseMove);eventHolder.unbind("mouseleave",onMouseLeave);eventHolder.unbind("click",onClick);executeHooks(hooks.shutdown,[eventHolder])}function setTransformationHelpers(axis){function identity(x){return x}var s,m,t=axis.options.transform||identity,it=axis.options.inverseTransform;if("x"==axis.direction){s=axis.scale=plotWidth/Math.abs(t(axis.max)-t(axis.min));m=Math.min(t(axis.max),t(axis.min))}else{s=axis.scale=plotHeight/Math.abs(t(axis.max)-t(axis.min));s=-s;m=Math.max(t(axis.max),t(axis.min))}t==identity?axis.p2c=function(p){return(p-m)*s}:axis.p2c=function(p){return(t(p)-m)*s};it?axis.c2p=function(c){return it(m+c/s)}:axis.c2p=function(c){return m+c/s}}function measureTickLabels(axis){var i,t,info,opts=axis.options,ticks=axis.ticks||[],labelWidth=opts.labelWidth||0,labelHeight=opts.labelHeight||0,maxWidth=labelWidth||("x"==axis.direction?Math.floor(surface.width/(ticks.length||1)):null),legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=opts.font||"flot-tick-label tickLabel";for(i=0;i<ticks.length;++i){t=ticks[i];if(!t.label)continue;info=surface.getTextInfo(layer,t.label,font,null,maxWidth);labelWidth=Math.max(labelWidth,info.width);labelHeight=Math.max(labelHeight,info.height)}axis.labelWidth=opts.labelWidth||labelWidth;axis.labelHeight=opts.labelHeight||labelHeight}function allocateAxisBoxFirstPhase(axis){var lw=axis.labelWidth,lh=axis.labelHeight,pos=axis.options.position,isXAxis="x"===axis.direction,tickLength=axis.options.tickLength,axisMargin=options.grid.axisMargin,padding=options.grid.labelMargin,innermost=!0,outermost=!0,first=!0,found=!1;axis.ticksLengthDiffer=axis.options.ticksLengthDiffer;if(axis.ticksLengthDiffer){axis.labelPaddingObj={};axis.labelPaddingObj.paddingMin=(axis.ticksLengthDiffer.min||6)+padding;axis.labelPaddingObj.paddingMax=(axis.ticksLengthDiffer.max||30)+padding}$.each(isXAxis?xaxes:yaxes,function(i,a){if(a&&a.reserveSpace){a===axis?found=!0:a.options.position===pos&&(found?outermost=!1:innermost=!1);found||(first=!1)}});outermost&&(axisMargin=0);null==tickLength&&(tickLength=first?"full":5);isNaN(+tickLength)||(padding+=+tickLength);if(isXAxis){lh+=padding;if("bottom"==pos){plotOffset.bottom+=lh+axisMargin;axis.box={"top":surface.height-plotOffset.bottom,"height":lh}}else{axis.box={"top":plotOffset.top+axisMargin,"height":lh};plotOffset.top+=lh+axisMargin}}else{lw+=padding;if("left"==pos){axis.box={"left":plotOffset.left+axisMargin,"width":lw};plotOffset.left+=lw+axisMargin}else{plotOffset.right+=lw+axisMargin;axis.box={"left":surface.width-plotOffset.right,"width":lw}}}axis.position=pos;axis.tickLength=tickLength;axis.box.padding=padding;axis.innermost=innermost}function allocateAxisBoxSecondPhase(axis){if("x"==axis.direction){axis.box.left=plotOffset.left-axis.labelWidth/2;axis.box.width=surface.width-plotOffset.left-plotOffset.right+axis.labelWidth}else{axis.box.top=plotOffset.top-axis.labelHeight/2;axis.box.height=surface.height-plotOffset.bottom-plotOffset.top+axis.labelHeight}}function adjustLayoutForThingsStickingOut(){var i,margins,minMargin=options.grid.minBorderMargin;if(null==minMargin){minMargin=0;for(i=0;i<series.length;++i)minMargin=Math.max(minMargin,2*(series[i].points.radius+series[i].points.lineWidth/2))}margins={"left":minMargin,"right":minMargin,"top":minMargin,"bottom":minMargin};$.each(allAxes(),function(_,axis){if(axis.reserveSpace&&axis.ticks&&axis.ticks.length){var lastTick=axis.ticks[axis.ticks.length-1];if("x"===axis.direction){margins.left=Math.max(margins.left,axis.labelWidth/2);lastTick.v<=axis.max&&(margins.right=Math.max(margins.right,axis.labelWidth/2))}else{margins.bottom=Math.max(margins.bottom,axis.labelHeight/2);lastTick.v<=axis.max&&(margins.top=Math.max(margins.top,axis.labelHeight/2))}}});plotOffset.left=Math.ceil(Math.max(margins.left,plotOffset.left));plotOffset.right=Math.ceil(Math.max(margins.right,plotOffset.right));plotOffset.top=Math.ceil(Math.max(margins.top,plotOffset.top));plotOffset.bottom=Math.ceil(Math.max(margins.bottom,plotOffset.bottom))}function setupGrid(flotLegendId){var i,a,margin,allocatedAxes,axes=allAxes(),showGrid=options.grid.show;for(a in plotOffset){margin=options.grid.margin||0;plotOffset[a]="number"==typeof margin?margin:margin[a]||0}executeHooks(hooks.processOffset,[plotOffset]);for(a in plotOffset)"object"==typeof options.grid.borderWidth?plotOffset[a]+=showGrid?options.grid.borderWidth[a]:0:plotOffset[a]+=showGrid?options.grid.borderWidth:0;$.each(axes,function(_,axis){axis.show=axis.options.show;null==axis.show&&(axis.show=axis.used);axis.reserveSpace=axis.show||axis.options.reserveSpace;setRange(axis)});if(showGrid){allocatedAxes=$.grep(axes,function(axis){return axis.reserveSpace});$.each(allocatedAxes,function(_,axis){setupTickGeneration(axis);setTicks(axis);snapRangeToTicks(axis,axis.ticks);measureTickLabels(axis)});for(i=allocatedAxes.length-1;i>=0;--i)allocateAxisBoxFirstPhase(allocatedAxes[i]);adjustLayoutForThingsStickingOut();$.each(allocatedAxes,function(_,axis){allocateAxisBoxSecondPhase(axis)})}plotWidth=surface.width-plotOffset.left-plotOffset.right;plotHeight=surface.height-plotOffset.bottom-plotOffset.top;$.each(axes,function(_,axis){setTransformationHelpers(axis)});showGrid&&drawAxisLabels();insertLegend(flotLegendId)}function setRange(axis){var widen,margin,opts=axis.options,min=+(null!=opts.min?opts.min:axis.datamin),max=+(null!=opts.max?opts.max:axis.datamax),delta=max-min;if(0==delta){widen=0==max?1:.01;null==opts.min&&(min-=widen);(null==opts.max||null!=opts.min)&&(max+=widen)}else{margin=opts.autoscaleMargin;if(null!=margin){if(null==opts.min){min-=delta*margin;0>min&&null!=axis.datamin&&axis.datamin>=0&&(min=0)}if(null==opts.max){max+=delta*margin;max>0&&null!=axis.datamax&&axis.datamax<=0&&(max=0)}}}axis.min=min;axis.max=max}function setupTickGeneration(axis){var noTicks,delta,dec,maxDec,magn,norm,size,otherAxis,niceTicks,extraDec,ts,opts=axis.options;noTicks="number"==typeof opts.ticks&&opts.ticks>0?opts.ticks:.3*Math.sqrt("x"==axis.direction?surface.width:surface.height);delta=(axis.max-axis.min)/noTicks,dec=-Math.floor(Math.log(delta)/Math.LN10),maxDec=opts.tickDecimals;null!=maxDec&&dec>maxDec&&(dec=maxDec);magn=Math.pow(10,-dec),norm=delta/magn;if(1.5>norm)size=1;else if(3>norm){size=2;if(norm>2.25&&(null==maxDec||maxDec>=dec+1)){size=2.5;++dec}}else size=7.5>norm?5:10;size*=magn;null!=opts.minTickSize&&size<opts.minTickSize&&(size=opts.minTickSize);axis.delta=delta;axis.tickDecimals=Math.max(0,null!=maxDec?maxDec:dec);axis.tickSize=opts.tickSize||size;if("time"==opts.mode&&!axis.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(!axis.tickGenerator){axis.tickGenerator=function(axis){var prev,ticks=[],start=floorInBase(axis.min,axis.tickSize),i=0,v=Number.NaN;do{prev=v;v=start+i*axis.tickSize;ticks.push(v);++i}while(v<axis.max&&v!=prev);return ticks};axis.tickFormatter=function(value,axis){var decimal,precision,factor=axis.tickDecimals?Math.pow(10,axis.tickDecimals):1,formatted=""+Math.round(value*factor)/factor;if(null!=axis.tickDecimals){decimal=formatted.indexOf(".");precision=-1==decimal?0:formatted.length-decimal-1;if(precision<axis.tickDecimals)return(precision?formatted:formatted+".")+(""+factor).substr(1,axis.tickDecimals-precision)}return formatted}}$.isFunction(opts.tickFormatter)&&(axis.tickFormatter=function(v,axis){return""+opts.tickFormatter(v,axis)});if(null!=opts.alignTicksWithAxis){otherAxis=("x"==axis.direction?xaxes:yaxes)[opts.alignTicksWithAxis-1];if(otherAxis&&otherAxis.used&&otherAxis!=axis){niceTicks=axis.tickGenerator(axis);if(niceTicks.length>0){null==opts.min&&(axis.min=Math.min(axis.min,niceTicks[0]));null==opts.max&&niceTicks.length>1&&(axis.max=Math.max(axis.max,niceTicks[niceTicks.length-1]))}axis.tickGenerator=function(axis){var v,i,ticks=[];for(i=0;i<otherAxis.ticks.length;++i){v=(otherAxis.ticks[i].v-otherAxis.min)/(otherAxis.max-otherAxis.min);v=axis.min+v*(axis.max-axis.min);ticks.push(v)}return ticks};if(!axis.mode&&null==opts.tickDecimals){extraDec=Math.max(0,-Math.floor(Math.log(axis.delta)/Math.LN10)+1),ts=axis.tickGenerator(axis);ts.length>1&&/\..*0$/.test((ts[1]-ts[0]).toFixed(extraDec))||(axis.tickDecimals=extraDec)}}}}function setTicks(axis){var i,v,label,t,oticks=axis.options.ticks,ticks=[];null==oticks||"number"==typeof oticks&&oticks>0?ticks=axis.tickGenerator(axis):oticks&&(ticks=$.isFunction(oticks)?oticks(axis):oticks);axis.ticks=[];for(i=0;i<ticks.length;++i){label=null;t=ticks[i];if("object"==typeof t){v=+t[0];t.length>1&&(label=t[1])}else v=+t;null==label&&(label=axis.tickFormatter(v,axis));isNaN(v)||axis.ticks.push({"v":v,"label":label})}}function snapRangeToTicks(axis,ticks){if(axis.options.autoscaleMargin&&ticks.length>0){null==axis.options.min&&(axis.min=Math.min(axis.min,ticks[0].v));null==axis.options.max&&ticks.length>1&&(axis.max=Math.max(axis.max,ticks[ticks.length-1].v))}}function draw(){var grid,i;surface.clear();executeHooks(hooks.drawBackground,[ctx]);grid=options.grid;grid.show&&grid.backgroundColor&&drawBackground();grid.show&&!grid.aboveData&&drawGrid();for(i=0;i<series.length;++i){executeHooks(hooks.drawSeries,[ctx,series[i]]);drawSeries(series[i])}executeHooks(hooks.draw,[ctx]);grid.show&&grid.aboveData&&drawGrid();surface.render();triggerRedrawOverlay()}function extractRange(ranges,coord){var axis,from,to,key,i,tmp,axes=allAxes();for(i=0;i<axes.length;++i){axis=axes[i];if(axis.direction==coord){key=coord+axis.n+"axis";ranges[key]||1!=axis.n||(key=coord+"axis");if(ranges[key]){from=ranges[key].from;to=ranges[key].to;break}}}if(!ranges[key]){axis="x"==coord?xaxes[0]:yaxes[0];from=ranges[coord+"1"];to=ranges[coord+"2"]}if(null!=from&&null!=to&&from>to){tmp=from;from=to;to=tmp}return{"from":from,"to":to,"axis":axis}}function drawBackground(){ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.fillStyle=getColorOrGradient(options.grid.backgroundColor,plotHeight,0,"rgba(255, 255, 255, 0)");ctx.fillRect(0,0,plotWidth,plotHeight);ctx.restore()}function drawGrid(){var i,axes,bw,bc,markings,m,xrange,yrange,xequal,yequal,lineWidth,subPixel,j,axis,box,t,x,y,xoff,yoff,v;ctx.save();ctx.translate(plotOffset.left,plotOffset.top);markings=options.grid.markings;if(markings){if($.isFunction(markings)){axes=plot.getAxes();axes.xmin=axes.xaxis.min;axes.xmax=axes.xaxis.max;axes.ymin=axes.yaxis.min;axes.ymax=axes.yaxis.max;markings=markings(axes)}for(i=0;i<markings.length;++i){m=markings[i],xrange=extractRange(m,"x"),yrange=extractRange(m,"y");null==xrange.from&&(xrange.from=xrange.axis.min);null==xrange.to&&(xrange.to=xrange.axis.max);null==yrange.from&&(yrange.from=yrange.axis.min);null==yrange.to&&(yrange.to=yrange.axis.max);if(xrange.to<xrange.axis.min||xrange.from>xrange.axis.max||yrange.to<yrange.axis.min||yrange.from>yrange.axis.max)continue;xrange.from=Math.max(xrange.from,xrange.axis.min);xrange.to=Math.min(xrange.to,xrange.axis.max);yrange.from=Math.max(yrange.from,yrange.axis.min);yrange.to=Math.min(yrange.to,yrange.axis.max);xequal=xrange.from===xrange.to,yequal=yrange.from===yrange.to;if(xequal&&yequal)continue;xrange.from=Math.floor(xrange.axis.p2c(xrange.from));xrange.to=Math.floor(xrange.axis.p2c(xrange.to));yrange.from=Math.floor(yrange.axis.p2c(yrange.from));yrange.to=Math.floor(yrange.axis.p2c(yrange.to));if(xequal||yequal){lineWidth=m.lineWidth||options.grid.markingsLineWidth,subPixel=lineWidth%2?.5:0;ctx.beginPath();ctx.strokeStyle=m.color||options.grid.markingsColor;ctx.lineWidth=lineWidth;if(xequal)if("dashed"==options.grid.markingsStyle)ctx.dashedLineTo(xrange.from,yrange.from,xrange.to+subPixel,yrange.to+subPixel,[2,2]);else{ctx.moveTo(xrange.to+subPixel,yrange.from);ctx.lineTo(xrange.to+subPixel,yrange.to)}else if("dashed"==options.grid.markingsStyle)ctx.dashedLineTo(xrange.from,yrange.from,xrange.to,yrange.to,[2,2]);else{ctx.moveTo(xrange.from,yrange.to+subPixel);ctx.lineTo(xrange.to,yrange.to+subPixel)}ctx.stroke()}else{ctx.fillStyle=m.color||options.grid.markingsColor;ctx.fillRect(xrange.from,yrange.to,xrange.to-xrange.from,yrange.from-yrange.to)}}}axes=allAxes();bw=options.grid.borderWidth;for(j=0;j<axes.length;++j){axis=axes[j],box=axis.box,t=axis.tickLength;if(!axis.show||0==axis.ticks.length)continue;ctx.lineWidth=1;if("x"==axis.direction){x=0;y="full"==t?"top"==axis.position?0:plotHeight:box.top-plotOffset.top+("top"==axis.position?box.height:0)}else{y=0;x="full"==t?"left"==axis.position?0:plotWidth:box.left-plotOffset.left+("left"==axis.position?box.width:0)}if(!axis.innermost){ctx.strokeStyle=axis.options.color;ctx.beginPath();xoff=yoff=0;"x"==axis.direction?xoff=plotWidth+1:yoff=plotHeight+1;1==ctx.lineWidth&&("x"==axis.direction?y=Math.floor(y)+.5:x=Math.floor(x)+.5);ctx.moveTo(x,y);ctx.lineTo(x+xoff,y+yoff);ctx.stroke()}ctx.strokeStyle=axis.options.tickColor;ctx.beginPath();for(i=0;i<axis.ticks.length;++i){v=axis.ticks[i].v;xoff=yoff=0;if(isNaN(v)||v<axis.min||v>axis.max||"full"==t&&("object"==typeof bw&&bw[axis.position]>0||bw>0)&&(v==axis.min||v==axis.max))continue;if("x"==axis.direction){x=axis.p2c(v);yoff="full"==t?-plotHeight:t;"top"==axis.position&&(yoff=-yoff)}else{y=axis.p2c(v);xoff="full"==t?-plotWidth:t;"left"==axis.position&&(xoff=-xoff)}1==ctx.lineWidth&&("x"==axis.direction?x=Math.floor(x)+.5:y=Math.floor(y)+.5);if("dashed"==options.grid.ticksStyle&&"full"==t)ctx.dashedLineTo(x,y,x+xoff,y+yoff,[2,2]);else{ctx.moveTo(x,y);if("x"==axis.direction&&axis.ticksLengthDiffer){yoff=i%2==0?axis.ticksLengthDiffer.min||yoff:axis.ticksLengthDiffer.max||30;"top"==axis.position&&(yoff=-yoff)}ctx.lineTo(x+xoff,y+yoff)}}ctx.stroke()}if(bw){bc=options.grid.borderColor;if("object"==typeof bw||"object"==typeof bc){"object"!=typeof bw&&(bw={"top":bw,"right":bw,"bottom":bw,"left":bw});"object"!=typeof bc&&(bc={"top":bc,"right":bc,"bottom":bc,"left":bc});if(bw.top>0){ctx.strokeStyle=bc.top;ctx.lineWidth=bw.top;ctx.beginPath();ctx.moveTo(0-bw.left,0-bw.top/2);ctx.lineTo(plotWidth,0-bw.top/2);ctx.stroke()}if(bw.right>0){ctx.strokeStyle=bc.right;ctx.lineWidth=bw.right;ctx.beginPath();ctx.moveTo(plotWidth+bw.right/2,0-bw.top);ctx.lineTo(plotWidth+bw.right/2,plotHeight);ctx.stroke()}if(bw.bottom>0){ctx.strokeStyle=bc.bottom;ctx.lineWidth=bw.bottom;ctx.beginPath();ctx.moveTo(plotWidth+bw.right,plotHeight+bw.bottom/2);ctx.lineTo(0,plotHeight+bw.bottom/2);ctx.stroke()}if(bw.left>0){ctx.strokeStyle=bc.left;ctx.lineWidth=bw.left;ctx.beginPath();ctx.moveTo(0-bw.left/2,plotHeight+bw.bottom);ctx.lineTo(0-bw.left/2,0);ctx.stroke()}}else{ctx.lineWidth=bw;ctx.strokeStyle=options.grid.borderColor;ctx.strokeRect(-bw/2,-bw/2,plotWidth+bw,plotHeight+bw)}}ctx.restore()}function drawAxisLabels(){$.each(allAxes(),function(_,axis){var tick,x,y,halign,valign,i,box=axis.box,labelPadding=axis.labelPaddingObj,ticksLengthDiffer=axis.ticksLengthDiffer,legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=axis.options.font||"flot-tick-label tickLabel";surface.removeText(layer);if(!axis.show||0==axis.ticks.length)return;for(i=0;i<axis.ticks.length;++i){tick=axis.ticks[i];if(!tick.label||tick.v<axis.min||tick.v>axis.max)continue;if("x"==axis.direction){halign="center";x=plotOffset.left+axis.p2c(tick.v);if("bottom"==axis.position)y=ticksLengthDiffer?i%2==0?box.top+labelPadding.paddingMin:box.top+labelPadding.paddingMax:box.top+box.padding;else{y=ticksLengthDiffer?i%2==0?box.top+box.height-labelPadding.paddingMin:box.top+box.height-labelPadding.paddingMax:box.top+box.height-box.padding;valign="bottom"}}else{valign="middle";y=plotOffset.top+axis.p2c(tick.v);if("left"==axis.position){x=box.left+box.width-box.padding;halign="right"}else x=box.left+box.padding}surface.addText(layer,x,y,tick.label,font,null,null,halign,valign)}})}function drawSeries(series){series.lines.show&&drawSeriesLines(series);series.bars.show&&drawSeriesBars(series);series.points.show&&drawSeriesPoints(series)}function drawSeriesLines(series){function plotLine(datapoints,xoffset,yoffset,axisx,axisy){var i,x1,y1,x2,y2,points=datapoints.points,ps=datapoints.pointsize,prevx=null,prevy=null;ctx.beginPath();for(i=ps;i<points.length;i+=ps){x1=points[i-ps],y1=points[i-ps+1],x2=points[i],y2=points[i+1];if(null==x1||null==x2)continue;if(y2>=y1&&y1<axisy.min){if(y2<axisy.min)continue;x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.min}else if(y1>=y2&&y2<axisy.min){if(y1<axisy.min)continue;x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.min}if(y1>=y2&&y1>axisy.max){if(y2>axisy.max)continue;x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.max}else if(y2>=y1&&y2>axisy.max){if(y1>axisy.max)continue;x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.max}if(x2>=x1&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.min}else if(x1>=x2&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.max}(x1!=prevx||y1!=prevy)&&ctx.moveTo(axisx.p2c(x1)+xoffset,axisy.p2c(y1)+yoffset);prevx=x2;prevy=y2;ctx.lineTo(axisx.p2c(x2)+xoffset,axisy.p2c(y2)+yoffset)}ctx.stroke()}function plotLineArea(datapoints,axisx,axisy){var x1,y1,x2,y2,x1old,x2old,points=datapoints.points,ps=datapoints.pointsize,bottom=Math.min(Math.max(0,axisy.min),axisy.max),i=0,areaOpen=!1,ypos=1,segmentStart=0,segmentEnd=0;for(;;){if(ps>0&&i>points.length+ps)break;i+=ps;x1=points[i-ps],y1=points[i-ps+ypos],x2=points[i],y2=points[i+ypos];if(areaOpen){if(ps>0&&null!=x1&&null==x2){segmentEnd=i;ps=-ps;ypos=2;continue}if(0>ps&&i==segmentStart+ps){ctx.fill();areaOpen=!1;ps=-ps;ypos=1;i=segmentStart=segmentEnd+ps;continue}}if(null==x1||null==x2)continue;if(x2>=x1&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.min}else if(x1>=x2&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.max}if(!areaOpen){ctx.beginPath();ctx.moveTo(axisx.p2c(x1),axisy.p2c(bottom));areaOpen=!0}if(y1>=axisy.max&&y2>=axisy.max){ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.max));ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.max));continue}if(y1<=axisy.min&&y2<=axisy.min){ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.min));ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.min));continue}x1old=x1,x2old=x2;if(y2>=y1&&y1<axisy.min&&y2>=axisy.min){x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.min}else if(y1>=y2&&y2<axisy.min&&y1>=axisy.min){x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.min}if(y1>=y2&&y1>axisy.max&&y2<=axisy.max){x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.max}else if(y2>=y1&&y2>axisy.max&&y1<=axisy.max){x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.max}x1!=x1old&&ctx.lineTo(axisx.p2c(x1old),axisy.p2c(y1));ctx.lineTo(axisx.p2c(x1),axisy.p2c(y1));ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2));if(x2!=x2old){ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2));ctx.lineTo(axisx.p2c(x2old),axisy.p2c(y2))}}}var lw,sw,angle,fillStyle;ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.lineJoin="round";lw=series.lines.lineWidth,sw=series.shadowSize;if(lw>0&&sw>0){ctx.lineWidth=sw;ctx.strokeStyle="rgba(0,0,0,0.1)";angle=Math.PI/18;plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/2),Math.cos(angle)*(lw/2+sw/2),series.xaxis,series.yaxis);ctx.lineWidth=sw/2;plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/4),Math.cos(angle)*(lw/2+sw/4),series.xaxis,series.yaxis)}ctx.lineWidth=lw;ctx.strokeStyle=series.color;fillStyle=getFillStyle(series.lines,series.color,0,plotHeight);if(fillStyle){ctx.fillStyle=fillStyle;plotLineArea(series.datapoints,series.xaxis,series.yaxis)}lw>0&&plotLine(series.datapoints,0,0,series.xaxis,series.yaxis);ctx.restore()}function drawSeriesPoints(series){function plotPoints(datapoints,radius,fillStyle,offset,shadow,axisx,axisy,symbol){var i,x,y,points=datapoints.points,ps=datapoints.pointsize;for(i=0;i<points.length;i+=ps){x=points[i],y=points[i+1];if(null==x||x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max)continue;ctx.beginPath();x=axisx.p2c(x);y=axisy.p2c(y)+offset;ctx.fillStyle=fillStyle;"circle"==symbol?ctx.arc(x,y,radius,0,shadow?Math.PI:2*Math.PI,!1):symbol(ctx,x,y,radius,shadow);ctx.closePath();ctx.fillStyle==fillStyle&&ctx.fill();ctx.stroke()}}var lw,sw,radius,symbol,w;ctx.save();ctx.translate(plotOffset.left,plotOffset.top);lw=series.points.lineWidth,sw=series.shadowSize,radius=series.points.radius,symbol=series.points.symbol;0==lw&&(lw=1e-4);if(lw>0&&sw>0){w=sw/2;ctx.lineWidth=w;ctx.strokeStyle="rgba(0,0,0,0.1)";plotPoints(series.datapoints,radius,null,w+w/2,!0,series.xaxis,series.yaxis,symbol);ctx.strokeStyle="rgba(0,0,0,0.2)";plotPoints(series.datapoints,radius,null,w/2,!0,series.xaxis,series.yaxis,symbol)}ctx.lineWidth=lw;ctx.strokeStyle=series.color;plotPoints(series.datapoints,radius,getFillStyle(series.points,series.color),0,!1,series.xaxis,series.yaxis,symbol);ctx.restore()}function drawBar(x,y,b,barLeft,barRight,fillStyleCallback,axisx,axisy,c,horizontal,lineWidth){var left,right,bottom,top,drawLeft,drawRight,drawTop,drawBottom,tmp;if(horizontal){drawBottom=drawRight=drawTop=!0;drawLeft=!1;left=b;right=x;top=y+barLeft;bottom=y+barRight;if(left>right){tmp=right;right=left;left=tmp;drawLeft=!0;drawRight=!1}}else{drawLeft=drawRight=drawTop=!0;drawBottom=!1;left=x+barLeft;right=x+barRight;bottom=b;top=y;if(bottom>top){tmp=top;top=bottom;bottom=tmp;drawBottom=!0;drawTop=!1}}if(right<axisx.min||left>axisx.max||top<axisy.min||bottom>axisy.max)return;if(left<axisx.min){left=axisx.min;drawLeft=!1}if(right>axisx.max){right=axisx.max;drawRight=!1}if(bottom<axisy.min){bottom=axisy.min;drawBottom=!1}if(top>axisy.max){top=axisy.max;drawTop=!1}left=axisx.p2c(left);bottom=axisy.p2c(bottom);right=axisx.p2c(right);top=axisy.p2c(top);if(fillStyleCallback){c.fillStyle=fillStyleCallback(bottom,top);c.fillRect(left,top,right-left,bottom-top)}if(lineWidth>0&&(drawLeft||drawRight||drawTop||drawBottom)){c.beginPath();c.moveTo(left,bottom);drawLeft?c.lineTo(left,top):c.moveTo(left,top);drawTop?c.lineTo(right,top):c.moveTo(right,top);drawRight?c.lineTo(right,bottom):c.moveTo(right,bottom);drawBottom?c.lineTo(left,bottom):c.moveTo(left,bottom);c.stroke()}}function drawSeriesBars(series){function plotBars(datapoints,barLeft,barRight,fillStyleCallback,axisx,axisy){var i,points=datapoints.points,ps=datapoints.pointsize;for(i=0;i<points.length;i+=ps){if(null==points[i])continue;drawBar(points[i],points[i+1],points[i+2],barLeft,barRight,fillStyleCallback,axisx,axisy,ctx,series.bars.horizontal,series.bars.lineWidth)}}var barLeft,fillStyleCallback;ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.lineWidth=series.bars.lineWidth;ctx.strokeStyle=series.color;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}fillStyleCallback=series.bars.fill?function(bottom,top){return getFillStyle(series.bars,series.color,bottom,top)}:null;plotBars(series.datapoints,barLeft,barLeft+series.bars.barWidth,fillStyleCallback,series.xaxis,series.yaxis);ctx.restore()}function getFillStyle(filloptions,seriesColor,bottom,top){var c,fill=filloptions.fill;if(!fill)return null;if(filloptions.fillColor)return getColorOrGradient(filloptions.fillColor,bottom,top,seriesColor);c=$.color.parse(seriesColor);c.a="number"==typeof fill?fill:.4;c.normalize();return c.toString()}function reDrawLine($clickElement,entries){var displayLines=$clickElement.parents("table").find("td.display_line"),newData=[];displayLines.each(function(){var key=$(this)[0].tinyLineplotLabel,entry=_.filter(entries,function(entry){return key===entry.label});entry.length>0&&$.each(entry,function(i,iEntry){iEntry.data&&!_.contains(iEntry.data,null)&&newData.push(iEntry)})});plot.setData(newData);plot.draw();0==plot.getData().length&&$(plot.getPlaceholder().selector+"_tooltip").hide()}function drawMarkup(canvasThis,strokeStyle){canvasThis.clear();var mtx=canvasThis.context;mtx.beginPath();mtx.lineWidth=2;mtx.strokeStyle=strokeStyle;mtx.arc(9,9,6,0,2*Math.PI,!1);mtx.stroke()}function toggleSeries(clickElement,entries){var strokeStyle=$(clickElement).parent().attr("entryColor"),canvasThis=$(clickElement).data("canvasThis"),$labelDiv=$(clickElement).parents("td").next();if($labelDiv.hasClass("display_line")){$labelDiv.removeClass("display_line").addClass("no_display_line");strokeStyle="#aaaaaa";drawMarkup(canvasThis,strokeStyle);reDrawLine($(clickElement),entries)}else{$labelDiv.removeClass("no_display_line").addClass("display_line");drawMarkup(canvasThis,strokeStyle);reDrawLine($(clickElement),entries)}}function insertLegend(flotLegendId){var fragments,entries,preLabels,rowStarted,lf,s,label,i,ascending,legendCursor,entry,table,pos,legendWrapper,tempDiv,labelWidth,labelHeight,p,m,legend,$allLegendLabel,labelNum,markupList,unique_class,index,markupClass,markupCanvas,mtx,mtxEventHolder,c,div;null!=options.legend.container?$(options.legend.container).html(""):placeholder.find("."+flotLegendId).remove();if(!options.legend.show)return;fragments=[],entries=[],preLabels=[],rowStarted=!1,lf=options.legend.labelFormatter;for(i=0;i<series.length;++i){s=series[i];if(s.label){label=lf?lf(s.label,s):s.label;label&&entries.push({"label":label,"color":s.color,"data":s.data,"bars":s.bars})}}if(options.legend.sorted)if($.isFunction(options.legend.sorted))entries.sort(options.legend.sorted);else if("reverse"==options.legend.sorted)entries.reverse();else{ascending="descending"!=options.legend.sorted;entries.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=ascending?1:-1})}legendCursor="";"true"==String(options_.legend.enableClick)&&(legendCursor="tiny-lineplot-legendColor");for(i=0;i<entries.length;++i){entry=entries[i];if(-1!==$.inArray(entry.label,preLabels)){preLabels.push(entry.label);continue}preLabels.push(entry.label);if(i%options.legend.noColumns==0){rowStarted&&fragments.push("</tr>");fragments.push("<tr>");rowStarted=!0}fragments.push('<td class="legendColorBox '+legendCursor+'" ><div style="width:17px;height:17px;" entryColor="'+entry.color+'"></div></td><td class="legendLabel">'+entry.label+"</td>")}rowStarted&&fragments.push("</tr>");if(0==fragments.length)return;table='<table class="legendCursor" style="font-size:smaller;color:'+options.grid.color+'">'+fragments.join("")+"</table>";pos="";legendWrapper="";if(null!=options.legend.container){tempDiv=$("<div>"+table+"</div>").appendTo($(options.legend.container));labelWidth=$("table",tempDiv).width();labelHeight=$("table",tempDiv).height();tempDiv.remove();pos="top:0px;left:0px;";$(options.legend.container).css("position","relative");legendWrapper=$(options.legend.container)}else{p=options.legend.position,m=options.legend.margin;null==m[0]&&(m=[m,m]);"n"==p.charAt(0)?pos+="top:"+(m[1]+plotOffset.top)+"px;":"s"==p.charAt(0)&&(pos+="bottom:"+(m[1]+plotOffset.bottom)+"px;");"e"==p.charAt(1)?pos+="right:"+(m[0]+plotOffset.right)+"px;":"w"==p.charAt(1)&&(pos+="left:"+(m[0]+plotOffset.left)+"px;");legendWrapper=placeholder}legend=$("<div>"+table.replace('style="','style="position:absolute;'+pos+";")+"</div>").appendTo(legendWrapper);$allLegendLabel=legend.find(".legendLabel");labelNum=$allLegendLabel.length;if(labelNum)for(i=0;labelNum>i;i++)$($allLegendLabel[i])[0].tinyLineplotLabel=entries[i].label;legend.addClass(flotLegendId);legend.bind("mouseenter",function(){$(plot.getPlaceholder().selector+"_tooltip").hide();plot.triggerRedrawOverlay(0)});markupList=$("."+flotLegendId).find("div[entryColor]");unique_class=0;for(index=0;index<markupList.length;++index){$markupDiv=$(markupList[index]);markupClass=(++unique_class).toString();$markupDiv.addClass(markupClass);$markupDiv.parent("td").next().addClass("display_line");markupCanvas=new Canvas(markupClass,$markupDiv,"."+flotLegendId);mtx=markupCanvas.context;mtx.beginPath();mtx.lineWidth=2;mtx.strokeStyle=$markupDiv.attr("entryColor");mtx.arc(9,9,6,0,2*Math.PI,!1);mtx.stroke();mtxEventHolder=$(markupCanvas.element).unbind();mtxEventHolder.data("canvasThis",markupCanvas);"true"==String(options_.legend.enableClick)&&mtxEventHolder.bind("click",function(){toggleSeries(this,entries)})}if(0!=options.legend.backgroundOpacity){c=options.legend.backgroundColor;div=legend.children();$('<div style="position:absolute;width:'+div.width()+"px;height:"+div.height()+"px;"+pos+';"> </div>').prependTo(legend).css("opacity",options.legend.backgroundOpacity);null!==c&&legend.prev().css("background-color",c);null!=options.legend.container&&$(options.legend.container).height(labelHeight).width(labelWidth)}legend=null;markupList=null}function findNearbyItem(mouseX,mouseY,seriesFilter){var i,j,ps,s,axisx,axisy,points,mx,my,maxx,maxy,x,y,dx,dy,dist,barLeft,barRight,b,maxDistance=options.grid.mouseActiveRadius,smallestDistance=maxDistance*maxDistance+1,item=null;for(i=series.length-1;i>=0;--i){if(!seriesFilter(series[i]))continue;s=series[i],axisx=s.xaxis,axisy=s.yaxis,points=s.datapoints.points,mx=axisx.c2p(mouseX),my=axisy.c2p(mouseY),maxx=maxDistance/axisx.scale,maxy=maxDistance/axisy.scale;ps=s.datapoints.pointsize;axisx.options.inverseTransform&&(maxx=Number.MAX_VALUE);axisy.options.inverseTransform&&(maxy=Number.MAX_VALUE);if(s.lines.show||s.points.show)for(j=0;j<points.length;j+=ps){x=points[j],y=points[j+1];if(null==x)continue;if(x-mx>maxx||-maxx>x-mx||y-my>maxy||-maxy>y-my)continue;dx=Math.abs(axisx.p2c(x)-mouseX),dy=Math.abs(axisy.p2c(y)-mouseY),dist=dx*dx+dy*dy;if(smallestDistance>dist){smallestDistance=dist;item=[i,j/ps]}}if(s.bars.show&&!item){switch(s.bars.align){case"left":barLeft=0;break;case"right":barLeft=-s.bars.barWidth;break;default:barLeft=-s.bars.barWidth/2}barRight=barLeft+s.bars.barWidth;for(j=0;j<points.length;j+=ps){x=points[j],y=points[j+1],b=points[j+2];if(null==x)continue;(series[i].bars.horizontal?mx<=Math.max(b,x)&&mx>=Math.min(b,x)&&my>=y+barLeft&&y+barRight>=my:mx>=x+barLeft&&x+barRight>=mx&&my>=Math.min(b,y)&&my<=Math.max(b,y))&&(item=[i,j/ps])}}}if(item){i=item[0];j=item[1];ps=series[i].datapoints.pointsize;return{"datapoint":series[i].datapoints.points.slice(j*ps,(j+1)*ps),"dataIndex":j,"series":series[i],"seriesIndex":i}}return null}function onMouseMove(e){options.grid.hoverable&&triggerClickHoverEvent("plothover",e,function(s){
return 0!=s.hoverable})}function onMouseLeave(e){options.grid.hoverable&&triggerClickHoverEvent("plothover",e,function(s){return!1})}function onClick(e){triggerClickHoverEvent("plotclick",e,function(s){return 0!=s.clickable})}function triggerClickHoverEvent(eventname,event,seriesFilter){var item,i,h,offset=eventHolder.offset(),canvasX=event.pageX-offset.left-plotOffset.left,canvasY=event.pageY-offset.top-plotOffset.top,pos=canvasToAxisCoords({"left":canvasX,"top":canvasY});pos.pageX=event.pageX;pos.pageY=event.pageY;item=findNearbyItem(canvasX,canvasY,seriesFilter);if(item){item.pageX=parseInt(item.series.xaxis.p2c(item.datapoint[0])+offset.left+plotOffset.left,10);item.pageY=parseInt(item.series.yaxis.p2c(item.datapoint[1])+offset.top+plotOffset.top,10)}if(options.grid.autoHighlight){for(i=0;i<highlights.length;++i){h=highlights[i];h.auto!=eventname||item&&h.series==item.series&&h.point[0]==item.datapoint[0]&&h.point[1]==item.datapoint[1]||unhighlight(h.series,h.point)}item&&highlight(item.series,item.datapoint,eventname)}placeholder.trigger(eventname,[pos,item])}function triggerRedrawOverlay(){var t=options.interaction.redrawOverlayInterval;if(-1==t){drawOverlay();return}if(void 0!==arguments[0]){drawOverlay();return}redrawTimeout||(redrawTimeout=setTimeout(drawOverlay,t))}function drawOverlay(){redrawTimeout=null;octx.save();overlay.clear();octx.translate(plotOffset.left,plotOffset.top);var i,hi;if(highlights&&highlights.length)for(i=0;i<highlights.length;++i){hi=highlights[i];hi.series.bars.show?drawBarHighlight(hi.series,hi.point):drawPointHighlight(hi.series,hi.point)}octx.restore();executeHooks(hooks.drawOverlay,[octx])}function highlight(s,point,auto){var ps,i;"number"==typeof s&&(s=series[s]);if("number"==typeof point){ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}i=indexOfHighlight(s,point);if(-1==i){highlights.push({"series":s,"point":point,"auto":auto});triggerRedrawOverlay()}else auto||(highlights[i].auto=!1)}function unhighlight(s,point){var ps,i;if(null==s&&null==point){highlights=[];triggerRedrawOverlay();return}"number"==typeof s&&(s=series[s]);if("number"==typeof point){ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}i=indexOfHighlight(s,point);if(-1!=i){highlights.splice(i,1);triggerRedrawOverlay()}}function indexOfHighlight(s,p){var i,h;for(i=0;i<highlights.length;++i){h=highlights[i];if(h.series==s&&h.point[0]==p[0]&&h.point[1]==p[1])return i}return-1}function drawPointHighlight(series,point){var pointRadius,radius,x=point[0],y=point[1],axisx=series.xaxis,axisy=series.yaxis,highlightColor="string"==typeof series.highlightColor?series.highlightColor:$.color.parse(series.color).scale("a",.5).toString();if(x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max)return;pointRadius=series.points.radius+series.points.lineWidth/2;octx.lineWidth=pointRadius;octx.strokeStyle=highlightColor;radius=1.1*pointRadius;x=axisx.p2c(x);y=axisy.p2c(y);octx.beginPath();"circle"==series.points.symbol?octx.arc(x,y,radius,0,2*Math.PI,!1):series.points.symbol(octx,x,y,radius,!1);octx.closePath();octx.stroke()}function drawBarHighlight(series,point){var barLeft,highlightColor="string"==typeof series.highlightColor?series.highlightColor:$.color.parse(series.color).scale("a",.5).toString(),fillStyle=highlightColor;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}octx.lineWidth=series.bars.lineWidth;octx.strokeStyle=highlightColor;drawBar(point[0],point[1],point[2]||0,barLeft,barLeft+series.bars.barWidth,function(){return fillStyle},series.xaxis,series.yaxis,octx,series.bars.horizontal,series.bars.lineWidth)}function getColorOrGradient(spec,bottom,top,defaultColor){var gradient,i,l,c,co;if("string"==typeof spec)return spec;gradient=ctx.createLinearGradient(0,top,0,bottom);for(i=0,l=spec.colors.length;l>i;++i){c=spec.colors[i];if("string"!=typeof c){co=$.color.parse(defaultColor);null!=c.brightness&&(co=co.scale("rgb",c.brightness));null!=c.opacity&&(co.a*=c.opacity);c=co.toString()}gradient.addColorStop(i/(l-1),c)}return gradient}var highlights,redrawTimeout,series=[],options={"colors":["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],"legend":{"show":!0,"noColumns":1,"labelFormatter":null,"labelBoxBorderColor":"#ccc","container":null,"position":"ne","margin":5,"backgroundColor":null,"backgroundOpacity":.85,"sorted":null},"xaxis":{"show":null,"position":"bottom","mode":null,"font":null,"color":null,"tickColor":null,"transform":null,"inverseTransform":null,"min":null,"max":null,"autoscaleMargin":null,"ticks":null,"tickFormatter":null,"labelWidth":null,"labelHeight":null,"reserveSpace":null,"tickLength":null,"alignTicksWithAxis":null,"tickDecimals":null,"tickSize":null,"minTickSize":null,"ticksLengthDiffer":null},"yaxis":{"autoscaleMargin":.02,"position":"left"},"xaxes":[],"yaxes":[],"series":{"points":{"show":!1,"radius":4.5,"lineWidth":2,"fill":!0,"fillColor":"#ffffff","symbol":"circle"},"lines":{"lineWidth":2,"fill":!1,"fillColor":null,"steps":!1},"bars":{"show":!1,"lineWidth":2,"barWidth":1,"fill":!0,"fillColor":null,"align":"left","horizontal":!1,"zero":!0},"shadowSize":3,"highlightColor":null},"grid":{"show":!0,"aboveData":!1,"color":"#545454","backgroundColor":null,"borderColor":null,"tickColor":null,"margin":0,"labelMargin":5,"axisMargin":8,"borderWidth":2,"minBorderMargin":null,"markings":null,"markingsColor":"#f7820d","markingsStyle":"dashed","markingsLineWidth":1,"clickable":!1,"hoverable":!1,"autoHighlight":!0,"mouseActiveRadius":10},"interaction":{"redrawOverlayInterval":1e3/60},"hooks":{}},surface=null,overlay=null,eventHolder=null,ctx=null,octx=null,xaxes=[],yaxes=[],plotOffset={"left":0,"right":0,"top":0,"bottom":0},plotWidth=0,plotHeight=0,hooks={"processOptions":[],"processRawData":[],"processDatapoints":[],"processOffset":[],"drawBackground":[],"drawSeries":[],"draw":[],"bindEvents":[],"drawOverlay":[],"shutdown":[]},plot=this;plot.setData=setData;plot.setupGrid=setupGrid;plot.draw=draw;plot.getPlaceholder=function(){return placeholder};plot.getCanvas=function(){return surface.element};plot.getPlotOffset=function(){return plotOffset};plot.width=function(){return plotWidth};plot.height=function(){return plotHeight};plot.offset=function(){var o=eventHolder.offset();o.left+=plotOffset.left;o.top+=plotOffset.top;return o};plot.getData=function(){return series};plot.getAxes=function(){var res={};$.each(xaxes.concat(yaxes),function(_,axis){axis&&(res[axis.direction+(1!=axis.n?axis.n:"")+"axis"]=axis)});return res};plot.getXAxes=function(){return xaxes};plot.getYAxes=function(){return yaxes};plot.c2p=canvasToAxisCoords;plot.p2c=axisToCanvasCoords;plot.getOptions=function(){return options};plot.highlight=highlight;plot.unhighlight=unhighlight;plot.triggerRedrawOverlay=triggerRedrawOverlay;plot.pointOffset=function(point){return{"left":parseInt(xaxes[axisNumber(point,"x")-1].p2c(+point.x)+plotOffset.left,10),"top":parseInt(yaxes[axisNumber(point,"y")-1].p2c(+point.y)+plotOffset.top,10)}};plot.shutdown=shutdown;plot.destroy=function(){shutdown();placeholder.removeData("plot").empty();series=[];options=null;surface=null;overlay=null;eventHolder=null;ctx=null;octx=null;xaxes=[];yaxes=[];hooks=null;highlights=[];plot=null};plot.resize=function(){var width=placeholder.width(),height=placeholder.height();surface.resize(width,height);overlay.resize(width,height)};plot.hooks=hooks;initPlugins(plot);parseOptions(options_);setupCanvases();setData(data_);setupGrid(options_.flotLegendId);draw();bindEvents();highlights=[],redrawTimeout=null}function floorInBase(n,base){return base*Math.floor(n/base)}var hasOwnProperty=Object.prototype.hasOwnProperty;Canvas.prototype.resize=function(width,height){if(0>=width||0>=height)throw new Error("Invalid dimensions for plot, width = "+width+", height = "+height);var element=this.element,context=this.context,pixelRatio=this.pixelRatio;if(this.width!=width){element.width=width*pixelRatio;element.style.width=width+"px";this.width=width}if(this.height!=height){element.height=height*pixelRatio;element.style.height=height+"px";this.height=height}context.restore();context.save();context.scale(pixelRatio,pixelRatio)};Canvas.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};Canvas.prototype.dashedLineTo=function(fromX,fromY,toX,toY,pattern){var offsetX,offsetY,idx,dash,ang,len,lt=function(a,b){return b>=a},gt=function(a,b){return a>=b},capmin=function(a,b){return Math.min(a,b)},capmax=function(a,b){return Math.max(a,b)},checkX={"thereYet":gt,"cap":capmin},checkY={"thereYet":gt,"cap":capmin};if(fromY-toY>0){checkY.thereYet=lt;checkY.cap=capmax}if(fromX-toX>0){checkX.thereYet=lt;checkX.cap=capmax}this.moveTo(fromX,fromY);offsetX=fromX;offsetY=fromY;idx=0,dash=!0;for(;!checkX.thereYet(offsetX,toX)||!checkY.thereYet(offsetY,toY);){ang=Math.atan2(toY-fromY,toX-fromX);len=pattern[idx];offsetX=checkX.cap(toX,offsetX+Math.cos(ang)*len);offsetY=checkY.cap(toY,offsetY+Math.sin(ang)*len);dash?this.lineTo(offsetX,offsetY):this.moveTo(offsetX,offsetY);idx=(idx+1)%pattern.length;dash=!dash}};Canvas.prototype.render=function(){var layerKey,layer,layerCache,styleKey,styleCache,key,positions,i,position,cache=this._textCache;for(layerKey in cache)if(hasOwnProperty.call(cache,layerKey)){layer=this.getTextLayer(layerKey),layerCache=cache[layerKey];layer.hide();for(styleKey in layerCache)if(hasOwnProperty.call(layerCache,styleKey)){styleCache=layerCache[styleKey];for(key in styleCache)if(hasOwnProperty.call(styleCache,key)){positions=styleCache[key].positions;for(i=0;position=positions[i];i++)if(position.active){if(!position.rendered){layer.append(position.element);position.rendered=!0}}else{positions.splice(i--,1);position.rendered&&position.element.detach()}0==positions.length&&delete styleCache[key]}}layer.show()}};Canvas.prototype.getTextLayer=function(classes){var layer=this.text[classes];if(null==layer){null==this.textContainer&&(this.textContainer=$("<div class='flot-text'></div>").css({"position":"absolute","top":0,"left":0,"bottom":0,"right":0,"font-size":"smaller","color":"#545454"}).insertAfter(this.element));layer=this.text[classes]=$("<div></div>").addClass(classes).css({"position":"absolute","top":0,"left":0,"bottom":0,"right":0}).appendTo(this.textContainer)}return layer};Canvas.prototype.getTextInfo=function(layer,text,font,angle,width){var textStyle,layerCache,styleCache,info,element,isElementHidden;text=""+text;textStyle="object"==typeof font?font.style+" "+font.variant+" "+font.weight+" "+font.size+"px/"+font.lineHeight+"px "+font.family:font;layerCache=this._textCache[layer];null==layerCache&&(layerCache=this._textCache[layer]={});styleCache=layerCache[textStyle];null==styleCache&&(styleCache=layerCache[textStyle]={});info=styleCache[text];if(null==info){element=$("<div></div>").html(text).css({"position":"absolute","top":-9999});isElementHidden=element.is(":hidden");isElementHidden?element.appendTo($("body")):element.appendTo(this.getTextLayer(layer));"object"==typeof font?element.css({"font":textStyle,"color":font.color}):"string"==typeof font&&element.addClass(font);element.addClass("tiny-flot-tick-label");info=styleCache[text]={"width":element.outerWidth(!0),"height":element.outerHeight(!0),"element":element,"positions":[]};isElementHidden&&element.appendTo(this.getTextLayer(layer));element.detach()}return info};Canvas.prototype.addText=function(layer,x,y,text,font,angle,width,halign,valign){var i,position,info=this.getTextInfo(layer,text,font,angle,width),positions=info.positions;"center"==halign?x-=info.width/2:"right"==halign&&(x-=info.width);"middle"==valign?y-=info.height/2:"bottom"==valign&&(y-=info.height);for(i=0;position=positions[i];i++)if(position.x==x&&position.y==y){position.active=!0;return}position={"active":!0,"rendered":!1,"element":positions.length?info.element.clone():info.element,"x":x,"y":y};positions.push(position);position.element.css({"top":Math.round(y),"left":Math.round(x),"text-align":halign})};Canvas.prototype.removeText=function(layer,x,y,text,font,angle){var layerCache,styleKey,styleCache,key,positions,i,position;if(null==text){layerCache=this._textCache[layer];if(null!=layerCache)for(styleKey in layerCache)if(hasOwnProperty.call(layerCache,styleKey)){styleCache=layerCache[styleKey];for(key in styleCache)if(hasOwnProperty.call(styleCache,key)){positions=styleCache[key].positions;for(i=0;position=positions[i];i++)position.active=!1}}}else{positions=this.getTextInfo(layer,text,font,angle).positions;for(i=0;position=positions[i];i++)position.x==x&&position.y==y&&(position.active=!1)}};$.plot=function(placeholder,data,options){var plot=new Plot($(placeholder),data,options,$.plot.plugins);return plot};$.plot.version="0.8.3";$.plot.plugins=[];$.fn.plot=function(data,options){return this.each(function(){$.plot(this,data,options)})}})(jQuery);define("tiny-lib/jquery.flot",["tiny-lib/jquery"],function(){});(function($){function init(plot){plot.hooks.drawSeries.push(function(plot,ctx,series){function plotDashes(datapoints,xoffset,yoffset,axisx,axisy){function lineSegmentOffset(segmentLength){var xsign,ysign,c=Math.sqrt(Math.pow(ax2-ax1,2)+Math.pow(ay2-ay1,2));if(segmentLength>=c)return{"deltaX":ax2-ax1,"deltaY":ay2-ay1,"distance":c,"remainder":segmentLength-c};xsign=ax2>ax1?1:-1,ysign=ay2>ay1?1:-1;return{"deltaX":xsign*Math.sqrt(Math.pow(segmentLength,2)/(1+Math.pow((ay2-ay1)/(ax2-ax1),2))),"deltaY":ysign*Math.sqrt(Math.pow(segmentLength,2)-Math.pow(segmentLength,2)/(1+Math.pow((ay2-ay1)/(ax2-ax1),2))),"distance":segmentLength,"remainder":0}}var dashOnLength,dashOffLength,i,x1,y1,x2,y2,ax1,ay1,ax2,ay2,dashOffset,points=datapoints.points,ps=datapoints.pointsize,prevx=null,prevy=null,dashRemainder=0,dashOn=!0;if(series.dashes.dashLength[0]){dashOnLength=series.dashes.dashLength[0];dashOffLength=series.dashes.dashLength[1]?series.dashes.dashLength[1]:dashOnLength}else dashOffLength=dashOnLength=series.dashes.dashLength;ctx.beginPath();for(i=ps;i<points.length;i+=ps){x1=points[i-ps],y1=points[i-ps+1],x2=points[i],y2=points[i+1];if(null==x1||null==x2)continue;if(y2>=y1&&y1<axisy.min){if(y2<axisy.min)continue;x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.min}else if(y1>=y2&&y2<axisy.min){if(y1<axisy.min)continue;x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.min}if(y1>=y2&&y1>axisy.max){if(y2>axisy.max)continue;x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.max}else if(y2>=y1&&y2>axisy.max){if(y1>axisy.max)continue;x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.max}if(x2>=x1&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.min}else if(x1>=x2&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.max}(x1!=prevx||y1!=prevy)&&ctx.moveTo(axisx.p2c(x1)+xoffset,axisy.p2c(y1)+yoffset);ax1=axisx.p2c(x1)+xoffset,ay1=axisy.p2c(y1)+yoffset,ax2=axisx.p2c(x2)+xoffset,ay2=axisy.p2c(y2)+yoffset;do{dashOffset=lineSegmentOffset(dashRemainder>0?dashRemainder:dashOn?dashOnLength:dashOffLength);(0!=dashOffset.deltaX||0!=dashOffset.deltaY)&&(dashOn?ctx.lineTo(ax1+dashOffset.deltaX,ay1+dashOffset.deltaY):ctx.moveTo(ax1+dashOffset.deltaX,ay1+dashOffset.deltaY));dashOn=!dashOn;dashRemainder=dashOffset.remainder;ax1+=dashOffset.deltaX;ay1+=dashOffset.deltaY}while(dashOffset.distance>0);prevx=x2;prevy=y2}ctx.stroke()}var plotOffset,lw,sw,angle;if(!series.dashes.show)return;plotOffset=plot.getPlotOffset();ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.lineJoin="round";lw=series.dashes.lineWidth,sw=series.shadowSize;if(lw>0&&sw>0){ctx.lineWidth=sw;ctx.strokeStyle="rgba(0,0,0,0.1)";angle=Math.PI/18;plotDashes(series.datapoints,Math.sin(angle)*(lw/2+sw/2),Math.cos(angle)*(lw/2+sw/2),series.xaxis,series.yaxis);ctx.lineWidth=sw/2;plotDashes(series.datapoints,Math.sin(angle)*(lw/2+sw/4),Math.cos(angle)*(lw/2+sw/4),series.xaxis,series.yaxis)}ctx.lineWidth=lw;ctx.strokeStyle=series.color;lw>0&&plotDashes(series.datapoints,0,0,series.xaxis,series.yaxis);ctx.restore()})}$.plot.plugins.push({"init":init,"options":{"series":{"dashes":{"show":!1,"lineWidth":2,"dashLength":10}}},"name":"dashes","version":"0.1b"})})(jQuery);define("tiny-lib/jquery.flot.dashes",["tiny-lib/jquery.flot"],function(){});(function($){function processRawData(plot,series,datapoints){var handlers={"square":function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(Math.PI)/2;ctx.rect(x-size,y-size,size+size,size+size)},"diamond":function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(Math.PI/2);ctx.moveTo(x-size,y);ctx.lineTo(x,y-size);ctx.lineTo(x+size,y);ctx.lineTo(x,y+size);ctx.lineTo(x-size,y)},"triangle":function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3)),height=size*Math.sin(Math.PI/3);ctx.moveTo(x-size/2,y+height/2);ctx.lineTo(x+size/2,y+height/2);if(!shadow){ctx.lineTo(x,y-height/2);ctx.lineTo(x-size/2,y+height/2)}},"cross":function(ctx,x,y,radius,shadow){var size=radius*Math.sqrt(Math.PI)/2;ctx.moveTo(x-size,y-size);ctx.lineTo(x+size,y+size);ctx.moveTo(x-size,y+size);ctx.lineTo(x+size,y-size)},"ring":function(ctx,x,y,radius,shadow){var remainRadius,innerRadius;ctx.arc(x,y,radius,0,shadow?Math.PI:2*Math.PI,!1);ctx.fillStyle="#ffffff";ctx.fill();ctx.stroke();ctx.beginPath();remainRadius=radius-2-ctx.lineWidth;innerRadius=remainRadius>0?remainRadius:.001;ctx.arc(x,y,innerRadius,0,shadow?Math.PI:2*Math.PI,!1);ctx.fillStyle=ctx.strokeStyle;ctx.fill()}},s=series.points.symbol;handlers[s]&&(series.points.symbol=handlers[s])}function init(plot){plot.hooks.processDatapoints.push(processRawData)}$.plot.plugins.push({"init":init,"name":"symbols","version":"1.0"})})(jQuery);define("tiny-lib/jquery.flot.symbol",["tiny-lib/jquery.flot"],function(){});(function($){function init(plot){function plotWithMultipleThresholds(plot,s,datapoints){var series,i,ss;if(s.data&&s.data.length>0&&s.constraints&&s.constraints.length>0){series=new Graph(s.data,s.constraints).getPlotData();for(i=0;i<series.length;i++){ss=$.extend({},s);ss.constraints=[];ss.data=series[i].data;ss.color=series[i].color;plot.getData().push(ss)}}}function Graph(dataset,constraints){function Resolve(originalPonits){function using(threshold,evaluate){var i,currentPoint,count=0;for(i=0;i<this._originalPoints.length;i++){currentPoint=this._originalPoints[i];if(evaluate(currentPoint[1],threshold)){i>0&&(0==this._data.length||null==this._data[count-1])&&(this._data[count++]=this._getPointOnThreshold(threshold,this._originalPoints[i-1],currentPoint));this._data[count++]=currentPoint}else if(this._data.length>0&&null!=this._data[count-1]){this._data[count++]=this._getPointOnThreshold(threshold,this._originalPoints[i-1],currentPoint);this._data[count++]=null;this._data[count++]=null}}return this._data}function _getPointOnThreshold(threshold,prevP,currP){var currentX=currP[0],currentY=currP[1],prevX=prevP[0],prevY=prevP[1],slope=(threshold-currentY)/(prevY-currentY),xOnConstraintLine=slope*(prevX-currentX)+currentX;return[xOnConstraintLine,threshold]}this._originalPoints=originalPonits;this._data=[];this._getPointOnThreshold=_getPointOnThreshold;this.using=using}function _getSortedConstraints(originalpoints,constraints){var max,min,thresholdRanges,sortedConstraints,i,constraint,range,dataRange=_findMaxAndMin(originalpoints);if(void 0==dataRange)return[];max=dataRange.max;min=dataRange.min;thresholdRanges=[];sortedConstraints=[];for(i=0;i<constraints.length;i++){constraint=constraints[i];range=0;range=constraint.evaluate(min,constraint.threshold)?Math.abs(constraint.threshold-min):Math.abs(max-constraint.threshold);thresholdRanges.push({"constraint":constraint,"range":range})}QuickSort(thresholdRanges,function(obj1,obj2){return obj1.range<obj2.range});for(i=thresholdRanges.length-1;i>=0;i--)sortedConstraints[i]=thresholdRanges[i].constraint;return sortedConstraints}function _findMaxAndMin(dataset){var arr,i;if(void 0==dataset)return void 0;arr=[];for(i=0;i<dataset.length;i++)null==dataset[i]?arr[i]=null:arr[i]=dataset[i][1];QuickSort(arr,function(p1,p2){return p2>p1});return{"min":arr[0],"max":arr[arr.length-1]}}this._constraints=_getSortedConstraints(dataset,constraints);this._dataset=dataset;this._plotData=[];this.getPlotData=function(){var i,constraint,set;if(0==this._constraints.length)return[];for(i=this._constraints.length-1;i>=0;i--){constraint=this._constraints[i];if(null!=constraint.threshold){set=new Resolve(this._dataset).using(constraint.threshold,constraint.evaluate);this._plotData.push({"data":set,"color":constraint.color})}}return this._plotData}}function QuickSort(dataset,comparator){function sort(array,left,right,comparator){var pivotIndex,pivotNewIndex;if(right>left){pivotIndex=Math.floor((left+right)/2);pivotNewIndex=partition(array,left,right,pivotIndex,comparator);sort(array,left,pivotNewIndex-1,comparator);sort(array,pivotNewIndex+1,right,comparator)}}function partition(array,left,right,pivotIndex,comparator){var storeIndex,i,pivot=array[pivotIndex];swap(array,pivotIndex,right);storeIndex=left;for(i=left;right>i;i++)if(comparator(array[i],pivot)){swap(array,i,storeIndex);storeIndex+=1}swap(array,storeIndex,right);return storeIndex}function swap(array,index1,index2){var temp=array[index1];array[index1]=array[index2];array[index2]=temp}sort(dataset,0,dataset.length-1,comparator)}plot.hooks.processRawData.push(plotWithMultipleThresholds)}$.plot.plugins.push({"init":init,"name":"multiple.threshold","version":"1.0"})})(jQuery);define("tiny-lib/jquery.flot.threshold.multiple",["tiny-lib/jquery.flot"],function(){});(function($){function floorInBase(n,base){return base*Math.floor(n/base)}function formatDate(d,fmt,monthNames,dayNames){var leftPad,r,escape,hours,isAM,hours12,i,c;if("function"==typeof d.strftime)return d.strftime(fmt);leftPad=function(n,pad){n=""+n;pad=""+(null==pad?"0":pad);return 1==n.length?pad+n:n};r=[];escape=!1;hours=d.getHours();isAM=12>hours;null==monthNames&&(monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);null==dayNames&&(dayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);hours12=hours>12?hours-12:0==hours?12:hours;for(i=0;i<fmt.length;++i){c=fmt.charAt(i);if(escape){switch(c){case"a":c=""+dayNames[d.getDay()];break;case"b":c=""+monthNames[d.getMonth()];break;case"d":c=leftPad(d.getDate());break;case"e":c=leftPad(d.getDate()," ");break;case"h":case"H":c=leftPad(hours);break;case"I":c=leftPad(hours12);break;case"l":c=leftPad(hours12," ");break;case"m":c=leftPad(d.getMonth()+1);break;case"M":c=leftPad(d.getMinutes());break;case"q":c=""+(Math.floor(d.getMonth()/3)+1);break;case"S":c=leftPad(d.getSeconds());break;case"y":c=leftPad(d.getFullYear()%100);break;case"Y":c=""+d.getFullYear();break;case"p":c=isAM?"am":"pm";break;case"P":c=isAM?"AM":"PM";break;case"w":c=""+d.getDay()}r.push(c);escape=!1}else"%"==c?escape=!0:r.push(c)}return r.join("")}function makeUtcWrapper(d){function addProxyMethod(sourceObj,sourceMethod,targetObj,targetMethod){sourceObj[sourceMethod]=function(){return targetObj[targetMethod].apply(targetObj,arguments)}}var props,p,utc={"date":d};void 0!=d.strftime&&addProxyMethod(utc,"strftime",d,"strftime");addProxyMethod(utc,"getTime",d,"getTime");addProxyMethod(utc,"setTime",d,"setTime");props=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"];for(p=0;p<props.length;p++){addProxyMethod(utc,"get"+props[p],d,"getUTC"+props[p]);addProxyMethod(utc,"set"+props[p],d,"setUTC"+props[p])}return utc}function dateGenerator(ts,opts){if("browser"==opts.timezone)return new Date(ts);if(opts.timezone&&"utc"!=opts.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var d=new timezoneJS.Date;d.setTimezone(opts.timezone);d.setTime(ts);return d}return makeUtcWrapper(new Date(ts))}return makeUtcWrapper(new Date(ts))}function init(plot){plot.hooks.processOptions.push(function(plot,options){$.each(plot.getAxes(),function(axisName,axis){var opts=axis.options;if("time"==opts.mode){axis.tickGenerator=function(axis){var ticks,d,minSize,spec,i,size,unit,magn,norm,tickSize,step,carry,v,prev,start,end;if(null===axis.datamin&&null===axis.datamax&&-1===axis.min&&1===axis.max)return[];if(null!==axis.datamin&&null!==axis.datamax&&axis.datamin===axis.datamax)return[axis.datamin];ticks=[];d=dateGenerator(axis.min,opts);minSize=0;spec=opts.tickSize&&"quarter"===opts.tickSize[1]||opts.minTickSize&&"quarter"===opts.minTickSize[1]?specQuarters:specMonths;null!=opts.minTickSize&&(minSize="number"==typeof opts.tickSize?opts.tickSize:opts.minTickSize[0]*timeUnitSize[opts.minTickSize[1]]);for(i=0;i<spec.length-1&&!(axis.delta<(spec[i][0]*timeUnitSize[spec[i][1]]+spec[i+1][0]*timeUnitSize[spec[i+1][1]])/2&&spec[i][0]*timeUnitSize[spec[i][1]]>=minSize);++i);size=spec[i][0];unit=spec[i][1];if("year"==unit){if(null!=opts.minTickSize&&"year"==opts.minTickSize[1])size=Math.floor(opts.minTickSize[0]);else{magn=Math.pow(10,Math.floor(Math.log(axis.delta/timeUnitSize.year)/Math.LN10));norm=axis.delta/timeUnitSize.year/magn;size=1.5>norm?1:3>norm?2:7.5>norm?5:10;size*=magn}1>size&&(size=1)}axis.tickSize=opts.tickSize||[size,unit];tickSize=axis.tickSize[0];unit=axis.tickSize[1];step=tickSize*timeUnitSize[unit];"second"==unit?d.setSeconds(floorInBase(d.getSeconds(),tickSize)):"minute"==unit?d.setMinutes(floorInBase(d.getMinutes(),tickSize)):"hour"==unit?d.setHours(floorInBase(d.getHours(),tickSize)):"month"==unit?d.setMonth(floorInBase(d.getMonth(),tickSize)):"quarter"==unit?d.setMonth(3*floorInBase(d.getMonth()/3,tickSize)):"year"==unit&&d.setFullYear(floorInBase(d.getFullYear(),tickSize));d.setMilliseconds(0);step>=timeUnitSize.minute&&d.setSeconds(0);step>=timeUnitSize.hour&&d.setMinutes(0);step>=timeUnitSize.day&&d.setHours(0);step>=4*timeUnitSize.day&&d.setDate(1);step>=2*timeUnitSize.month&&d.setMonth(floorInBase(d.getMonth(),3));step>=2*timeUnitSize.quarter&&d.setMonth(floorInBase(d.getMonth(),6));step>=timeUnitSize.year&&d.setMonth(0);carry=0;v=Number.NaN;do{prev=v;v=d.getTime();ticks.push(v);if("month"==unit||"quarter"==unit)if(1>tickSize){d.setDate(1);start=d.getTime();d.setMonth(d.getMonth()+("quarter"==unit?3:1));end=d.getTime();d.setTime(v+carry*timeUnitSize.hour+(end-start)*tickSize);carry=d.getHours();d.setHours(0)}else d.setMonth(d.getMonth()+tickSize*("quarter"==unit?3:1));else"year"==unit?d.setFullYear(d.getFullYear()+tickSize):d.setTime(v+step)}while(v<axis.max&&v!=prev);return ticks};axis.tickFormatter=function(v,axis){var useQuarters,t,span,suffix,hourCode,fmt,rt,d=dateGenerator(v,axis.options);if(null!=opts.timeformat)return formatDate(d,opts.timeformat,opts.monthNames,opts.dayNames);useQuarters=axis.options.tickSize&&"quarter"==axis.options.tickSize[1]||axis.options.minTickSize&&"quarter"==axis.options.minTickSize[1];t=axis.tickSize[0]*timeUnitSize[axis.tickSize[1]];span=axis.max-axis.min;suffix=opts.twelveHourClock?" %p":"";hourCode=opts.twelveHourClock?"%I":"%H";fmt=t<timeUnitSize.minute?hourCode+":%M:%S"+suffix:t<timeUnitSize.day?span<2*timeUnitSize.day?hourCode+":%M"+suffix:"%b %d "+hourCode+":%M"+suffix:t<timeUnitSize.month?"%b %d":useQuarters&&t<timeUnitSize.quarter||!useQuarters&&t<timeUnitSize.year?span<timeUnitSize.year?"%b":"%b %Y":useQuarters&&t<timeUnitSize.year?span<timeUnitSize.year?"Q%q":"Q%q %Y":"%Y";rt=formatDate(d,fmt,opts.monthNames,opts.dayNames);return rt}}})})}var options={"xaxis":{"timezone":null,"timeformat":null,"twelveHourClock":!1,"monthNames":null}},timeUnitSize={"second":1e3,"minute":6e4,"hour":36e5,"day":864e5,"month":2592e6,"quarter":7776e6,"year":525949.2*60*1e3},baseSpec=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],specMonths=baseSpec.concat([[3,"month"],[6,"month"],[1,"year"]]),specQuarters=baseSpec.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);$.plot.plugins.push({"init":init,"options":options,"name":"time","version":"1.0"});$.plot.formatDate=formatDate;$.plot.dateGenerator=dateGenerator})(jQuery);define("tiny-lib/jquery.flot.time",["tiny-lib/jquery.flot"],function(){});(function($){"use strict";function getControlPoints(x0,y0,x1,y1,x2,y2,tension){var d01,d12,fa,fb,p1x,p1y,p2x,p2y,pow=Math.pow,sqrt=Math.sqrt;d01=sqrt(pow(x1-x0,2)+pow(y1-y0,2));d12=sqrt(pow(x2-x1,2)+pow(y2-y1,2));fa=tension*d01/(d01+d12);fb=tension-fa;p1x=x1+fa*(x0-x2);p1y=y1+fa*(y0-y2);p2x=x1-fb*(x0-x2);p2y=y1-fb*(y0-y2);return[p1x,p1y,p2x,p2y]}function drawLine(points,ctx,height,fill,seriesColor){var plength,i,c=$.color.parse(seriesColor);c.a="number"==typeof fill?fill:.3;c.normalize();c=c.toString();ctx.beginPath();ctx.moveTo(points[0][0],points[0][1]);plength=points.length;for(i=0;plength>i;i++)ctx[points[i][3]].apply(ctx,points[i][2]);ctx.stroke();ctx.lineWidth=0;ctx.lineTo(points[plength-1][0],height);ctx.lineTo(points[0][0],height);ctx.closePath();if(fill!==!1){ctx.fillStyle=c;ctx.fill()}}function queue(ctx,type,points,cpoints){(void 0===type||"bezier"!==type&&"quadratic"!==type)&&(type="quadratic");type+="CurveTo";if(0==line.length)line.push([points[0],points[1],cpoints.concat(points.slice(2)),type]);else if("quadraticCurveTo"==type&&2==points.length){cpoints=cpoints.slice(0,2).concat(points);line.push([points[0],points[1],cpoints,type])}else line.push([points[2],points[3],cpoints.concat(points.slice(2)),type])}function drawSpline(plot,ctx,series){if(series.splines.show!==!0)return;var idx,x,y,cp=[],tension=series.splines.tension||.5,points=series.datapoints.points,ps=series.datapoints.pointsize,plotOffset=plot.getPlotOffset(),len=points.length,pts=[];line=[];if(4>len/ps){$.extend(series.lines,series.splines);return}for(idx=0;len>idx;idx+=ps){x=points[idx];y=points[idx+1];if(null==x||x<series.xaxis.min||x>series.xaxis.max||y<series.yaxis.min||y>series.yaxis.max)continue;pts.push(series.xaxis.p2c(x)+plotOffset.left,series.yaxis.p2c(y)+plotOffset.top)}len=pts.length;for(idx=0;len-2>idx;idx+=2)cp=cp.concat(getControlPoints.apply(this,pts.slice(idx,idx+6).concat([tension])));ctx.save();ctx.strokeStyle=series.color;ctx.lineWidth=series.splines.lineWidth;queue(ctx,"quadratic",pts.slice(0,4),cp.slice(0,2));for(idx=2;len-3>idx;idx+=2)queue(ctx,"bezier",pts.slice(idx,idx+4),cp.slice(2*idx-2,2*idx+2));queue(ctx,"quadratic",pts.slice(len-2,len),[cp[2*len-10],cp[2*len-9],pts[len-4],pts[len-3]]);drawLine(line,ctx,plot.height()+10,series.splines.fill,series.color);ctx.restore()}var line=[];$.plot.plugins.push({"init":function(plot){plot.hooks.drawSeries.push(drawSpline)},"options":{"series":{"splines":{"show":!1,"lineWidth":2,"tension":.5,"fill":!1}}},"name":"spline","version":"0.8.2"})})(jQuery);define("tiny-lib/jquery.flot.spline",["tiny-lib/jquery.flot"],function(){});(function($){function init(plot){function findMatchingSeries(s,allseries){var i,res=null;for(i=0;i<allseries.length&&s!=allseries[i];++i)allseries[i].stack==s.stack&&(res=allseries[i]);return res}function stackData(plot,s,datapoints){var other,ps,points,otherps,otherpoints,newpoints,px,py,intery,qx,qy,bottom,withlines,horizontal,withbottom,withsteps,fromgap,keyOffset,accumulateOffset,i,j,l,m;if(null==s.stack||s.stack===!1)return;other=findMatchingSeries(s,plot.getData());if(!other)return;ps=datapoints.pointsize,points=datapoints.points,otherps=other.datapoints.pointsize,otherpoints=other.datapoints.points,newpoints=[],withlines=s.lines.show,horizontal=s.bars.horizontal,withbottom=ps>2&&(horizontal?datapoints.format[2].x:datapoints.format[2].y),withsteps=withlines&&s.lines.steps,fromgap=!0,keyOffset=horizontal?1:0,accumulateOffset=horizontal?0:1,i=0,j=0;for(;;){if(i>=points.length)break;l=newpoints.length;if(null==points[i]){for(m=0;ps>m;++m)newpoints.push(points[i+m]);i+=ps;
}else if(j>=otherpoints.length){if(!withlines)for(m=0;ps>m;++m)newpoints.push(points[i+m]);i+=ps}else if(null==otherpoints[j]){for(m=0;ps>m;++m)newpoints.push(null);fromgap=!0;j+=otherps}else{px=points[i+keyOffset];py=points[i+accumulateOffset];qx=otherpoints[j+keyOffset];qy=otherpoints[j+accumulateOffset];bottom=0;if(px==qx){for(m=0;ps>m;++m)newpoints.push(points[i+m]);newpoints[l+accumulateOffset]+=qy;bottom=qy;i+=ps;j+=otherps}else if(px>qx){if(withlines&&i>0&&null!=points[i-ps]){intery=py+(points[i-ps+accumulateOffset]-py)*(qx-px)/(points[i-ps+keyOffset]-px);newpoints.push(qx);newpoints.push(intery+qy);for(m=2;ps>m;++m)newpoints.push(points[i+m]);bottom=qy}j+=otherps}else{if(fromgap&&withlines){i+=ps;continue}for(m=0;ps>m;++m)newpoints.push(points[i+m]);withlines&&j>0&&null!=otherpoints[j-otherps]&&(bottom=qy+(otherpoints[j-otherps+accumulateOffset]-qy)*(px-qx)/(otherpoints[j-otherps+keyOffset]-qx));newpoints[l+accumulateOffset]+=bottom;i+=ps}fromgap=!1;l!=newpoints.length&&withbottom&&(newpoints[l+2]+=bottom)}if(withsteps&&l!=newpoints.length&&l>0&&null!=newpoints[l]&&newpoints[l]!=newpoints[l-ps]&&newpoints[l+1]!=newpoints[l-ps+1]){for(m=0;ps>m;++m)newpoints[l+ps+m]=newpoints[l+m];newpoints[l+1]=newpoints[l-ps+1]}}datapoints.points=newpoints}plot.hooks.processDatapoints.push(stackData)}var options={"series":{"stack":null}};$.plot.plugins.push({"init":init,"options":options,"name":"stack","version":"1.2"})})(jQuery);define("tiny-lib/jquery.flot.stack",["tiny-lib/jquery.flot"],function(){});(function($){function init(plot){function processDatapoints(plot,series,datapoints){if(!processed){processed=!0;canvas=plot.getCanvas();target=$(canvas).parent();options=plot.getOptions();plot.setData(combine(plot.getData()))}}function combine(data){var i,value,total=0,combined=0,numCombined=0,color=options.series.pie.combine.color,newdata=[];for(i=0;i<data.length;++i){value=data[i].data;$.isArray(value)&&1==value.length&&(value=value[0]);$.isArray(value)?!isNaN(parseFloat(value[1]))&&isFinite(value[1])?value[1]=+value[1]:value[1]=0:value=!isNaN(parseFloat(value))&&isFinite(value)?[1,+value]:[1,0];data[i].data=[value]}for(i=0;i<data.length;++i)total+=data[i].data[0][1];for(i=0;i<data.length;++i){value=data[i].data[0][1];if(value/total<=options.series.pie.combine.threshold){combined+=value;numCombined++;color||(color=data[i].color)}}for(i=0;i<data.length;++i){value=data[i].data[0][1];(2>numCombined||value/total>options.series.pie.combine.threshold)&&newdata.push($.extend(data[i],{"data":[[1,value]],"color":data[i].color,"label":data[i].label,"angle":value*Math.PI*2/total,"percent":value/(total/100)}))}numCombined>1&&newdata.push({"data":[[1,combined]],"color":color,"label":options.series.pie.combine.label,"angle":combined*Math.PI*2/total,"percent":combined/(total/100)});return newdata}function draw(plot,newCtx){function clear(){ctx.clearRect(0,0,canvasWidth,canvasHeight);target.children().filter(".pieLabel, .pieLabelBackground").remove()}function drawShadow(){var i,shadowLeft=options.series.pie.shadow.left,shadowTop=options.series.pie.shadow.top,edge=10,alpha=options.series.pie.shadow.alpha,radius=options.series.pie.radius>1?options.series.pie.radius:maxRadius*options.series.pie.radius;if(radius>=canvasWidth/2-shadowLeft||radius*options.series.pie.tilt>=canvasHeight/2-shadowTop||edge>=radius)return;ctx.save();ctx.translate(shadowLeft,shadowTop);ctx.globalAlpha=alpha;ctx.fillStyle="#000";ctx.translate(centerLeft,centerTop);ctx.scale(1,options.series.pie.tilt);for(i=1;edge>=i;i++){ctx.beginPath();ctx.arc(0,0,radius,0,2*Math.PI,!1);ctx.fill();radius-=i}ctx.restore()}function drawPie(){function drawSlice(angle,color,fill){if(0>=angle||isNaN(angle))return;if(fill)ctx.fillStyle=color;else{ctx.strokeStyle=color;ctx.lineJoin="round"}ctx.beginPath();Math.abs(angle-2*Math.PI)>1e-9&&ctx.moveTo(0,0);ctx.arc(0,0,radius,currentAngle,currentAngle+angle/2,!1);ctx.arc(0,0,radius,currentAngle+angle/2,currentAngle+angle,!1);ctx.closePath();currentAngle+=angle;fill?ctx.fill():ctx.stroke()}function drawLabels(){function drawLabel(slice,startAngle,index){var lf,text,plf,halfAngle,x,y,html,label,labelTop,labelLeft,c,pos;if(0==slice.data[0][1])return!0;lf=options.legend.labelFormatter,plf=options.series.pie.label.formatter;text=lf?lf(slice.label,slice):slice.label;plf&&(text=plf(text,slice));halfAngle=(startAngle+slice.angle+startAngle)/2;x=centerLeft+Math.round(Math.cos(halfAngle)*radius);y=centerTop+Math.round(Math.sin(halfAngle)*radius)*options.series.pie.tilt;html="<span class='pieLabel' id='pieLabel"+index+"' style='position:absolute;top:"+y+"px;left:"+x+"px;'>"+text+"</span>";target.append(html);label=target.children("#pieLabel"+index);labelTop=y-label.height()/2;labelLeft=x-label.width()/2;label.css("top",labelTop);label.css("left",labelLeft);if(0-labelTop>0||0-labelLeft>0||canvasHeight-(labelTop+label.height())<0||canvasWidth-(labelLeft+label.width())<0)return!1;if(0!=options.series.pie.label.background.opacity){c=options.series.pie.label.background.color;null==c&&(c=slice.color);pos="top:"+labelTop+"px;left:"+labelLeft+"px;";$("<div class='pieLabelBackground' style='position:absolute;width:"+label.width()+"px;height:"+label.height()+"px;"+pos+"background-color:"+c+";'></div>").css("opacity",options.series.pie.label.background.opacity).insertBefore(label)}return!0}var i,currentAngle=startAngle,radius=options.series.pie.label.radius>1?options.series.pie.label.radius:maxRadius*options.series.pie.label.radius;for(i=0;i<slices.length;++i){if(slices[i].percent>=100*options.series.pie.label.threshold&&!drawLabel(slices[i],currentAngle,i))return!1;currentAngle+=slices[i].angle}return!0}var currentAngle,i,startAngle=Math.PI*options.series.pie.startAngle,radius=options.series.pie.radius>1?options.series.pie.radius:maxRadius*options.series.pie.radius;ctx.save();ctx.translate(centerLeft,centerTop);ctx.scale(1,options.series.pie.tilt);ctx.save();currentAngle=startAngle;for(i=0;i<slices.length;++i){slices[i].startAngle=currentAngle;drawSlice(slices[i].angle,slices[i].color,!0)}ctx.restore();if(options.series.pie.stroke.width>0){ctx.save();ctx.lineWidth=options.series.pie.stroke.width;currentAngle=startAngle;for(i=0;i<slices.length;++i)drawSlice(slices[i].angle,options.series.pie.stroke.color,!1);ctx.restore()}drawDonutHole(ctx);ctx.restore();return options.series.pie.label.show?drawLabels():!0}var canvasWidth,canvasHeight,legendWidth,slices,attempts;if(!target)return;canvasWidth=plot.getPlaceholder().width(),canvasHeight=plot.getPlaceholder().height(),legendWidth=target.children().filter(".legend").children().width()||0;ctx=newCtx;processed=!1;maxRadius=Math.min(canvasWidth,canvasHeight/options.series.pie.tilt)/2;centerTop=canvasHeight/2+options.series.pie.offset.top;centerLeft=canvasWidth/2;if("auto"==options.series.pie.offset.left){options.legend.position.match("w")?centerLeft+=legendWidth/2:centerLeft-=legendWidth/2;maxRadius>centerLeft?centerLeft=maxRadius:centerLeft>canvasWidth-maxRadius&&(centerLeft=canvasWidth-maxRadius)}else centerLeft+=options.series.pie.offset.left;slices=plot.getData(),attempts=0;do{attempts>0&&(maxRadius*=REDRAW_SHRINK);attempts+=1;clear();options.series.pie.tilt<=.8&&drawShadow()}while(!drawPie()&&REDRAW_ATTEMPTS>attempts);if(attempts>=REDRAW_ATTEMPTS){clear();target.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")}if(plot.setSeries&&plot.insertLegend){plot.setSeries(slices);plot.insertLegend()}}function drawDonutHole(layer){if(options.series.pie.innerRadius>0){layer.save();var innerRadius=options.series.pie.innerRadius>1?options.series.pie.innerRadius:maxRadius*options.series.pie.innerRadius;layer.globalCompositeOperation="destination-out";layer.beginPath();layer.fillStyle=options.series.pie.stroke.color;layer.arc(0,0,innerRadius,0,2*Math.PI,!1);layer.fill();layer.closePath();layer.restore();layer.save();layer.beginPath();layer.strokeStyle=options.series.pie.stroke.color;layer.arc(0,0,innerRadius,0,2*Math.PI,!1);layer.stroke();layer.closePath();layer.restore()}}function isPointInPoly(poly,pt){for(var c=!1,i=-1,l=poly.length,j=l-1;++i<l;j=i)(poly[i][1]<=pt[1]&&pt[1]<poly[j][1]||poly[j][1]<=pt[1]&&pt[1]<poly[i][1])&&pt[0]<(poly[j][0]-poly[i][0])*(pt[1]-poly[i][1])/(poly[j][1]-poly[i][1])+poly[i][0]&&(c=!c);return c}function findNearbySlice(mouseX,mouseY){var x,y,i,s,p1X,p1Y,p2X,p2Y,p3X,p3Y,p4X,p4Y,p5X,p5Y,arrPoly,arrPoint,slices=plot.getData(),options=plot.getOptions(),radius=options.series.pie.radius>1?options.series.pie.radius:maxRadius*options.series.pie.radius;for(i=0;i<slices.length;++i){s=slices[i];if(s.pie.show){ctx.save();ctx.beginPath();ctx.moveTo(0,0);ctx.arc(0,0,radius,s.startAngle,s.startAngle+s.angle/2,!1);ctx.arc(0,0,radius,s.startAngle+s.angle/2,s.startAngle+s.angle,!1);ctx.closePath();x=mouseX-centerLeft;y=mouseY-centerTop;if(ctx.isPointInPath){if(ctx.isPointInPath(mouseX-centerLeft,mouseY-centerTop)){ctx.restore();return{"datapoint":[s.percent,s.data],"dataIndex":0,"series":s,"seriesIndex":i}}}else{p1X=radius*Math.cos(s.startAngle),p1Y=radius*Math.sin(s.startAngle),p2X=radius*Math.cos(s.startAngle+s.angle/4),p2Y=radius*Math.sin(s.startAngle+s.angle/4),p3X=radius*Math.cos(s.startAngle+s.angle/2),p3Y=radius*Math.sin(s.startAngle+s.angle/2),p4X=radius*Math.cos(s.startAngle+s.angle/1.5),p4Y=radius*Math.sin(s.startAngle+s.angle/1.5),p5X=radius*Math.cos(s.startAngle+s.angle),p5Y=radius*Math.sin(s.startAngle+s.angle),arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]],arrPoint=[x,y];if(isPointInPoly(arrPoly,arrPoint)){ctx.restore();return{"datapoint":[s.percent,s.data],"dataIndex":0,"series":s,"seriesIndex":i}}}ctx.restore()}}return null}function onMouseMove(e){triggerClickHoverEvent("plothover",e)}function onClick(e){triggerClickHoverEvent("plotclick",e)}function triggerClickHoverEvent(eventname,e){var i,h,pos,offset=plot.offset(),canvasX=parseInt(e.pageX-offset.left),canvasY=parseInt(e.pageY-offset.top),item=findNearbySlice(canvasX,canvasY);if(options.grid.autoHighlight)for(i=0;i<highlights.length;++i){h=highlights[i];h.auto!=eventname||item&&h.series==item.series||unhighlight(h.series)}item&&highlight(item.series,eventname);pos={"pageX":e.pageX,"pageY":e.pageY};target.trigger(eventname,[pos,item])}function highlight(s,auto){var i=indexOfHighlight(s);if(-1==i){highlights.push({"series":s,"auto":auto});plot.triggerRedrawOverlay()}else auto||(highlights[i].auto=!1)}function unhighlight(s){if(null==s){highlights=[];plot.triggerRedrawOverlay()}var i=indexOfHighlight(s);if(-1!=i){highlights.splice(i,1);plot.triggerRedrawOverlay()}}function indexOfHighlight(s){var i,h;for(i=0;i<highlights.length;++i){h=highlights[i];if(h.series==s)return i}return-1}function drawOverlay(plot,octx){function drawHighlight(series){if(series.angle<=0||isNaN(series.angle))return;octx.fillStyle="rgba(255, 255, 255, "+options.series.pie.highlight.opacity+")";octx.beginPath();Math.abs(series.angle-2*Math.PI)>1e-9&&octx.moveTo(0,0);octx.arc(0,0,radius,series.startAngle,series.startAngle+series.angle/2,!1);octx.arc(0,0,radius,series.startAngle+series.angle/2,series.startAngle+series.angle,!1);octx.closePath();octx.fill()}var i,options=plot.getOptions(),radius=options.series.pie.radius>1?options.series.pie.radius:maxRadius*options.series.pie.radius;octx.save();octx.translate(centerLeft,centerTop);octx.scale(1,options.series.pie.tilt);for(i=0;i<highlights.length;++i)drawHighlight(highlights[i].series);drawDonutHole(octx);octx.restore()}var canvas=null,target=null,options=null,maxRadius=null,centerLeft=null,centerTop=null,processed=!1,ctx=null,highlights=[];plot.hooks.processOptions.push(function(plot,options){if(options.series.pie.show){options.grid.show=!1;"auto"==options.series.pie.label.show&&(options.legend.show?options.series.pie.label.show=!1:options.series.pie.label.show=!0);"auto"==options.series.pie.radius&&(options.series.pie.label.show?options.series.pie.radius=.75:options.series.pie.radius=1);options.series.pie.tilt>1?options.series.pie.tilt=1:options.series.pie.tilt<0&&(options.series.pie.tilt=0)}});plot.hooks.bindEvents.push(function(plot,eventHolder){var options=plot.getOptions();if(options.series.pie.show){options.grid.hoverable&&eventHolder.unbind("mousemove").mousemove(onMouseMove);options.grid.clickable&&eventHolder.unbind("click").click(onClick)}});plot.hooks.processDatapoints.push(function(plot,series,data,datapoints){var options=plot.getOptions();options.series.pie.show&&processDatapoints(plot,series,data,datapoints)});plot.hooks.drawOverlay.push(function(plot,octx){var options=plot.getOptions();options.series.pie.show&&drawOverlay(plot,octx)});plot.hooks.draw.push(function(plot,newCtx){var options=plot.getOptions();options.series.pie.show&&draw(plot,newCtx)})}var REDRAW_ATTEMPTS=10,REDRAW_SHRINK=.95,options={"series":{"pie":{"show":!1,"radius":"auto","innerRadius":0,"startAngle":1.5,"tilt":1,"shadow":{"left":5,"top":15,"alpha":.02},"offset":{"top":0,"left":"auto"},"stroke":{"color":"#fff","width":1},"label":{"show":"auto","formatter":function(label,slice){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+slice.color+";'>"+label+"<br/>"+Math.round(slice.percent)+"%</div>"},"radius":1,"background":{"color":null,"opacity":0},"threshold":0},"combine":{"threshold":-1,"color":null,"label":"Other"},"highlight":{"opacity":.5}}}};$.plot.plugins.push({"init":init,"options":options,"name":"pie","version":"1.1"})})(jQuery);define("tiny-lib/jquery.flot.pie",["tiny-lib/jquery.flot"],function(){});define("tiny-widgets/Lineplot",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-lib/jquery.flot","tiny-lib/jquery.flot.dashes","tiny-lib/jquery.flot.symbol","tiny-lib/jquery.flot.threshold.multiple","tiny-lib/underscore","tiny-common/util","tiny-widgets/Widget","tiny-lib/jquery.flot.time","tiny-lib/jquery.flot.spline","tiny-lib/jquery.flot.stack","tiny-lib/encoder","tiny-lib/jquery.flot.pie"],function(angular,$,Class,flot,dashes,symbol,threshold,_,util,Widget,time,spline,stack,encoder,pie){var language=tinyLanguage.language,DEFAULT_CONFIG={"width":"500px","height":"300px","template":'<div class="tiny-Lineplot"></div>',"legend":{"enableClick":!0},"tips":{"xDateFormat":null,"yDateFormat":null,"monthNames":null,"dayNames":null,"tipFormatter":null},"series":{"bars":{"show":!1,"barWidth":.4,"align":"center","fill":!0,"fillColor":"#7ed66d"}},"trackingLine":{"mode":"x","color":"#d9d9d9","lineWidth":1},"grid":{"borderWidth":{"top":1,"right":0,"bottom":1,"left":1},"borderColor":{"left":"#ddd","bottom":"#ddd","top":"#ddd"},"ticksStyle":"dashed","hoverable":!0,"clickable":!0},"xaxis":{"show":!0,"position":"bottom","tickLength":6,"font":{"size":11,"lineHeight":13,"family":"Microsoft YaHei","color":"#666666"},"timezone":"browser"},"yaxis":{"font":{"size":11,"lineHeight":13,"family":"Microsoft YaHei","color":"#666666"}},"y2axis":{"font":{"size":11,"lineHeight":13,"family":"Microsoft YaHei","color":"#666666"}},"colors":["#1fbe5c","#6d73e1","#ff7200","#d74aff","#99d61e","#ff2c2c","#999999","#2700eb","#f2d414","#54ccc8"]},CONST_VALUES={"NOTES_FONT_SIZE":"12px","NOTES_COLOR":"#666"},Lineplot=Widget.extend({"init":function(options){var widgetObj,plotThis=this;plotThis.chartId=options.id;widgetObj=plotThis._isPlotExist(plotThis.chartId);widgetObj&&widgetObj.destroy();plotThis._element=plotThis._generateElement(options.id);plotThis._element.widget(plotThis);plotThis._setChart(options);plotThis._createChart(options.id,plotThis.dataSet,plotThis.optionsSet);plotThis._setLabelStyle(options.id);plotThis._setNotes();plotThis._setNoDataLabel();plotThis._addBehavior(options);_.isUndefined(options.caption)?"":plotThis._setCaption(options.caption);_.isUndefined(options.yaxis)||_.isUndefined(options.yaxis.unit)?"":plotThis._setYaxisUnit(plotThis.optionsSet.yaxis)},"_setNoDataLabel":function(){var $labelDom,labelHeight,labelWidth,left,top,plotThis=this;plotThis._element.css("opacity",1);$(".tiny-lineplot-no-data-label",plotThis._element).remove();if(!plotThis._isNoData())return;_.isUndefined(plotThis.noDataLabel)&&(plotThis.noDataLabel=language.noDataLineplot);$labelDom=$("<span class='tiny-lineplot-no-data-label'></span>");$labelDom.append(plotThis.noDataLabel);$("body").append($labelDom[0]);labelHeight=$labelDom.height();labelWidth=$labelDom.width();$labelDom.remove();left=(parseInt(plotThis.width,10)-labelWidth)/2+"px";top=(parseInt(plotThis.height,10)-labelHeight)/2+"px";$labelDom.css({"top":top,"left":left});plotThis._element.append($labelDom);plotThis._element.css("opacity",.5)},"setNoDataLabel":function(noDataLabel){var plotThis=this;plotThis.noDataLabel=noDataLabel;plotThis._setNoDataLabel()},"_isNoData":function(){var dData,pieSet,j,i,plotThis=this,data=plotThis.dataSet,dataLen=data.length;if(1>dataLen)return!0;pieSet=plotThis.optionsSet.series.pie;if(!_.isUndefined(pieSet)&&"true"===String(pieSet.show)){if("number"==typeof data[0])return!1;for(j=0;dataLen>j;j++){dData=data[j].data;if(!_.isUndefined(dData)&&"number"==typeof dData)return!1}return!0}for(i=0;dataLen>i;i++){if($.isArray(data[i])&&data[i].length>0)return!1;dData=data[i].data;if(!_.isUndefined(dData)&&dData.length>0)return!1}return!0},"_setNotes":function(){var i,plotThis=this,data=plotThis.dataSet,dataLen=data.length,notesClass="tiny-lineplot-notes-"+plotThis.chartId;$("."+notesClass).remove();if(0===dataLen)return;for(i=0;dataLen>i;i++)plotThis._addNotes(data[i],i)},"_addNotes":function(dataSet,index){var notesClass,$notesContent,fontSize,fontColor,singleNotes,data,dataLen,pointPosition,pointNotesContent,notesSize,i,isChartHidden,$singleNote,plotThis=this,itemNotes=dataSet.itemNotes;if("object"!=typeof itemNotes||itemNotes.show+""!="true")return;notesClass="tiny-lineplot-notes-"+plotThis.chartId;$notesContent=$("<div class="+notesClass+"></div>").css({"display":"inline-block"}).appendTo(plotThis._element);fontSize=CONST_VALUES.NOTES_FONT_SIZE;"undefined"!=typeof itemNotes.notesFontSize&&(fontSize=itemNotes.notesFontSize+"px");fontColor=CONST_VALUES.NOTES_COLOR;"undefined"!=typeof itemNotes.notesColor&&(fontColor=itemNotes.notesColor);singleNotes="<div style='position: absolute;color: "+fontColor+";font-size: "+fontSize+";'></div>";data=dataSet.data;dataLen=data.length;notesSize={};for(i=0;dataLen>i;i++){pointNotesContent=plotThis._getNotesContent(data[i],dataSet);isChartHidden=plotThis._element.is(":hidden");$singleNote=$(singleNotes).html(pointNotesContent);isChartHidden?$singleNote.appendTo($("body")):$singleNote.appendTo($notesContent);notesSize.width=$singleNote.outerWidth();notesSize.height=$singleNote.outerHeight();pointPosition=plotThis._getPointPosition(dataSet,notesSize,index,i);$singleNote.css({"left":pointPosition.left,"top":pointPosition.top});isChartHidden&&$singleNote.appendTo($notesContent)}},"_getPointPosition":function(dataSet,notesSize,SeriesIndex,pointIndex){var notesPosition,plotThis=this,graphType=plotThis._getGraphType(dataSet),ponintValue=dataSet.data[pointIndex],pointPosition=plotThis.lineObj.pointOffset({"x":ponintValue[0],"y":ponintValue[1]});"bar"===graphType&&plotThis._isStackBars()&&(pointPosition=plotThis._calcStackPonintPos(pointPosition,SeriesIndex,pointIndex));notesPosition=plotThis._getNotePosition(dataSet.itemNotes.position,graphType,dataSet.bars);switch(notesPosition){case"top":pointPosition.left-=notesSize.width/2;pointPosition.top-=notesSize.height;break;case"left":pointPosition.left-=notesSize.width;pointPosition.top-=notesSize.height/2;break;case"right":pointPosition.top-=notesSize.height/2;break;default:pointPosition.left-=notesSize.width/2}return pointPosition},"_calcStackPonintPos":function(pointPosition,SeriesIndex,pointIndex){var dataSet,data,xValue,yValue,TempHorizontal,isHorizontal,i,plotThis=this;if(0===SeriesIndex)return pointPosition;dataSet=plotThis.dataSet;data=dataSet[SeriesIndex].data[pointIndex];xValue=data[0];yValue=data[1];isHorizontal=plotThis._isHorizontalBars(dataSet[SeriesIndex].bar);for(i=0;SeriesIndex>i;i++){TempHorizontal=plotThis._isHorizontalBars(dataSet[i].bar);if(TempHorizontal!==isHorizontal)continue;data=dataSet[i].data[pointIndex];xValue+=isHorizontal?data[0]:0;yValue+=isHorizontal?0:data[1]}pointPosition=plotThis.lineObj.pointOffset({"x":xValue,"y":yValue});return pointPosition},"_getNotesContent":function(datapoint,dataSet){var graphType,plotThis=this,notesFormatter=dataSet.itemNotes.notesFormatter;if("function"==typeof notesFormatter)return notesFormatter(datapoint);graphType=plotThis._getGraphType(dataSet);return plotThis._formatNotesContent(datapoint,dataSet,graphType)},"_formatNotesContent":function(datapoint,dataSet,graphType){var content,xRegExp,yRegExp,plotThis=this,notesContent=dataSet.itemNotes.notesContent;content="undefined"==typeof notesContent?plotThis._setDefaultContent(graphType,dataSet):notesContent;xRegExp=new RegExp("%x\\.{0,1}(\\d{0,})","g");yRegExp=new RegExp("%y\\.{0,1}(\\d{0,})","g");content=plotThis._adjustValPrecision(xRegExp,content,datapoint[0]);content=plotThis._adjustValPrecision(yRegExp,content,datapoint[1]);return content},"_setDefaultContent":function(graphType,dataSet){var isHorizontal,plotThis=this;if("line"===graphType)return"%y.1";isHorizontal=plotThis._isHorizontalBars(dataSet.bars);if(isHorizontal)return"%x.1";return"%y.1"},"_getGraphType":function(data){var series,plotThis=this;if(plotThis._isSetting(data.bars,"show"))return"bar";if(plotThis._isSetting(data.lines,"show"))return"line";series=plotThis.optionsSet.series;if(plotThis._isSetting(series.bars,"show"))return"bar";if(plotThis._isSetting(series.lines,"show"))return"line";return"line"},"_isSetting":function(obj,isShow){if("object"==typeof obj&&1==obj[isShow])return!0;return!1},"_getNotePosition":function(position,graphType,barSet){var isStack,isHorizontal,plotThis=this;if("left"===position||"right"===position||"top"===position||"bottom"===position)return position;if("line"===graphType)return"top";isStack=plotThis._isStackBars();isHorizontal=plotThis._isHorizontalBars(barSet);if(isHorizontal){if(isStack)return"left";return"right"}if(isStack)return"bottom";return"top"},"_isHorizontalBars":function(barSet){var seriesBarSet,plotThis=this;if("object"!=typeof barset){seriesBarSet=plotThis.optionsSet.series.bars;if(plotThis._isSetting(seriesBarSet,"horizontal"))return!0;return!1}if(1==barset.horizontal)return!0;if(0==barset.horizontal)return!1},"_isStackBars":function(){var plotThis=this,stackType=typeof plotThis.optionsSet.series.stack;if("string"===stackType||"number"===stackType)return!0;return!1},"_setLabelStyle":function(id){var plotThis=this;plotThis.xaxisLabelStyle&&$(".xaxisLabel",plotThis._element).css(plotThis.xaxisLabelStyle);plotThis.yaxisLabelStyle&&$(".yaxisLabel",plotThis._element).css(plotThis.yaxisLabelStyle)},"_generateElement":function(id){var widgetElement=$("#"+id);return widgetElement},"_isPlotExist":function(chartId){var placeholder=$("#"+chartId),widgetObj=placeholder&&placeholder.widget()&&placeholder.widget().lineObj;return widgetObj},"destroy":function(){var hasRelatedChart,plotThis=this;try{hasRelatedChart=plotThis.hasRelatedChart(plotThis.relatedId);plotThis.handleInvalidPos(plotThis.lineObj,hasRelatedChart,!0);plotThis.lineObj.destroy()}catch(e){}},"updateOverlay":function(pos){var hasRelatedChart,isRelatedChart,isValidPos,pointIndex,plotThis=this,oPlot=plotThis.lineObj,axes=oPlot.getAxes();oPlot.dataPoint=[];oPlot.dataset=oPlot.getData();oPlot.labelList=[];hasRelatedChart=plotThis.hasRelatedChart(plotThis.relatedId);isRelatedChart="relatedChart"==arguments[1]?!0:!1;if(!isRelatedChart){isValidPos=plotThis.checkValidPos(pos,axes);if(!isValidPos){plotThis.handleInvalidPos(oPlot,hasRelatedChart,!1);return}}pointIndex=plotThis.findNearestData(pos,oPlot,axes.xaxis);if(null!==pointIndex&&oPlot.pointIndex!==pointIndex){plotThis.reDrawOverlay(oPlot,pointIndex,axes);!isRelatedChart&&hasRelatedChart&&plotThis.handleRelatedChart(plotThis.relatedId,pos)}},"handleRelatedChart":function(relatedId,pos){var plotThis=this,SiblingId=plotThis.getSiblingId(plotThis.chartId,relatedId);$.each(SiblingId,function(index,elemt){var plotWidget=$("#"+elemt).widget();plotWidget.updateOverlay(pos,"relatedChart")})},"getSiblingId":function(plotId,relatedId){var SiblingId,plotIdIndex=$.inArray(plotId,relatedId);if(-1!=plotIdIndex){SiblingId=relatedId.slice();SiblingId.splice(plotIdIndex,1);return SiblingId}return relatedId},"hasRelatedChart":function(relatedId){return relatedId&&relatedId.length>0},"reDrawOverlay":function(oPlot,pointIndex,axes){var plotThis=this;oPlot.pointIndex=pointIndex;oPlot.triggerRedrawOverlay(0);plotThis.highLightData(oPlot,pointIndex);oPlot.plotCtx=plotThis.drawDashedLine(oPlot,axes.xaxis);plotThis.showTrackTip(oPlot,axes)},"handleInvalidPos":function(oPlot,hasRelatedChart,isDestroyTip){var plotThis=this;if(hasRelatedChart){$.each(plotThis.relatedId,function(index,elemt){var plotWidget=$("#"+elemt).widget();plotWidget.clearOverlay(plotWidget.lineObj,isDestroyTip)});return}plotThis.clearOverlay(oPlot,isDestroyTip)},"clearOverlay":function(oPlot,isDestroyTip){var plotThis=this;isDestroyTip?plotThis.$tooltip.remove():plotThis.$tooltip.html("").hide();oPlot.triggerRedrawOverlay(0)},"checkValidPos":function(pos,axes){var isInValidPos=pos.x<axes.xaxis.min||pos.x>axes.xaxis.max||pos.y<axes.yaxis.min||pos.y>axes.yaxis.max;return!isInValidPos},"drawDashedLine":function(oPlot,xaxis){var plotThis=this,plotCanvas=$(".flot-overlay","#"+plotThis.chartId)[0],context=plotCanvas.getContext("2d"),plotOffset=oPlot.getPlotOffset(),drawX=xaxis.p2c(oPlot.xData)+plotOffset.left;context.strokeStyle="#33a6ff";context.lineWidth=1;context.lineJoin="round";context.beginPath();context.dashedLineTo(drawX,plotOffset.top,drawX,oPlot.height()+plotOffset.top,[2,2]);context.stroke();context.restore();return context},"showTrackTip":function(oPlot,axes){var plotThis=this,xaxis=axes.xaxis,tipContent=(axes.yaxis,plotThis._getTrackTipContent(oPlot.dataPoint)),isFrontHalf=oPlot.xData<(xaxis.min+xaxis.max)/2;plotThis.updateTrackTip(oPlot,tipContent,isFrontHalf)},"findNearestData":function(pos,oPlot,xaxis){var serie,serieData,isMeetCondtions,xData,minDistance,j,x,dist,dataset=oPlot.dataset,plotOffset=oPlot.offset(),existingLabel=[],mouseX=pos.pageX-plotOffset.left,pointIndex=null;if(dataset.length<1)return pointIndex;serie=dataset[0];serieData=serie.data;isMeetCondtions=serieData.length>0&&-1==$.inArray(serie.label,existingLabel);if(!isMeetCondtions)return pointIndex;_.isUndefined(serie.label)||existingLabel.push(serie.label);pointIndex=0;xData=serieData[pointIndex][0];if(isNaN(xData)){xData=null;serie.data[pointIndex][0]=null}minDistance=Math.abs(xaxis.p2c(xData)-mouseX);for(j=1;j<serieData.length;++j){if(null==serieData[j]||null==serieData[j][0])continue;x=serie.data[j][0];dist=Math.abs(xaxis.p2c(x)-mouseX);if(minDistance>dist){minDistance=dist;pointIndex=j}}oPlot.xData=serie.data[pointIndex][0];oPlot.yData=serie.data[pointIndex][1];return pointIndex},"highLightData":function(oPlot,pointIndex){var i,serie,serieData,xdata,ydata,isPointShow,plotThis=this,dataset=oPlot.dataset,existingLabel=[];for(i=0;i<dataset.length;++i){serie=dataset[i];serieData=serie.data;if(!serieData[pointIndex]||-1!==$.inArray(serie.label,existingLabel))continue;xdata=serieData[pointIndex][0];ydata=serieData[pointIndex][1];if(null==xdata||null==ydata)continue;existingLabel.push(serie.label);oPlot.dataOffset=oPlot.pointOffset({"x":xdata,"y":ydata});isPointShow=oPlot.getOptions().series.points.show;isPointShow||plotThis.plotPoint(oPlot,2.5,serie.color,"circle");oPlot.dataPoint.push({"point":[xdata,ydata],"label":serie.label,"color":serie.color})}},"plotPoint":function(oPlot,radius,fillStyle,symbol){var plotThis=this,x=oPlot.dataOffset.left,y=oPlot.dataOffset.top,canvas=$(".flot-overlay","#"+plotThis.chartId)[0],ctx=canvas.getContext("2d");ctx.beginPath();ctx.strokeStyle=fillStyle;ctx.lineWidth=1;ctx.arc(x,y,radius,0,2*Math.PI,!1);ctx.closePath();ctx.stroke();ctx.fillStyle=fillStyle;ctx.fill();ctx.beginPath();ctx.lineWidth=1.5;ctx.strokeStyle=fillStyle;ctx.arc(x,y,radius+3,0,2*Math.PI,!1);ctx.closePath();ctx.stroke()},"_addBehavior":function(options){var tipId,element,plotThis=this;if(!options.tips)return;tipId=plotThis.chartId+"_tooltip";element=plotThis._element;options=plotThis.options;plotThis.$tooltip=$("<div id="+tipId+"></div>").css({"display":"none"}).appendTo("body");plotThis.tipId=tipId;$("#"+plotThis.chartId).bind("plothover",function(event,pos,item){if(0===plotThis.lineObj.getData().length)return;"hover"==plotThis.tips.tipType?item?plotThis._showHoverTip(item):plotThis.$tooltip.hide():plotThis.updateOverlay(pos)});plotThis._element.bind("mouseout",function(evt){var hasRelatedChart=plotThis.hasRelatedChart(plotThis.relatedId);plotThis.handleInvalidPos(plotThis.lineObj,hasRelatedChart,!1)});plotThis._element.on("$destroy",function(){plotThis.destroy()})},"_getTickLabel":function(item,axis){var i,tickLabel="",ticksArry="y"===axis?item.series.yaxis.ticks:item.series.xaxis.ticks;for(i=0;i<ticksArry.length;i++)if(ticksArry[i].v===item.dataIndex){tickLabel=ticksArry[i].label;break}return tickLabel},"_showHoverTip":function(item){var plotThis=this,x=item.series.data[item.dataIndex][0],y=item.series.data[item.dataIndex][1],datapoint={"point":[x,y],"label":item.series.label,"color":item.series.color,"xTicks":plotThis._getTickLabel(item,"x"),"yTicks":plotThis._getTickLabel(item,"y")},tipContent=plotThis._getHoverTipContent(datapoint);plotThis.updateHoverTip(item.pageX,item.pageY,tipContent);plotThis.$tooltip.bind("mouseenter",function(){plotThis.clearOverlay(plotThis.lineObj)})},"_getHoverTipContent":function(datapoint){var plotThis=this,tipFormatter=plotThis.tips.tipFormatter;if(!_.isUndefined(tipFormatter)&&"function"==typeof tipFormatter)return tipFormatter([datapoint]);return plotThis._formatHoverTip(datapoint)},"_formatHoverTip":function(datapoint){var plotThis=this,tips=plotThis.tips,content=_.isUndefined(tips.content)?"%x.1 : %y.1":tips.content,xRegExp=new RegExp("%x\\.{0,1}(\\d{0,})","g"),yRegExp=new RegExp("%y\\.{0,1}(\\d{0,})","g"),isXDateMode=plotThis._isTimeMode("xaxis")&&plotThis._isXDateFormat(tips),isYDateMode=plotThis._isTimeMode("yaxis")&&plotThis._isYDateFormat(tips);content=isXDateMode?content.replace(xRegExp,plotThis._timestampToDate(datapoint.point[0],tips.xDateFormat)):plotThis._adjustValPrecision(xRegExp,content,datapoint.point[0]);content=isYDateMode?content.replace(yRegExp,plotThis._timestampToDate(datapoint.point[1],tips.yDateFormat)):plotThis._adjustValPrecision(yRegExp,content,datapoint.point[1]);content=content.replace(/%s/g,datapoint.label);content=content.replace(/%tx/g,datapoint.xTicks);content=content.replace(/%ty/g,datapoint.yTicks);return content},"_getTrackTipContent":function(datapoint){var plotThis=this,tipFormatter=plotThis.tips.tipFormatter;if(!_.isUndefined(tipFormatter)&&"function"==typeof tipFormatter)return tipFormatter(datapoint);return plotThis._formatTrackTip(datapoint)},"_formatTrackTip":function(datapoint){var index,plotThis=this,tips=plotThis.tips,dataLength=datapoint.length,content=_.isUndefined(tips.content)?plotThis._setDefaultTipContent(dataLength):tips.content,isXDateMode=plotThis._isTimeMode("xaxis")&&plotThis._isXDateFormat(tips),isYDateMode=plotThis._isTimeMode("yaxis")&&plotThis._isYDateFormat(tips),labelRegExp=null,xRegExp=null,yRegExp=null;for(index=0;dataLength>index;index++){xRegExp=new RegExp("%x"+index+"\\.{0,1}(\\d{0,})","g");yRegExp=new RegExp("%y"+index+"\\.{0,1}(\\d{0,})","g");labelRegExp=new RegExp("%s"+index,"g");content=isXDateMode?content.replace(xRegExp,plotThis._timestampToDate(datapoint[index].point[0],tips.xDateFormat)):plotThis._adjustValPrecision(xRegExp,content,datapoint[index].point[0]);content=isYDateMode?content.replace(yRegExp,plotThis._timestampToDate(datapoint[index].point[1],tips.yDateFormat)):plotThis._adjustValPrecision(yRegExp,content,datapoint[index].point[1]);content=content.replace(labelRegExp,datapoint[index].label)}return content},"_setDefaultTipContent":function(dataLength){var index,fragments=[];
for(index=0;dataLength>index;index++){fragments.push("%x"+index+" : %y"+index);dataLength-1>index&&fragments.push("</br>")}return fragments.join("")},"_isTimeMode":function(axisName){var plotThis=this;return"undefined"!=typeof plotThis.optionsSet[axisName].mode&&"time"===plotThis.optionsSet[axisName].mode},"_isYDateFormat":function(tips){return"undefined"!=typeof tips.yDateFormat&&null!==tips.yDateFormat},"_isXDateFormat":function(tips){return"undefined"!=typeof tips.xDateFormat&&null!==tips.xDateFormat},"_timestampToDate":function(tmst,dateFormat){var plotThis=this,theDate=new Date(1*tmst);return $.plot.formatDate(theDate,dateFormat,plotThis.tips.monthNames,plotThis.tips.dayNames)},"_adjustValPrecision":function(pattern,content,value){var matchResult=content.match(pattern);if(null!==matchResult){""!==RegExp.$1&&(value=(+value).toFixed(RegExp.$1));content=content.replace(pattern,value)}return content},"_setChart":function(options){var plotThis=this;plotThis.optionsSet={};plotThis.dataSet=plotThis._getData(options.data);plotThis.relatedId=plotThis._getRelatedId(options);plotThis._setColors(options.colors);plotThis._setGrid(options.grid);plotThis._setTips(options.tips);plotThis._setSeries(options.series);plotThis._setThreshold(options.threshold);plotThis._setXaxis(options.xaxis);plotThis._setYaxis(options.yaxis);plotThis._setY2axis(options.y2axis);plotThis._setLegend(options.legend);plotThis._setChartType(options.type);plotThis._setSmooth(options);plotThis._initSize(options.width,options.height);plotThis.noDataLabel=options.noDataLabel},"_initSize":function(width,height){var plotThis=this;plotThis.width=_.isUndefined(width)?DEFAULT_CONFIG.width:width;plotThis.height=_.isUndefined(height)?DEFAULT_CONFIG.height:height;plotThis._element.css("width",plotThis.width);plotThis._element.css("height",plotThis.height)},"_setLegend":function(legend){var plotThis=this;plotThis.optionsSet.flotLegendId=_.uniqueId("lineplot_legend_");plotThis.optionsSet.legend=$.extend(!0,{},DEFAULT_CONFIG.legend,legend)},"_setColors":function(colors){var plotThis=this;plotThis.optionsSet.colors=_.isUndefined(colors)?$.extend(!0,[],DEFAULT_CONFIG.colors):colors},"_getData":function(data){var dataLen,dColor,index,destData=[];if($.isArray(data)&&data.length>0){dataLen=data.length;dColor="";for(index=0;dataLen>index;index++){dColor=data[index].color;_.isUndefined(dColor)||(data[index].color=$.encoder.encodeForCSS("color",dColor,!0))}destData=$.extend(!0,[],data)}return destData},"_getRelatedId":function(options){var relatedId=options.relatedId,isrelatedIdValid=!_.isUndefined(relatedId)&&$.isArray(relatedId);return isrelatedIdValid?$.extend(!0,[],relatedId):[]},"_setGrid":function(grid){var plotThis=this,defaultGrid=DEFAULT_CONFIG.grid;plotThis.optionsSet.grid=$.extend(!0,{},defaultGrid,grid)},"_setTips":function(tips){var plotThis=this;plotThis.tips=$.extend(!0,{},DEFAULT_CONFIG.tips,tips)},"_setSeries":function(seriesOpts){var plotThis=this;plotThis.optionsSet.series=$.extend(!0,{},DEFAULT_CONFIG.series,seriesOpts)},"_setThreshold":function(threshold){var thresholdOpts,gridMarkings,dataLength,plotThis=this,series=plotThis.optionsSet.series,isThresholdValid=threshold&&threshold.length>0;if(!isThresholdValid)return;thresholdOpts=[];gridMarkings=[];$.each(threshold,function(index,item){var thresholdItem,markingItem;if(_.isUndefined(item.value))return!1;thresholdItem={};markingItem={};thresholdItem.threshold=item.value;if(_.isUndefined(item.aboveColor)||item.isIncludeEqual)if(!_.isUndefined(item.aboveColor)&&item.isIncludeEqual){thresholdItem.color=item.aboveColor;thresholdItem.evaluate=function(y,threshold){return y>=threshold}}else if(_.isUndefined(item.belowColor)||item.isIncludeEqual){if(!_.isUndefined(item.belowColor)&&item.isIncludeEqual){thresholdItem.color=item.belowColor;thresholdItem.evaluate=function(y,threshold){return threshold>=y}}}else{thresholdItem.color=item.belowColor;thresholdItem.evaluate=function(y,threshold){return threshold>y}}else{thresholdItem.color=item.aboveColor;thresholdItem.evaluate=function(y,threshold){return y>threshold}}markingItem={"yaxis":{"from":item.value,"to":item.value},"dashes":{"show":!0}};_.isUndefined(item.lineColor)?"":markingItem.color=item.lineColor;thresholdOpts.push(thresholdItem);gridMarkings.push(markingItem)});dataLength=plotThis.dataSet.length;dataLength>1?series.constraints=[]:series.constraints=thresholdOpts;plotThis.optionsSet.grid.markings=gridMarkings},"_setSmooth":function(options){var seriesSet,lineSet,plotThis=this;if(!options.smooth)return;seriesSet=plotThis.optionsSet.series;lineSet=seriesSet.lines;lineSet.show=!1;seriesSet.splines={"show":!0,"tension":.5,"lineWidth":2};"area"===options.type&&(seriesSet.splines.fill=lineSet.fill)},"_setChartType":function(type){var fill,plotThis=this;if("area"==type){fill=plotThis.optionsSet.series.lines.fill;(_.isUndefined(fill)||"number"!=typeof fill)&&(plotThis.optionsSet.series.lines.fill=.4)}},"_setCaption":function(caption){var $caption,moveDistance,plotThis=this;if(!_.isUndefined(caption.content)){$caption=$("<span id='chartCaption'></span>").text(caption.content);$("#"+plotThis.chartId).before($caption);_.isUndefined(caption.style)||$caption.css(caption.style);if("left"!==caption.position){moveDistance=(parseInt(plotThis.width,10)-$caption.width())/2;$caption.css({"position":"relative","left":moveDistance})}}},"setXaxisDescription":function(xaxisDescription){var $xaxisDescription,plotThis=this;$("#"+plotThis.chartId+"xaxisDescription").remove();if(!_.isUndefined(xaxisDescription)){$xaxisDescription=$("<span class='tiny-lineplot-xaxis-description'></span>").html(xaxisDescription);$xaxisDescription.attr("id",plotThis.chartId+"xaxisDescription");$xaxisDescription.css("width",plotThis.width);$("#"+plotThis.chartId).after($xaxisDescription)}},"_setTrackingLine":function(trackOpts){var plotThis=this;trackOpts&&trackOpts.mode&&(plotThis.optionsSet.crosshair={"mode":"x","color":"#d9d9d9","lineWidth":1})},"updateTrackTip":function(oPlot,contents,isFrontHalf){var rightToView,bottomToView,plotThis=this,x=oPlot.dataOffset.left,y=oPlot.dataOffset.top,placeholderOffet=(plotThis.chartId+"_tooltip",$("#"+plotThis.chartId).offset()),leftToView=x+placeholderOffet.left,topToView=y+placeholderOffet.top,tipsPosition={};if(isFrontHalf)tipsPosition={"top":topToView+5,"left":leftToView+5,"position":"absolute","display":"block","padding":"5px","color":"#666","border":"1px solid #dfdfdf","background-color":"#ffffff","z-index":2e4,"pointer-events":"none"};else{rightToView=$(window).width()-leftToView;bottomToView=$(window).height()-topToView;tipsPosition={"bottom":bottomToView+5,"right":rightToView+5,"position":"absolute","display":"block","padding":"5px","color":"#666","border":"1px solid #dfdfdf","background-color":"#ffffff","z-index":2e4,"pointer-events":"none"}}plotThis.$tooltip.html(contents).removeAttr("style").css(tipsPosition)},"updateHoverTip":function(x,y,contents){var plotThis=this;plotThis.$tooltip.html(contents).addClass("tiny-lineplot-tip");plotThis._setTipPosition(x,y)},"_setTipPosition":function(x,y){var plotThis=this;plotThis.$tooltip.css({"top":plotThis._calcTopValue(y),"left":plotThis._calcLeftValue(x),"display":"block"})},"_calcLeftValue":function(x){var plotThis=this,left=x,tipWidth=plotThis.$tooltip.outerWidth(!0),rightLength=(document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth)-left;if(tipWidth>rightLength){left=x-tipWidth;left=0>left?0:left}return left},"_calcTopValue":function(y){var plotThis=this,top=y,tipHeight=plotThis.$tooltip.outerHeight(!0),bottomLength=(document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight)-top;if(tipHeight>bottomLength){top=y-tipHeight;top=0>top?0:top}return top},"resetThreshold":function(threshold){var plotThis,options,grid,series,thresholdOpts,gridMarkings,dataLength,isThresholdValid=threshold&&threshold.length>0;if(!isThresholdValid)return;plotThis=this;options=plotThis.getOptions();grid=options.grid;series=options.series;thresholdOpts=[];gridMarkings=[];$.each(threshold,function(index,item){var thresholdItem,markingItem;if(_.isUndefined(item.value))return!1;thresholdItem={};markingItem={};thresholdItem.threshold=item.value;if(_.isUndefined(item.aboveColor)){if(!_.isUndefined(item.belowColor)){thresholdItem.color=item.belowColor;thresholdItem.evaluate=function(y,threshold){return threshold>y}}}else{thresholdItem.color=item.aboveColor;thresholdItem.evaluate=function(y,threshold){return y>threshold}}markingItem={"yaxis":{"from":item.value,"to":item.value},"dashes":{"show":!0}};_.isUndefined(item.lineColor)?"":markingItem.color=item.lineColor;thresholdOpts.push(thresholdItem);gridMarkings.push(markingItem)});dataLength=plotThis.dataSet.length;dataLength>1?series.constraints=[]:series.constraints=thresholdOpts;plotThis.lineObj.setData(plotThis.dataSet);grid.markings=gridMarkings;plotThis.setupGrid();plotThis.draw()},"resetGrid":function(grid){var plotThis=this,options=plotThis.getOptions(),newGrid=_.extend({},options.grid,grid);options.grid=newGrid;plotThis.setupGrid();plotThis.draw()},"resetLegend":function(legend){var plotThis=this,options=plotThis.getOptions(),newLegend=_.extend({},options.legend,legend);options.legend=newLegend;plotThis.setupGrid()},"resetXaxis":function(xaxis){var plotThis=this,options=plotThis.getOptions(),newXaxis=_.extend({},options.xaxis,xaxis);options.xaxes=[];options.xaxis=newXaxis;options.xaxes.push(newXaxis);_.isUndefined(options.xaxis.axisLabel)||_.isUndefined(options.xaxis.axisLabelStyle)||(plotThis.xaxisLabelStyle=options.xaxis.axisLabelStyle);options=plotThis.getOptions();plotThis.setupGrid();plotThis.draw()},"resetYaxis":function(yaxis){var plotThis=this,options=plotThis.getOptions(),newYaxis=_.extend({},options.yaxis,yaxis);options.yaxis=newYaxis;plotThis.setupGrid();plotThis.draw()},"_setXaxis":function(xaxisOpts){var isaxisLabelValid,plotThis=this;plotThis.optionsSet.xaxis=$.extend(!0,{},DEFAULT_CONFIG.xaxis,xaxisOpts);isaxisLabelValid=!_.isUndefined(xaxisOpts)&&!_.isUndefined(xaxisOpts.axisLabel)&&!_.isUndefined(xaxisOpts.axisLabelStyle);isaxisLabelValid&&(plotThis.xaxisLabelStyle=xaxisOpts.axisLabelStyle)},"_setYaxis":function(yaxisOpts){var plotThis=this;plotThis.optionsSet.yaxis=$.extend(!0,{},DEFAULT_CONFIG.yaxis,yaxisOpts)},"_setY2axis":function(yaxisOpts){var plotThis=this;if(_.isUndefined(yaxisOpts))return;plotThis.optionsSet.y2axis=$.extend(!0,{},DEFAULT_CONFIG.y2axis,yaxisOpts)},"_setYaxisUnit":function(yaxisOpts){var $yaxisUnit,plotOffset,plotWidth,plotHeight,plotThis=this;plotThis._element.children("#yaxisUnit").remove();$yaxisUnit=$("<span id='yaxisUnit' style='height:12px;line-height:12px;'></span>");$yaxisUnit.html(yaxisOpts.unit);plotThis._element.prepend($yaxisUnit);plotOffset=plotThis.lineObj.getPlotOffset();plotWidth=plotThis.lineObj.width();plotHeight=plotThis.lineObj.height();"right"==yaxisOpts.position?$yaxisUnit.css({"position":"absolute","right":plotOffset.right-15,"bottom":plotOffset.bottom+plotHeight+10,"font":yaxisOpts.font}):$yaxisUnit.css({"position":"absolute","left":plotOffset.left-16,"bottom":plotOffset.bottom+plotHeight+10,"font":yaxisOpts.font})},"resizeChart":function(width,height){var plotThis=this,widthNum=parseInt(width,10),heightNum=parseInt(height,10),isFirstDraw=!1;if(!_.isNaN(widthNum)&&widthNum>0){$("#"+plotThis.chartId).width(widthNum);plotThis.width=widthNum}if(!_.isNaN(heightNum)&&heightNum>0){parseInt(plotThis.height)!==heightNum&&(isFirstDraw=!0);$("#"+plotThis.chartId).height(heightNum);plotThis.height=heightNum}plotThis.resize();plotThis.setupGrid();plotThis.draw();plotThis._rotateTickLabels(plotThis.lineObj,isFirstDraw);plotThis._setNoDataLabel()},"reDrawLines":function(newdata){var plotThis=this;plotThis.setData(newdata);plotThis.setupGrid();plotThis.draw();plotThis._rotateTickLabels(plotThis.lineObj);plotThis._setNoDataLabel()},"_createChart":function(placeholder,data,options){var isFirstDraw,plotThis=this;plotThis.lineObj=$.plot($("#"+placeholder),data,options);isFirstDraw=!0;plotThis._rotateTickLabels(plotThis.lineObj,isFirstDraw)},"setData":function(newData){var plotThis=this;plotThis.dataSet=plotThis._getData(newData);plotThis.lineObj.setData(plotThis.dataSet)},"setupGrid":function(){var plotThis=this,flotLegendId=plotThis.optionsSet.flotLegendId;plotThis.lineObj.setupGrid(flotLegendId);plotThis._updateUnit();plotThis._rotateTickLabels(plotThis.lineObj)},"_updateUnit":function(){var yaxisUnitElem,plotThis=this,optThis=plotThis.lineObj.getOptions(),yUnit=optThis.yaxes[0].unit;if(!_.isUndefined(yUnit)){yaxisUnitElem=plotThis._element.children("#yaxisUnit");yaxisUnitElem.remove();plotThis._setYaxisUnit(optThis.yaxes[0])}},"draw":function(){var plotThis=this;plotThis.lineObj.draw();plotThis._setNotes()},"highlight":function(series,datapoint){var plotThis=this;plotThis.lineObj.highlight(series,datapoint)},"unhighlight":function(){var plotThis=this;plotThis.lineObj.unhighlight(arguments)},"resize":function(){var plotThis=this;plotThis.lineObj.resize()},"getData":function(){var plotThis=this;plotThis.lineObj.getData()},"getOptions":function(){var plotThis=this;return plotThis.lineObj.getOptions()},"_rotateTickLabels":function(plot,isFirstDraw){var tickAngle,rotateAngle,cos,sin,tickLabels,length,$tickLabel,height,width,left,x1,x2,x3,minX,maxX,y1,firstLabelIndex,xAxes,j,xLeft,curYaxis,k,plotThis=this,axes=plot.getAxes(),deg2radians=Math.PI/180,i=1,curXaxis=axes.xaxis;for(;curXaxis&&$.isNumeric(curXaxis.options.tickAngle);){tickAngle=curXaxis.options.tickAngle;rotateAngle=tickAngle*deg2radians;cos=Math.cos(rotateAngle);sin=Math.sin(rotateAngle);tickLabels=plot.getPlaceholder().find(".x"+i+"Axis > .tiny-flot-tick-label");length=tickLabels.length;firstLabelIndex=0;xAxes=plotThis.lineObj.getXAxes()[0];j=0;for(j=0;j<xAxes.ticks.length;j++){left=xAxes.p2c(xAxes.ticks[j].v);if(left>=0){firstLabelIndex=j;break}}for(j=0;length>j;j++){$tickLabel=$(tickLabels[j]);!isFirstDraw&&"none"!==$tickLabel.css("transform")||0!==j||(plotThis.xaxisTop=parseInt($tickLabel.css("top")));height=$tickLabel.outerHeight();width=$tickLabel.outerWidth();y1=sin*width;$tickLabel.css("top",plotThis.xaxisTop+Math.abs(y1/2)+"px");$tickLabel.css({"-webkit-transform":"rotate("+tickAngle+"deg)","-moz-transform":"rotate("+tickAngle+"deg)","-ms-transform":"rotate("+tickAngle+"deg)","-o-transform":"rotate("+tickAngle+"deg)","transform":"rotate("+tickAngle+"deg)"});if(0===tickAngle||180===tickAngle||360===tickAngle||-180===tickAngle)continue;if(void 0!==xAxes.ticks[firstLabelIndex]){left=xAxes.p2c(xAxes.ticks[firstLabelIndex].v)+xAxes.box.left;left=isNaN(left)?0:left;x1=cos*width;x2=-sin*height;x3=cos*width-sin*height;minX=Math.min(0,x1,x2,x3);maxX=Math.max(0,x1,x2,x3);xLeft=(maxX-minX-height)/2;0>tickAngle&&(xLeft=(minX-maxX+height)/2);$tickLabel.css("left",left+xLeft+"px");firstLabelIndex++}}i++;curXaxis=axes["x"+i+"axis"]}i=1;curYaxis=axes.yaxis;for(;curYaxis&&$.isNumeric(curYaxis.options.tickAngle);){tickAngle=curYaxis.options.tickAngle;rotateAngle=tickAngle*deg2radians;cos=Math.cos(rotateAngle);sin=Math.sin(rotateAngle);tickLabels=plot.getPlaceholder().find(".y"+i+"Axis > .tiny-flot-tick-label");length=tickLabels.length;for(k=0;length>k;k++){$tickLabel=$(tickLabels[k]);height=$tickLabel.outerHeight();width=$tickLabel.outerWidth();$tickLabel.css({"-webkit-transform":"rotate("+tickAngle+"deg)","-moz-transform":"rotate("+tickAngle+"deg)","-ms-transform":"rotate("+tickAngle+"deg)","-o-transform":"rotate("+tickAngle+"deg)","transform":"rotate("+tickAngle+"deg)"});x1=cos*width;x2=-sin*height;x3=cos*width-sin*height;minX=Math.min(0,x1,x2,x3);maxX=Math.max(0,x1,x2,x3);left=parseInt($tickLabel.css("left"),10);left=isNaN(left)?0:left;$tickLabel.css("left",left-(maxX-minX-width)/2+"px")}i++;curYaxis=axes["y"+i+"axis"]}}});window.tinyWidget.Lineplot=Lineplot;return Lineplot});define("tiny-directives/Lineplot",["tiny-directives/Directive","tiny-widgets/Lineplot"],function(Directive,lineplotWidget){var DEFAULT_CONFIG={"directiveName":"tinyLineplot","widgetClass":lineplotWidget,"constantProperties":["id","grid","colors","type","series","tips","data","xaxis","yaxis","y2axis","caption","smooth","legend","relatedId","threshold","noDataLabel"],"scope":{"id":"=","type":"=","data":"=","width":"=","height":"=","colors":"=","grid":"=","tips":"=","model":"=tinyLineplot","series":"=","legend":"=","xaxis":"=","yaxis":"=","y2axis":"=","caption":"=","threshold":"=","smooth":"=","relatedId":"=","noDataLabel":"="},"template":'<div class="tiny-Lineplot"></div>',"replace":!0},Lineplot=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var widgetObj,directiveThis=this;element.attr("id",scope.id);directiveThis.widgetInstance=new directiveThis.widgetClass(_.pick(scope,directiveThis.constantProperties));widgetObj=directiveThis.widgetInstance._element.widget();scope.$watch("width",function(newValue,oldValue){widgetObj.resizeChart(newValue,"")});scope.$watch("data",function(newValue,oldValue){widgetObj.reDrawLines(newValue)});scope.$watch("noDataLabel",function(newValue,oldValue){widgetObj.setNoDataLabel(newValue)});scope.$watch("height",function(newValue,oldValue){widgetObj.resizeChart("",newValue)});widgetObj._element.on("$destroy",function(){scope.$destroy()})}});(new Lineplot).toAngularDirective();return Lineplot});define("tiny-widgets/Menu",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget"],function(angular,$,Class,Widget){var Menu=Widget.extend({"init":function(options){var widgetThis=this;widgetThis._super(options);widgetThis._setContainer(options)},"_setContainer":function(options){var widgetThis=this,$Container=$("#"+options.id);widgetThis.container=$Container;widgetThis.headDom=$Container.find("#tiny-menu");widgetThis.headDom&&widgetThis._setHead(widgetThis.headDom);widgetThis._element=$Container},"_setHead":function(headDom){var mSubObj,i,len,widgetThis=this,firstLevel=[],j=0;firstLevel=headDom.find("ul").eq(0).children();for(i=0,len=firstLevel.length;len>i;i++){if("LI"==firstLevel[i].tagName){widgetThis._parseSecLevel($(firstLevel[i]),j);j++}$(firstLevel[i]).bind("mouseover",function(){mSubObj=$(".tiny-menu-panel",this);if(mSubObj.length>0){mSubObj.css("display","block");this.getElementsByTagName("h1")[0].className.indexOf("menu_active")>=0?this.getElementsByTagName("h1")[0].className="menu-selected menu_active":this.getElementsByTagName("h1")[0].className="menu-selected"}});$(firstLevel[i]).bind("mouseout",function(){mSubObj=$(".tiny-menu-panel",this);if(mSubObj.length>0){mSubObj.css("display","none");this.getElementsByTagName("h1")[0].className.indexOf("menu_active")>=0?this.getElementsByTagName("h1")[0].className="menu_active":this.getElementsByTagName("h1")[0].className=null}});$(".tiny-menu-panel>ul>li>a",firstLevel[i]).bind("click",function(){$(".tiny-menu-panel:visible").css("display","none")})}},"_parseSecLevel":function($firstLevel,fl){var i,domLen,secondDom=$firstLevel.find("ul");$firstLevel.find("ul").wrapAll("<div class='tiny-menu-panel' style='display:none;'></div>");for(i=0,domLen=secondDom.length;domLen>i;i++)0==i?$(secondDom[i]).addClass("firstUl"):$(secondDom[i]).addClass("commonUl")}});window.tinyWidget.Menu=Menu;return Menu});define("tiny-directives/Menu",["tiny-directives/Directive","tiny-widgets/Menu"],function(Directive,MenuWidget){var DEFAULT_CONFIG={"directiveName":"tinyMenu","widgetClass":MenuWidget,"scope":{"id":"="}},Menu=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var directiveThis=this;element.prop("id",scope.id);directiveThis.widgetInstance=new directiveThis.widgetClass({"id":scope.id});element.append(directiveThis.widgetInstance._element)}});(new Menu).toAngularDirective();return Menu});define("tiny-widgets/Menubutton",["tiny-lib/jquery","tiny-lib/angular","tiny-lib/underscore","tiny-widgets/Widget","tiny-widgets/Button","tiny-lib/encoder"],function($,angular,_,Widget,Button,encoder){var DEFAULT_CONFIG={"template":'<span class="tinyMenuButton"></span>',"text":"","contentFrom":"local","recur":!1,"dropbtn":!0,"position":"right","btnIcon":""},CONST_VALUES={"BUTTON_MARGIN_RIGHT":5},menubutton=Widget.extend({"init":function(options){var widgetThis=this;options=_.extend({},DEFAULT_CONFIG,options);widgetThis._super(options);widgetThis._setOptions(options);widgetThis._addMenuButtonBehavior()},"_setOption":function(key,value){var widgetThis=this;widgetThis._super(key,value);switch(key){case"id":widgetThis._updateId(value);break;case"text":widgetThis._setText();break;case"content":widgetThis._updateContent()}},"_setText":function(){var menuText,menuCls,textCls,caretCls,caretHtml,widgetThis=this,dataHtml="",options=widgetThis.options;if("button"===options.type){dataHtml='<span class="tiny-menubutton-main-a"></span>';widgetThis.btnDom=widgetThis._creatBtn();widgetThis._element.html(dataHtml);widgetThis._element.find(".tiny-menubutton-main-a").prepend(widgetThis.btnDom)}else{menuText=options.text;menuCls=options.menuCls;textCls=menuCls&&menuCls.textCls;dataHtml='<span class="tiny-menubutton-main-a">';"string"==typeof textCls&&(dataHtml='<span class="tiny-menubutton-main-a '+$.encoder.encodeForHTMLAttribute("class",textCls,!0)+'">');if(options.dropbtn){caretCls=menuCls&&menuCls.caretCls;caretHtml='<span class="tiny-menubutton-caret"></span>';"string"==typeof caretCls&&(caretHtml='<span class="tiny-menubutton-caret '+$.encoder.encodeForHTMLAttribute("class",caretCls,!0)+'"></span>');menuText+=caretHtml}dataHtml+=menuText;dataHtml+="</span>";widgetThis._element.html(dataHtml)}$("#"+options.id).append(widgetThis._element)},"_creatBtn":function(){var widgetThis=this,options=widgetThis.options,btnText=options.text,leftIconCls=options.btnIcon,domTemplate='<a href="javascript:void(0)" class="tiny-btn-basic tiny-btn-with-icon"><div style="display:inline-block;"><div class="tiny-btn-left-icon '+leftIconCls+'"></div><span class="tiny-btn-text">'+btnText+'</span><div class="tiny-btn-right-icon right-icon-cls"><div class="tiny-btn-vertical-line"></div></div></div></a>';return $(domTemplate)},"_updateContent":function(){var dropHtml,i,len,widgetThis=this,options=widgetThis.options,content=options.content;if(!content.length)return;dropHtml="button"===options.type?'<ul class="tiny-menubutton-dropdown tiny-menubutton-buttondropdown':'<ul class="tiny-menubutton-dropdown tiny-menubutton-normaldropdown';"undefined"!=typeof options.cls&&(dropHtml+=" "+options.cls);dropHtml+='" style="display:none;">';for(i=0,len=content.length;len>i;i++){title=content[i].title;dropHtml+="true"===String(content[i].border)?'<li class="tiny-menubutton-dropdown-li"><a href="javascript:void(0)" class="tiny-menubutton-dropdown-a" index = '+i+' style="border-bottom: 1px solid #DCDCDC;">'+title+"</a></li>":'<li class="tiny-menubutton-dropdown-li"><a href="javascript:void(0)" class="tiny-menubutton-dropdown-a" index = '+i+" >"+title+"</a></li>"}dropHtml+="</ul>";if(widgetThis.$menuDrop){widgetThis.$menuDrop.html($(dropHtml).html());return}widgetThis.$menuDrop=$(dropHtml)},"_popMenu":function(){var position,left,widgetThis=this,options=widgetThis.options,menubutton=widgetThis._element.find(".tiny-menubutton-main-a");if(!widgetThis.$menuDrop)return;$("body").append(widgetThis.$menuDrop);position=menubutton.offset();if("left"===options.position)left=position.left;else{left=position.left+menubutton.width()-widgetThis.$menuDrop.outerWidth();"button"===options.type&&(left-=CONST_VALUES.BUTTON_MARGIN_RIGHT)}widgetThis.$menuDrop.css({"left":left,"top":position.top+menubutton.height(),"display":"block","overflow":"visible"});widgetThis.trigger("expand");"function"==typeof options.expand&&options.expand();widgetThis._addMenuDropBehavior();widgetThis.flag=!0},"_unpopMenu":function(){var widgetThis=this;if(widgetThis.$menuDrop){widgetThis.$menuDrop.off();widgetThis.$menuDrop.remove()}widgetThis.flag=!1},"expandMenu":function(content){var widgetThis=this;widgetThis.options;widgetThis._setOption("content",content);widgetThis.expanded=!0;if(!widgetThis.waitflag)return;widgetThis._popMenu();widgetThis.waitflag=!1},"destroy":function(){var widgetThis=this;widgetThis._element.unbind();$(document).unbind("mousedown",widgetThis.menubtnMousedown);$(document).unbind("mousewheel DOMMouseScroll",widgetThis.menubtnMousewheel);$(window).unbind("resize",widgetThis.resizeHandler);widgetThis._unpopMenu()},"_addMenuButtonBehavior":function(){var widgetThis=this,options=widgetThis.options,popFlag=!1;widgetThis.flag=!1;widgetThis.waitflag=!1;widgetThis.expanded=!1;widgetThis._element.on("mousedown",".tiny-menubutton-main-a",function(event){popFlag=!0;if("local"===options.contentFrom)widgetThis.flag?widgetThis._unpopMenu():widgetThis._popMenu();else if(widgetThis.flag)widgetThis._unpopMenu();else if(options.recur||!widgetThis.expanded){widgetThis.waitflag=!0;widgetThis.trigger("loadMenu");"function"==typeof options.loadMenu&&options.loadMenu()}else widgetThis._popMenu()});widgetThis.menubtnMousedown=function(event){if(popFlag){popFlag=!1;return}widgetThis.flag&&widgetThis._unpopMenu();widgetThis.waitflag=!1};$(document).on("mousedown",widgetThis.menubtnMousedown);widgetThis.menubtnMousewheel=function(event){widgetThis.flag&&widgetThis._unpopMenu();widgetThis.waitflag=!1};$(document).on("mousewheel DOMMouseScroll",widgetThis.menubtnMousewheel);widgetThis.resizeHandler=function(){widgetThis.flag&&widgetThis._unpopMenu()};$(window).on("resize",widgetThis.resizeHandler);widgetThis._element.on("$destroy",function(){widgetThis.destroy()})},"_addMenuDropBehavior":function(){var widgetThis=this;widgetThis.$menuDrop.on("mousedown",".tiny-menubutton-dropdown-a",function(event){var item=$(this),index=parseInt(item.attr("index"),10),clickFun=widgetThis.options.content[index].click;"function"==typeof clickFun&&clickFun(event,item,widgetThis);"function"==typeof widgetThis.options.clickCallback&&widgetThis.options.clickCallback(event,item,widgetThis,widgetThis.options.params);widgetThis._unpopMenu();event.stopPropagation()})}});window.tinyWidget.Menubutton=menubutton;return menubutton});define("tiny-directives/Menubutton",["tiny-directives/Directive","tiny-widgets/Menubutton"],function(Directive,menubuttonWidget){var DEFAULT_CONFIG={"directiveName":"tinyMenubutton","widgetClass":menubuttonWidget,"constantProperties":["clickCallback","params","content","text","contentFrom","recur","position","border","type","cls","dropbtn","btnIcon","menuCls"],"scope":{"id":"=","content":"=","text":"=","contentFrom":"=","params":"=","type":"=","cls":"=","dropbtn":"=","clickCallback":"=","recur":"=","position":"=","expand":"&","loadMenu":"&","btnIcon":"=","menuCls":"="},"template":"<span></span>","replace":"true"},menubutton=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var directiveThis=this,constants=_.pick(scope,directiveThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});directiveThis=new directiveThis.widgetClass(_.pick(constants,validProperName));element.append(directiveThis._element);scope.$watch("id",function(newValue,oldValue){directiveThis.option("id",newValue)});scope.$watch("content",function(newValue,oldValue){directiveThis.option("content",newValue)});scope.$watch("text",function(newValue,oldValue){directiveThis.option("text",newValue)});attrMap.expand&&directiveThis.on("expand",function(){scope.$apply(scope.expand())});attrMap.loadMenu&&directiveThis.on("loadMenu",function(){scope.$apply(scope.loadMenu())});directiveThis._element.on("$destroy",function(){scope.$destroy()})}});(new menubutton).toAngularDirective();return menubutton});(function($,undefined){var sizeRelatedOptions={"buttons":!0,"height":!0,"maxHeight":!0,"maxWidth":!0,"minHeight":!0,"minWidth":!0,"width":!0},resizableRelatedOptions={"maxHeight":!0,"maxWidth":!0,"minHeight":!0,"minWidth":!0};$.widget("ui.dialog",{"version":"1.10.3","options":{"appendTo":"body","autoOpen":!0,"buttons":[],"closeOnEscape":!0,"closeText":"close","dialogClass":"","draggable":!0,"hide":null,"height":"auto","maxHeight":null,"maxWidth":null,"minHeight":150,"minWidth":150,"modal":!1,"position":{"my":"center","at":"center","of":window,"collision":"fit","using":function(pos){var topOffset=$(this).css(pos).offset().top;0>topOffset&&$(this).css("top",pos.top-topOffset)}},"resizable":!0,"show":null,"title":null,"width":300,"beforeClose":null,"close":null,"drag":null,"dragStart":null,"dragStop":null,"focus":null,"open":null,"resize":null,"resizeStart":null,"resizeStop":null},"_create":function(){this.originalCss={"display":this.element[0].style.display,"width":this.element[0].style.width,"minHeight":this.element[0].style.minHeight,"maxHeight":this.element[0].style.maxHeight,"height":this.element[0].style.height};this.originalPosition={"parent":this.element.parent(),"index":this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&$.fn.draggable&&this._makeDraggable();this.options.resizable&&$.fn.resizable&&this._makeResizable();this._isOpen=!1},"_init":function(){this.options.autoOpen&&this.open()},"_appendTo":function(){var element=this.options.appendTo;if(element&&(element.jquery||element.nodeType))return $(element);return this.document.find(element||"body").eq(0)},"_destroy":function(){var next,originalPosition=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);next=originalPosition.parent.children().eq(originalPosition.index);next.length&&next[0]!==this.element[0]?next.before(this.element):originalPosition.parent.append(this.element)},"widget":function(){return this.uiDialog},"disable":$.noop,"enable":$.noop,"close":function(event){var that=this;if(!this._isOpen||this._trigger("beforeClose",event)===!1)return;this._isOpen=!1;this._destroyOverlay();this.opener.filter(":focusable").focus().length||$(this.document[0].activeElement).blur();this._hide(this.uiDialog,this.options.hide,function(){$(document).trigger("tipHide");that._trigger("close",event)})},"isOpen":function(){return this._isOpen},"moveToTop":function(){this._moveToTop()},"_moveToTop":function(event,silent){var moved=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;moved&&!silent&&this._trigger("focus",event);return moved},"open":function(){var that=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0;this.opener=$(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,!0);this._show(this.uiDialog,this.options.show,function(){that._focusTabbable();that._trigger("focus")});this._trigger("open")},"_focusTabbable":function(){var hasFocus=this.element.find("[autofocus]");hasFocus.length||(hasFocus=this.uiDialogButtonPane.find("[autofocus]"));hasFocus.length||(hasFocus=this.uiDialogButtonPane.find(":tabbable"));hasFocus.length||(hasFocus=this.uiDialog);hasFocus.eq(0).focus()},"_keepFocus":function(event){function checkFocus(){var activeElement=this.document[0].activeElement,isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);
isActive||this._focusTabbable()}event.preventDefault();checkFocus.call(this);this._delay(checkFocus)},"_createWrapper":function(){this.uiDialog=$("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({"tabIndex":-1,"role":"dialog"}).appendTo(this._appendTo());this.uiDialog.css("z-index",this.options.zIndex);this._on(this.uiDialog,{"keydown":function(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){event.preventDefault();this.close(event);return}if(event.keyCode!==$.ui.keyCode.TAB)return;var tabbables=this.uiDialog.find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");if(event.target!==last[0]&&event.target!==this.uiDialog[0]||event.shiftKey){if((event.target===first[0]||event.target===this.uiDialog[0])&&event.shiftKey){last.focus(1);event.preventDefault()}}else{first.focus(1);event.preventDefault()}}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},"_createTitlebar":function(){var uiDialogTitle,self=this;this.uiDialogTitlebar=$("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{"mousedown":function(event){$(event.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=$('<a href="javascript:void(0)"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).focus(function(){$(this).addClass("ui-state-focus")}).blur(function(){$(this).removeClass("ui-state-focus")}).click(function(event){self.close(event);return!1}).appendTo(this.uiDialogTitlebar);$("<span></span>").addClass("ui-icon ui-icon-closethick").text(this.options.closeText).appendTo(this.uiDialogTitlebarClose);uiDialogTitle=$("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(uiDialogTitle);this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")})},"_title":function(title){this.options.title||title.html("&#160;");title.html(this.options.title)},"_createButtonPane":function(){this.uiDialogButtonPane=$("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=$("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},"_createButtons":function(){var that=this,buttons=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if($.isEmptyObject(buttons)||$.isArray(buttons)&&!buttons.length){this.uiDialog.removeClass("ui-dialog-buttons");return}$.each(buttons,function(name,props){var $btnDom=$('<button id="'+props.key+'" class="tiny-btn-basic tiny-btn-without-icon" type="button"><span class="tiny-btn-text" style="min-width:'+(props.minWidth-40)+'px;">'+props.text+"</span></button>");props.focused&&$btnDom.attr("autofocus",!0);$btnDom.click(function(){props.click.apply(that.element[0],arguments)});$btnDom.appendTo(that.uiButtonSet);$.each(props,function(key,value){if("click"===key)return})});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},"_makeDraggable":function(){function filteredUi(ui){return{"position":ui.position,"offset":ui.offset}}var that=this,options=this.options;this.uiDialog.draggable({"cancel":".ui-dialog-content, .ui-dialog-titlebar-close","handle":".ui-dialog-titlebar","containment":"document","start":function(event,ui){$(this).addClass("ui-dialog-dragging");that._blockFrames();that._trigger("dragStart",event,filteredUi(ui))},"drag":function(event,ui){$(document).trigger("tipRelocation");that._trigger("drag",event,filteredUi(ui))},"stop":function(event,ui){options.position=[ui.position.left-that.document.scrollLeft(),ui.position.top-that.document.scrollTop()];$(this).removeClass("ui-dialog-dragging");that._unblockFrames();$(document).trigger("tipRelocation");that._trigger("dragStop",event,filteredUi(ui))}})},"_makeResizable":function(){function filteredUi(ui){return{"originalPosition":ui.originalPosition,"originalSize":ui.originalSize,"position":ui.position,"size":ui.size}}var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),resizeHandles="string"==typeof handles?handles:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({"cancel":".ui-dialog-content","containment":"document","alsoResize":this.element,"maxWidth":options.maxWidth,"maxHeight":options.maxHeight,"minWidth":options.minWidth,"minHeight":this._minHeight(),"handles":resizeHandles,"start":function(event,ui){$(this).addClass("ui-dialog-resizing");that._blockFrames();that._trigger("resizeStart",event,filteredUi(ui))},"resize":function(event,ui){$(document).trigger("tipRelocation");that._trigger("resize",event,filteredUi(ui))},"stop":function(event,ui){options.height=$(this).height();options.width=$(this).width();$(this).removeClass("ui-dialog-resizing");that._unblockFrames();that._trigger("resizeStop",event,filteredUi(ui))}}).css("position",position)},"_minHeight":function(){var options=this.options;return"auto"===options.height?options.minHeight:Math.min(options.minHeight,options.height)},"_position":function(){var isVisible=this.uiDialog.is(":visible");isVisible||this.uiDialog.show();this.uiDialog.position(this.options.position);isVisible||this.uiDialog.hide()},"_setOptions":function(options){var that=this,resize=!1,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value);key in sizeRelatedOptions&&(resize=!0);key in resizableRelatedOptions&&(resizableOptions[key]=value)});if(resize){this._size();this._position()}this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",resizableOptions)},"_setOption":function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;"dialogClass"===key&&uiDialog.removeClass(this.options.dialogClass).addClass(value);if("disabled"===key)return;this._super(key,value);"appendTo"===key&&this.uiDialog.appendTo(this._appendTo());"buttons"===key&&this._createButtons();"closeText"===key&&this.uiDialogTitlebarClose.button({"label":""+value});if("draggable"===key){isDraggable=uiDialog.is(":data(ui-draggable)");isDraggable&&!value&&uiDialog.draggable("destroy");!isDraggable&&value&&this._makeDraggable()}"position"===key&&this._position();if("resizable"===key){isResizable=uiDialog.is(":data(ui-resizable)");isResizable&&!value&&uiDialog.resizable("destroy");isResizable&&"string"==typeof value&&uiDialog.resizable("option","handles",value);isResizable||value===!1||this._makeResizable()}"title"===key&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))},"_size":function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({"width":"auto","minHeight":0,"maxHeight":"none","height":0});options.minWidth>options.width&&(options.width=options.minWidth);nonContentHeight=this.uiDialog.css({"height":"auto","width":options.width,"display":"block"}).outerHeight()-this.uiDialog.find(".ui-dialog-content").height();this.uiDialog.css("display","none");minContentHeight="number"==typeof options.minHeight?Math.max(60,options.minHeight-nonContentHeight):60;maxContentHeight="number"==typeof options.maxHeight?Math.max(minContentHeight,options.maxHeight-nonContentHeight):"none";if("auto"===options.height){this.element.css({"minHeight":minContentHeight,"maxHeight":maxContentHeight,"height":"auto"});this.element.children().css({"overflow-y":"auto","max-height":"inherit"})}else this.element.height(Math.max(options.height-nonContentHeight,60));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},"_blockFrames":function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({"position":"absolute","width":iframe.outerWidth(),"height":iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0]})},"_unblockFrames":function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},"_allowInteraction":function(event){if($(event.target).closest(".ui-dialog").length)return!0;return!!$(event.target).closest(".ui-datepicker").length},"_createOverlay":function(){if(!this.options.modal)return;var that=this;this.widgetFullName;$.ui.dialog.overlayInstances||this._delay(function(){$.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(event){that._allowInteraction(event)||event.preventDefault()})});this.overlay=$("<div>").addClass("ui-widget-overlay ui-front").css("z-index",this.options.zIndex).appendTo(this._appendTo());this._on(this.overlay,{"mousedown":"_keepFocus"});$.ui.dialog.overlayInstances++},"_destroyOverlay":function(){if(!this.options.modal)return;if(this.overlay){$.ui.dialog.overlayInstances--;$.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog");this.overlay.remove();this.overlay=null}}});$.ui.dialog.overlayInstances=0;$.uiBackCompat!==!1&&$.widget("ui.dialog",$.ui.dialog,{"_position":function(){var isVisible,compatibleHeight,position=this.options.position,myAt=[],offset=[0,0];if(position){if("string"==typeof position||"object"==typeof position&&"0"in position){myAt=position.split?position.split(" "):[position[0],position[1]];1===myAt.length&&(myAt[1]=myAt[0]);$.each(["left","top"],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition}});position={"my":myAt[0]+(offset[0]<0?offset[0]:"+"+offset[0])+" "+myAt[1]+(offset[1]<0?offset[1]:"+"+offset[1]),"at":myAt.join(" ")}}position=$.extend({},$.ui.dialog.prototype.options.position,position)}else position=$.ui.dialog.prototype.options.position;isVisible=this.uiDialog.is(":visible");isVisible||this.uiDialog.show();this.uiDialog.position(position);if(!this.options.dialogType&&"auto"===this.options.height){compatibleHeight=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight;this.uiDialog.css({"top":.2*compatibleHeight+$(document).scrollTop()})}isVisible||this.uiDialog.hide()}})})(jQuery);define("tiny-lib/jquery.ui.dialog",["tiny-lib/jquery","tiny-lib/jquery-ui.custom.min"],function(){});define("tiny-widgets/Message",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-common/util","tiny-lib/jquery-ui.custom.min","tiny-lib/jquery.ui.dialog","tiny-lib/encoder"],function(angular,$,Class,Widget,util,jqueryui,jqueryuidialog,encoder){var widgetsLanguage=tinyLanguage.language,DEFAULT_CONFIG={"template":"","id":null,"modal":!0,"title":"","content":"","detail-msg":"","width":"330px","height":"auto","msg-icon":"","buttons":[],"callback":null,"position":"auto","resizable":!1,"closeable":!0,"type":"prompt","append-to":"body","zIndexDelta":0},CONSTANT_CONFIG={"PADDING_LEFT_RIGHT":40,"IMG_WIDTH":40,"TEXT_TO_IMG":15,"Z_INDEX_DEFAULT":1e4},Message=Widget.extend({"init":function(options){var widgetThis=this;widgetThis._varInit(options);widgetThis._super(_.extend({},DEFAULT_CONFIG,options));widgetThis._init(options)},"_varInit":function(options){var rand1,rand2,widgetThis=this;widgetThis.mDialog=widgetThis;widgetThis.actualDialogTitle=null;rand1=Math.floor(1e5*Math.random())+1,rand2=Math.floor(1e5*Math.random())+1;widgetThis.dialogId="MessageDialog_"+rand1+"_"+rand2;widgetThis.DEFAULT_IMG="../themes/default/images/space.gif"},"show":function(){var textHeight,imageHeight,marginTop,widgetThis=this;widgetThis.messageDialog.dialog("open");widgetThis.messageDialog.parent().attr("id","messageDialog_main_"+widgetThis.messageDialog[0].id);textHeight=$(".tiny-dialog-content",widgetThis.messageDialog).outerHeight();imageHeight=$(".tiny-dialog-pic",widgetThis.messageDialog).outerHeight();if(imageHeight>textHeight){marginTop=(imageHeight-textHeight)/2+"px";$(".tiny-dialog-content",widgetThis.messageDialog).css("margin-top",marginTop)}},"destroy":function(){var widgetThis=this;widgetThis.messageDialog.dialog("destroy");"Microsoft Internet Explorer"!=navigator.appName||"9."!=navigator.appVersion.match(/9./)&&"8."!=navigator.appVersion.match(/8./)?window.removeEventListener("popstate",widgetThis.historyOperate):window.detachEvent("onhashchange",widgetThis.historyOperate);$("#"+widgetThis.dialogId).remove()},"_addBehavior":function(){var widgetThis=this,options=widgetThis.options;"function"==typeof options.open&&widgetThis.on("open",options.open);"function"==typeof options.close&&widgetThis.on("close",options.close);widgetThis.historyOperate=function(event){widgetThis.destroy()};"Microsoft Internet Explorer"!=navigator.appName||"9."!=navigator.appVersion.match(/9./)&&"8."!=navigator.appVersion.match(/8./)?window.addEventListener("popstate",widgetThis.historyOperate):window.attachEvent("onhashchange",widgetThis.historyOperate)},"_closeHandler":function(evt){var widgetThis=$(this).widget();widgetThis.trigger("close",[evt]);"Microsoft Internet Explorer"!=navigator.appName||"9."!=navigator.appVersion.match(/9./)&&"8."!=navigator.appVersion.match(/8./)?window.removeEventListener("popstate",widgetThis.historyOperate):window.detachEvent("onhashchange",widgetThis.historyOperate);$("#"+widgetThis.dialogId).remove()},"_openHandler":function(evt){var widgetThis=$(this).widget();widgetThis.trigger("open",[evt])},"_setOption":function(key,value){var isOpen,widgetThis=this;widgetThis._super(key,value);switch(key){case"title":case"position":widgetThis.messageDialog.dialog("option",key,value);break;case"buttons":widgetThis._createMsgBoxButtons();widgetThis.messageDialog.dialog("option",key,widgetThis.dialogButtons);break;case"width":case"height":case"detail-msg":case"content":case"closeable":case"id":isOpen=!1;widgetThis.messageDialog.dialog("isOpen")&&(isOpen=!0);widgetThis.destroy();widgetThis._init(widgetThis.options);isOpen&&widgetThis.show()}},"rendTo":function(elementId){var widgetThis=this;widgetThis._setOption("id",elementId);return widgetThis},"_setContent":function(){var $imgDiv,$defaultImgDiv,$img,widgetThis=this,options=widgetThis.options;if(options.type){$imgDiv=$("<div></div>");$defaultImgDiv=$("<div class='tinyMesageDialog_default_"+options.type+"_img'></div>");$img=$("<div></div>");widgetThis.titleText="";switch(options.type){case"warn":case"prompt":case"error":case"confirm":case"systemNotice":widgetThis._setContentByType(options.type,$img,$imgDiv)}}},"_setContentByType":function(type,$img,$imgDiv){var widgetThis=this,options=widgetThis.options,title={"prompt":widgetsLanguage.promptTitle,"error":widgetsLanguage.errorTitle,"warn":widgetsLanguage.warnTitle,"confirm":widgetsLanguage.confirmTitle,"systemNotice":widgetsLanguage.systemNoticeTitle};options.title=options.title&&!util.isEmptyString(options.title)?options.title:title[type];""!=options["msg-icon"]&&$("img",$img.append("<img>")).attr("src",options["msg-icon"]);if("systemNotice"!==type){widgetThis.titleText=options.title;if(null==options["msg-icon"]||""==options["msg-icon"]){$img.addClass("tiny-img-"+type+" ti");switch(type){case"prompt":$img.addClass("ti-check-circle-middle");break;case"confirm":$img.addClass("ti-info-circle");break;case"warn":$img.addClass("ti-exclamation-triangle");break;case"error":$img.addClass("ti-exclamation-circle")}}$imgDiv.append($img);widgetThis.content=widgetThis._createMsgBoxContent($imgDiv,options.content);widgetThis._createMsgBoxButtons()}else{$img.addClass("tiny-img-systemNotice");widgetThis.actualDialogTitle=options.title;options["msg-icon"]=$imgDiv.html();options.title=$imgDiv.html()+options.title;widgetThis.titleText=options.title;widgetThis.content=widgetThis._createMsgBoxContent($imgDiv,options.content)}},"_setDetailMsg":function(){var detailsMsgContentShowFlag,widgetThis=this,options=widgetThis.options,detailMsg=document.getElementById("detailsMsg"+widgetThis.mDialog.dialogId);if(detailMsg){detailsMsgContentShowFlag=!1;detailMsg.onclick=function(){if("systemNotice"==options.type&&options["detail-url"]){window.open(options["detail-url"]);return}var $detailsMsgContent=$("#detailsMsgContent"+widgetThis.mDialog.dialogId);if(detailsMsgContentShowFlag===!1){$detailsMsgContent.removeClass("tiny-dialog-detail-close").addClass("tiny-dialog-detail-open").html(options["detail-msg"]);detailsMsgContentShowFlag=!0}else{$detailsMsgContent.removeClass("tiny-dialog-detail-open").addClass("tiny-dialog-detail-close").html("");detailsMsgContentShowFlag=!1}}}},"_init":function(dialogOptions){var msgBoxWidth,msgBoxHeight,$dialogDiv,j,zIndexDelta,closeable,widgetThis=this,options=widgetThis.options;widgetThis.dialogButtons=[];widgetThis.focus=0;options.modal=util.isFalse(options.modal)?!1:!0;msgBoxWidth=parseInt(options.width,10),msgBoxHeight=parseInt(options.height,10);widgetThis.dialogWidth=isNaN(msgBoxWidth)||0>msgBoxWidth?"330":msgBoxWidth;widgetThis.dialogHeight=isNaN(msgBoxHeight)||0>msgBoxHeight?"auto":msgBoxHeight;widgetThis._setContent();$dialogDiv=$("<div id="+widgetThis.dialogId+"></div>");options.title=null==options.title?"":options.title;for(j=0;j<widgetThis.dialogButtons.length;j++)if(widgetThis.dialogButtons[j].focused===!0){widgetThis.focus=j;break}zIndexDelta=+options.zIndexDelta;zIndexDelta=isNaN(zIndexDelta)?0:zIndexDelta;closeable=options.closeable+""!="false";"systemNotice"==options.type?widgetThis.messageDialog=$dialogDiv.html(widgetThis.content).dialog({"autoOpen":!1,"title":options.title,"titleText":widgetThis.actualDialogTitle,"titleIcon":$.encoder.encodeForHTMLAttribute("titleIcon",options["msg-icon"],!0),"dialogType":options.type,"draggable":!1,"close":widgetThis._closeHandler,"open":widgetThis._openHandler,"show":{"effect":"clip","duration":750},"zIndex":CONSTANT_CONFIG.Z_INDEX_DEFAULT+zIndexDelta,"hide":{"effect":"clip","duration":750},"resizable":options.resizable,"closeOnEscape":closeable,"modal":!1,"minHeight":!1,"height":widgetThis.dialogHeight,"width":widgetThis.dialogWidth,"position":"right bottom","appendTo":options.id?"#"+options.id:null}):widgetThis.messageDialog=$dialogDiv.html(widgetThis.content).dialog({"autoOpen":!1,"title":options.title,"titleText":widgetThis.titleText,"dialogType":options.type,"buttons":widgetThis.dialogButtons,"show":"fade","zIndex":CONSTANT_CONFIG.Z_INDEX_DEFAULT+zIndexDelta,"resizable":options.resizable,"closeOnEscape":closeable,"modal":options.modal,"minHeight":!1,"height":widgetThis.dialogHeight,"width":widgetThis.dialogWidth,"position":options.position,"close":widgetThis._closeHandler,"open":widgetThis._openHandler,"appendTo":options.id?"#"+options.id:options["append-to"]});$dialogDiv.widget(widgetThis);widgetThis.messageDialog.bind("dialogclose",function(event,ui){widgetThis.mDialog.destroy();options.callback&&options.callback({"type":"closed","value":!0})});widgetThis._setDetailMsg();closeable||$dialogDiv.parent().find(".ui-dialog-titlebar-close").hide()},"_createMsgBoxContent":function($imgDiv,dialogContent){var totalWidth,textContentWidth,widgetThis=this,msgBoxContent="",divClass="<div class='tiny-dialog-pic'>";""!==widgetThis.options["msg-icon"]&&(divClass="<div class='tiny-dialog-pic-custom'>");totalWidth=parseInt(widgetThis.options.width,10);textContentWidth=0;if("systemNotice"!==widgetThis.options.type){textContentWidth=totalWidth-2*CONSTANT_CONFIG.PADDING_LEFT_RIGHT-CONSTANT_CONFIG.IMG_WIDTH-CONSTANT_CONFIG.TEXT_TO_IMG;msgBoxContent=widgetThis.options["detail-msg"]?divClass+$imgDiv.html()+"</div><div style='width:"+textContentWidth+"px;' class='tiny-dialog-content tinyMessageBox_msgBoxContent'>"+dialogContent+"</div><div class='tiny-dialog-detail tinyMessageBox_msgBoxContent'><a href='javascript:void(0)' id='detailsMsg"+widgetThis.mDialog.dialogId+"'>"+widgetsLanguage.detailMsgHeading+"</a><div id ='detailsMsgContent"+widgetThis.mDialog.dialogId+"'></div></div>":divClass+$imgDiv.html()+"</div><div style='width:"+textContentWidth+"px;' class='tiny-dialog-content tinyMessageBox_msgBoxContent'>"+dialogContent+"</div>"}else{textContentWidth=totalWidth-2*CONSTANT_CONFIG.PADDING_LEFT_RIGHT;msgBoxContent=widgetThis.options["detail-msg"]?widgetThis.options["detail-url"]?"<div style='width:"+textContentWidth+"px;' class='tinyMessageBox_msgBoxContent'>"+dialogContent+"</div><a href='javascript:void(0)' id='detailsMsg"+widgetThis.mDialog.dialogId+"'>"+widgetThis.options["detail-msg"]+"</a></div>":"<div style='width:"+textContentWidth+"px;' class='tinyMessageBox_msgBoxContent'>"+dialogContent+"</div><a href='javascript:void(0)' id='detailsMsg"+widgetThis.mDialog.dialogId+"'>"+widgetsLanguage.detailMsgHeading+"</a><div id ='detailsMsgContent"+widgetThis.mDialog.dialogId+"'></div></div>":"<div style='width:"+textContentWidth+"px;' class='tinyMessageBox_msgBoxContent'>"+dialogContent+"</div>"}return"<div id='baseDiv_"+widgetThis.dialogId+"' style='height:100%;width:100%'>"+msgBoxContent+"</div>"},"_createMsgBoxButtons":function(){var i,widgetThis=this,options=widgetThis.options,okBtnTitile=widgetsLanguage.okBtnTitile,cancelBtnTitile=widgetsLanguage.cancelBtnTitile,yesBtnTitile=widgetsLanguage.yesBtnTitile,noBtnTitile=widgetsLanguage.noBtnTitile,label=null,tempMinWidth="",minWidth="",key=null,accessKeyValue=null,defaultFocus=!1,buttonHandler=null,buttonDetails=null;if(null==options.buttons){widgetThis.dialogButtons=[];return}if(options.buttons.length>0){for(i=0;i<options.buttons.length;i++)if(options.buttons[i]){buttonHandler=null;label=options.buttons[i].label?options.buttons[i].label:"";key=options.buttons[i].key?options.buttons[i].key:"btn"+i;accessKeyValue=options.buttons[i].accessKey?options.buttons[i].accessKey:"";defaultFocus=options.buttons[i].focused?options.buttons[i].focused:!1;minWidth=isNaN(tempMinWidth=parseInt(options.buttons[i].minWidth,10))?80:tempMinWidth;buttonDetails={"accessKey":accessKeyValue,"text":label,"key":key,"minWidth":minWidth,"focused":defaultFocus,"click":function(e){var btnLabel,k;evt=window.event?event:e;btnLabel=null;for(k=0;k<options.buttons.length;k++){if(13==evt.keyCode&&"function"==typeof options.buttons[k].handler&&options.buttons[k].focused){options.buttons[k].handler(evt);break}btnLabel=evt.target?evt.target.textContent:evt.srcElement.innerText;if(options.buttons[k].label===btnLabel){buttonHandler=options.buttons[k].handler;break}}buttonHandler&&buttonHandler({"type":"button","value":btnLabel})}};widgetThis.dialogButtons[i]=buttonDetails;buttonDetails=[]}}else"error"===options.type||"prompt"===options.type?widgetThis.dialogButtons=[widgetThis._oBtn(okBtnTitile,!0)]:"warn"===options.type?widgetThis.dialogButtons=[widgetThis._oBtn(okBtnTitile,!0),widgetThis._oBtn(cancelBtnTitile)]:"confirm"===options.type&&(widgetThis.dialogButtons=[widgetThis._oBtn(yesBtnTitile,!0),widgetThis._oBtn(noBtnTitile)])},"_oBtn":function(title,focused){var widgetThis=this,oBtn={"text":title,"focused":focused,"minWidth":80,"click":function(){widgetThis.mDialog.destroy();widgetThis.options.callback&&widgetThis.options.callback({"type":"button","value":title})}};return oBtn},"setButton":function(key,clickfn,text){var i,btn,widgetThis=this,options=widgetThis.options;if(options.buttons.length>0)for(i=0;i<options.buttons.length;i++){btn=options.buttons[i];if(null!==btn&&btn.key==key){btn.label=text||btn.label;"function"==typeof clickfn&&(btn.handler=clickfn)}}widgetThis.option("buttons",options.buttons)}});window.tinyWidget.Message=Message;return Message});define("tiny-widgets/MultiselectGroup",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-common/util","tiny-widgets/Tip","tiny-lib/encoder"],function(angular,$,Class,Widget,util,Tip,encoder){var DEFAULT_CONFIG={"template":'<div class="tiny-multiselectgroup"></div>',"layout":"horizon","values":[]},multiselectGroup=Widget.extend({"init":function(options){var _parentDiv,multiselectGroupThis=this;options=_.extend({},DEFAULT_CONFIG,options);multiselectGroupThis.checkAllId=!1;multiselectGroupThis._super(options);multiselectGroupThis._setOptions(options);_parentDiv=$("#"+options.id);if(_parentDiv.length>0){_parentDiv.append(multiselectGroupThis._element);multiselectGroupThis._finishInit()}},"_optionHtmlFactory":function(multiselectGroup,multiselectId,checked,disabled,chkboxIconStyle,iconURL,text){var multiselectGroupThis=this,html=(multiselectGroupThis.options,"");disabled&&(chkboxIconStyle+=" tiny-img-disabled");html+='<div class="tiny-multiselectgroup-style '+$.encoder.encodeForHTMLAttribute("class",multiselectGroup,!0)+'"  ><div class="tiny-multiselectgroup-mark" id='+$.encoder.encodeForHTMLAttribute("id",multiselectId,!0)+"  tiny-checked="+checked+" tiny-disabled="+disabled+' ><div class="tiny-multiselectIcon '+$.encoder.encodeForHTMLAttribute("class",chkboxIconStyle,!0)+'"><span style="padding: 10px" class="tiny-text">'+text+"</span></div>";html+="</div></div>";return html},"_setOption":function(key,value){var options,multiselectGroupThis=this;multiselectGroupThis._super(key,value);options=multiselectGroupThis.options;switch(key){case"id":multiselectGroupThis._updateId(value);break;case"all-select":multiselectGroupThis._updateSelectAll(options);break;case"values":multiselectGroupThis._updateValues(options);break;case"display":multiselectGroupThis.opHidden(value)}},"_updateValues":function(options){var i,isVertical,elementLength,j,value,multiselectId,multiselectGroupThis=this;multiselectGroupThis.elementContent="";multiselectGroupThis.tooltipObj=[];for(i=0;i<options.values.length;i++){isVertical="horizon"!=options.layout.toLowerCase();isVertical&&(multiselectGroupThis.elementContent+='<div class="tiny-multiselect-vertical">');elementLength=options.values[i].length||1;for(j=0;elementLength>j;j++){value=options.values[i][j]||options.values[i];multiselectId=value.key;multiselectGroupThis.elementContent+=multiselectGroupThis._valuesDispose(value,!1);value.tooltip&&multiselectGroupThis.tooltipObj.push({"multiselectId":multiselectId,"value":value.tooltip})}isVertical&&(multiselectGroupThis.elementContent+="</div>")}if(!options.selectAll){multiselectGroupThis._element.html(multiselectGroupThis.elementContent);multiselectGroupThis.tooltipDispose()}},"_updateSelectAll":function(options){var selectAllHtml,chkAllId,multiselectGroupThis=this,selectAll=options["all-select"];if(_.isObject(selectAll)){multiselectGroupThis.checkAllId=selectAll.key;selectAllHtml='<div class="tiny-multiselect-vertical">'+multiselectGroupThis._valuesDispose(selectAll,!0)+"</div>";"bottom"!=selectAll.position?multiselectGroupThis.elementContent=selectAllHtml+multiselectGroupThis.elementContent:multiselectGroupThis.elementContent+=selectAllHtml;selectAll.tooltip&&multiselectGroupThis.tooltipObj.push({"multiselectId":selectAll.key,"value":selectAll.tooltip})}multiselectGroupThis._element.html(multiselectGroupThis.elementContent);multiselectGroupThis.tooltipDispose();if(multiselectGroupThis.checkAllId){multiselectGroupThis.checkedAll(selectAll.checked);chkAllId=multiselectGroupThis.checkAllId;multiselectGroupThis.$checkAllselector=multiselectGroupThis._element.find("[id ="+chkAllId+"]");multiselectGroupThis.$checkAllicon=multiselectGroupThis.$checkAllselector.find(".tiny-multiselectIcon")}},"tooltipDispose":function(){var i,$selectortootip,tip,multiselectGroupThis=this,tooltipObj=multiselectGroupThis.tooltipObj;if(tooltipObj.length)for(i=0;i<tooltipObj.length;i++){$selectortootip=multiselectGroupThis._element.find("[id="+tooltipObj[i].multiselectId+"]").find(".tiny-text");$selectortootip.addClass("tiny-multiselect-tooltip");tip=new Tip({"content":tooltipObj[i].value,"element":$selectortootip})}},"_valuesDispose":function(value,isSelectAll){var chkboxIconStyle,multiselectGroupThis=this,multiselectGroup=(multiselectGroupThis.options,"tiny-multiselect-horizon"),multiselectId=value.key,text=value.text,iconURL=value["icon-class"],checked=(value.tooltip,util.isTrue(value.checked)),disabled=util.isTrue(value.disable);chkboxIconStyle=disabled?checked?"tiny-multiselect-checked-disabled":"tiny-multiselect-unchecked-disabled":checked?"tiny-multiselect-checked":"tiny-multiselect-unchecked";return multiselectGroupThis._optionHtmlFactory(multiselectGroup,multiselectId,checked,disabled,chkboxIconStyle,iconURL,text)},"_addBehavior":function(){var chkAllId,multiselectGroupThis=this,options=multiselectGroupThis.options;multiselectGroupThis._element.on("click",".tiny-multiselectgroup-mark",function(event){var checkedoption,thisId=$(this).attr("id"),$clickElement=$(this).find(".tiny-multiselectIcon");chkAllId=multiselectGroupThis.checkAllId;if("true"===$(this).attr("tiny-disabled"))return;checkedoption=$(this).attr("tiny-checked");if("true"==checkedoption){if("false"==String(options.multiple))return!1;if(thisId==chkAllId){multiselectGroupThis.checkedAll("false");return}$clickElement.removeClass("tiny-multiselect-checked").addClass("tiny-multiselect-unchecked");$(this).attr("tiny-checked",!1);chkAllId&&multiselectGroupThis._checkedFalseDispose()}if("false"==checkedoption){if(thisId==chkAllId){multiselectGroupThis.checkedAll("true");return}$clickElement.removeClass("tiny-multiselect-unchecked").addClass("tiny-multiselect-checked");"false"==String(options.multiple)&&multiselectGroupThis.checkedAll("false");$(this).attr("tiny-checked",!0);chkAllId&&multiselectGroupThis._checkedTrueDispose()}"function"==typeof options.click&&options.click(event)})},"opChecked":function(valueId,checkedNew){var $checkedElements,checkedArray,multiselectGroupThis=this,$selectorValues=multiselectGroupThis._element.find("[id="+valueId+"]"),$selectorcheckIcon=$selectorValues.find(".tiny-multiselectIcon"),isChecked=$selectorValues.attr("tiny-checked"),isDisabled=$selectorValues.attr("tiny-disabled");if(0===arguments.length)return;if(_.isString(valueId)){if(_.isUndefined(checkedNew)){if("checked"==valueId){$checkedElements=multiselectGroupThis._element.find("[tiny-checked='true']");checkedArray=_.map($checkedElements,function(checked){return $(checked).attr("id")});multiselectGroupThis.checkAllId&&(checkedArray=_.without(checkedArray,multiselectGroupThis.checkAllId));return checkedArray}if("true"==isChecked)return!0;return!1}return multiselectGroupThis._updataChecked($selectorValues,$selectorcheckIcon,checkedNew,isDisabled,isChecked)}},"_updataChecked":function($selectorValues,$selectorcheckIcon,checkedNew,isDisabled,isChecked){var chkAllId,multiselectGroupThis=this;if(isChecked==String(checkedNew))return;chkAllId=multiselectGroupThis.checkAllId;if("true"==String(checkedNew)){$selectorValues.attr("tiny-checked",!0);"true"==isDisabled?$selectorcheckIcon.removeClass("tiny-multiselect-unchecked-disabled").addClass("tiny-multiselect-checked-disabled"):$selectorcheckIcon.removeClass("tiny-multiselect-unchecked").addClass("tiny-multiselect-checked");chkAllId&&multiselectGroupThis._checkedTrueDispose()}if("false"==String(checkedNew)){$selectorValues.attr("tiny-checked",!1);"true"==isDisabled?$selectorcheckIcon.removeClass("tiny-multiselect-checked-disabled").addClass("tiny-multiselect-unchecked-disabled"):$selectorcheckIcon.removeClass("tiny-multiselect-checked").addClass("tiny-multiselect-unchecked");chkAllId&&multiselectGroupThis._checkedFalseDispose()}},"opDisabled":function(disabledNew){var multiselectGroupThis=this,$selectorValues=multiselectGroupThis._element.find(".tiny-multiselectgroup-mark");$.each($selectorValues,function(key,element){multiselectGroupThis._updataDisabled($(element),disabledNew)})},"_updataDisabled":function($element,disabledNew){var isChecked=$element.attr("tiny-checked"),isDisabled=$element.attr("tiny-disabled"),$selectorcheckIcon=$element.find(".tiny-multiselectIcon");$selectorcheckIcon.find(".tiny-text");if(isDisabled==String(disabledNew))return;if("true"==String(disabledNew)){$element.attr("tiny-disabled",!0);$selectorcheckIcon.addClass("tiny-img-disabled");if("true"==isChecked){$selectorcheckIcon.removeClass("tiny-multiselect-checked").addClass("tiny-multiselect-checked-disabled");return}$selectorcheckIcon.removeClass("tiny-multiselect-unchecked").addClass("tiny-multiselect-unchecked-disabled")}if("false"==String(disabledNew)){
$element.attr("tiny-disabled",!1);$selectorcheckIcon.removeClass("tiny-img-disabled");if("true"==isChecked){$selectorcheckIcon.removeClass("tiny-multiselect-checked-disabled").addClass("tiny-multiselect-checked");return}$selectorcheckIcon.removeClass("tiny-multiselect-unchecked-disabled").addClass("tiny-multiselect-unchecked")}},"_checkedTrueDispose":function(){var multiselectGroupThis=this,$checkAllselector=multiselectGroupThis.$checkAllselector,$checkAllicon=multiselectGroupThis.$checkAllicon,isDisabled="true"==$checkAllselector.attr("tiny-disabled")?!0:!1,$unchecked=("true"==$checkAllselector.attr("tiny-checked")?!0:!1,multiselectGroupThis._element.find("[tiny-checked='false']"));if(1==$unchecked.length){$checkAllselector.attr("tiny-checked",!0);isDisabled?$checkAllicon.removeClass("tiny-multiselect-unchecked-disabled").addClass("tiny-multiselect-checked-disabled"):$checkAllicon.removeClass("tiny-multiselect-unchecked").addClass("tiny-multiselect-checked")}},"_checkedFalseDispose":function(){var multiselectGroupThis=this,$checkAllselector=multiselectGroupThis.$checkAllselector,$checkAllicon=multiselectGroupThis.$checkAllicon,isDisabled="true"==$checkAllselector.attr("tiny-disabled")?!0:!1,ischeckAll="true"==$checkAllselector.attr("tiny-checked")?!0:!1;if(ischeckAll){$checkAllselector.attr("tiny-checked",!1);isDisabled?$checkAllicon.removeClass("tiny-multiselect-checked-disabled").addClass("tiny-multiselect-unchecked-disabled"):$checkAllicon.removeClass("tiny-multiselect-checked").addClass("tiny-multiselect-unchecked")}},"checkedAll":function(checkValue){var $uncheckedElement,$checkedElement,multiselectGroupThis=this;if("true"==String(checkValue)){$uncheckedElement=multiselectGroupThis._element.find("[tiny-checked='false']");_.each($uncheckedElement,function(element){isDisabled=$(element).attr("tiny-disabled");$(element).attr("tiny-checked","true");var $checkIcon=$(element).find(".tiny-multiselectIcon");"true"==isDisabled?$checkIcon.removeClass("tiny-multiselect-unchecked-disabled").addClass("tiny-multiselect-checked-disabled"):$checkIcon.removeClass("tiny-multiselect-unchecked").addClass("tiny-multiselect-checked")});return}if("false"==String(checkValue)){$checkedElement=multiselectGroupThis._element.find("[tiny-checked='true']");_.each($checkedElement,function(element){isDisabled=$(element).attr("tiny-disabled");$(element).attr("tiny-checked","false");var $checkIcon=$(element).find(".tiny-multiselectIcon");"true"==isDisabled?$checkIcon.removeClass("tiny-multiselect-checked-disabled").addClass("tiny-multiselect-unchecked-disabled"):$checkIcon.removeClass("tiny-multiselect-checked").addClass("tiny-multiselect-unchecked")});return}},"_finishInit":function(){var multiselectGroupThis=this,options=multiselectGroupThis.options;multiselectGroupThis._updateCls(options);multiselectGroupThis._autoWidth();"function"==typeof options.click&&options.click()},"_autoWidth":function(){var multiselectGroupThis=this,$elements=multiselectGroupThis._element.find(".tiny-multiselectIcon"),maxWidth=0;$.each($elements,function(key,value){var width=Math.ceil($(value).width());width>maxWidth&&(maxWidth=width)});maxWidth>0&&$elements.width(maxWidth)},"opHidden":function(isHidden,key){var elements,_element,multiselectGroupThis=this;if(key){elements=multiselectGroupThis._element.find("[id="+key+"]");"true"==String(isHidden)?$(elements).parent().hide():$(elements).parent().show()}else{_element=multiselectGroupThis._element;if("true"==String(isHidden))$(_element).hide();else{$(_element).show();multiselectGroupThis._autoWidth()}}},"_updateCls":function(options){var multiselectGroupThis=this;options.cls&&multiselectGroupThis._element.attr("class",options.cls)}});window.tinyWidget.MultiselectGroup=multiselectGroup;return multiselectGroup});define("tiny-directives/MultiselectGroup",["tiny-directives/Directive","tiny-widgets/MultiselectGroup"],function(Directive,MultiselectGroupWidget){var DEFAULT_CONFIG={"directiveName":"tinyMultiselectgroup","widgetClass":MultiselectGroupWidget,"scope":{"id":"=","spacing":"=","layout":"=","values":"=","allSelect":"=","change":"&","click":"&","cls":"=","multiple":"=","hidden":"="},"constantProperties":["layout","cls","multiple","click"],"template":"<span></span>","replace":"true"},MultiselectGroup=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var multiselectGroupThis=this,constants=_.pick(scope,multiselectGroupThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});multiselectGroupThis=new multiselectGroupThis.widgetClass(_.pick(constants,validProperName));element.append(multiselectGroupThis._element);scope.$watch("id",function(newValues,oldValues){multiselectGroupThis.option("id",newValues)});scope.$watch("values",function(newValues,oldValues){multiselectGroupThis.option("values",newValues)});scope.$watch("hidden",function(newValues,oldValues){multiselectGroupThis.option("hidden",newValues)});scope.$watch("allSelect",function(newValues,oldValues){multiselectGroupThis.option("all-select",newValues);multiselectGroupThis._finishInit()})}});(new MultiselectGroup).toAngularDirective();return MultiselectGroup});define("tiny-widgets/Select",["tiny-lib/angular","tiny-lib/underscore","tiny-lib/jquery","tiny-widgets/Widget","tiny-common/util","tiny-common/UnifyValid","tiny-lib/encoder"],function(angular,_,$,Widget,util,UnifyValid,encoder){var domTemplate='<div class="tiny-select"><div class="tiny-select-input-field"><input type="text" readonly="readonly" class="tiny-select-text"></div></div>',popTemplate='<div class="tiny-select-popup-container"></div>',DEFAULT_CONFIG={"template":domTemplate,"mode":"single","default-selectid":"","values":[],"width":200,"height":1e4,"display":!0,"disable":!1,"autoOpen":!0,"isvalidtip":!0,"optionWidth":"inherit"},CONST_VALUES={"DECIMAL":10,"MIN_WIDTH":50,"CALC_INPUT_WIDTH":45,"CALC_POP_WIDTH":2,"OPTION_BORDER":8,"CHECKBOX_WIDTH":19,"IMAGE_WIDTH":18},Select=Widget.extend({"init":function(options){var selectThis=this;options=_.extend({},DEFAULT_CONFIG,options);selectThis._super(options);selectThis._setOptions(options);selectThis._addValidate(options,selectThis);$("#"+options.id).append(selectThis._element)},"_addValidate":function(options,widgetThis){if(options.validate||options.tooltip){var validOption={"eleInput":widgetThis.$inputText,"focusElem":widgetThis.$inputText,"eleTip":widgetThis.$inputField,"validate":options.validate,"tooltip":options.tooltip,"errorMsg":options.errorMsg,"extendFun":options.extendFunction,"tipPos":options.tipPosition,"tipWidth":options.tipWidth,"evtInstance":widgetThis};UnifyValid.initValid(validOption)}},"_generateElement":function(){var selectThis=this;selectThis.$popup=$(popTemplate);$("body").append(selectThis.$popup);selectThis._element=$(_.template(selectThis.options.template)(this))},"_setOption":function(key,value){var selectThis=this;selectThis._super(key,value);switch(key){case"id":selectThis._updateId(value);break;case"display":selectThis._updateDisplay();break;case"disable":selectThis._updateDisable();break;case"width":selectThis._updateWidth();break;case"height":selectThis._updateHeight(value);break;case"inputFieldHeight":selectThis._updateInputFieldHeight(value);break;case"values":selectThis._updateValues();break;case"placeholder":selectThis._updatePlaceholder(value);break;case"default-selectid":selectThis.updateDefaultId(value);break;case"tooltip":UnifyValid.updateTooltip(selectThis.$inputText,value);break;case"validate":UnifyValid.updateValidate(selectThis.$inputText,value);break;case"errorMsg":UnifyValid.updateErrMsg(selectThis.$inputText,value)}},"_updateDisplay":function(){var selectThis=this,options=selectThis.options;util.isTrue(options.display)?selectThis.$element.css("display","inline-block"):selectThis.$element.css("display","none")},"updateDefaultId":function(value){var selectThis=this;selectThis.opChecked(value)},"_updateDisable":function(){var selectThis=this,options=selectThis.options;if(util.isTrue(options.disable)){selectThis.$inputField.addClass("tiny-select-input-field-disable");selectThis.$inputText.attr("disabled","true");options.validate&&UnifyValid.clearValidate(selectThis.$inputText)}else{selectThis.$inputField.removeClass("tiny-select-input-field-disable");selectThis.$inputText.removeAttr("disabled")}},"_updateWidth":function(){var selectThis=this,options=selectThis.options,elementWidth=parseInt(options.width,CONST_VALUES.DECIMAL);elementWidth=Math.max(elementWidth,CONST_VALUES.MIN_WIDTH);selectThis.$inputText.css("width",elementWidth-CONST_VALUES.CALC_INPUT_WIDTH+"px");"auto"!==options.optionWidth?selectThis.$popup.css("width",elementWidth-CONST_VALUES.CALC_POP_WIDTH+"px"):selectThis.$popup.css("min-width",elementWidth-CONST_VALUES.CALC_POP_WIDTH+"px");selectThis._setInputTitle(selectThis.$inputText.val())},"_updateHeight":function(height){var selectThis;height=parseInt(height,CONST_VALUES.DECIMAL);if(!height)return;selectThis=this;selectThis.$popup.css("max-height",height)},"_updateInputFieldHeight":function(inputFieldHeight){var inputHeight,selectThis=this;inputFieldHeight=parseInt(inputFieldHeight,CONST_VALUES.DECIMAL);if(isNaN(inputFieldHeight))return;inputHeight=inputFieldHeight+CONST_VALUES.CALC_POP_WIDTH;selectThis.$inputField.css("height",inputHeight);selectThis.$inputText.css({"height":inputHeight,"line-height":inputHeight+"px"})},"_updateValues":function(){var selectId,img,labelText,checked,values,$ulWrapper,$optionList,selectThis=this,options=selectThis.options,optionHtml="",checkedArray=[],idIndex=1;selectThis.$popup.empty();values=options.values;_.each(values,function(val){if(val.selectId||""==val.selectId)selectId=val.selectId;else{selectId="tinydefaultid"+idIndex;val.selectId=selectId}img=val.image||"";labelText=val.label||"";checked=val.checked||selectThis._isDefaultSelected(selectId);optionHtml+=selectThis._optionHtmlFactory(img,labelText,checked);checked&&checkedArray.push(selectId+"");idIndex++});$ulWrapper=$("<ul>").append(optionHtml);selectThis.$popup.append($ulWrapper);$optionList=selectThis.$popup.find(".tiny-select-option");$optionList.each(function(index,optionItem){$(optionItem).data("selectId",values[index].selectId+"")});selectThis._recordToSelected(checkedArray);selectThis._setInput()},"_updatePlaceholder":function(strPlaceholder){if("string"==typeof strPlaceholder){var selectThis=this;selectThis.$inputText.attr("placeholder",strPlaceholder)}},"_recordToSelected":function(checkedArray){var selectThis=this,options=selectThis.options;selectThis.selected=[];"single"===options.mode&&checkedArray.length>0?selectThis.selected=[checkedArray[0]]:selectThis.selected=_.uniq(checkedArray)},"_isDefaultSelected":function(selectId){var i,selectThis=this,options=selectThis.options,selectidArray=options["default-selectid"].split(",");for(i=0;i<selectidArray.length;i++)if(selectId==selectidArray[i])return!0;return!1},"_setInput":function(){var selectThis=this,options=selectThis.options,checkedtext=[];_.each(options.values,function(val){selectThis._isIdSelected(val.selectId)&&checkedtext.push(val.label||"")});selectThis.$inputText.val(checkedtext.join(","));selectThis._setInputTitle(checkedtext)},"_setInputTitle":function(checkedText){var inputWidth,selectThis=this,options=selectThis.options,$tmpLabelBox=$("<span>").addClass("tiny-select-text").text(checkedText).appendTo("body"),textWidth=parseInt($tmpLabelBox.width(),10);$tmpLabelBox.remove();inputWidth=parseInt(options.width,10)-CONST_VALUES.CALC_INPUT_WIDTH;textWidth>inputWidth?selectThis.$inputText.attr("title",checkedText):selectThis.$inputText.removeAttr("title")},"_isIdSelected":function(selectId){var i,selectThis=this;for(i=0;i<selectThis.selected.length;i++)if(selectId==selectThis.selected[i])return!0;return!1},"_optionHtmlFactory":function(image,label,checked){var options=this.options,html='<li class="tiny-select-option">';if("multiple"===options.mode){html+='<span class="tiny-select-checkbox';checked&&(html+=" tiny-select-checkbox-checked");html+='"></span>'}if(image){image=$.trim(image);html+='<img src="'+image+'" />'}label=$.encoder.encodeForHTML(label);html+='<span class="tiny_select_item_label">'+label+"</span>";html+="</li>";return html},"getSelectedId":function(){var selectThis=this,options=selectThis.options;return"multiple"===options.mode?selectThis.selected:selectThis.selected[0]},"getSelectedLabel":function(){var selectThis=this;return selectThis.$inputText.val()},"opChecked":function(selectedId){var selctedIdArray,selectThis=this,options=selectThis.options,checkedArray=[];selectedId+="";selctedIdArray=selectedId.split(",");_.each(selctedIdArray,function(id){index=selectThis._getOptionIndex(id);index>=0&&checkedArray.push(id)});selectThis._recordToSelected(checkedArray);selectThis._setInput();"multiple"===options.mode&&selectThis._refreshCheckState()},"_refreshCheckState":function(){var id,selectThis=this;selectThis.$option=selectThis.$popup.find(".tiny-select-option");selectThis.$option.each(function(){id=$(this).data("selectId");selectThis._isIdSelected(id)?$(this).children("span").first().addClass("tiny-select-checkbox-checked"):$(this).children("span").first().removeClass("tiny-select-checkbox-checked")})},"opLabel":function(selectId,value){var selectThis,opindex,options,values,$optionList;if(0===arguments.length)return;selectThis=this;opindex=selectThis._getOptionIndex(selectId);if(0>opindex)return;options=selectThis.options;values=options.values;if(_.isUndefined(value))return values[opindex].label;$optionList=selectThis.$popup.find(".tiny-select-option");$optionList.each(function(index,optionItem){$(optionItem).data("selectId")==selectId&&$(optionItem).children(".tiny_select_item_label").text(value)});values[opindex].label=value;selectThis._isIdSelected(selectId)&&selectThis._setInput()},"_getOptionIndex":function(selectId){var i,selectThis=this,options=selectThis.options,values=options.values;for(i=0;i<values.length;i++)if(selectId==values[i].selectId)return i;return-1},"_updateSelectedId":function($option){var id,selectThis=this;selectThis.selected||(selectThis.selected=[]);id=$option.data("selectId");if("multiple"!==selectThis.options.mode){selectThis.selected[0]=id;return}$option.children("span").first().hasClass("tiny-select-checkbox-checked")?selectThis.selected.push(id):selectThis.selected=_.without(selectThis.selected,id)},"_locateElement":function(){var selectThis=this;selectThis.$element=selectThis._element;selectThis.$inputField=selectThis._element.find(".tiny-select-input-field");selectThis.$inputText=selectThis._element.find(".tiny-select-text")},"_pop":function(){var selectThis=this,position=selectThis.$inputField.offset(),inputFieldHeight=selectThis.$inputField[0].offsetHeight;selectThis.$popup.find(".tiny-select-option").css({"height":inputFieldHeight,"line-height":inputFieldHeight+"px"});selectThis.$popup.css("display","block");selectThis._adaptivePop(position,inputFieldHeight);selectThis._autoPopWidth();selectThis._setOptionsTitle();selectThis._setScrollTop(inputFieldHeight);selectThis.hasPoped=!0;selectThis.previousContent=selectThis.$inputText.val();selectThis.trigger("focus")},"_autoPopWidth":function(){var popDom,clientWidth,offsetWidth,scrollWidth,selectThis=this;if("auto"!==selectThis.options.optionWidth||"Microsoft Internet Explorer"===navigator.appName)return;selectThis.$popup.css("width","auto");popDom=selectThis.$popup[0];clientWidth=popDom.clientWidth;offsetWidth=popDom.offsetWidth;if(offsetWidth>clientWidth+2){scrollWidth=offsetWidth-clientWidth;selectThis.$popup.css("width",selectThis.$popup.width()+scrollWidth)}},"_setScrollTop":function(inputFieldHeight){var values,selectedId,i,len,selectThis=this;if(0==selectThis.selected.length)return;values=selectThis.options.values;selectedId=selectThis.selected[selectThis.selected.length-1];for(i=0,len=values.length;len>i&&selectedId+""!=values[i].selectId+"";i++);i=i===values.length?0:i;selectThis.$popup.scrollTop(inputFieldHeight*i);if("single"===selectThis.options.mode){$("li",selectThis.$popup).removeClass("tiny-select-option-default-selected");$($("li",selectThis.$popup)[i]).addClass("tiny-select-option-default-selected")}},"_changeScrollTop":function(selectedId){var i,len,selectThis=this,values=selectThis.options.values;for(i=0,len=values.length;len>i;i++)if(selectedId+""==values[i].selectId+""){selectThis.$popup.scrollTop(selectThis.$inputField[0].offsetHeight*i);return}},"_setOptionsTitle":function(){var values,optionNum,optionWidth,totalWidth,$tempNode,index,$tmpLabelBox,selectThis=this,options=selectThis.options;if("auto"===options.optionWidth)return;values=options.values;if($("li",selectThis.$popup).length<1)return;optionNum=values.length;optionWidth=0;totalWidth=parseInt(selectThis.$popup[0].clientWidth,10)-CONST_VALUES.OPTION_BORDER;"multiple"===options.mode&&(totalWidth-=CONST_VALUES.CHECKBOX_WIDTH);$tempNode=$("li",selectThis.$popup).first();for(index=0;optionNum>index;index++){$tempNode.removeAttr("title");availableWidth=totalWidth;values[index].image&&(availableWidth-=CONST_VALUES.IMAGE_WIDTH);$tmpLabelBox=$("<span>").addClass("tiny-select-text").text(values[index].label).appendTo("body");optionWidth=parseInt($tmpLabelBox.width(),10);$tmpLabelBox.remove();optionWidth>availableWidth&&$tempNode.attr("title",values[index].label);$tempNode=$tempNode.next()}},"_adaptivePop":function(position,inputFieldHeight){var tempHeight,selectThis=this,actualHeight=selectThis.$popup.height(),compatibleHeight=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,availableHeightUnder=compatibleHeight+$(document).scrollTop()-position.top-inputFieldHeight,availableHeightOver=position.top-$(document).scrollTop();if(availableHeightUnder>=actualHeight){selectThis.$popup.css({"left":position.left,"top":position.top+inputFieldHeight});selectThis.$inputField.addClass("tiny-select-input-field-selected-down")}else if(availableHeightOver>actualHeight){selectThis.$popup.css({"left":position.left,"top":position.top-actualHeight-1});selectThis.$inputField.addClass("tiny-select-input-field-selected-up");selectThis.$popup.addClass("tiny-select-popup-container-up")}else if(availableHeightUnder>=availableHeightOver){tempHeight=availableHeightUnder-2;selectThis._updateHeight(tempHeight);selectThis.$popup.css({"left":position.left,"top":position.top+inputFieldHeight});selectThis.$inputField.addClass("tiny-select-input-field-selected-down")}else{tempHeight=availableHeightOver-2;selectThis._updateHeight(tempHeight);selectThis.$popup.css({"left":position.left,"top":position.top-tempHeight-1});selectThis.$inputField.addClass("tiny-select-input-field-selected-up");selectThis.$popup.addClass("tiny-select-popup-container-up")}},"open":function(){var selectThis=this;selectThis._pop();setTimeout(function(){selectThis.$inputText.focus()},0)},"_unpop":function(evt){var selectThis=this;selectThis.$inputField.removeClass("tiny-select-input-field-selected-down  tiny-select-input-field-selected-up");selectThis.$popup.removeClass("tiny-select-popup-container-up");selectThis.$popup.find(".tiny-select-option").removeClass("tiny-select-option-selected");selectThis.$popup.find(".tiny-select-checkbox").removeClass("tiny-select-checkbox-focus");selectThis._updateHeight(selectThis.options.height);selectThis.$popup.css("display","none");selectThis.hasPoped=!1;selectThis.previousContent!==selectThis.$inputText.val()&&selectThis.$inputText.trigger("changeEvt",[evt]);"function"==typeof selectThis.options.closeFn&&selectThis.options.closeFn(selectThis,evt);selectThis.trigger("blur")},"destroy":function(){var selectThis=this;$(document).unbind("keydown",selectThis.keydownHandler);$(document).unbind("keyup",selectThis.keyupHandler);$(document).unbind("mousedown mousewheel DOMMouseScroll",selectThis.mouseHandler);$(window).unbind("resize",selectThis.resizeHandler);selectThis.$popup.remove()},"_addPopUpBehavior":function(){var selectThis=this,options=selectThis.options;selectThis.$popup.on("mousedown",".tiny-select-option",function(evt){var checkboxElement,oldValues=selectThis.$inputText.val();evt.stopPropagation();if("single"===options.mode){selectThis._updateSelectedId($(this));selectThis._setInput();selectThis._fireEventSingleMode(oldValues);selectThis._unpop(evt);return}checkboxElement=$(this).children("span").first();checkboxElement.hasClass("tiny-select-checkbox-checked")?checkboxElement.removeClass("tiny-select-checkbox-checked"):checkboxElement.addClass("tiny-select-checkbox-checked");selectThis._updateSelectedId($(this));selectThis._setInput();selectThis._fireEventSingleMode(oldValues)}).on("mousemove",".tiny-select-option",function(evt){selectThis.$popup.find("li").removeClass("tiny-select-option-selected");selectThis.$popup.find(".tiny-select-checkbox").removeClass("tiny-select-checkbox-focus");$(this).addClass("tiny-select-option-selected");$(this).children(".tiny-select-checkbox").addClass("tiny-select-checkbox-focus")}).on("mouseleave",function(evt){selectThis.$popup.find("li").removeClass("tiny-select-option-selected");selectThis.$popup.find(".tiny-select-checkbox").removeClass("tiny-select-checkbox-focus")}).on("mousewheel DOMMouseScroll",function(e){$.browser.mozilla?selectThis.$popup[0].scrollTop+=e.originalEvent.detail>0?60:-60:selectThis.$popup[0].scrollTop+=e.originalEvent.wheelDelta>0?-60:60;e.stopPropagation();e.preventDefault()})},"_mousedownHandler":function(evt){var selectThis=this,options=selectThis.options;selectThis.popFlag=!0;if(util.isTrue(options.disable)){"Microsoft Internet Explorer"==navigator.appName&&"9."==navigator.appVersion.match(/9./)&&evt.preventDefault();return}if(selectThis.hasPoped)selectThis._unpop(evt);else{"false"!==String(options.autoOpen)&&selectThis._pop();"function"==typeof options.openFn&&options.openFn(selectThis,evt)}setTimeout(function(){selectThis.$inputText.focus()},0)},"_addBehavior":function(){var selectThis=this,options=selectThis.options;selectThis._locateElement();selectThis.popFlag=!1;selectThis.hasPoped=!1;selectThis._addPopUpBehavior();selectThis.$inputField.on("mousedown",_.bind(selectThis._mousedownHandler,selectThis));selectThis.$inputText.on("changeEvt",function(evt){selectThis.trigger("change",[evt]);"function"==typeof options.change&&options.change(evt)});selectThis.resizeHandler=function(evt){selectThis.hasPoped&&selectThis._unpop(evt)};$(window).on("resize",selectThis.resizeHandler);selectThis.keyupHandler=function(evt){if("true"===String(options.disable))return;9!==evt.keyCode||selectThis.hasPoped||selectThis.$inputText[0]!=document.activeElement||selectThis._pop()};selectThis.keydownHandler=function(evt){if("true"===String(options.disable)||!selectThis.hasPoped)return;switch(evt.keyCode){case 38:selectThis._responseUp(evt);break;case 40:selectThis._responseDown(evt);break;case 27:selectThis._unpop(evt);break;case 9:selectThis._responseTab(evt);break;case 13:case 108:selectThis._responseEnter(evt)}};selectThis.mouseHandler=function(evt){if(selectThis.popFlag){selectThis.popFlag=!1;return}if($(evt.target).hasClass("tiny-select-popup-container"))return;selectThis.hasPoped&&selectThis._unpop(evt)};$(document).on("keydown",selectThis.keydownHandler).on("keyup",selectThis.keyupHandler).on("mousedown mousewheel DOMMouseScroll",selectThis.mouseHandler);selectThis._element.on("$destroy",function(){selectThis.destroy()})},"_responseTab":function(evt){var selectThis=this;selectThis.hasPoped&&selectThis._unpop(evt)},"_responseDown":function(evt){var $previousSelectedItem,oldValues,$currentItem,$currentTarget,selectThis=this,options=selectThis.options,$allItems=selectThis.$popup.find("ul").children(),totalLength=$allItems.length;evt.preventDefault();if(!totalLength)return;if("multiple"!==options.mode){$previousSelectedItem=$allItems.filter(".tiny-select-option-default-selected");oldValues=selectThis.$inputText.val();$currentItem=$previousSelectedItem.length&&$previousSelectedItem.next().length?$previousSelectedItem.next():$allItems.first();selectThis._updateSelectedId($currentItem);$previousSelectedItem.removeClass("tiny-select-option-default-selected");$currentItem.addClass("tiny-select-option-default-selected");selectThis._setInput();selectThis._fireEventSingleMode(oldValues);selectThis._changeScrollTop(selectThis.selected[0])}else{$previousSelectedItem=$allItems.filter(".tiny-select-option-selected");$currentTarget=$previousSelectedItem.length&&$previousSelectedItem.next().length?$previousSelectedItem.next():$allItems.first();$allItems.removeClass("tiny-select-option-selected");$allItems.children(".tiny-select-checkbox").removeClass("tiny-select-checkbox-focus");$currentTarget.addClass("tiny-select-option-selected");$currentTarget.children("span").first().addClass("tiny-select-checkbox-focus");selectThis._changeScrollTop($currentTarget.data("selectId"))}},"_responseUp":function(evt){var $previousSelectedItem,oldValues,$currentItem,$currentTarget,selectThis=this,options=selectThis.options,$allItems=selectThis.$popup.find("li"),totalLength=$allItems.length;evt.preventDefault();if(!totalLength)return;if("multiple"!==options.mode){$previousSelectedItem=$allItems.filter(".tiny-select-option-default-selected");oldValues=selectThis.$inputText.val();$currentItem=$previousSelectedItem.length&&$previousSelectedItem.prev().length?$previousSelectedItem.prev():$allItems.last();selectThis._updateSelectedId($currentItem);$previousSelectedItem.removeClass("tiny-select-option-default-selected");$currentItem.addClass("tiny-select-option-default-selected");selectThis._setInput();selectThis._fireEventSingleMode(oldValues);selectThis._changeScrollTop(selectThis.selected[0])}else{$previousSelectedItem=$allItems.filter(".tiny-select-option-selected");$currentTarget=$previousSelectedItem.length&&$previousSelectedItem.prev().length?$previousSelectedItem.prev():$allItems.last();$allItems.removeClass("tiny-select-option-selected");$allItems.children(".tiny-select-checkbox").removeClass("tiny-select-checkbox-focus");$currentTarget.addClass("tiny-select-option-selected");$currentTarget.children("span").first().addClass("tiny-select-checkbox-focus");selectThis._changeScrollTop($currentTarget.data("selectId"))}},"_responseEnter":function(evt){var $allItems,$currentSelectedItem,oldValues,checkboxElement,selectThis=this;if("multiple"!==selectThis.options.mode){selectThis._unpop(evt);return}$allItems=selectThis.$popup.find("ul").children();$currentSelectedItem=$allItems.filter(".tiny-select-option-selected");if($currentSelectedItem.length){oldValues=selectThis.$inputText.val();checkboxElement=$currentSelectedItem.children("span").first();checkboxElement.hasClass("tiny-select-checkbox-checked")?checkboxElement.removeClass("tiny-select-checkbox-checked"):checkboxElement.addClass("tiny-select-checkbox-checked");selectThis._updateSelectedId($currentSelectedItem);selectThis._setInput();selectThis._fireEventSingleMode(oldValues)}else selectThis._unpop(evt)},"_fireEventSingleMode":function(oldValues){var newValues,selectThis=this,options=selectThis.options,selectId=selectThis.getSelectedId(),label=selectThis.getSelectedLabel();selectThis.trigger("select",[selectId,label]);"function"==typeof options.select&&options.select(selectId,label);newValues=selectThis.$inputText.val();oldValues!==newValues&&selectThis.trigger("contentChange")}});window.tinyWidget.Select=Select;return Select});define("tiny-widgets/Pagination",["tiny-lib/angular","tiny-lib/jquery","tiny-widgets/Widget","tiny-common/util","tiny-widgets/Select","tiny-widgets/Combobox"],function(angular,$,Widget,util,Select,Combobox){var language=tinyLanguage.language,domTemplate="<div class='tiny-Pagination-Container'><div class='tiny-Pagination-left-Panel'></div><div class='tiny-Pagination-Right-Panel'><div class='tiny-Pagination-Link-Panel'></div></div></div>",totalRecordTemplate='<label id="tinyPaginationTotalRecords" class="tiny-Pagination-Total-Record-Label" ><%=totalRecordText%></label>',gotoTemplate='<div class="tiny-Pagination-GoTo-Link"><a id="goToButton" class="tiny-Pagination-GoTo-Button tiny-Pagination-tiny-button"><div class="tiny-Pagination-Goto-Button-Image"></div></a><div>',DEFAULT_CONFIG={"template":domTemplate,"display":!0,"type":"simple","cur-page":{"pageIndex":1},"total-records":0,"length-options":[20,40,60,80,100],"display-length":20,"hide-display-length":!1,"hide-total-records":!1,"hide-goto-panel":!1,"callback":null,"change-select":null},Pagination=Widget.extend({"init":function(options){var paginationThis=this;paginationThis._super($.extend({},DEFAULT_CONFIG,angular.copy(options)));paginationThis._createPagination(paginationThis.options);$("#"+paginationThis.options.id).append(paginationThis._element)},"_setOption":function(key,value){var paginationThis=this;paginationThis._super(key,value);switch(key){case"id":paginationThis._updateId(value);break;case"display":paginationThis._setDisplay(value);break;case"total-records":paginationThis._setTotalRecords(value);break;case"cur-page":paginationThis._validCurPage();paginationThis._setCurPage(paginationThis.options["cur-page"].pageIndex);break;case"display-length":paginationThis._setDisplayLength(value);break;case"hide-total-records":paginationThis._setDisplayOfTotalRecords(value);break;case"hide-display-length":paginationThis._setDisplayOfLengthOptions(value)}},"_setDisplay":function(display){var paginationThis=this;util.isFalse(display)?paginationThis._element.hide():paginationThis._element.show()},"_setTotalRecords":function(value){var paginationThis=this,totalRecordText=language.totRecText+paginationThis.options["total-records"];$("#tinyPaginationTotalRecords",paginationThis._element).html(totalRecordText);paginationThis._drawLinkPanel()},"_setCurPage":function(pageNum){var paginationThis=this;if(isNaN(pageNum)||1>pageNum)return;paginationThis._curPageChanged(pageNum,"")},"_setDisplayLength":function(perPageCount){var selectedIndex,selectedId,paginationThis=this,options=paginationThis.options;if(isNaN(perPageCount)||1>perPageCount)return;if("simple"==options.type){paginationThis._drawLinkPanel();return}perPageCount=parseInt(perPageCount,10);if(-1!=$.inArray(perPageCount,options["length-options"])){if(perPageCount===parseInt(paginationThis.select.getSelectedLabel(),10))return;selectedIndex=options["length-options"].indexOf(perPageCount);selectedId=paginationThis.perPageCountOptions[selectedIndex].selectId;paginationThis.select.opChecked(selectedId);paginationThis._drawLinkPanel();return}options["length-options"].push(perPageCount);options["length-options"].sort(function(a,b){return a-b});paginationThis._drawLeftPanel();paginationThis._drawLinkPanel()},"_setDisplayOfTotalRecords":function(isHide){var paginationThis=this,totalRecPanel=paginationThis._element.find("label");util.isFalse(isHide)?totalRecPanel.show():totalRecPanel.hide()},"_setDisplayOfLengthOptions":function(isHide){var lengthOptionPanel,paginationThis=this;if("simple"==paginationThis.options.type)return;lengthOptionPanel=paginationThis._element.find(".tiny-select");util.isFalse(isHide)?lengthOptionPanel.show():lengthOptionPanel.hide()},"_createPagination":function(){var paginationThis=this,options=paginationThis.options,type=options.type;"full_numbers"==type&&paginationThis._createGoToDom();paginationThis._drawLeftPanel();paginationThis._drawLinkPanel();"full_numbers"==type&&paginationThis._setDisplayLength(options["display-length"]);paginationThis._setDisplay(options.display)},"_createGoToDom":function(){var paginationThis=this,$element=paginationThis._element,$rightPanel=$element.find(".tiny-Pagination-Right-Panel");paginationThis.$goToPanel=$('<div class="tiny-Pagination-GoTo-Parent"></div>');$rightPanel.append(paginationThis.$goToPanel)},"_drawLinkPanel":function(){var paginationThis=this,$element=paginationThis._element;paginationThis.$linkPanel=$element.find(".tiny-Pagination-Link-Panel");
paginationThis.$linkPanel.empty();if("simple"==paginationThis.options.type){paginationThis._drawSimpleLink();return}paginationThis._drawFullNumberLinks()},"_drawSimpleLink":function(){var paginationThis=this;paginationThis._createPrevButton();paginationThis._createCombobox();paginationThis._createNextButton()},"_drawFullNumberLinks":function(){var paginationThis=this;paginationThis._createPrevButton();paginationThis._createFullNumMidbuttons();paginationThis._createNextButton();paginationThis._createGotoPanel()},"_calcTotalPageNum":function(){var paginationThis=this,totalRecordsNum=paginationThis.options["total-records"],perPageNum=paginationThis.options["display-length"],totalPageNum=Math.ceil(parseInt(totalRecordsNum,10)/parseInt(perPageNum,10));return totalPageNum>0?totalPageNum:1},"_getInterval":function(){var start,end,paginationThis=this,pageTotalNum=paginationThis._calcTotalPageNum(),curPage=parseInt(paginationThis.options["cur-page"].pageIndex,10);if(8>=pageTotalNum){start=1;end=pageTotalNum;return[start,end]}if(3>=curPage){start=1;end=5;return[start,end]}if(curPage>pageTotalNum-3){start=pageTotalNum-4;end=pageTotalNum;return[start,end]}start=curPage-1;end=curPage+2;return[start,end]},"_curPageChanged":function(pageId,evt){var paginationThis=this;paginationThis.options["cur-page"].pageIndex=pageId;paginationThis._drawLinkPanel();paginationThis._callBack(evt);evt&&evt.stopPropagation()},"_callBack":function(evt){var evtObj,paginationThis=this,options=paginationThis.options,callbackFn=paginationThis.options.callback;if("function"!=typeof callbackFn)return;evtObj={};evtObj.currentPage=parseInt(options["cur-page"].pageIndex,10);evtObj.displayLength=parseInt(options["display-length"],10);evtObj.totalRecords=parseInt(options["total-records"],10);callbackFn(evtObj,evt)},"_drawLeftPanel":function(){var totalRecordText,totalRecTemplate,paginationThis=this,options=paginationThis.options,$element=paginationThis._element;paginationThis.$leftPanel=$element.find(".tiny-Pagination-left-Panel");paginationThis.$leftPanel.empty();if("full_numbers"==options.type){paginationThis.select&&paginationThis.select.destroy();paginationThis._createLeftSelect();paginationThis._setDisplayOfLengthOptions(options["hide-display-length"])}totalRecordText=language.totRecText+parseInt(options["total-records"],10);totalRecTemplate=_.template(totalRecordTemplate)({"totalRecordText":totalRecordText});paginationThis.$leftPanel.append($(totalRecTemplate));paginationThis._setDisplayOfTotalRecords(options["hide-total-records"])},"_creatPerPageCountOptions":function(){var selectId,isChecked,perPageCountArray,i,paginationThis=this,options=paginationThis.options;paginationThis.perPageCountOptions=[];selectId=1;isChecked=!1;perPageCountArray=options["length-options"];for(i=0;i<perPageCountArray.length;i++){isChecked=+perPageCountArray[i]===+options["display-length"];paginationThis.perPageCountOptions.push({"label":perPageCountArray[i],"selectId":selectId,"checked":isChecked});selectId++}},"_createLeftSelect":function(){var selectOpts,$selectWrapper,paginationThis=this,options=paginationThis.options;paginationThis._creatPerPageCountOptions();selectOpts={"mode":"single","width":"70px","height":"260px","values":paginationThis.perPageCountOptions,"change":function(e){options["display-length"]=parseInt(e.target.value,10);paginationThis._curPageChanged(1,"");if("function"==typeof options["change-select"]){var evtObj={};evtObj.currentPage=parseInt(options["cur-page"].pageIndex,10);evtObj.displayLength=options["display-length"];evtObj.totalRecords=parseInt(options["total-records"],10);options["change-select"](evtObj)}}};paginationThis.select=new Select(selectOpts);$selectWrapper=$("<div style='float:left;'></div>").append(paginationThis.select.getDom());paginationThis.$leftPanel.append($selectWrapper)},"_fullNumClickHandler":function(evt,pageId){var paginationThis=this,target=$(evt.currentTarget);if(paginationThis._isPrevOrNextDisabled(target)){evt.preventDefault();return}paginationThis._curPageChanged(pageId,evt)},"_updateBtnStatus":function(pageNo){var prevButton,paginationThis=this,totalPageNum=paginationThis._calcTotalPageNum(),currentPage=parseInt(pageNo,10),nextButton=paginationThis._element.find(".tiny-Pagination-Next-Span-Simple").removeClass("tiny-Pagination-Next-Span-Disabled");currentPage==totalPageNum&&nextButton.addClass("tiny-Pagination-Next-Span-Disabled");prevButton=paginationThis._element.find(".tiny-Pagination-Prev-Span-Simple").removeClass("tiny-Pagination-Prev-Span-Disabled");1===currentPage&&prevButton.addClass("tiny-Pagination-Prev-Span-Disabled")},"_isPrevOrNextDisabled":function(target){if(target.hasClass("tiny-Pagination-Prev-Span-Disabled")||target.hasClass("tiny-Pagination-Next-Span-Disabled"))return!0;return!1},"_simpleClickHandler":function(evt,text){var comboboxValue,totalPageNum,paginationThis=this,target=$(evt.currentTarget);if(paginationThis._isPrevOrNextDisabled(target))return;comboboxValue=parseInt(paginationThis.combobox.getValue(),10);comboboxValue!==comboboxValue&&(comboboxValue=paginationThis.options["cur-page"].pageIndex);totalPageNum=paginationThis._calcTotalPageNum();comboboxValue=text===language.nextTitleText?paginationThis._normalisePageNum(++comboboxValue,totalPageNum,1):paginationThis._normalisePageNum(--comboboxValue,totalPageNum,1);paginationThis.combobox.option("value",comboboxValue+"/"+totalPageNum);paginationThis._handleSimplePageChange(evt,comboboxValue)},"_createFullNumLinkButton":function(pageId){var paginationThis=this,lnk=$("<a href = 'javascript:void(0)' class = 'tiny-Pagination-Link-Button' ><span>"+pageId+"</span></a>");lnk.on("click",function(evt){paginationThis._fullNumClickHandler(evt,pageId)});pageId==paginationThis.options["cur-page"].pageIndex?lnk.addClass("tiny-Pagination-Link-Selected"):lnk.addClass("tiny-Pagination-tiny-button");paginationThis.$linkPanel.append(lnk)},"_createSimpleCombox":function(){var $comboboxDom,paginationThis=this,options=paginationThis.options,pageTotalNum=paginationThis._calcTotalPageNum();paginationThis.combobox&&paginationThis.combobox.destroy();paginationThis.combobox=new Combobox({"value":options["cur-page"].pageIndex+"/"+pageTotalNum,"width":"100px","height":"520px"});paginationThis.combobox.on("select",function(evt){var newPage=parseInt(paginationThis.combobox.getValue(),10);paginationThis._handleSimplePageChange(evt,newPage)});paginationThis.combobox.on("contentChange",function(evt,value){var pageNumLen,totalNum,pageNum=parseInt(value,10);if(_.isNaN(pageNum)){paginationThis.combobox.option("value","");return}pageNumLen=(pageNum+"").length;if(pageNumLen===value.length||"/"!==value.substring(pageNumLen,pageNumLen+1)){paginationThis.combobox.option("value",pageNum+"");return}totalNum=parseInt(value.substring(pageNumLen+1),10);totalNum=_.isNaN(totalNum)?"":totalNum;paginationThis.combobox.option("value",pageNum+"/"+totalNum)});paginationThis.combobox.on("keydown",function(e){var inputPageNum,pageMax,newPage;if(13===e.keyCode){inputPageNum=parseInt(paginationThis.combobox.getValue(),10);pageMax=paginationThis._calcTotalPageNum();newPage=inputPageNum!==inputPageNum?options["cur-page"].pageIndex:inputPageNum;newPage=paginationThis._normalisePageNum(newPage,pageMax,1);paginationThis._handleSimplePageChange(e,newPage);paginationThis.combobox.option("value",newPage+"/"+pageMax);return}});$comboboxDom=paginationThis.combobox.getDom();paginationThis.$linkPanel.append($comboboxDom);$comboboxDom.addClass("tiny-Pagination-tiny-combobox")},"_isValidKey":function(e,valid){var keyCode=e.keyCode;if(_.contains(valid,keyCode))return!0;return!1},"_handleSimplePageChange":function(event,newPage){var paginationThis=this,options=paginationThis.options;if(newPage===options["cur-page"].pageIndex)return;options["cur-page"].pageIndex=newPage;paginationThis._callBack(event);paginationThis._updateBtnStatus(newPage)},"_normalisePageNum":function(value,maxValue,minValue){if(value>maxValue)return maxValue;if(minValue>value)return minValue;return value},"_createNextOrPrevious":function(pageId,appendOpts){var lnk,paginationThis=this,addclass="",title="";if(appendOpts.text===language.prevTitleText){addclass="tiny-Pagination-Prev-Span-Simple tiny-Pagination-Prev-Span";title=language.prevTitleText;lnk=$("<a class='tiny-Pagination-tiny-button "+addclass+"'><i class='ti ti-angle-left'></i></a>")}else{addclass="tiny-Pagination-Next-Span-Simple tiny-Pagination-Next-Span";title=language.nextTitleText;lnk=$("<a class='tiny-Pagination-tiny-button "+addclass+"'><i class='ti ti-angle-right'></i></a>")}lnk.attr("href","javascript:void(0)");"simple"==paginationThis.options.type?lnk.bind("click",function(evt){paginationThis._simpleClickHandler(evt,appendOpts.text)}):lnk.bind("click",function(evt){paginationThis._fullNumClickHandler(evt,pageId)});if(appendOpts.classes){lnk.addClass(appendOpts.classes);lnk.attr("title",title)}paginationThis.$linkPanel.append(lnk)},"_validCurPage":function(){var paginationThis=this;if(!$.isPlainObject(paginationThis.options["cur-page"])||!paginationThis.options["cur-page"].hasOwnProperty("pageIndex")){paginationThis.options["cur-page"]={"pageIndex":1};return}if(!parseInt(paginationThis.options["cur-page"].pageIndex)){paginationThis.options["cur-page"]={"pageIndex":1};return}paginationThis.options["cur-page"].pageIndex=parseInt(paginationThis.options["cur-page"].pageIndex)},"_createPrevButton":function(){var curPageNum,paginationThis=this,pageTotalNum=paginationThis._calcTotalPageNum();paginationThis._validCurPage();paginationThis.options["cur-page"].pageIndex>pageTotalNum&&(paginationThis.options["cur-page"].pageIndex=pageTotalNum);paginationThis.options["cur-page"].pageIndex<1&&(paginationThis.options["cur-page"].pageIndex=1);curPageNum=paginationThis.options["cur-page"].pageIndex;if(curPageNum>1){paginationThis._createNextOrPrevious(curPageNum-1,{"text":language.prevTitleText,"classes":"tiny-Pagination-Prev-Span"});return}paginationThis._createNextOrPrevious(curPageNum-1,{"text":language.prevTitleText,"classes":"tiny-Pagination-Prev-Span-Disabled"})},"_createCombobox":function(){var pageNumOption,pageId,paginationThis=this,totalPageNum=paginationThis._calcTotalPageNum();paginationThis._createSimpleCombox();pageNumOption=[];for(pageId=1;totalPageNum>=pageId;pageId++)pageNumOption.push(pageId+"/"+totalPageNum);paginationThis.combobox.option("values",pageNumOption)},"_createNextButton":function(){var paginationThis=this,PageTotalNum=paginationThis._calcTotalPageNum();if(paginationThis.options["cur-page"].pageIndex!=PageTotalNum){paginationThis._createNextOrPrevious(paginationThis.options["cur-page"].pageIndex+1,{"text":language.nextTitleText,"classes":"tiny-Pagination-Next-Span"});return}paginationThis._createNextOrPrevious(paginationThis.options["cur-page"].pageIndex+1,{"text":language.nextTitleText,"classes":"tiny-Pagination-Next-Span-Disabled"})},"_createFullNumMidbuttons":function(){var ellipseTextHtml,i,paginationThis=this,startAndEndPage=paginationThis._getInterval(),PageTotalNum=paginationThis._calcTotalPageNum();if(1==PageTotalNum){paginationThis._createFullNumLinkButton(1);paginationThis.options["cur-page"].pageIndex=1;return}ellipseTextHtml='<span class="tiny-Pagination-Ellipse-Text">...</span>';if(startAndEndPage[0]>2&&PageTotalNum>8){paginationThis._createFullNumLinkButton(1);$(ellipseTextHtml).appendTo(paginationThis.$linkPanel)}for(i=startAndEndPage[0];i<=startAndEndPage[1];i++)paginationThis._createFullNumLinkButton(i);if(startAndEndPage[1]<PageTotalNum&&PageTotalNum>8){$(ellipseTextHtml).appendTo(paginationThis.$linkPanel);paginationThis._createFullNumLinkButton(PageTotalNum)}},"_createGotoPanel":function(){var gotoTextHtml,PageTotalNum,paginationThis=this;paginationThis.$goToPanel.empty();gotoTextHtml=$('<span id="tiny-Pagination-goToTitle">'+language.gotoTitleText+"</span>");paginationThis.$goToPanel.append(gotoTextHtml);paginationThis.inputBox=$('<input class="tiny-Pagination-Goto-Input-Text" type="text"/>');paginationThis.inputBox.val(paginationThis.options["cur-page"].pageIndex);paginationThis.$goToPanel.append(paginationThis.inputBox);paginationThis.inputButton=$(gotoTemplate);paginationThis.inputButton.attr("title",language.gotoTitleText);paginationThis.$goToPanel.append(paginationThis.inputButton);PageTotalNum=paginationThis._calcTotalPageNum();1===PageTotalNum||util.isTrue(paginationThis.options["hide-goto-panel"])?paginationThis.$goToPanel.hide():paginationThis.$goToPanel.show();paginationThis._addGotoBehaviors()},"_addGotoBehaviors":function(){var paginationThis=this,options=paginationThis.options;paginationThis.inputBox.on("keydown",function(e){var inputPage,inputPageNum,pageMax,valid=[8,37,39,46,13,48,96,49,97,50,98,51,99,52,100,53,101,54,102,55,103,56,104,57,105];if(!paginationThis._isValidKey(e,valid)){e.preventDefault();return}inputPage=$(this).val();inputPageNum=parseInt(inputPage,10);pageMax=paginationThis._calcTotalPageNum();if(13===e.keyCode){inputPageNum=inputPageNum!=inputPageNum?options["cur-page"].pageIndex:inputPageNum;inputPageNum=paginationThis._normalisePageNum(inputPageNum,pageMax,1);paginationThis._curPageChanged(inputPageNum,e);return}});paginationThis.inputButton.bind("click",function(e){var inputPageNum=parseInt(paginationThis.inputBox.val(),10),pageMax=paginationThis._calcTotalPageNum();inputPageNum=inputPageNum!=inputPageNum?options["cur-page"].pageIndex:inputPageNum;inputPageNum=paginationThis._normalisePageNum(inputPageNum,pageMax,1);paginationThis.inputBox.val(inputPageNum);paginationThis._curPageChanged(inputPageNum,e)})}});window.tinyWidget.Pagination=Pagination;return Pagination});define("tiny-directives/Pagination",["tiny-directives/Directive","tiny-widgets/Pagination"],function(Directive,PaginationWidget){var DEFAULT_CONFIG={"directiveName":"tinyPagination","widgetClass":PaginationWidget,"scope":{"id":"=","display":"=","totalRecords":"=","curPage":"=","displayLength":"=","lengthOptions":"=","hideTotalRecords":"=","hideDisplayLength":"=","hideGotoPanel":"=","type":"=","callback":"=","changeSelect":"="},"template":'<div class="tiny-linechart"></div>',"replace":!0},Pagination=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var $pagDom,widgetObj,directiveThis=this,userOpts=_.pick(scope,_.keys(attrMap)),destOpts=directiveThis.camelPropToSnake(userOpts);directiveThis.widgetInstance=new directiveThis.widgetClass(destOpts);$pagDom=directiveThis.widgetInstance._element;element.replaceWith($pagDom);!_.isUndefined(scope.id)&&$pagDom.prop("id",scope.id);widgetObj=$pagDom.widget();scope.$watch("totalRecords",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("total-records",newValue)});scope.$watch("curPage",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("cur-page",newValue)});scope.$watch("displayLength",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("display-length",newValue)});scope.$watch("hideTotalRecords",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("hide-total-records",newValue)});scope.$watch("hideDisplayLength",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("hide-display-length",newValue)});scope.$watch("display",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("display",newValue)});directiveThis.widgetInstance._element.on("$destroy",function(){scope.$destroy()})}});(new Pagination).toAngularDirective();return Pagination});define("tiny-widgets/Portlets",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/underscore","tiny-lib/Class","tiny-widgets/Widget","tiny-lib/encoder"],function(angular,$,_,Class,Widget,encoder){var DEFAULT_CONFIG={"template":'<div class = "portlets"></div>'},Porlet=Widget.extend({"init":function(options){var portletThis=this;options=_.extend({},DEFAULT_CONFIG,options);portletThis._super(options);portletThis._setOptions(options);$("#"+options.id).append(portletThis._element)},"_setOption":function(key,value){var portletThis=this;portletThis.options;portletThis._super(key,value);switch(key){case"id":portletThis._updateId(value);break;case"columns":portletThis._updateColumns(value)}},"_updateColumns":function(columns){var i,len,portletThis=this,columnLen=columns.length,portletContentObj={};portletThis._element.append(portletThis._createHtml(columns,columnLen));for(i=0,len=portletThis.portletContent.length;len>i;i++){portletContentObj=portletThis.portletContent[i];portletThis._element.find("#"+portletContentObj.id).load(portletContentObj.contentUrl)}for(i=0,len=portletThis.portletHtmlContent.length;len>i;i++){portletContentObj=portletThis.portletHtmlContent[i];portletThis._element.find("#"+portletContentObj.id).html(portletContentObj.content)}},"_createHtml":function(columns,cols){var i,width,portlets,portletsLen,j,portlet,portletThis=this,htmlTable="",column={};portletThis.elementId=[];portletThis.portletItem=[];portletThis.portletContent=[];portletThis.portletHtmlContent=[];htmlTable+='<table class="portlets-table"><tr>';for(i=0;cols>i;i++){column=columns[i];width=parseInt(column.width)+"px";htmlTable+='<td class="portlets-column" style="float:left;width:'+width+';">';if("undefined"==typeof column.portlets){htmlTable+="</td>";continue}portlets=column.portlets,portletsLen=portlets.length;for(j=0;portletsLen>j;j++){portlet=portlets[j];htmlTable+=portletThis._creatPortlet(portlet)}htmlTable+="</td>"}htmlTable+="</tr></table>";return htmlTable},"_creatPortlet":function(portlet){var contentstyle,height,htmlTablePortlet,portletThis=this,closable="false"===String(portlet.closable)?"none":"block",maxMize="false"===String(portlet.maxMize)?"none":"block",miniMize="false"===String(portlet.miniMize)?"none":"block",refreshable="false"===String(portlet.refreshable)?"none":"block",setable="false"===String(portlet.setable)?"none":"block",cursor="move",id=portlet.id,contentType="url"===portlet.contentType?"url":"",content=portlet.content||"";"url"===contentType?portletThis.portletContent.push({"id":"tiny_portlet_content_"+id,"contentUrl":content}):portletThis.portletHtmlContent.push({"id":"tiny_portlet_content_"+id,"content":content});portletThis.elementId.push(id);portletThis.portletItem.push({"id":id,"min":portlet.min||null,"max":portlet.max||null,"beforeClose":portlet.beforeClose||null,"afterClose":portlet.afterClose||null,"refresh":portlet.refresh||null,"set":portlet.set||null});contentstyle="";if(portlet.height){height=parseInt(portlet.height,10);height=height>70?height:70;contentstyle='style="height:'+(height-49)+'px"'}id=$.encoder.encodeForHTMLAttribute("id",id,!0);htmlTablePortlet='<div class="portlet" id="'+id+'" status="normal" drag="##canDrag##"index ="'+(portletThis.portletItem.length-1)+'"><div class="p-title-wrap" style="cursor:'+cursor+'"><div class = "tiny_portitem_foot"><div class = "tiny_port_shadow_left"></div><div class = "tiny_port_shadow_middle"></div><div class = "tiny_port_shadow_right"></div></div><div class="p-title">'+portlet.title+'</div><div class="p-oprate-wrap"><a style="display:'+closable+'" class="p-oprate-close" href="javascript:;"></a><a style="display:'+refreshable+'" class="p-oprate-refresh" href="javascript:;"></a><a style="display:'+setable+'" class="p-oprate-set" href="javascript:;"></a><a style="display:'+maxMize+'" class="p-oprate-max" href="javascript:;"></a><a style="display:'+miniMize+'" class="p-oprate-min" href="javascript:;"></a></div></div><div class="p-content"><div id = "tiny_portlet_content_'+id+'"'+contentstyle+'></div></div><div class = "tiny_portitem_foot"><div class = "tiny_port_shadow_left"></div><div class = "tiny_port_shadow_middle"></div><div class = "tiny_port_shadow_right"></div></div></div>';return htmlTablePortlet},"addPortlet":function(x,y,portletNew){var portletThis,portletTable,$portletHtmlNew,$portlet;if("object"!=typeof portletNew||isNaN(x)&&"last"!==x||isNaN(y))return;portletThis=this,portletTable=portletThis._element.find(".portlets-table"),$portletHtmlNew=$(portletThis._creatPortlet(portletNew));$portlet="last"==x?portletTable.find("td").eq(y).children().last():portletTable.find("td").eq(y).children().eq(x);if(!$portlet)return;$portletHtmlNew.insertAfter($portlet)},"removePortlet":function(id){var portletThis=this,$portletRemove=portletThis._element.find("#"+id);if(!$portletRemove)return;$portletRemove.remove()},"opContent":function(portId,content,contentType){var $content,portletThis=this;if(0===arguments.length)return;if(_.contains(portletThis.elementId,portId)){$content=portletThis._element.find("#tiny_portlet_content_"+portId);if(1===arguments.length)return $content;"url"!=contentType?$content.html(content):$content.load(content)}},"_regPortletsPos":function(dragDiv){var tmpDiv,tmpPos,i,arrDragDivs=[],dragTbl=dragDiv.closest(".portlets-table"),l=dragTbl.find(".portlet").size();for(i=0;l>i;i++){tmpDiv=dragTbl.find(".portlet").eq(i);tmpPos=tmpDiv.offset();arrDragDivs.push({"DragId":tmpDiv.attr("id"),"PosLeft":tmpPos.left,"PosTop":tmpPos.top,"PosWidth":tmpDiv.outerWidth(),"PosHeight":tmpDiv.outerHeight()})}return arrDragDivs},"_dragStart":function(event,dragDiv){var dragArray,tmpCol,tmpPosFirstChild,tmpPosLastChild,tmpObj,portletThis=this,downPos={"x":event.pageX,"y":event.pageY},dashedElement=null;portletThis.moving=!0;tmpX=downPos.x-dragDiv.offset().left;tmpY=downPos.y-dragDiv.offset().top;event.preventDefault();event.stopPropagation();dashedElement=$($(".portlet-dashed").size()>0?".portlet-dashed":'<div class="portlet-dashed"></div>');dashedElement.height(dragDiv.outerHeight()-4);dragDiv.css({"width":dragDiv.width(),"position":"absolute"});dashedElement.insertAfter(dragDiv);dragArray=portletThis._regPortletsPos(dragDiv);tmpCol=dragDiv.closest(".portlets-column");tmpPosFirstChild=tmpCol.find(".portlet:first").offset();tmpPosLastChild=tmpCol.find(".portlet:last").offset();tmpObj={"colId":tmpCol.index(),"firstChildUp":tmpPosFirstChild.top,"lastChildDown":tmpPosLastChild.top+tmpCol.find(".portlet:last").outerHeight(!0)-dragDiv.outerHeight(!0)};$(document).off("mousemove").on("mousemove",function(e){if(portletThis.moving){portletThis._drag(e,dragDiv,dragArray,dashedElement,tmpObj);event.preventDefault();event.stopPropagation()}});$(document).off("mouseup").on("mouseup",function(e){if(portletThis.moving){dragDiv.css("opacity",1);portletThis.moving=!1;tmpX=0;tmpY=0;dragDiv.removeAttr("style");dragDiv.find(".p-title-wrap").css("cursor","move");dragDiv.insertBefore(dashedElement);dashedElement.remove();dashedElement=null;$("html").css("overflow","")}})},"_drag":function(e,dragDiv,dragArray,dashedElement,tmpObj){var targetDiv,tmpOtherDrag,i,columns,l,startLeft,posFirstChild,posLastChild,tmpUp,tmpDown,portletThis=this,movePos={"x":e.pageX,"y":e.pageY};dragDiv.css({"left":movePos.x-tmpX,"top":movePos.y-tmpY});targetDiv=null,tmpOtherDrag=null;for(i=0;i<dragArray.length;i++){tmpOtherDrag=dragArray[i];if(dragDiv.attr("id")!==tmpOtherDrag.DragId&&movePos.x>tmpOtherDrag.PosLeft&&movePos.x<tmpOtherDrag.PosLeft+tmpOtherDrag.PosWidth&&movePos.y>tmpOtherDrag.PosTop&&movePos.y<tmpOtherDrag.PosTop+tmpOtherDrag.PosHeight){targetDiv=portletThis._element.find("#"+tmpOtherDrag.DragId);break}}if(targetDiv){dashedElement.width(targetDiv.outerWidth()-4);movePos.y<=targetDiv.offset().top+targetDiv.height()/2?dashedElement.insertBefore(targetDiv):dashedElement.insertAfter(targetDiv);dragArray=portletThis._regPortletsPos(dragDiv)}else{columns=dragDiv.closest("tr").children(),l=columns.size();for(i=0;l>i;i++){startLeft=columns.eq(i).offset().left;if(movePos.x>startLeft&&movePos.x<startLeft+columns.eq(i).outerWidth()){if(0===columns.eq(i).find(".portlet").size()){dashedElement.width(columns.eq(i).outerWidth()-4);dashedElement.appendTo(columns.eq(i))}else{posFirstChild=columns.eq(i).find(".portlet:first");posLastChild=columns.eq(i).find(".portlet:last");if(tmpObj.colId===i){tmpUp=tmpObj.firstChildUp;tmpDown=tmpObj.lastChildDown}else{tmpUp=posFirstChild.offset().top;tmpDown=posLastChild.offset().top+posLastChild.outerHeight(!0)}dashedElement.width(columns.eq(i).find(".portlet:first").outerWidth()-4);movePos.y<=tmpUp?dashedElement.prependTo(columns.eq(i)):movePos.y>=tmpDown&&dashedElement.appendTo(columns.eq(i))}dragArray=portletThis._regPortletsPos(dragDiv)}}}},"_minOperate":function(dragDiv){dragDiv.find(".p-content").hide();if("none"!==dragDiv.find(".p-oprate-max").css("display")){dragDiv.find(".p-oprate-max").attr("recover","true");dragDiv.find(".p-oprate-max").hide()}dragDiv.find(".p-oprate-min").attr({"class":"p-oprate-normal"});dragDiv.attr("status","min");dragDiv.trigger("minEvt",[dragDiv,dragDiv.attr("index")])},"_maxOperate":function(dragDiv){var contentArea,minusHeight,portletThis=this,portletsHeight=portletThis._element.parent().height(),portletsWidth=portletThis._element.parent().width();$("html").css({"overflow":"hidden"});dragDiv.attr("drag","disabled");dragDiv.find(".p-title-wrap").css("cursor","default");dragDiv.closest(".portlets").css("margin-top",portletsHeight).find(".portlet").not(dragDiv).css({"opacity":"0","visibility":"hidden"});if("none"!==dragDiv.find(".p-oprate-min").css("display")){dragDiv.find(".p-oprate-min").attr("recover","true");dragDiv.find(".p-oprate-min").hide()}dragDiv.find(".p-oprate-max").attr({"class":"p-oprate-normal"});dragDiv.css({"width":portletsWidth-6+"px","position":"fixed","top":"2px","left":"2px"});contentArea=dragDiv.find(".p-content");minusHeight=dragDiv.find(".p-title-wrap").outerHeight()+parseInt(contentArea.css("padding-top"))+parseInt(contentArea.css("padding-bottom"))+parseInt(contentArea.css("margin-top"))+parseInt(contentArea.css("margin-bottom"));contentArea.height(portletsHeight-minusHeight-6);dragDiv.attr("status","max");dragDiv.trigger("maxEvt",[dragDiv,dragDiv.attr("index")])},"_normalOperate":function(dragDiv){if("max"===dragDiv.attr("status")){$("html").css({"overflow":""});dragDiv.attr("drag","enable");dragDiv.find(".p-title-wrap").css("cursor","move");dragDiv.find(".p-content").css("height","");dragDiv.closest(".portlets").removeAttr("style").find(".portlet").removeAttr("style");dragDiv.find(".p-oprate-normal").attr({"class":"p-oprate-max"});if("true"===dragDiv.find(".p-oprate-min").attr("recover")){dragDiv.find(".p-oprate-min").removeAttr("recover");dragDiv.find(".p-oprate-min").show()}}else{dragDiv.find(".p-content").show();dragDiv.find(".p-oprate-normal").attr({"class":"p-oprate-min"});if("true"===dragDiv.find(".p-oprate-max").attr("recover")){dragDiv.find(".p-oprate-max").removeAttr("recover");dragDiv.find(".p-oprate-max").show()}}dragDiv.attr("status","normal");dragDiv.trigger("normalEvt",[dragDiv,dragDiv.attr("index")])},"_closeOperate":function(dragDiv){dragDiv.trigger("beforeCloseEvt",[dragDiv,dragDiv.attr("index")]);if("max"===dragDiv.attr("status")){$("html").css({"overflow":""});dragDiv.attr("drag","enable");dragDiv.find(".p-title-wrap").css("cursor","");dragDiv.find(".p-content").css("height","");dragDiv.closest(".portlets").removeAttr("style").find(".portlet").removeAttr("style")}dragDiv.empty();dragDiv.remove();dragDiv.trigger("afterCloseEvt",[dragDiv,dragDiv.attr("index")])},"_addBehavior":function(){var portletThis=this;portletThis.options;portletThis._element.on("mousedown",".p-title-wrap",function(event){var dragDiv=$(this).closest(".portlet");if("A"==event.target.tagName)return!1;portletThis._dragStart(event,dragDiv)});portletThis._element.on("click","a",function(event){var dragDiv=$(this).closest(".portlet");switch($(event.target).attr("class")){case"p-oprate-min":portletThis._minOperate(dragDiv);break;case"p-oprate-max":portletThis._maxOperate(dragDiv);break;case"p-oprate-normal":portletThis._normalOperate(dragDiv);break;case"p-oprate-close":portletThis._closeOperate(dragDiv);break;case"p-oprate-set":dragDiv.trigger("setEvt",[dragDiv,dragDiv.attr("index")]);break;case"p-oprate-refresh":dragDiv.trigger("refreshEvt",[dragDiv,dragDiv.attr("index")])}});portletThis._element.on("minEvt",function(event,dragDiv,index){$(dragDiv[0]).trigger("min");"function"==typeof portletThis.portletItem[index].min&&portletThis.portletItem[index].min()});portletThis._element.on("maxEvt",function(event,dragDiv,index){$(dragDiv[0]).trigger("max");"function"==typeof portletThis.portletItem[index].max&&portletThis.portletItem[index].max()});portletThis._element.on("normalEvt",function(event,dragDiv,index){$(dragDiv[0]).trigger("normal");"function"==typeof portletThis.portletItem[index].normal&&portletThis.portletItem[index].normal()});portletThis._element.on("beforeCloseEvt",function(event,dragDiv,index){$(dragDiv[0]).trigger("beforeClose");"function"==typeof portletThis.portletItem[index].beforeClose&&portletThis.portletItem[index].beforeClose()});portletThis._element.on("afterCloseEvt",function(event,dragDiv,index){$(dragDiv[0]).trigger("afterClose");"function"==typeof portletThis.portletItem[index].afterClose&&portletThis.portletItem[index].afterClose()});portletThis._element.on("setEvt",function(event,dragDiv,index){$(dragDiv[0]).trigger("set");"function"==typeof portletThis.portletItem[index].set&&portletThis.portletItem[index].set()});portletThis._element.on("refreshEvt",function(event,dragDiv,index){$(dragDiv[0]).trigger("refresh");"function"==typeof portletThis.portletItem[index].refresh&&portletThis.portletItem[index].refresh()})}});window.tinyWidget.Portlet=Porlet;return Porlet});define("tiny-directives/Portlets",["tiny-directives/Directive","tiny-widgets/Portlets"],function(Directive,PortletWidget){var DEFAULT_CONFIG={"directiveName":"tinyPortlet","widgetClass":PortletWidget,"scope":{"id":"=","columns":"="}},Portlet=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"link":function(scope,element,attrMap){var portletThis=element.widget();scope.$watch("id",function(newValues,oldValues){portletThis.option("id",newValues)});scope.$watch("columns",function(newValues,oldValues){portletThis.option("columns",newValues)})}});(new Portlet).toAngularDirective();return Portlet});define("tiny-directives/Progressbar",["tiny-directives/Directive","tiny-widgets/Progressbar"],function(Directive,ProgressbarWidget){var DEFAULT_CONFIG={"directiveName":"tinyProgressbar","widgetClass":ProgressbarWidget,"constantProperties":[],"scope":{"id":"=","display":"=","width":"=","height":"=","labelPosition":"=","value":"=","color":"=","labelColor":"=","change":"&","complete":"&"}},Progressbar=Directive.extend({"init":function(options){var progressBarThis=this;progressBarThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var progressBarThis=this;return progressBarThis.link},"link":function(scope,element,attrMap){var progressBarThis=this,constants=_.pick(scope,progressBarThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});progressBarThis=new progressBarThis.widgetClass(_.pick(constants,validProperName));element.append(progressBarThis._element);scope.$watch("id",function(newValue,oldValue){progressBarThis.option("id",newValue)});scope.$watch("display",function(newValue,oldValue){progressBarThis.option("display",newValue)});scope.$watch("width",function(newValue,oldValue){progressBarThis.option("width",newValue)});scope.$watch("height",function(newValue,oldValue){progressBarThis.option("height",newValue)});scope.$watch("labelPosition",function(newValue,oldValue){progressBarThis.option("label-position",newValue)});scope.$watch("value",function(newValue,oldValue){progressBarThis.option("value",newValue)});scope.$watch("color",function(newValue,oldValue){progressBarThis.option("color",newValue)});scope.$watch("labelColor",function(newValue,oldValue){progressBarThis.option("labelColor",newValue)});attrMap.complete&&progressBarThis.on("completeEvt",function(){scope.$evalAsync(scope.complete);
});attrMap.change&&progressBarThis.on("changeEvt",function(){scope.$evalAsync(scope.change)})}});(new Progressbar).toAngularDirective();return Progressbar});define("tiny-widgets/Radio",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-common/util","tiny-widgets/Tip"],function(angular,$,Class,Widget,util,Tip){var DEFAULT_CONFIG,Radio;i=0;DEFAULT_CONFIG={"width":"50px","height":"25px","text":"","checked":!1,"template":'<div class="tiny-radio"><div class="tiny-radio-mark" name="" tiny-radio-id=""><table class="radioWrapperTable"><tbody><tr><td vertical-align="middle"><div class="tiny-radioIcon tiny-radio-unchecked"><div style="display: none;" class="tiny-radio-dot"></div></div></td><td vertical-align="middle"><label class="tiny-radio-content"><label class="tiny-text"></label></label></td></tr></tbody></table></div></div>'};Radio=Widget.extend({"init":function(options){var radioThis=this;options=_.extend({},DEFAULT_CONFIG,options);radioThis._super(options);radioThis._setOptions(options);$("#"+options.id).append(radioThis._element)},"_setOption":function(key,value){var radioThis=this;radioThis._super(key,value);switch(key){case"id":radioThis._updateId(value);break;case"name":radioThis._updateName(value);break;case"icon-class":radioThis._updateIcon(value);break;case"text":radioThis._updateText(value);break;case"checked":radioThis._updateChecked(value);break;case"width":radioThis._element.css("min-width",value);break;case"height":radioThis._element.css("height",value);break;case"disable":radioThis._updateDisable();break;case"tooltip":radioThis._updateTooltip(value)}},"_updateId":function(id){var radioThis=this,options=radioThis.options;if(!$("#"+options.id))return;radioThis._element.attr("id",id)},"_updateName":function(name){var value,id,radioThis=this,options=radioThis.options,$selectedMark=radioThis._element.find(".tiny-radio-mark");$selectedMark.attr("name",name);i++;value=options.value;id=void 0!==value&&""!==value?value:name+"_radio"+i;$selectedMark.attr("tiny-radio-id",id)},"_updateText":function(text){var radioThis=this;radioThis._element.find(".tiny-text").html(text)},"_updateIcon":function(iconClass){var radioThis=this;radioThis.$radioIcon&&radioThis.$radioIcon.remove();radioThis.$radioIcon=$('<span class = "tiny-radio-icon"></span>');radioThis.$radioIcon.addClass(iconClass);$radioContent=radioThis._element.find(".tiny-radio-content");$radioContent.prepend(radioThis.$radioIcon)},"_updateChecked":function(checked){var radioThis=this,options=radioThis.options,checkedThisId=radioThis._element.find(".tiny-radio-mark").attr("tiny-radio-id"),$selector=$("[class='tiny-radio-mark'][name='"+options.name+"'][tiny-radio-id!='"+checkedThisId+"']"),$checkeds=$selector.find("[checked=checked]"),num=$checkeds.length,isChecked=util.isTrue(checked)||"checked"==checked,$checkedThis=radioThis._element.find(".tiny-radioIcon");if(!isChecked){$checkedThis.removeClass("tiny-radio-checked").addClass("tiny-radio-unchecked");$checkedThis.attr("checked",!1);options.checked=!1;return}$checkedThis.removeClass("tiny-radio-unchecked").addClass("tiny-radio-checked");$checkedThis.attr("checked",!0);options.checked=!0;if(0==num)return;if("disabled"==$checkeds.attr("disabled")){$checkeds.removeClass("tiny-radio-checked-disabled").addClass("tiny-radio-unchecked-disabled");$checkeds.closest(".tiny-radio").widget().options.checked=!1}else{$checkeds.removeClass("tiny-radio-checked").addClass("tiny-radio-unchecked");$checkeds.closest(".tiny-radio").widget().options.checked=!1}$checkeds.attr("checked",!1)},"opChecked":function(){var $markDom,$checkedDom,checkedVaule,radioThis=this;if(0===arguments.length){$markDom=$("[class=tiny-radio-mark][name="+radioThis.options.name+"]");$checkedDom=$markDom.find("[checked=checked]");checkedVaule=null;0!==$checkedDom.length&&(checkedVaule=$checkedDom.closest(".tiny-radio-mark").attr("tiny-radio-id"));return checkedVaule}},"_updateDisable":function(){var radioThis=this,options=radioThis.options,$selector=radioThis._element.find(".tiny-radio-mark"),$selectedRadio=$selector.find(".tiny-radioIcon");if(util.isTrue(options.disable)){"checked"==$selectedRadio.attr("checked")?$selectedRadio.removeClass("tiny-radio-checked").addClass("tiny-radio-checked-disabled"):$selectedRadio.removeClass("tiny-radio-unchecked").addClass("tiny-radio-unchecked-disabled");$selectedRadio.attr("disabled","true");$selector.find(".tiny-text").addClass("tiny-radio-content-disabled");radioThis.$radioIcon&&radioThis.$radioIcon.addClass("tiny-img-disabled");return}"checked"==$selectedRadio.attr("checked")?$selectedRadio.removeClass("tiny-radio-checked-disabled").addClass("tiny-radio-checked"):$selectedRadio.removeClass("tiny-radio-unchecked-disabled").addClass("tiny-radio-unchecked");$selectedRadio.removeAttr("disabled");$selector.find(".tiny-text").removeClass("tiny-radio-content-disabled");radioThis.$radioIcon&&radioThis.$radioIcon.removeClass("tiny-img-disabled")},"_updateTooltip":function(value){var radioThis=this;radioThis.tip=new Tip({"content":value,"element":radioThis._element.find(".tiny-radio-mark"),"width":radioThis.options.tipWidth})},"_addBehavior":function(){var radioThis=this,options=radioThis.options,$selectorEvent=radioThis._element.find(".tiny-radio-mark");radioThis._element.on("click",".tiny-radio-mark",function(event){var $precheckedElement,$clickElement=$(this).find(".tiny-radioIcon");if($clickElement.attr("disabled"))return;$selectorEvent.trigger("clickEvt",[event]);if(!$clickElement.attr("checked")){$precheckedElement=$("[class=tiny-radio-mark][name="+options.name+"]").find("[checked=checked]");if(0!==$precheckedElement.length){"disabled"===$precheckedElement.attr("disabled")?$precheckedElement.removeClass("tiny-radio-checked-disabled").addClass("tiny-radio-unchecked-disabled"):$precheckedElement.removeClass("tiny-radio-checked").addClass("tiny-radio-unchecked");$precheckedElement.attr("checked",!1);$precheckedElement.closest(".tiny-radio").widget().options.checked=!1}$clickElement.removeClass("tiny-radio-unchecked").addClass("tiny-radio-checked");$clickElement.attr("checked",!0);options.checked=!0;$selectorEvent.trigger("changeEvt")}});radioThis._element.on("clickEvt",function(event){var radioObj=$(event.currentTarget).widget();radioThis.trigger("click",[radioObj]);"function"==typeof options.click&&options.click(radioObj)});radioThis._element.on("changeEvt",function(event){radioThis.trigger("change",[event]);"function"==typeof options.change&&options.change(event)})}});window.tinyWidget.Radio=Radio;return Radio});define("tiny-directives/Radio",["tiny-directives/Directive","tiny-widgets/Radio"],function(Directive,RadioWidget){var DEFAULT_CONFIG={"directiveName":"tinyRadio","widgetClass":RadioWidget,"scope":{"id":"=","name":"=","iconClass":"=","text":"=","value":"=","width":"=","height":"=","checked":"=","disable":"=","tooltip":"=","tipWidth":"=","click":"&","change":"&"},"template":"<span></span>","replace":"true","constantProperties":["value","tipWidth"]},Radio=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var radioInstance,radioThis=this,constants=_.pick(scope,radioThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});radioInstance=new radioThis.widgetClass(_.pick(constants,validProperName));element.append(radioInstance._element);scope.$watch("id",function(newValues,oldValues){radioInstance.option("id",newValues)});scope.$watch("name",function(newValues,oldValues){radioInstance.option("name",newValues)});scope.$watch("iconClass",function(newValues,oldValues){radioInstance.option("icon-class",newValues)});scope.$watch("text",function(newValues,oldValues){radioInstance.option("text",newValues)});scope.$watch("width",function(newValues,oldValues){radioInstance.option("width",newValues)});scope.$watch("height",function(newValues,oldValues){radioInstance.option("height",newValues)});scope.$watch("checked",function(newValues,oldValues){radioInstance.option("checked",newValues)});scope.$watch("disable",function(newValues,oldValues){radioInstance.option("disable",newValues)});scope.$watch("tooltip",function(newValues,oldValues){radioInstance.option("tooltip",newValues)});attrMap.click&&radioInstance._element.on("clickEvt",function(event){scope.$evalAsync(function(){scope.click({"event":event})})});attrMap.change&&radioInstance._element.on("changeEvt",function(event){scope.$evalAsync(function(){scope.change({"event":event})})})}});(new Radio).toAngularDirective();return Radio});define("tiny-widgets/RadioGroup",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-common/util","tiny-widgets/Tip","tiny-lib/encoder"],function(angular,$,Class,Widget,util,Tip,encoder){var DEFAULT_CONFIG={"template":'<div class="tiny-radiogroup" id=""></div>',"spacing":{"width":"0","height":"25px"},"layout":"horizon","values":[]},RadioGroup=Widget.extend({"init":function(options){var radioGroupThis=this;options=_.extend({},DEFAULT_CONFIG,options);radioGroupThis._super(options);radioGroupThis._setOptions(options);$("#"+options.id).append(radioGroupThis._element)},"_optionHtmlFactory":function(radioGroup,radioId,iconClass,text,tooltip){var radioGroupThis=this,options=radioGroupThis.options,height=$.encoder.encodeForCSS("height",options.spacing.height,!0),width=$.encoder.encodeForCSS("min-width",options.spacing.width,!0),html="";html+='<div class="tiny-radiogroup-style '+radioGroup+'"  style="height: '+height+"; min-width:"+width+';"><div class="tiny-radiogroup-mark" id="'+radioId+'"><div class="tiny-radioIcon tiny-radio-unchecked"><div style="display: none;" class="tiny-radio-dot"></div></div><label style="float: left">';if(iconClass){iconClass=$.encoder.encodeForHTMLAttribute("class",iconClass,!0);html+='<span class = "tiny-radio-icon '+iconClass+'"></span>'}text&&(html+='<label class="tiny-text">'+text+"</label></label>");html+="</div></div>";return html},"_setOption":function(key,value){var options,radioGroupThis=this;radioGroupThis._super(key,value);options=radioGroupThis.options;switch(key){case"id":radioGroupThis._updateId(value);break;case"values":radioGroupThis._updateValues(options);break;case"spacing":radioGroupThis._element.find(".tiny-radiogroup-style").css("min-width",value.width);radioGroupThis._element.find(".tiny-radiogroup-style").css("height",value.height)}},"_updateId":function(id){var radioGroupThis=this,options=radioGroupThis.options;if(!$("#"+options.id))return;radioGroupThis._element.attr("id",id)},"opValue":function(id,value){if(0===arguments.length)return;var $keySelector=this._element.find("#"+id);if(1===arguments.length)return $keySelector.find(".tiny-text").text();$keySelector.find(".tiny-text").text(value)},"_updateValues":function(options){var i,isHorizon,elementLength,j,radioGroup,value,radioId,checked,text,iconClass,tooltip,checkedRadioId,disabled,$selector,$checkedSelector,$selectortootip,tip,radioGroupThis=this,elementContent="",disableObj=[],tooltipObj=[];for(i=0;i<options.values.length;i++){isHorizon="horizon"!=options.layout.toLowerCase();isHorizon&&(elementContent+='<div class="tiny-radiogroup-vertical">');elementLength=options.values[i].length||1;for(j=0;elementLength>j;j++){radioGroup="tiny-radiogroup-horizon";value=options.values[i][j]||options.values[i];radioId=$.encoder.encodeForHTMLAttribute("id",value.key+"",!0);checked=util.isTrue(value.checked);text=value.text;iconClass=value["icon-class"];tooltip=value.tooltip;elementContent+=radioGroupThis._optionHtmlFactory(radioGroup,radioId,iconClass,text,tooltip);checked&&(checkedRadioId=radioId);disabled=util.isTrue(value.disable);disabled&&disableObj.push(radioId);value.tooltip&&tooltipObj.push({"radioId":radioId,"value":value.tooltip,"tipWidth":value.tipWidth,"tipPosition":value.tipPosition,"tipClass":value.tipClass})}isHorizon&&(elementContent+="</div>")}radioGroupThis._element.html(elementContent);if(void 0!==checkedRadioId){$selector=radioGroupThis._element.find("[id="+checkedRadioId+"]");$checkedSelector=$selector.find(".tiny-radioIcon");if(_.contains(disableObj,checkedRadioId)){$checkedSelector.removeClass("tiny-radio-unchecked").addClass("tiny-radio-checked-disabled");$checkedSelector.attr("disabled","true");$selector.find(".tiny-text").addClass("tiny-radio-content-disabled");$selector.find(".tiny-radio-icon").addClass("tiny-img-disabled");disableObj=_.without(disableObj,checkedRadioId);$checkedSelector.attr("checked",!0)}else{$checkedSelector.removeClass("tiny-radio-unchecked").addClass("tiny-radio-checked");$checkedSelector.attr("checked",!0)}}if(disableObj.length)for(i=0;i<disableObj.length;i++){$selectorun=radioGroupThis._element.find("[id="+disableObj[i]+"]");$selectorunChecked=$selectorun.find(".tiny-radioIcon");$selectorunChecked.removeClass("tiny-radio-unchecked").addClass("tiny-radio-unchecked-disabled");$selectorunChecked.attr("disabled","true");$selectorun.find(".tiny-text").addClass("tiny-radio-content-disabled");$selectorun.find(".tiny-radio-icon").addClass("tiny-img-disabled")}if(tooltipObj.length)for(i=0;i<tooltipObj.length;i++){$selectortootip=radioGroupThis._element.find("[id="+tooltipObj[i].radioId+"] .tiny-text");tip=new Tip({"content":tooltipObj[i].value,"element":$selectortootip,"width":tooltipObj[i].tipWidth,"position":tooltipObj[i].tipPosition||"right","containerStyle":tooltipObj[i].tipClass})}},"opChecked":function(valueId,checkedNew){var $checkedElement,$selector,isChecked,$precheckedElement,isDisabled,radioGroupThis=this,$selectorValues=radioGroupThis._element.find("[id="+valueId+"]"),$selectorcheckIcon=$selectorValues.find(".tiny-radioIcon");if(0===arguments.length)return;if(_.isString(valueId)){if(_.isUndefined(checkedNew)){if("checked"==valueId){$checkedElement=radioGroupThis._element.find("[checked=checked]")[0];if($checkedElement){$selector=$checkedElement.parentNode;return $selector.getAttribute("id")}}isChecked="checked"==$selectorcheckIcon.attr("checked")?!0:!1;if(isChecked)return!0;return!1}if(String(checkedNew)==String(isChecked))return;if("true"==String(checkedNew)){$precheckedElement=radioGroupThis._element.find("[checked=checked]");"disabled"==$precheckedElement.attr("disabled")?$precheckedElement.removeClass("tiny-radio-checked-disabled").addClass("tiny-radio-unchecked-disabled"):$precheckedElement.removeClass("tiny-radio-checked").addClass("tiny-radio-unchecked");$precheckedElement.attr("checked",!1);isDisabled="disabled"==$selectorcheckIcon.attr("disabled")?!0:!1;$selectorcheckIcon.attr("checked",!0);if(isDisabled)return $selectorcheckIcon.removeClass("tiny-radio-unchecked-disabled").addClass("tiny-radio-checked-disabled");return $selectorcheckIcon.removeClass("tiny-radio-unchecked").addClass("tiny-radio-checked")}$selectorcheckIcon.attr("checked",!1);if(isDisabled)return $selectorcheckIcon.removeClass("tiny-radio-checked-disabled").addClass("tiny-radio-unchecked-disabled");return $selectorcheckIcon.removeClass("tiny-radio-checked").addClass("tiny-radio-unchecked")}},"opDisabled":function(valueId,disabledNew){var radioGroupThis=this,$selectorValues=radioGroupThis._element.find("[id="+valueId+"]"),$selectorcheckIcon=$selectorValues.find(".tiny-radioIcon"),isChecked="checked"==$selectorcheckIcon.attr("checked")?!0:!1,isDisabled="disabled"==$selectorcheckIcon.attr("disabled")?!0:!1;if(0===arguments.length)return;if(_.isString(valueId)){if(_.isUndefined(disabledNew)){isDisabled=$selectorValues.attr("disabled");if(isDisabled)return!0;return!1}if(String(disabledNew)==String(isDisabled))return;if("true"==String(disabledNew)){$selectorcheckIcon.attr("disabled",!0);$selectorValues.find(".tiny-text").addClass("tiny-radio-content-disabled");$selectorValues.find(".tiny-radio-icon").addClass("tiny-img-disabled");if(isChecked)return $selectorcheckIcon.removeClass("tiny-radio-checked").addClass("tiny-radio-checked-disabled");return $selectorcheckIcon.removeClass("tiny-radio-unchecked").addClass("tiny-radio-unchecked-disabled")}$selectorcheckIcon.attr("disabled",!1);$selectorValues.find(".tiny-text").removeClass("tiny-radio-content-disabled");$selectorValues.find(".tiny-radio-icon").removeClass("tiny-img-disabled");if(isChecked)return $selectorcheckIcon.removeClass("tiny-radio-checked-disabled").addClass("tiny-radio-checked");return $selectorcheckIcon.removeClass("tiny-radio-unchecked-disabled").addClass("tiny-radio-unchecked")}},"_addBehavior":function(){var radioGroupThis=this,options=radioGroupThis.options;radioGroupThis._element.find(".tiny-radiogroup-mark");radioGroupThis._element.on("click",".tiny-radiogroup-mark",function(event){$clickElement=$(this).find(".tiny-radioIcon");if($clickElement.attr("disabled"))return;$clickElement.trigger("clickEvt");if(!$clickElement.attr("checked")){var $precheckedElement=radioGroupThis._element.find("[checked=checked]");"disabled"==$precheckedElement.attr("disabled")?$precheckedElement.removeClass("tiny-radio-checked-disabled").addClass("tiny-radio-unchecked-disabled"):$precheckedElement.removeClass("tiny-radio-checked").addClass("tiny-radio-unchecked");$precheckedElement.attr("checked",!1);$clickElement.removeClass("tiny-radio-unchecked").addClass("tiny-radio-checked");$clickElement.attr("checked",!0);$clickElement.trigger("changeEvt")}});radioGroupThis._element.on("clickEvt",function(event){radioGroupThis.trigger("click",[event]);"function"==typeof options.click&&options.click(event)});radioGroupThis._element.on("changeEvt",function(event){radioGroupThis.trigger("change",[event]);"function"==typeof options.change&&options.change(event)})}});window.tinyWidget.RadioGroup=RadioGroup;return RadioGroup});define("tiny-directives/RadioGroup",["tiny-directives/Directive","tiny-widgets/RadioGroup"],function(Directive,RadioGroupWidget){var DEFAULT_CONFIG={"directiveName":"tinyRadiogroup","widgetClass":RadioGroupWidget,"constantProperties":["layout"],"scope":{"id":"=","spacing":"=","layout":"=","values":"=","change":"&","click":"&"},"template":"<span></span>","replace":"true"},RadioGroup=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var radioGroupThis=this,constants=_.pick(scope,radioGroupThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});radioGroupThis=new radioGroupThis.widgetClass(_.pick(constants,validProperName));element.append(radioGroupThis._element);scope.$watch("id",function(newValues,oldValues){radioGroupThis.option("id",newValues)});scope.$watch("defaultIcons",function(newValues,oldValues){radioGroupThis.option("defaultIcons",newValues)});scope.$watch("spacing",function(newValues,oldValues){radioGroupThis.option("spacing",newValues)});scope.$watch("layout",function(newValues,oldValues){radioGroupThis.option("layout",newValues)});scope.$watch("values",function(newValues,oldValues){radioGroupThis.option("values",newValues)},!0);attrMap.click&&radioGroupThis._element.on("clickEvt",function(event){scope.$evalAsync(function(){scope.click({"event":event})})});attrMap.change&&radioGroupThis._element.on("changeEvt",function(event){scope.$evalAsync(function(){scope.change({"event":event})})})}});(new RadioGroup).toAngularDirective();return RadioGroup});define("tiny-widgets/Scrollbar",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-common/util"],function(angular,$,Class,Widget,util){var DEFAULT_CONFIG={"template":"<div></div>","axis":"y","step":40,"scroll":!0,"position":0};Scrollbar=Widget.extend({"init":function(options){var widgetThis=this;widgetThis.sliderTop=0;widgetThis.sliderLeft=0;widgetThis.overviewTop=0;widgetThis.overviewLeft=0;widgetThis._super(_.extend({},DEFAULT_CONFIG,options));widgetThis._reRender();$("#"+options.id).append(widgetThis.element)},"_generateElement":function(){var sliderElement,skewerElement,widgetThis=this;widgetThis.oScrollbar=$("<div></div>");sliderElement=widgetThis.oScrollbar.sliderElement=$("<div></div>");skewerElement=widgetThis.oScrollbar.skewerElement=$("<div></div>");widgetThis.oScrollbar.append(skewerElement);skewerElement.append(sliderElement);widgetThis._element=widgetThis.oScrollbar},"_setOption":function(key,value){var widgetThis=this;widgetThis._super(key,value);switch(key){case"id":widgetThis._updateId(value);break;case"axis":widgetThis._reRender();break;case"position":widgetThis._setPosition(value)}widgetThis.element&&widgetThis._setTo(widgetThis.element)},"_setTo":function(element){var left,top,widgetThis=this,overview=widgetThis.overview=element.find(".overview"),viewport=widgetThis.viewport=element.find(".viewport");overview.addClass("tiny-scrollbar-overview");viewport.addClass("tiny-scrollbar-viewport");left=viewport.position().left;top=viewport.position().top;if("x"==widgetThis.options.axis||"X"==widgetThis.options.axis){widgetThis.oScrollbar.css({"left":left,"top":top+viewport.height(),"height":20,"border-top":"1px solid #B5B5B5","border-left":"none"});widgetThis.oScrollbar.width(viewport.width());widgetThis.oScrollbar.skewerElement.css({"width":viewport.width()-10,"height":14});if(overview.width()>viewport.width()){widgetThis.oScrollbar.show();widgetThis.oScrollbar.visible=!0}else{widgetThis.oScrollbar.hide();widgetThis.oScrollbar.visible=!1}}else{widgetThis.oScrollbar.css({"left":left+viewport.width(),"top":top,"width":20,"border-left":"1px solid #B5B5B5","border-top":"none"});widgetThis.oScrollbar.height(viewport.height());widgetThis.oScrollbar.skewerElement.css({"height":viewport.height()-10,"width":14});if(overview.height()>viewport.height()){widgetThis.oScrollbar.show();widgetThis.oScrollbar.visible=!0}else{widgetThis.oScrollbar.hide();widgetThis.oScrollbar.visible=!1}}widgetThis._setPosition(widgetThis.options.position);element.find(".overview").show();widgetThis._addBehaviorAfterRendTo()},"rendTo":function(id){var widgetThis=this;widgetThis._super(id);widgetThis.element=$("#"+id).parent();widgetThis._setTo(widgetThis.element)},"_addBehaviorAfterRendTo":function(){var widgetThis=this,sliderElement=widgetThis.oScrollbar.sliderElement,skewerElement=widgetThis.oScrollbar.skewerElement,$doc=$(document),_start=function(event){event=event||window.event;event.preventDefault();if("x"==widgetThis.options.axis||"X"==widgetThis.options.axis){widgetThis.mouseStartX=event.pageX;widgetThis.sliderStartX=sliderElement.position().left}else{widgetThis.mouseStartY=event.pageY;widgetThis.sliderStartY=sliderElement.position().top}$doc.bind("mousemove",_drag);$doc.bind("mouseup",_end);$(top.document).bind("mouseup",_end)},_drag=function(event){var viewport,overview,sliderElement,overviewWidth,viewportWidth,sliderWidth,sliderLeft,overviewLeft,overviewHeight,viewportHeight,sliderHeight,sliderTop,overviewTop;event=event||window.event;event.preventDefault();viewport=widgetThis.element.find(".viewport");overview=widgetThis.element.find(".overview");sliderElement=widgetThis.oScrollbar.sliderElement;if("x"==widgetThis.options.axis||"X"==widgetThis.options.axis){overviewWidth=overview.width();viewportWidth=viewport.width();sliderWidth=60;sliderLeft=Math.min(Math.max(0,event.pageX-widgetThis.mouseStartX+widgetThis.sliderStartX),widgetThis._getMaxSize("x"));overviewLeft=-sliderLeft*widgetThis._caculateRatio("x");sliderElement.css("left",sliderLeft+"px");overview.css("left",overviewLeft);widgetThis.sliderLeft=sliderLeft;widgetThis.overviewLeft=overviewLeft}else{overviewHeight=overview.height();viewportHeight=viewport.height();sliderHeight=60;sliderTop=Math.min(Math.max(0,event.pageY-widgetThis.mouseStartY+widgetThis.sliderStartY),widgetThis._getMaxSize("y"));overviewTop=-sliderTop*widgetThis._caculateRatio("y");sliderElement.css("top",sliderTop+"px");overview.css("top",overviewTop);widgetThis.sliderTop=sliderTop;widgetThis.overviewTop=overviewTop}},_end=function(event){$doc.unbind("mousemove",_drag);$doc.unbind("mouseup",_end);$(top.document).unbind("mouseup",_end)},wheel=function(event){var viewport=widgetThis.element.find(".viewport"),overview=widgetThis.element.find(".overview");if(1==widgetThis.oScrollbar.visible&&util.isTrue(widgetThis.options.scroll)&&widgetThis._isVertical()){event=event||window.event,iDelta=event.wheelDelta?event.wheelDelta/120:-event.detail/3;widgetThis.overviewTop+=iDelta*widgetThis.options.step;widgetThis.overviewTop=Math.max(viewport.height()-overview.height(),Math.min(0,widgetThis.overviewTop));widgetThis.sliderTop=-widgetThis.overviewTop/widgetThis._caculateRatio("y");sliderElement.css("top",widgetThis.sliderTop);overview.css("top",widgetThis.overviewTop);event.preventDefault()}},_click=function(event){var overview,newLeft,overviewLeft,newTop,overviewTop;event=event||window.event;event.stopPropagation();overview=widgetThis.element.find(".overview");if("x"==widgetThis.options.axis||"X"==widgetThis.options.axis){newLeft=event.pageX-skewerElement.offset().left+skewerElement.position().left-30;newLeft=Math.max(Math.min(newLeft,widgetThis._getMaxSize("x")),0);sliderElement.css("left",newLeft);overviewLeft=-newLeft*widgetThis._caculateRatio("x");overview.css("left",overviewLeft);widgetThis.sliderLeft=newLeft;widgetThis.overviewLeft=overviewLeft}else{newTop=event.pageY-skewerElement.offset().top+skewerElement.position().top-30;newTop=Math.max(Math.min(newTop,widgetThis._getMaxSize("y")),0);sliderElement.css("top",newTop);overviewTop=-newTop*widgetThis._caculateRatio("y");overview.css("top",overviewTop);widgetThis.sliderTop=newTop;widgetThis.overviewTop=overviewTop}};sliderElement.mousedown(_start);sliderElement.click(function(event){event=event||window.event;event.stopPropagation()});skewerElement.click(_click);if(widgetThis.element&&widgetThis._isVertical())if(window.addEventListener){widgetThis.element[0].addEventListener("DOMMouseScroll",wheel,!1);widgetThis.element[0].addEventListener("mousewheel",wheel,!1);widgetThis.element[0].addEventListener("MozMousePixelScroll",function(event){event.preventDefault()},!1)}else widgetThis.element[0].onmousewheel=wheel},"_reRender":function(){var widgetThis=this,axis="x"==widgetThis.options.axis||"X"==widgetThis.options.axis?"x":"y";widgetThis.oScrollbar.addClass("tiny-scrollbar");widgetThis.oScrollbar.sliderElement.removeClass().addClass("tiny-scrollbar-slider-"+axis);widgetThis.oScrollbar.skewerElement.removeClass().addClass("tiny-scrollbar-skewer-"+axis)},"_caculateRatio":function(direction){var overviewWidth,viewportWidth,sliderWidth,overviewHeight,viewportHeight,sliderHeight,widgetThis=this,ratio=1,viewport=widgetThis.element.find(".viewport"),overview=widgetThis.element.find(".overview");if("x"==direction){overviewWidth=overview.width();viewportWidth=viewport.width();sliderWidth=60;ratio=(overviewWidth-viewportWidth)/widgetThis._getMaxSize("x")}else{overviewHeight=overview.height();viewportHeight=viewport.height();sliderHeight=60;ratio=(overviewHeight-viewportHeight)/widgetThis._getMaxSize("y")}return ratio},"_getMaxSize":function(direction){var widgetThis=this,size=0,viewport=widgetThis.element.find(".viewport"),sliderSize=60;size="x"==direction?viewport.width()-sliderSize-5:viewport.height()-sliderSize-5;return size},"_isVertical":function(){var widgetThis=this;return!("x"==widgetThis.options.axis||"X"==widgetThis.options.axis)},"_setPosition":function(position){var overview,viewport,widgetThis=this;position=parseInt(position);if(isNaN(position)||0>position||!widgetThis.oScrollbar.visible)return;widgetThis=this;overview=widgetThis.element.find(".overview");viewport=widgetThis.element.find(".viewport");if(widgetThis._isVertical()){widgetThis.overviewTop=-position;widgetThis.overviewTop=Math.max(viewport.height()-overview.height(),Math.min(0,widgetThis.overviewTop));widgetThis.sliderTop=-widgetThis.overviewTop/widgetThis._caculateRatio("y");overview.css("top",widgetThis.overviewTop);widgetThis.oScrollbar.sliderElement.css("top",widgetThis.sliderTop);widgetThis.options.position=-widgetThis.overviewTop}else{widgetThis.overviewLeft=-position;widgetThis.overviewLeft=Math.max(viewport.width()-overview.width(),Math.min(0,widgetThis.overviewLeft));widgetThis.sliderLeft=-widgetThis.overviewLeft/widgetThis._caculateRatio("x");overview.css("left",widgetThis.overviewLeft);widgetThis.oScrollbar.sliderElement.css("left",widgetThis.sliderLeft);widgetThis.options.position=-widgetThis.overviewLeft}},"reDraw":function(){var overview,viewport,left,top,widgetThis=this;element=widgetThis.element;overview=widgetThis.overview=element.find(".overview");viewport=widgetThis.viewport=element.find(".viewport");overview.addClass("tiny-scrollbar-overview");viewport.addClass("tiny-scrollbar-viewport");left=viewport.position().left;top=viewport.position().top;if("x"==widgetThis.options.axis||"X"==widgetThis.options.axis){widgetThis.oScrollbar.css({"left":left,"top":top+viewport.height(),"height":20,"border-top":"1px solid #B5B5B5","border-left":"none"});widgetThis.oScrollbar.width(viewport.width());widgetThis.oScrollbar.skewerElement.css({"width":viewport.width()-10,"height":14});if(overview.width()>viewport.width()){widgetThis.oScrollbar.show();widgetThis.oScrollbar.visible=!0}else{widgetThis.oScrollbar.hide();widgetThis.oScrollbar.visible=!1}}else{widgetThis.oScrollbar.css({"left":left+viewport.width(),"top":top,"width":20,"border-left":"1px solid #B5B5B5","border-top":"none"});widgetThis.oScrollbar.height(viewport.height());widgetThis.oScrollbar.skewerElement.css({"height":viewport.height()-10,"width":14});if(overview.height()>viewport.height()){widgetThis.oScrollbar.show();widgetThis.oScrollbar.visible=!0}else{widgetThis.oScrollbar.hide();widgetThis.oScrollbar.visible=!1}}widgetThis._setPosition(widgetThis.options.position);element.find(".overview").show()}});window.tinyWidget.Scrollbar=Scrollbar;return Scrollbar});define("tiny-directives/Scrollbar",["tiny-directives/Directive","tiny-widgets/Scrollbar"],function(Directive,ScrollbarWidget){var DEFAULT_CONFIG={"directiveName":"tinyScrollbar","widgetClass":ScrollbarWidget,"constantProperties":[],"scope":{"id":"=","axis":"=","step":"=","scroll":"=","position":"="}},Scrollbar=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"link":function(scope,element,attrMap){scope.$watch("id",function(newValue,oldValue){element.widget().option("id",newValue)});scope.$watch("axis",function(newValue,oldValue){element.widget().option("axis",newValue)});scope.$watch("step",function(newValue,oldValue){element.widget().option("step",newValue)});scope.$watch("scroll",function(newValue,oldValue){element.widget().option("scroll",newValue)});scope.$watch("position",function(newValue,oldValue){element.widget().option("position",newValue)});var widgetInstance=element.widget();widgetInstance.element=element.parent().parent();element.widget()._setTo(widgetInstance.element)}});(new Scrollbar).toAngularDirective();return Scrollbar});define("tiny-widgets/Searchbox",["tiny-lib/angular","tiny-lib/jquery","tiny-widgets/Widget","tiny-lib/encoder"],function(angular,$,Widget,encoder){var searchBoxTemplate='<div class="tiny-searchBox-package">   <div class="tiny-searchBox">       <input type="text" class="tiny-searchBox-input" />       <div class="tiny-searchBox-clear">           <span class="ti ti-x-circle tiny-searchBox-clearBtn"></span>       </div>       <div class="ti ti-search tiny-searchBox-searchIcon"></div>   </div>   <div class="tiny-searchBox-suggestContents"></div></div>',DEFAULT_CONFIG={"template":searchBoxTemplate,"display":!0,"disable":!1,"width":250,"suggest-size":10},CONST_VALUES={"ICON_WIDTH":24,"CLEAR_WIDTH":24,"PADDING_LEFT":8,"BORDER_WIDTH":1},Searchbox=Widget.extend({"init":function(options){var searchBoxThis=this;options=_.extend({},DEFAULT_CONFIG,options);
searchBoxThis.content="";searchBoxThis._super(options);searchBoxThis._setOptions(options);$("#"+options.id).append(searchBoxThis._element)},"_locateElement":function(){var searchBoxThis=this;searchBoxThis.$searchBox=searchBoxThis._element.find(".tiny-searchBox");searchBoxThis.$inputArea=searchBoxThis._element.find(".tiny-searchBox-input");searchBoxThis.$searchIcon=searchBoxThis._element.find(".tiny-searchBox-searchIcon");searchBoxThis.$suggestArea=searchBoxThis._element.find(".tiny-searchBox-suggestContents")},"_setOption":function(key,value){var searchBoxThis=this;searchBoxThis._super(key,value);switch(key){case"id":searchBoxThis._updateId(value);break;case"display":searchBoxThis._updateDisplay(value);break;case"disable":searchBoxThis._updateDisable(value);break;case"width":searchBoxThis._updateWidth(value);break;case"height":searchBoxThis._updateHeight(value);break;case"maxlength":searchBoxThis._updateMaxLength(value);break;case"placeholder":searchBoxThis._updatePlaceholder(value)}},"_updateDisplay":function(value){var searchBoxThis=this;"false"==String(value)?searchBoxThis._element.css("display","none"):searchBoxThis._element.css("display","inline-block")},"_updateDisable":function(value){var searchBoxThis=this;if("true"==String(value)){searchBoxThis.$inputArea.attr("disabled","true");searchBoxThis.$searchBox.addClass("tiny-searchBox-disabled");searchBoxThis.$searchIcon.addClass("tiny-searchBox-searchIcon-disabled")}else{searchBoxThis.$inputArea.removeAttr("disabled");searchBoxThis.$searchBox.removeClass("tiny-searchBox-disabled");searchBoxThis.$searchIcon.removeClass("tiny-searchBox-searchIcon-disabled")}},"_updateWidth":function(value){var inputWidth,searchBoxThis=this,elementWidth=parseInt(value,10);if(elementWidth){searchBoxThis.$searchBox.css("width",elementWidth-CONST_VALUES.PADDING_LEFT-2+"px");inputWidth=elementWidth-CONST_VALUES.ICON_WIDTH-CONST_VALUES.PADDING_LEFT-2-2-CONST_VALUES.CLEAR_WIDTH-2;searchBoxThis.$inputArea.css("width",inputWidth+"px");searchBoxThis.$inputArea.css("padding-right",CONST_VALUES.CLEAR_WIDTH+2+"px");searchBoxThis.$suggestArea.css("width",elementWidth-2+"px")}},"_updateHeight":function(height){var searchBoxThis=this;height=parseInt(height,10);if(isNaN(height)||height-2*CONST_VALUES.BORDER_WIDTH<0)return;height=height-2*CONST_VALUES.BORDER_WIDTH+"px";searchBoxThis.$searchBox.css("height",height);searchBoxThis.$searchIcon.css("line-height",height);searchBoxThis.$suggestArea.css("line-height",height);searchBoxThis._element.find(".tiny-searchBox-clearBtn").css("line-height",height)},"_updateMaxLength":function(value){var searchBoxThis=this,inputStrMax=parseInt(value,10);inputStrMax&&searchBoxThis.$inputArea.attr("maxLength",inputStrMax)},"_updatePlaceholder":function(value){var searchBoxThis=this;searchBoxThis.$inputArea.attr("placeholder",value)},"_showSuggest":function(){var suggestArray,suggestElement,listItems,numItems,i,searchBoxThis=this,options=searchBoxThis.options;if(!options.suggest)return;suggestArray=options.suggest(searchBoxThis.content);if(void 0==suggestArray||suggestArray.length<=0)return;suggestElement=searchBoxThis.$suggestArea;"Microsoft Internet Explorer"==navigator.appName&&"9."==navigator.appVersion.match(/9./)&&suggestElement.html("");"none"!=suggestElement.css("display")&&searchBoxThis._removeSuggest();listItems="";numItems=Math.min(suggestArray.length,options["suggest-size"]);for(i=0;numItems>i;i++){suggestArray[i]=$.encoder.encodeForHTML(suggestArray[i]);listItems+='<li class="tiny-searchBox-suggestItems">'+suggestArray[i]+"</li>"}suggestElement.append(listItems);searchBoxThis.$searchBox.addClass("tiny-searchBox-suggestShown");suggestElement.css("display","block")},"_removeSuggest":function(){var searchBoxThis=this;searchBoxThis.$suggestArea.children().remove();searchBoxThis.$suggestArea.css("display","none");searchBoxThis.$searchBox.removeClass("tiny-searchBox-suggestShown")},"_addBehavior":function(){function triggerSearchFn(){var value=searchBoxThis.getValue();searchBoxThis.trigger("search",[value]);"function"==typeof options.search&&options.search(value)}var suggestElement,searchBoxThis=this,options=searchBoxThis.options,tempValue="";searchBoxThis._locateElement();suggestElement=searchBoxThis.$suggestArea;searchBoxThis.$inputArea.on("input",function(evt){var newContent=searchBoxThis.$inputArea.val();searchBoxThis._setClearButton(newContent);if(searchBoxThis.content==newContent)return;searchBoxThis.content=newContent;if(""==$.trim(newContent)){searchBoxThis._removeSuggest();return}searchBoxThis._showSuggest();tempValue=searchBoxThis.content});if("Microsoft Internet Explorer"==navigator.appName&&"9."==navigator.appVersion.match(/9./)){searchBoxThis.$inputArea.on("keyup",function(evt){if(8==event.keyCode||46==event.keyCode){var newContent=searchBoxThis.$inputArea.val();searchBoxThis._setClearButton(newContent);if(searchBoxThis.content==newContent)return;searchBoxThis.content=newContent;if(""==$.trim(newContent)){searchBoxThis._removeSuggest();return}searchBoxThis._showSuggest();tempValue=searchBoxThis.content}});searchBoxThis.$inputArea.on("cut",function(evt){setTimeout(function(){searchBoxThis.cutHanlder(evt)},0)});searchBoxThis.cutHanlder=function(evt){var newContent=searchBoxThis.$inputArea.val();searchBoxThis._setClearButton(newContent);searchBoxThis.content=newContent;if(""==$.trim(newContent)){searchBoxThis._removeSuggest();return}searchBoxThis._showSuggest();tempValue=searchBoxThis.content}}searchBoxThis.$searchIcon.on("click",function(evt){if("true"==String(options.disable))return;var tempContent=$.trim(searchBoxThis.content);tempContent||searchBoxThis.setValue("");tempValue=searchBoxThis.content;triggerSearchFn()});searchBoxThis.$inputArea.on("keydown",function(evt){if("true"==String(options.disable))return;if(13==evt.keyCode){searchBoxThis._removeSuggest();var tempContent=$.trim(searchBoxThis.content);tempContent||searchBoxThis.setValue("");tempValue=searchBoxThis.content;triggerSearchFn();return}if("none"==suggestElement.css("display"))return;switch(evt.keyCode){case 38:searchBoxThis._responseUp(tempValue,evt);break;case 40:searchBoxThis._responseDown(tempValue);break;case 27:evt.preventDefault();searchBoxThis._removeSuggest()}});searchBoxThis.$inputArea.on("blur",function(evt){searchBoxThis.$searchBox.removeClass("tiny-searchBox-focus");if("none"==suggestElement.css("display"))return;searchBoxThis._removeSuggest()});suggestElement.on("mouseover","li",function(evt){suggestElement.children().removeClass("tiny-searchbox-suggest-selected");$(this).addClass("tiny-searchbox-suggest-selected")});suggestElement.on("mouseout","li",function(evt){$(this).removeClass("tiny-searchbox-suggest-selected")});suggestElement.on("mousedown","li",function(evt){searchBoxThis.setValue(this.innerHTML);searchBoxThis._removeSuggest();tempValue=this.innerHTML;triggerSearchFn()});searchBoxThis.$inputArea.on("focus",function(evt){searchBoxThis.$searchBox.addClass("tiny-searchBox-focus");if(!$.trim(searchBoxThis.getValue())||"none"!=suggestElement.css("display"))return;searchBoxThis._showSuggest()});searchBoxThis._element.on("mousedown",".tiny-searchBox-clearBtn",function(evt){if("true"==String(options.disable))return;searchBoxThis.setValue("");searchBoxThis._setClearButton("");tempValue="";searchBoxThis.$inputArea.focus();searchBoxThis._removeSuggest();searchBoxThis.trigger("clearCallback",[evt]);"function"==typeof searchBoxThis.options.clearCallback&&searchBoxThis.options.clearCallback.apply(searchBoxThis,[evt])})},"_setClearButton":function(newContent){var searchBoxThis=this,$clearWrapper=searchBoxThis._element.find(".tiny-searchBox-clear");""==$.trim(newContent)?$clearWrapper.css("display","none"):$clearWrapper.css("display","inline")},"_responseUp":function(userInput,evt){var inputValue,searchBoxThis=this,suggestElement=searchBoxThis.$suggestArea,currSuggestItem=suggestElement.find(".tiny-searchbox-suggest-selected");evt.preventDefault();currSuggestItem.removeClass("tiny-searchbox-suggest-selected");if(0==currSuggestItem.length){suggestElement.children().last().addClass("tiny-searchbox-suggest-selected");inputValue=suggestElement.find(".tiny-searchbox-suggest-selected").text();searchBoxThis.setValue(inputValue);return}if(0==currSuggestItem.prev().length){searchBoxThis.setValue(userInput);return}currSuggestItem.prev().addClass("tiny-searchbox-suggest-selected");inputValue=suggestElement.find(".tiny-searchbox-suggest-selected").text();searchBoxThis.setValue(inputValue)},"_responseDown":function(previousInput){var inputValue,searchBoxThis=this,suggestElement=searchBoxThis.$suggestArea,currSuggestItem=suggestElement.find(".tiny-searchbox-suggest-selected");currSuggestItem.removeClass("tiny-searchbox-suggest-selected");if(0==currSuggestItem.length){suggestElement.children().first().addClass("tiny-searchbox-suggest-selected");inputValue=suggestElement.find(".tiny-searchbox-suggest-selected").text();searchBoxThis.setValue(inputValue);return}if(0==currSuggestItem.next().length){searchBoxThis.setValue(previousInput);return}currSuggestItem.next().addClass("tiny-searchbox-suggest-selected");inputValue=suggestElement.find(".tiny-searchbox-suggest-selected").text();searchBoxThis.setValue(inputValue)},"setValue":function(value){var searchBoxThis=this;searchBoxThis.$inputArea.val(value);searchBoxThis.content=value;searchBoxThis._setClearButton(value)},"getValue":function(){var searchBoxThis=this;return searchBoxThis.$inputArea.val()}});window.tinyWidget.Searchbox=Searchbox;return Searchbox});define("tiny-directives/Searchbox",["tiny-directives/Directive","tiny-widgets/Searchbox"],function(Directive,Searchbox){var DEFAULT_CONFIG={"directiveName":"tinySearchbox","widgetClass":Searchbox,"constantProperties":["search","suggest","clearCallback"],"scope":{"id":"=","display":"=","width":"=","height":"=","disable":"=","placeholder":"=","suggestSize":"=","maxlength":"=","search":"=","suggest":"=","clearCallback":"="},"template":"<span></span>","replace":"true"};Searchbox=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var directiveThis=this,constants=_.pick(scope,directiveThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});directiveThis=new directiveThis.widgetClass(_.pick(constants,validProperName));element.append(directiveThis._element);scope.$watch("id",function(newValue,oldValue){directiveThis.option("id",newValue)});scope.$watch("display",function(newValue,oldValue){directiveThis.option("display",newValue)});scope.$watch("width",function(newValue,oldValue){directiveThis.option("width",newValue)});scope.$watch("height",function(newValue,oldValue){directiveThis.option("height",newValue)});scope.$watch("disable",function(newValue,oldValue){directiveThis.option("disable",newValue)});scope.$watch("suggestSize",function(newValue,oldValue){directiveThis.option("suggest-size",newValue)});scope.$watch("placeholder",function(newValue,oldValue){directiveThis.option("placeholder",newValue)});scope.$watch("maxlength",function(newValue,oldValue){directiveThis.option("maxlength",newValue)})}});(new Searchbox).toAngularDirective();return Searchbox});define("tiny-directives/Select",["tiny-directives/Directive","tiny-widgets/Select"],function(Directive,SelectWidget){var DEFAULT_CONFIG={"directiveName":"tinySelect","widgetClass":SelectWidget,"scope":{"id":"=","values":"=","width":"=","display":"=","disable":"=","placeholder":"=","mode":"=","defaultSelectid":"=","height":"=","inputFieldHeight":"=","validate":"=","tooltip":"=","tipWidth":"=","tipPosition":"=","errorMsg":"=","autoOpen":"=","extendFunction":"=","change":"&","select":"&","openFn":"=","closeFn":"=","optionWidth":"="},"constantProperties":["mode","validate","tooltip","tipWidth","tipPosition","errorMsg","extendFunction","openFn","closeFn","optionWidth"],"template":"<span></span>","replace":"true"},Select=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var selectThis=this,constants=_.pick(scope,selectThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});selectThis=new selectThis.widgetClass(_.pick(constants,validProperName));element.append(selectThis._element);scope.$watch("id",function(newValues,oldValues){selectThis.option("id",newValues)});scope.$watch("width",function(newValues,oldValues){selectThis.option("width",newValues)});scope.$watch("height",function(newValues,oldValues){selectThis.option("height",newValues)});scope.$watch("inputFieldHeight",function(newValues,oldValues){selectThis.option("inputFieldHeight",newValues)});scope.$watch("display",function(newValues,oldValues){selectThis.option("display",newValues)});scope.$watch("disable",function(newValues,oldValues){selectThis.option("disable",newValues)});scope.$watch("defaultSelectid",function(newValues,oldValues){selectThis.option("default-selectid",newValues)});scope.$watch("values",function(newValues,oldValues){selectThis.option("values",newValues)},!0);scope.$watch("autoOpen",function(newValues,oldValues){selectThis.option("autoOpen",newValues)});scope.$watch("placeholder",function(newValues,oldValues){selectThis.option("placeholder",newValues)});scope.$watch("validate",function(newValues,oldValues){selectThis.option("validate",newValues)});scope.$watch("tooltip",function(newValues,oldValues){selectThis.option("tooltip",newValues)});scope.$watch("errorMsg",function(newValues,oldValues){selectThis.option("errorMsg",newValues)});attrMap.change&&selectThis.$inputText.on("changeEvt",function(){scope.$apply(scope.change)});attrMap.select&&selectThis.on("select",function(){var param={"selectId":arguments[0],"label":arguments[1]};scope.select(param);scope.$digest()});selectThis._element.on("$destroy",function(){scope.$destroy()})}});(new Select).toAngularDirective();return Select});define("tiny-widgets/SelectSearchbox",["tiny-lib/angular","tiny-lib/jquery","tiny-widgets/Select","tiny-widgets/Searchbox","tiny-lib/encoder","tiny-common/util"],function(angular,$,Select,Searchbox,encoder,util){var domTemplate='<div class="tiny-select" style="vertical-align: middle">  <div class="tiny-select-input-field">    <input type="text" readonly="readonly" class="tiny-select-text">  </div></div><div class=\'tiny-searchbox-textbox\'></div>',DEFAULT_CONFIG={"template":domTemplate,"width":100,"textWidth":160,"textOptions":null,"isSearchbox":!0},SelectSearchbox=Select.extend({"init":function(options){var _parentDiv,selectThis=this;options=_.extend({},DEFAULT_CONFIG,options);selectThis._super(options);selectThis.extPanel();_parentDiv=$("#"+options.id);_parentDiv.length>0&&selectThis.$inputText.on("changeEvt",function(evt){selectThis.$flag||options.click(evt)})},"_locateElement":function(){var selectThis=this;selectThis.$element=selectThis._element;selectThis.$inputField=selectThis._element.find(".tiny-select-input-field").first();selectThis.$inputText=selectThis._element.find(".tiny-select-text").first()},"extPanel":function(){var widgetThis=this,options=widgetThis.options;widgetThis.$combobx=$(widgetThis._element[0]);widgetThis.$textBox||(widgetThis.$textBox=$(widgetThis._element[1]));util.isFalse(options.isSearchbox)?widgetThis.changeTextBox(!1,options.textOptions):widgetThis.changeTextBox(!0,options.textOptions);widgetThis.$containner=widgetThis.$combobx.find(".tiny-select-input-field");widgetThis.$containner.addClass("tiny-searchbox-combobox-container")},"changeTextBox":function(flag,op){var tempOp,searchBox,inputWidth,select,containner,widgetThis=this,options=op||{},textWidth=widgetThis.options.textWidth;textWidth||(textWidth=160);options.width=textWidth;widgetThis.$inputSelect&&widgetThis.$inputSelect.destroy();widgetThis.$textBox.empty();if(util.isTrue(flag)){widgetThis.$flag=!0;if(!op){tempOp=_.pick(widgetThis.options,"disable","click");options=_.extend(tempOp,options)}options.search=widgetThis.options.click;searchBox=new Searchbox(options);inputWidth=searchBox.$inputArea.width()-4;searchBox.$inputArea.width(inputWidth);widgetThis.$searchBox=searchBox;searchBox.rendTo(widgetThis.$textBox)}else{widgetThis.$flag=!1;tempOp=_.pick(widgetThis.options,"disable","click");options=_.extend(tempOp,options);options.change||(options.change=widgetThis.options.click);select=new Select(options);widgetThis.$inputSelect=select;containner=$(select._element[0]).find(".tiny-select-input-field");containner.addClass("tiny-searchbox-combobox-container-left");select.rendTo(widgetThis.$textBox)}},"getSearchboxValue":function(){var widgetThis=this,value={};value.type=widgetThis.getSelectedId();widgetThis.$flag?value.inputValue=widgetThis.$searchBox.getValue():value.inputValue=widgetThis.$inputSelect.getSelectedId();return value},"setSearchboxValue":function(value){var widgetThis=this;widgetThis.$flag?widgetThis.$searchBox.setValue(value):widgetThis.$inputSelect.opChecked(value)},"_pop":function(){var widgetThis=this;widgetThis._super();widgetThis.$element.addClass("searchbox-select-focus")},"_unpop":function(evt){var widgetThis=this;widgetThis._super(evt);widgetThis.$element.removeClass("searchbox-select-focus")},"_updateDisable":function(){var selectThis=this,options=selectThis.options;selectThis._super();selectThis.$flag?selectThis.$searchBox&&selectThis.$searchBox.option("disable",options.disable):selectThis.$inputSelect&&selectThis.$inputSelect.option("disable",options.disable)},"_updateDisplay":function(){var selectThis=this,options=selectThis.options;selectThis._super();selectThis.$flag?selectThis.$searchBox&&selectThis.$searchBox.option("display",options.display):selectThis.$inputSelect&&selectThis.$inputSelect.option("display",options.display)}});window.tinyWidget.SelectSearchbox=SelectSearchbox;return SelectSearchbox});define("tiny-directives/SelectSearchbox",["tiny-directives/Select","tiny-widgets/SelectSearchbox"],function(Directive,SelectWidget){var DEFAULT_CONFIG={"directiveName":"tinySelectsearchbox","widgetClass":SelectWidget,"scope":{"id":"=","values":"=","width":"=","display":"=","disable":"=","mode":"=","defaultSelectid":"=","height":"=","validate":"=","showTip":"=","tooltip":"=","isvalidtip":"=","errorMsg":"=","extendFunction":"=","change":"&","click":"&","textWidth":"=","isSearchbox":"=","textOptions":"="},"constantProperties":["mode","showTip","validate","tooltip","isvalidtip","errorMsg","extendFunction","click","textWidth","isSearchbox","textOptions"],"template":"<span></span>","replace":"true"},Select=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"link":function(scope,element,attrMap){var selectThis=this,constants=_.pick(scope,selectThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});selectThis=new selectThis.widgetClass(_.pick(constants,validProperName));element.append(selectThis._element);scope.$watch("id",function(newValues,oldValues){selectThis.option("id",newValues)});scope.$watch("width",function(newValues,oldValues){selectThis.option("width",newValues)});scope.$watch("height",function(newValues,oldValues){selectThis.option("height",newValues)});scope.$watch("display",function(newValues,oldValues){selectThis.option("display",newValues)});scope.$watch("disable",function(newValues,oldValues){selectThis.option("disable",newValues)});scope.$watch("defaultSelectid",function(newValues,oldValues){selectThis.option("default-selectid",newValues)});scope.$watch("values",function(newValues,oldValues){selectThis.option("values",newValues)});scope.$watch("autoOpen",function(newValues,oldValues){selectThis.option("autoOpen",newValues)});scope.$watch("placeholder",function(newValues,oldValues){selectThis.option("placeholder",newValues)});scope.$watch("validate",function(newValues,oldValues){selectThis.option("validate",newValues)});scope.$watch("tooltip",function(newValues,oldValues){selectThis.option("tooltip",newValues)});scope.$watch("errorMsg",function(newValues,oldValues){selectThis.option("errorMsg",newValues)});if(attrMap.change){selectThis.$inputText.on("changeEvt",function(){scope.$apply(scope.change)});selectThis.$inputText.on("changeEvt",function(evt){selectThis.$flag||selectThis.options.click(evt)})}attrMap.select&&selectThis.on("select",function(){var param={"selectId":arguments[0],"label":arguments[1]};scope.select(param);scope.$digest()});selectThis._element.on("$destroy",function(){scope.$destroy()})}});(new Select).toAngularDirective();return Select});var Hashtable=function(){function hashObject(obj){var hashCode;if("string"==typeof obj)return obj;if(typeof obj.hashCode==FUNCTION){hashCode=obj.hashCode();return"string"==typeof hashCode?hashCode:hashObject(hashCode)}if(typeof obj.toString==FUNCTION)return obj.toString();try{return String(obj)}catch(ex){return Object.prototype.toString.call(obj)}}function equals_fixedValueHasEquals(fixedValue,variableValue){return fixedValue.equals(variableValue)}function equals_fixedValueNoEquals(fixedValue,variableValue){return typeof variableValue.equals==FUNCTION?variableValue.equals(fixedValue):fixedValue===variableValue}function createKeyValCheck(kvStr){return function(kv){if(null===kv)throw new Error("null is not a valid "+kvStr);if("undefined"==typeof kv)throw new Error(kvStr+" must not be undefined")}}function Bucket(hash,firstKey,firstValue,equalityFunction){this[0]=hash;this.entries=[];this.addEntry(firstKey,firstValue);null!==equalityFunction&&(this.getEqualityFunction=function(){return equalityFunction})}function createBucketSearcher(mode){return function(key){var entry,i=this.entries.length,equals=this.getEqualityFunction(key);for(;i--;){entry=this.entries[i];if(equals(key,entry[0]))switch(mode){case EXISTENCE:return!0;case ENTRY:return entry;case ENTRY_INDEX_AND_VALUE:return[i,entry[1]]}}return!1}}function createBucketLister(entryProperty){return function(aggregatedArr){var i,len,startIndex=aggregatedArr.length;for(i=0,len=this.entries.length;len>i;++i)aggregatedArr[startIndex+i]=this.entries[i][entryProperty]}}function searchBuckets(buckets,hash){var bucket,i=buckets.length;for(;i--;){bucket=buckets[i];if(hash===bucket[0])return i}return null}function getBucketForHash(bucketsByHash,hash){var bucket=bucketsByHash[hash];return bucket&&bucket instanceof Bucket?bucket:null}function Hashtable(hashingFunctionParam,equalityFunctionParam){var createBucketAggregator,that=this,buckets=[],bucketsByHash={},hashingFunction=typeof hashingFunctionParam==FUNCTION?hashingFunctionParam:hashObject,equalityFunction=typeof equalityFunctionParam==FUNCTION?equalityFunctionParam:null;this.put=function(key,value){checkKey(key);checkValue(value);var bucket,bucketEntry,hash=hashingFunction(key),oldValue=null;bucket=getBucketForHash(bucketsByHash,hash);if(bucket){bucketEntry=bucket.getEntryForKey(key);if(bucketEntry){oldValue=bucketEntry[1];bucketEntry[1]=value}else bucket.addEntry(key,value)}else{bucket=new Bucket(hash,key,value,equalityFunction);buckets[buckets.length]=bucket;bucketsByHash[hash]=bucket}return oldValue};this.get=function(key){var hash,bucket,bucketEntry;checkKey(key);hash=hashingFunction(key);bucket=getBucketForHash(bucketsByHash,hash);if(bucket){bucketEntry=bucket.getEntryForKey(key);if(bucketEntry)return bucketEntry[1]}return null};this.containsKey=function(key){var bucketKey,bucket;checkKey(key);bucketKey=hashingFunction(key);bucket=getBucketForHash(bucketsByHash,bucketKey);return bucket?bucket.containsKey(key):!1};this.containsValue=function(value){checkValue(value);var i=buckets.length;for(;i--;)if(buckets[i].containsValue(value))return!0;return!1};this.clear=function(){buckets.length=0;bucketsByHash={}};this.isEmpty=function(){return!buckets.length};createBucketAggregator=function(bucketFuncName){return function(){var aggregated=[],i=buckets.length;for(;i--;)buckets[i][bucketFuncName](aggregated);return aggregated}};this.keys=createBucketAggregator("keys");this.values=createBucketAggregator("values");this.entries=createBucketAggregator("getEntries");this.remove=function(key){var hash,bucketIndex,oldValue,bucket;checkKey(key);hash=hashingFunction(key),oldValue=null;bucket=getBucketForHash(bucketsByHash,hash);if(bucket){oldValue=bucket.removeEntryForKey(key);if(null!==oldValue&&!bucket.entries.length){bucketIndex=searchBuckets(buckets,hash);arrayRemoveAt(buckets,bucketIndex);delete bucketsByHash[hash]}}return oldValue};this.size=function(){var total=0,i=buckets.length;for(;i--;)total+=buckets[i].entries.length;return total};this.each=function(callback){var entry,entries=that.entries(),i=entries.length;for(;i--;){entry=entries[i];callback(entry[0],entry[1])}};this.putAll=function(hashtable,conflictCallback){var entry,key,value,thisValue,entries=hashtable.entries(),i=entries.length,hasConflictCallback=typeof conflictCallback==FUNCTION;for(;i--;){entry=entries[i];key=entry[0];value=entry[1];hasConflictCallback&&(thisValue=that.get(key))&&(value=conflictCallback(key,thisValue,value));that.put(key,value)}};this.clone=function(){var clone=new Hashtable(hashingFunctionParam,equalityFunctionParam);clone.putAll(that);return clone}}var FUNCTION="function",arrayRemoveAt=typeof Array.prototype.splice==FUNCTION?function(arr,idx){arr.splice(idx,1)}:function(arr,idx){var itemsAfterDeleted,i,len;if(idx===arr.length-1)arr.length=idx;else{itemsAfterDeleted=arr.slice(idx+1);arr.length=idx;for(i=0,len=itemsAfterDeleted.length;len>i;++i)arr[idx+i]=itemsAfterDeleted[i]}},checkKey=createKeyValCheck("key"),checkValue=createKeyValCheck("value"),EXISTENCE=0,ENTRY=1,ENTRY_INDEX_AND_VALUE=2;Bucket.prototype={"getEqualityFunction":function(searchValue){return typeof searchValue.equals==FUNCTION?equals_fixedValueHasEquals:equals_fixedValueNoEquals},"getEntryForKey":createBucketSearcher(ENTRY),"getEntryAndIndexForKey":createBucketSearcher(ENTRY_INDEX_AND_VALUE),"removeEntryForKey":function(key){var result=this.getEntryAndIndexForKey(key);if(result){arrayRemoveAt(this.entries,result[0]);return result[1]}return null},"addEntry":function(key,value){this.entries[this.entries.length]=[key,value]},"keys":createBucketLister(0),"values":createBucketLister(1),"getEntries":function(entries){var i,len,startIndex=entries.length;for(i=0,len=this.entries.length;len>i;++i)entries[startIndex+i]=this.entries[i].slice(0)},"containsKey":createBucketSearcher(EXISTENCE),"containsValue":function(value){var i=this.entries.length;for(;i--;)if(value===this.entries[i][1])return!0;return!1}};return Hashtable}();(function(jQuery){function FormatData(dec,group,neg){this.dec=dec;this.group=group;this.neg=neg}function init(){var localeGroupIdx,i;for(localeGroupIdx=0;localeGroupIdx<nfAllLocales.length;localeGroupIdx++){localeGroup=nfAllLocales[localeGroupIdx];for(i=0;i<localeGroup.length;i++)nfLocales.put(localeGroup[i],localeGroupIdx)}}function formatCodes(locale,isFullLocale){var dec,group,neg,codesIndex,codes;0==nfLocales.size()&&init();dec=".";group=",";neg="-";0==isFullLocale&&(-1!=locale.indexOf("_")?locale=locale.split("_")[1].toLowerCase():-1!=locale.indexOf("-")&&(locale=locale.split("-")[1].toLowerCase()));codesIndex=nfLocales.get(locale);if(codesIndex){codes=nfLocaleFormatting[codesIndex];if(codes){dec=codes[0];group=codes[1]}}return new FormatData(dec,group,neg)}var nfLocales=new Hashtable,nfLocalesLikeUS=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],nfLocalesLikeDE=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],nfLocalesLikeFR=["cz","fi","fr","ru","se","pl"],nfLocalesLikeCH=["ch"],nfLocaleFormatting=[[".",","],[",","."],[","," "],[".","'"]],nfAllLocales=[nfLocalesLikeUS,nfLocalesLikeDE,nfLocalesLikeFR,nfLocalesLikeCH];jQuery.fn.formatNumber=function(options,writeBack,giveReturnValue){return this.each(function(){var text,returnString;null==writeBack&&(writeBack=!0);null==giveReturnValue&&(giveReturnValue=!0);text=jQuery(this).is(":input")?new String(jQuery(this).val()):new String(jQuery(this).text());returnString=jQuery.formatNumber(text,options);writeBack&&(jQuery(this).is(":input")?jQuery(this).val(returnString):jQuery(this).text(returnString));if(giveReturnValue)return returnString})};jQuery.formatNumber=function(numberString,options){var formatData,dec,group,neg,validFormat,prefix,negativeInFront,i,suffix,number;options=jQuery.extend({},jQuery.fn.formatNumber.defaults,options);formatData=formatCodes(options.locale.toLowerCase(),options.isFullLocale);dec=formatData.dec;group=formatData.group;neg=formatData.neg;validFormat="0#-,.";prefix="";negativeInFront=!1;for(i=0;i<options.format.length;i++){if(-1!=validFormat.indexOf(options.format.charAt(i))){if(0==i&&"-"==options.format.charAt(i)){negativeInFront=!0;continue}break}prefix+=options.format.charAt(i)}suffix="";for(i=options.format.length-1;i>=0&&-1==validFormat.indexOf(options.format.charAt(i));i--)suffix=options.format.charAt(i)+suffix;options.format=options.format.substring(prefix.length);options.format=options.format.substring(0,options.format.length-suffix.length);number=new Number(numberString);return jQuery._formatNumber(number,options,suffix,prefix,negativeInFront)};jQuery._formatNumber=function(number,options,suffix,prefix,negativeInFront){var formatData,dec,group,neg,forcedToZero,returnString,decimalPortion,decimalFormat,numStr,decimalValue,decimalString,i,notParsed,ones,onesFormat,onePortion,oneText,groupLength,groupCount,padStart,padLen,pos,padChar;options=jQuery.extend({},jQuery.fn.formatNumber.defaults,options);formatData=formatCodes(options.locale.toLowerCase(),options.isFullLocale);dec=formatData.dec;group=formatData.group;neg=formatData.neg;forcedToZero=!1;if(isNaN(number)){if(1!=options.nanForceZero)return null;number=0;forcedToZero=!0}"%"==suffix&&(number=100*number);returnString="";if(options.format.indexOf(".")>-1){decimalPortion=dec;decimalFormat=options.format.substring(options.format.lastIndexOf(".")+1);if(1==options.round)number=new Number(number.toFixed(decimalFormat.length));else{numStr=number.toString();numStr=numStr.substring(0,numStr.lastIndexOf(".")+decimalFormat.length+1);number=new Number(numStr)}decimalValue=number%1;decimalString=new String(decimalValue.toFixed(decimalFormat.length));decimalString=decimalString.substring(decimalString.lastIndexOf(".")+1);for(i=0;i<decimalFormat.length;i++){if("#"==decimalFormat.charAt(i)&&"0"!=decimalString.charAt(i)){decimalPortion+=decimalString.charAt(i);continue}if("#"==decimalFormat.charAt(i)&&"0"==decimalString.charAt(i)){notParsed=decimalString.substring(i);if(notParsed.match("[1-9]")){decimalPortion+=decimalString.charAt(i);continue}break}"0"==decimalFormat.charAt(i)&&(decimalPortion+=decimalString.charAt(i))}returnString+=decimalPortion}else number=Math.round(number);ones=Math.floor(number);0>number&&(ones=Math.ceil(number));onesFormat="";onesFormat=-1==options.format.indexOf(".")?options.format:options.format.substring(0,options.format.indexOf("."));onePortion="";if(0!=ones||"#"!=onesFormat.substr(onesFormat.length-1)||forcedToZero){oneText=new String(Math.abs(ones));groupLength=9999;-1!=onesFormat.lastIndexOf(",")&&(groupLength=onesFormat.length-onesFormat.lastIndexOf(",")-1);groupCount=0;for(i=oneText.length-1;i>-1;i--){onePortion=oneText.charAt(i)+onePortion;groupCount++;if(groupCount==groupLength&&0!=i){onePortion=group+onePortion;groupCount=0}}if(onesFormat.length>onePortion.length){padStart=onesFormat.indexOf("0");if(-1!=padStart){padLen=onesFormat.length-padStart;pos=onesFormat.length-onePortion.length-1;for(;onePortion.length<padLen;){padChar=onesFormat.charAt(pos);","==padChar&&(padChar=group);onePortion=padChar+onePortion;pos--}}}}onePortion||-1===onesFormat.indexOf("0",onesFormat.length-1)||(onePortion="0");
returnString=onePortion+returnString;0>number&&negativeInFront&&prefix.length>0?prefix=neg+prefix:0>number&&(returnString=neg+returnString);options.decimalSeparatorAlwaysShown||returnString.lastIndexOf(dec)==returnString.length-1&&(returnString=returnString.substring(0,returnString.length-1));returnString=prefix+returnString+suffix;return returnString};jQuery.fn.parseNumber=function(options,writeBack,giveReturnValue){var text,number;null==writeBack&&(writeBack=!0);null==giveReturnValue&&(giveReturnValue=!0);text=jQuery(this).is(":input")?new String(jQuery(this).val()):new String(jQuery(this).text());number=jQuery.parseNumber(text,options);if(number){writeBack&&(jQuery(this).is(":input")?jQuery(this).val(number.toString()):jQuery(this).text(number.toString()));if(giveReturnValue)return number}};jQuery.parseNumber=function(numberString,options){var formatData,dec,group,neg,valid,validText,hasPercent,i,number,decimalPos,decimalPoints;options=jQuery.extend({},jQuery.fn.parseNumber.defaults,options);formatData=formatCodes(options.locale.toLowerCase(),options.isFullLocale);dec=formatData.dec;group=formatData.group;neg=formatData.neg;valid="1234567890.-";for(;numberString.indexOf(group)>-1;)numberString=numberString.replace(group,"");numberString=numberString.replace(dec,".").replace(neg,"-");validText="";hasPercent=!1;("%"==numberString.charAt(numberString.length-1)||1==options.isPercentage)&&(hasPercent=!0);for(i=0;i<numberString.length;i++)valid.indexOf(numberString.charAt(i))>-1&&(validText+=numberString.charAt(i));number=new Number(validText);if(hasPercent){number/=100;decimalPos=validText.indexOf(".");if(-1!=decimalPos){decimalPoints=validText.length-decimalPos-1;number=number.toFixed(decimalPoints+2)}else number=number.toFixed(validText.length-1)}return number};jQuery.fn.parseNumber.defaults={"locale":"us","decimalSeparatorAlwaysShown":!1,"isPercentage":!1,"isFullLocale":!1};jQuery.fn.formatNumber.defaults={"format":"#,###.00","locale":"us","decimalSeparatorAlwaysShown":!1,"nanForceZero":!0,"round":!0,"isFullLocale":!1};Number.prototype.toFixed=function(precision){return jQuery._roundNumber(this,precision)};jQuery._roundNumber=function(number,decimalPlaces){var dp,power=Math.pow(10,decimalPlaces||0),value=String(Math.round(number*power)/power);if(decimalPlaces>0){dp=value.indexOf(".");if(-1==dp){value+=".";dp=0}else dp=value.length-(dp+1);for(;decimalPlaces>dp;){value+="0";dp++}}return value}})(jQuery);(function(){var cache={};this.tmpl=function tmpl(str,data){var fn=/\W/.test(str)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+str.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[str]=cache[str]||tmpl(document.getElementById(str).innerHTML);return data?fn(data):fn}})();(function($){$.baseClass=function(obj){obj=$(obj);return obj.get(0).className.match(/([^ ]+)/)[1]};$.fn.addDependClass=function(className,delimiter){var options={"delimiter":delimiter?delimiter:"-"};return this.each(function(){var baseClass=$.baseClass(this);baseClass&&$(this).addClass(baseClass+options.delimiter+className)})};$.fn.removeDependClass=function(className,delimiter){var options={"delimiter":delimiter?delimiter:"-"};return this.each(function(){var baseClass=$.baseClass(this);baseClass&&$(this).removeClass(baseClass+options.delimiter+className)})};$.fn.toggleDependClass=function(className,delimiter){var options={"delimiter":delimiter?delimiter:"-"};return this.each(function(){var baseClass=$.baseClass(this);baseClass&&($(this).is("."+baseClass+options.delimiter+className)?$(this).removeClass(baseClass+options.delimiter+className):$(this).addClass(baseClass+options.delimiter+className))})}})(jQuery);(function($){function Draggable(){this._init.apply(this,arguments)}Draggable.prototype.oninit=function(){};Draggable.prototype.events=function(){};Draggable.prototype.onmousedown=function(){this.ptr.css({"position":"absolute"})};Draggable.prototype.onmousemove=function(evt,x,y){this.ptr.css({"left":x,"top":y})};Draggable.prototype.onmouseup=function(){};Draggable.prototype.isDefault={"drag":!1,"clicked":!1,"toclick":!0,"mouseup":!1};Draggable.prototype._init=function(){if(arguments.length>0){this.ptr=$(arguments[0]);this.outer=$(".draggable-outer");this.is={};$.extend(this.is,this.isDefault);var _offset=this.ptr.offset();this.d={"left":_offset.left,"top":_offset.top,"width":this.ptr.width(),"height":this.ptr.height()};this.oninit.apply(this,arguments);this._events()}};Draggable.prototype._getPageCoords=function(event){return event.targetTouches&&event.targetTouches[0]?{"x":event.targetTouches[0].pageX,"y":event.targetTouches[0].pageY}:{"x":event.pageX,"y":event.pageY}};Draggable.prototype._bindEvent=function(ptr,eventType,handler){this.supportTouches_?ptr.get(0).addEventListener(this.events_[eventType],handler,!1):ptr.bind(this.events_[eventType],handler)};Draggable.prototype._events=function(){var self=this;this.supportTouches_="ontouchend"in document;this.events_={"click":this.supportTouches_?"touchstart":"click","down":this.supportTouches_?"touchstart":"mousedown","move":this.supportTouches_?"touchmove":"mousemove","up":this.supportTouches_?"touchend":"mouseup"};this._bindEvent($(document),"move",function(event){if(self.is.drag){event.stopPropagation();event.preventDefault();self._mousemove(event)}});this._bindEvent($(document),"down",function(event){if(self.is.drag){event.stopPropagation();event.preventDefault()}});this._bindEvent($(document),"up",function(event){self._mouseup(event)});this._bindEvent(this.ptr,"down",function(event){self._mousedown(event);return!1});this._bindEvent(this.ptr,"up",function(event){self._mouseup(event)});this.ptr.find("a").click(function(){self.is.clicked=!0;if(!self.is.toclick){self.is.toclick=!0;return!1}}).mousedown(function(event){self._mousedown(event);return!1});this.events()};Draggable.prototype._mousedown=function(evt){var _offset,coords;if("true"===String(this.settings.disabled))return;this.is.drag=!0;this.is.clicked=!1;this.is.mouseup=!1;_offset=this.ptr.offset();coords=this._getPageCoords(evt);this.cx=coords.x-_offset.left;this.cy=coords.y-_offset.top;$.extend(this.d,{"left":_offset.left,"top":_offset.top,"width":this.ptr.width(),"height":this.ptr.height()});this.outer&&this.outer.get(0)&&this.outer.css({"height":Math.max(this.outer.height(),$(document.body).height()),"overflow":"hidden"});this.onmousedown(evt)};Draggable.prototype._mousemove=function(evt){if("true"===String(this.settings.disabled))return;this.is.toclick=!1;var coords=this._getPageCoords(evt);this.onmousemove(evt,coords.x-this.cx,coords.y-this.cy)};Draggable.prototype._mouseup=function(evt){if("true"===String(this.settings.disabled))return;if(this.is.drag){this.is.drag=!1;if(this.outer&&this.outer.get(0)){$.browser.mozilla?this.outer.css({"overflow":"hidden"}):this.outer.css({"overflow":"visible"});$.browser.msie&&"6.0"==$.browser.version?this.outer.css({"height":"100%"}):this.outer.css({"height":"auto"})}this.onmouseup(evt)}};window.Draggable=Draggable})(jQuery);(function($){function isArray(value){if("undefined"==typeof value)return!1;if(value instanceof Array||!(value instanceof Object)&&"[object Array]"==Object.prototype.toString.call(value)||"number"==typeof value.length&&"undefined"!=typeof value.splice&&"undefined"!=typeof value.propertyIsEnumerable&&!value.propertyIsEnumerable("splice"))return!0;return!1}function jSlider(){return this.init.apply(this,arguments)}function jSliderPointer(){Draggable.apply(this,arguments)}$.slider=function(node,settings){var jNode=$(node);jNode.data("jslider")||jNode.data("jslider",new jSlider(node,settings));return jNode.data("jslider")};$.fn.slider=function(action,opt_value){function isDef(val){return void 0!==val}function isDefAndNotNull(val){return null!=val}var returnValue,args=arguments;this.each(function(){var pointers,value,i,self=$.slider(this,action);if("string"==typeof action)switch(action){case"value":if(isDef(args[1])&&isDef(args[2])){pointers=self.getPointers();if(isDefAndNotNull(pointers[0])&&!isNaN(parseFloat(args[1]))){pointers[0].set(parseFloat(args[1]));pointers[0].setIndexOver()}if(isDefAndNotNull(pointers[1])&&!isNaN(parseFloat(args[2]))){pointers[1].set(parseFloat(args[2]));pointers[1].setIndexOver()}}else if(isDef(args[1])){pointers=self.getPointers();if(isDefAndNotNull(pointers[0])&&!isNaN(parseFloat(args[1]))){pointers[0].set(parseFloat(args[1]));pointers[0].setIndexOver()}}else returnValue=self.getValue();break;case"prc":if(isDef(args[1])&&isDef(args[2])){pointers=self.getPointers();if(isDefAndNotNull(pointers[0])&&!isNaN(parseFloat(args[1]))){pointers[0]._set(parseFloat(args[1]));pointers[0].setIndexOver()}if(isDefAndNotNull(pointers[1])&&!isNaN(parseFloat(args[1]))){pointers[1]._set(parseFloat(args[2]));pointers[1].setIndexOver()}}else if(isDef(args[1])){pointers=self.getPointers();if(isDefAndNotNull(pointers[0])&&!isNaN(parseFloat(args[1]))){pointers[0]._set(parseFloat(args[1]));pointers[0].setIndexOver()}}else returnValue=self.getPrcValue();break;case"calculatedValue":value=self.getValue().split(";");returnValue="";for(i=0;i<value.length;i++)returnValue+=(i>0?";":"")+self.nice(value[i]);break;case"skin":self.setSkin(args[1])}else if(!action&&!opt_value){isArray(returnValue)||(returnValue=[]);returnValue.push(self)}});isArray(returnValue)&&1==returnValue.length&&(returnValue=returnValue[0]);return returnValue||this};var OPTIONS={"settings":{"from":1,"to":10,"step":1,"smooth":!0,"limits":!0,"round":0,"format":{"format":"#,##0.##"},"value":"5;7","dimension":"","disabled":!1},"className":"jslider","selector":".jslider-","disableclassName":"jsliderdisable","template":tmpl('<span class="<%=className%>"><table><tr><td><div class="<%=className%>-bg"><i class="l"></i><i class="f"></i><i class="r"></i><i class="v" style="background:<%=disableColor%>"></i><i class="tiny-jslider-from"></i><i class="tiny-jslider-to"></i></div><div class="<%=className%>-pointer <%=className%>-pointer-from"></div><div class="<%=className%>-pointer <%=className%>-pointer-to"></div><div class="<%=className%>-label <%=className%>-label-from"><span><%=settings.from%></span></div><div class="<%=className%>-label <%=className%>-label-to"><span><%=settings.to%></span><%=settings.dimension%></div><div class="<%=className%>-value <%=className%>-value-from"><span class = "tiny-jslider-value-tip tiny-jslider-value-tip-from"></span><%=settings.dimension%></div><div class="<%=className%>-value <%=className%>-value-to"><span class = "tiny-jslider-value-tip tiny-jslider-value-tip-to"></span><%=settings.dimension%></div><div class="<%=className%>-scale"><%=scale%></div></td></tr></table></span>')};jSlider.prototype.init=function(node,settings){this.settings=$.extend(!0,{},OPTIONS.settings,settings?settings:{});this.inputNode=$(node);this.settings.interval=this.settings.to-this.settings.from;this.settings.value=this.inputNode.attr("value");this.settings.calculate&&$.isFunction(this.settings.calculate)&&(this.nice=this.settings.calculate);this.settings.onstatechange&&$.isFunction(this.settings.onstatechange)&&(this.onstatechange=this.settings.onstatechange);this.is={"init":!1};this.o={};this.create()};jSlider.prototype.onstatechange=function(){};jSlider.prototype.create=function(){var $this=this;this.domNode=$(OPTIONS.template({"className":OPTIONS.className,"disableColor":"true"===String(this.settings.disabled)?"#9D9D9D":"","settings":{"from":this.nice(this.settings.from),"to":this.nice(this.settings.to),"dimension":this.settings.dimension},"scale":this.generateScale()}));this.inputNode.append(this.domNode);this.drawScale();this.settings.skin&&this.settings.skin.length>0&&this.setSkin(this.settings.skin);this.sizes={"domWidth":this.domNode.width(),"domOffset":this.domNode.offset()};$.extend(this.o,{"pointers":{},"labels":{"0":{"o":this.domNode.find(OPTIONS.selector+"value").not(OPTIONS.selector+"value-to")},"1":{"o":this.domNode.find(OPTIONS.selector+"value").filter(OPTIONS.selector+"value-to")}},"limits":{"0":this.domNode.find(OPTIONS.selector+"label").not(OPTIONS.selector+"label-to"),"1":this.domNode.find(OPTIONS.selector+"label").filter(OPTIONS.selector+"label-to")}});$.extend(this.o.labels[0],{"value":this.o.labels[0].o.find("span")});$.extend(this.o.labels[1],{"value":this.o.labels[1].o.find("span")});if(!$this.settings.value.split(";")[1]){this.settings.single=!0;this.domNode.addDependClass("single")}$this.settings.limits||this.domNode.addDependClass("limitless");this.domNode.find(OPTIONS.selector+"pointer").each(function(i){var prev,value=$this.settings.value.split(";")[i];if(value){$this.o.pointers[i]=new jSliderPointer(this,i,$this);prev=$this.settings.value.split(";")[i-1];prev&&new Number(value)<new Number(prev)&&(value=prev);value=value<$this.settings.from?$this.settings.from:value;value=value>$this.settings.to?$this.settings.to:value;$this.o.pointers[i].set(value,!0)}});$this.inputNode.parent().on("click",function(evt){var pointersPrc1,pointersPrc0,pointersCenter,pointer0Zindex,pointer1Zindex,pointer=pointer0=$this.o.pointers[0],coords=pointer._getPageCoords(evt),x=100*(coords.x-pointer0.parent.domNode.offset().left)/pointer0.parent.domNode.width(),pointer1=$this.o.pointers[1];if(pointer1){pointersPrc1=pointer1.value.prc;pointersPrc0=pointer0.value.prc;pointersCenter=(pointersPrc1+pointersPrc0)/2;if(pointersPrc0==pointersPrc1){pointer0Zindex=pointer0.ptr.zIndex();pointer1Zindex=pointer1.ptr.zIndex();pointer=pointer0Zindex>pointer1Zindex?pointer0:pointer1}else pointer=pointersCenter>=x?pointer0:pointer1}pointer._set(pointer.limits(x));pointer._sliderToScaleVal(pointer.limits(x));$this.settings.callback.call($this,$this.getValue(),evt)});this.o.value=this.domNode.find(".v");this.is.init=!0;$.each(this.o.pointers,function(i){$this.redraw(this)});(function(self){$(window).resize(function(){self.onresize()})})(this)};jSlider.prototype.setSkin=function(skin){this.skin_&&this.domNode.removeDependClass(this.skin_,"_");this.domNode.addDependClass(this.skin_=skin,"_")};jSlider.prototype.setPointersIndex=function(i){$.each(this.getPointers(),function(i){this.index(i)})};jSlider.prototype.getPointers=function(){return this.o.pointers};jSlider.prototype.generateScale=function(){var str,s,prc,i;if(this.settings.scale&&this.settings.scale.length>0){str="";s=this.settings.scale;prc=Math.round(100/(s.length-1)*10)/10;for(i=0;i<s.length;i++)str+="|"!=s[i]?'<span style="left: '+i*prc+'%" class = "tiny-jslider-scale-value"><ins>'+s[i]+"</ins></span>":'<span style="left: '+i*prc+'%" class="tiny-jslider-scale-line"></span>';return str}return""};jSlider.prototype.drawScale=function(){this.domNode.find(OPTIONS.selector+"scale span ins").each(function(){$(this).css({"marginLeft":-$(this).outerWidth()/2})})};jSlider.prototype.onresize=function(){var self=this;this.sizes={"domWidth":this.domNode.width(),"domOffset":this.domNode.offset()};$.each(this.o.pointers,function(i){self.redraw(this)})};jSlider.prototype.update=function(){this.onresize();this.drawScale()};jSlider.prototype.limits=function(x,pointer){var step,another;if(!this.settings.smooth){step=100*this.settings.step/this.settings.interval;x=Math.round(x/step)*step}another=this.o.pointers[1-pointer.uid];another&&pointer.uid&&x<another.value.prc&&(x=another.value.prc);another&&!pointer.uid&&x>another.value.prc&&(x=another.value.prc);0>x&&(x=0);x>100&&(x=100);return Math.round(10*x)/10};jSlider.prototype.redraw=function(pointer){var $pointerLabel,$anotherLabel;if(!this.is.init)return!1;this.setValue();this.o.pointers[0]&&this.o.pointers[1]&&this.o.value.css({"left":this.o.pointers[0].value.prc+"%","width":this.o.pointers[1].value.prc-this.o.pointers[0].value.prc+"%"});$pointerLabel=this.o.labels[pointer.uid].value;$pointerLabel.html(this.nice(pointer.value.origin));this.redrawLabels(pointer);$pointerLabel.css({"margin-left":-$pointerLabel.outerWidth()/2});if(!this.settings.single){$anotherLabel=$pointerLabel.hasClass("tiny-jslider-value-tip-to")?this.domNode.find(".tiny-jslider-value-tip-from"):this.domNode.find(".tiny-jslider-value-tip-to");$anotherLabel.css({"margin-left":-$anotherLabel.outerWidth()/2})}};jSlider.prototype.redrawLabels=function(pointer){function setPosition(label,sizes,prc){sizes.margin=-sizes.label/2;label_left=sizes.border+sizes.margin;label_left<0&&(sizes.margin-=label_left);if(sizes.border+sizes.label/2>self.sizes.domWidth){sizes.margin=0;sizes.right=!0}else sizes.right=!1;label.o.css({"left":prc+"%","marginLeft":sizes.margin,"right":"auto"});sizes.right&&label.o.css({"left":"auto","right":0});return sizes}var another,another_label,self=this,label=this.o.labels[pointer.uid],prc=pointer.value.prc,sizes={"label":label.o.outerWidth(),"right":!1,"border":prc*this.sizes.domWidth/100};if(!this.settings.single){another=this.o.pointers[1-pointer.uid];another_label=this.o.labels[another.uid];switch(pointer.uid){case 0:if(sizes.border+sizes.label/2>another_label.o.offset().left-this.sizes.domOffset.left){another_label.o.css({"visibility":"hidden"});another_label.value.html(this.nice(another.value.origin));label.o.css({"visibility":"visible"});prc=(another.value.prc-prc)/2+prc;if(another.value.prc!=pointer.value.prc){label.value.html(this.nice(pointer.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(another.value.origin));sizes.label=label.o.outerWidth();sizes.border=prc*this.sizes.domWidth/100}}else{another_label.o.css({"visibility":"visible"});label.o.css({"visibility":"visible"})}break;case 1:if(sizes.border-sizes.label/2<another_label.o.offset().left-this.sizes.domOffset.left+another_label.o.outerWidth()){another_label.o.css({"visibility":"hidden"});another_label.value.html(this.nice(another.value.origin));label.o.css({"visibility":"visible"});prc=(prc-another.value.prc)/2+another.value.prc;if(another.value.prc!=pointer.value.prc){label.value.html(this.nice(another.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(pointer.value.origin));sizes.label=label.o.outerWidth();sizes.border=prc*this.sizes.domWidth/100}}else{another_label.o.css({"visibility":"visible"});label.o.css({"visibility":"visible"})}}}sizes=setPosition(label,sizes,prc);if(another_label){sizes={"label":another_label.o.outerWidth(),"right":!1,"border":another.value.prc*this.sizes.domWidth/100};sizes=setPosition(another_label,sizes,another.value.prc)}this.redrawLimits()};jSlider.prototype.redrawLimits=function(){var limits,pointer,label,label_left,limit,i;if(this.settings.limits){limits=[!0,!0];for(key in this.o.pointers)if(!this.settings.single||0==key){pointer=this.o.pointers[key];label=this.o.labels[pointer.uid];this.sizes.domOffset.left=this.domNode.offset().left;label_left=label.o.offset().left-this.sizes.domOffset.left;limit=this.o.limits[0];label_left<limit.outerWidth()&&(limits[0]=!1);this.settings.from===this.settings.to&&this.settings.from===+this.settings.value&&(limits[0]=!1);limit=this.o.limits[1];label_left+label.o.outerWidth()>this.sizes.domWidth-limit.outerWidth()&&(limits[1]=!1)}for(i=0;i<limits.length;i++)limits[i]?this.o.limits[i].fadeIn("fast"):this.o.limits[i].fadeOut("fast")}};jSlider.prototype.setValue=function(){var value=this.getValue();this.inputNode.attr("value",value);this.onstatechange.call(this,value)};jSlider.prototype.getValue=function(){var $this,value;if(!this.is.init)return!1;$this=this;value="";$.each(this.o.pointers,function(i){void 0==this.value.prc||isNaN(this.value.prc)||(value+=(i>0?";":"")+$this.prcToValue(this.value.prc))});return value};jSlider.prototype.getPrcValue=function(){var $this,value;if(!this.is.init)return!1;$this=this;value="";$.each(this.o.pointers,function(i){void 0==this.value.prc||isNaN(this.value.prc)||(value+=(i>0?";":"")+this.value.prc)});return value};jSlider.prototype.prcToValue=function(prc){var h,_start,_from,i,v,value;if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0){h=this.settings.heterogeneity;_start=0;_from=this.settings.from;for(i=0;i<=h.length;i++){v=h[i]?h[i].split("/"):[100,this.settings.to];v[0]=new Number(v[0]);v[1]=new Number(v[1]);prc>=_start&&prc<=v[0]&&(value=_from+(prc-_start)*(v[1]-_from)/(v[0]-_start));_start=v[0];_from=v[1]}}else value=this.settings.from+prc*this.settings.interval/100;return this.round(value)};jSlider.prototype.valueToPrc=function(value,pointer){var h,_start,_from,i,v,prc;if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0){h=this.settings.heterogeneity;_start=0;_from=this.settings.from;for(i=0;i<=h.length;i++){v=h[i]?h[i].split("/"):[100,this.settings.to];v[0]=new Number(v[0]);v[1]=new Number(v[1]);value>=_from&&value<=v[1]&&(prc=pointer.limits(_start+(value-_from)*(v[0]-_start)/(v[1]-_from)));_start=v[0];_from=v[1]}}else prc=pointer.limits(100*(value-this.settings.from)/this.settings.interval);return prc};jSlider.prototype.round=function(value){value=Math.round(value/this.settings.step)*this.settings.step;value=this.settings.round?Math.round(value*Math.pow(10,this.settings.round))/Math.pow(10,this.settings.round):Math.round(value);return value};jSlider.prototype.nice=function(value){value=value.toString().replace(/,/gi,".").replace(/ /gi,"");return $.formatNumber?$.formatNumber(new Number(value),this.settings.format||{}).replace(/-/gi,"&minus;"):new Number(value)};jSliderPointer.prototype=new Draggable;jSliderPointer.prototype.oninit=function(ptr,id,_constructor){this.uid=id;this.parent=_constructor;this.value={};this.settings=this.parent.settings};jSliderPointer.prototype.onmousedown=function(evt){this._parent={"offset":this.parent.domNode.offset(),"width":this.parent.domNode.width()};this.ptr.addDependClass("hover");this.setIndexOver()};jSliderPointer.prototype.onmousemove=function(evt,x){var coords=this._getPageCoords(evt);this._set(this.calc(coords.x))};jSliderPointer.prototype.onmouseup=function(evt){var coords=this._getPageCoords(evt);this._sliderToScaleVal(this.calc(coords.x));this.ptr.removeDependClass("hover");this.parent.settings.callback.call(this.parent,this.parent.getValue(),evt)};jSliderPointer.prototype.setIndexOver=function(){this.parent.setPointersIndex(1);this.index(2)};jSliderPointer.prototype.index=function(i){this.ptr.css({"zIndex":+i||2});this.ptr.hasClass("jslider-pointer-from")?this.parent.domNode.find(".jslider-value-from").css({"zIndex":+i||2}):this.parent.domNode.find(".jslider-value-to").css({"zIndex":+i||2})};jSliderPointer.prototype.limits=function(x){return this.parent.limits(x,this)};jSliderPointer.prototype.calc=function(coords){var x=this.limits(100*(coords-this._parent.offset.left)/this._parent.width);return x};jSliderPointer.prototype.set=function(value,opt_origin){this.value.origin=this.parent.round(value);this._set(this.parent.valueToPrc(value,this),opt_origin)};jSliderPointer.prototype._set=function(prc,opt_origin){opt_origin||(this.value.origin=this.parent.prcToValue(prc));this.value.prc=prc;this.ptrAnimation&&this.ptrAnimation.stop();this.ptr.css({"left":prc+"%"});this.ptr.hasClass("jslider-pointer-to")?this.parent.domNode.find(".tiny-jslider-to").css({"width":prc+"%"}):this.parent.domNode.find(".tiny-jslider-from").css({"width":prc+"%"});this.parent.redraw(this)};jSliderPointer.prototype._sliderToScaleVal=function(prc){this.value.origin=this.parent.prcToValue(prc);var newPrc=this.parent.valueToPrc(this.value.origin,this);this.value.prc=newPrc;this.ptrAnimation=this.ptr.animate({"left":newPrc+"%"},"10");this.ptr.hasClass("jslider-pointer-to")?this.parent.domNode.find(".tiny-jslider-to").css({"width":newPrc+"%"}):this.parent.domNode.find(".tiny-jslider-from").css({"width":newPrc+"%"});this.parent.redraw(this)}})(jQuery);define("tiny-lib/jquery.slider",["tiny-lib/jquery"],function(){});define("tiny-widgets/Slider",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/jquery.slider","tiny-lib/Class","tiny-lib/underscore","tiny-widgets/Widget"],function(angular,$,jSlider,Class,_,Widget){var DEFAULT_CONFIG={"width":300},SELIDER_DEFAULT_CONFIG={"from":1,"to":10,"step":1,"smooth":!0,"limits":!0,"round":0,"format":{"format":"#,##0.##"},"value":"5;7","dimension":""},tpl_data=_.template('<div class="tinySlider"><div class="slider-wrapper"><div class="slider-right"><div class="slider-center"> <% if(leftCaption) {%> <span class="slider-left-text"><%-leftCaption%></span> <%}%> <div id="tinySlider"></div> <% if(rightCaption) {%> <span class="slider-right-text"><%-rightCaption%></span> <%}%> </div></div></div></div>'),slider=Widget.extend({"init":function(options){var widgetThis=this;options=_.extend({},DEFAULT_CONFIG,options);widgetThis._super(options);widgetThis._setOptions(options)},"_setOption":function(key,value){var widgetThis=this;widgetThis._super(key,value);switch(key){case"id":widgetThis._updateId(value);break;case"cls":widgetThis._element.addClass(value)}return},"_generateElement":function(){var html,leftWidth,rigthWidth,width,widgetThis=this,options=widgetThis.options,sliderOption=_.extend({},SELIDER_DEFAULT_CONFIG);!_.isUndefined(options.from)&&(sliderOption.from=options.from);!_.isUndefined(options.to)&&(sliderOption.to=options.to);!_.isUndefined(options.step)&&(sliderOption.step=options.step);!_.isUndefined(options.scale)&&(sliderOption.scale=options.scale);!_.isUndefined(options.smooth)&&(sliderOption.smooth=options.smooth);!_.isUndefined(options.limits)&&(sliderOption.limits=options.limits);!_.isUndefined(options.round)&&(sliderOption.round=options.round);!_.isUndefined(options.format)&&(sliderOption.format=options.format);!_.isUndefined(options.value)&&(value=options.value);!_.isUndefined(options.disable)&&(sliderOption.disabled=options.disable);!_.isUndefined(options.dimension)&&(sliderOption.dimension=options.dimension);!_.isUndefined(options.calculate)&&(sliderOption.calculate=options.calculate);sliderOption.callback=function(value,event){if(value!==widgetThis.value){widgetThis.value=value;widgetThis.trigger("change",[event,value]);"function"==typeof options.change&&options.change(event,value)}};html=tpl_data({"leftCaption":options.leftCaption,"rightCaption":options.rightCaption});widgetThis._element=$(html);$("#"+options.id).append(widgetThis._element);widgetThis.$tinySliderSel=widgetThis._element.find("#tinySlider");widgetThis._element.find("#tinySlider").width(options.width);leftWidth=0,rigthWidth=0,width=0;if(options.leftCaption){leftWidth=widgetThis._element.find(".slider-left-text").width();leftWidth=leftWidth>50?leftWidth:50;width+=leftWidth+20}if(options.rightCaption){rigthWidth=widgetThis._element.find(".slider-right-text").width();rigthWidth=rigthWidth>50?rigthWidth:50;width+=rigthWidth+20}width+=options.width+20;widgetThis._element.find(".slider-center").width(width);widgetThis.$tinySliderSel.attr("value",value);widgetThis.value=value;widgetThis.$tinySliderSel.slider(sliderOption)},"option":function(value,newValue){var allvalue,widgetThis=this;if("value"!==value)return;if(_.isUndefined(newValue))return widgetThis.$tinySliderSel.slider("value");if("number"==typeof newValue)widgetThis.$tinySliderSel.slider("value",newValue);else{allvalue=newValue.split(";");widgetThis.$tinySliderSel.slider("value",allvalue[0],allvalue[1])}widgetThis.value=newValue;return newValue}});window.tinyWidget.Slider=slider;return slider});define("tiny-directives/Slider",["tiny-directives/Directive","tiny-widgets/Slider"],function(Directive,sliderWidget){var DEFAULT_CONFIG={"directiveName":"tinySlider","widgetClass":sliderWidget,"constantProperties":["id","disable","leftCaption","rightCaption","from","to","step","smooth","limits","dimension","skin","scale","value","calculate","width"],"scope":{"id":"=","width":"=","leftCaption":"=","rightCaption":"=","width":"=","from":"=","to":"=","value":"=","step":"=","smooth":"=","limits":"=","dimension":"=","skin":"=","scale":"=","disable":"=","calculate":"=","change":"&"},"replace":!0,"template":"<span></span>"},slider=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var sliderThis=this,constants=_.pick(scope,sliderThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});element.prop("id",scope.id);sliderThis=new sliderThis.widgetClass(_.pick(constants,validProperName));element.append(sliderThis._element);element.removeAttr("id");sliderThis._element.prop("id",scope.id);scope.$watch("width",function(newValues,oldValues){sliderThis.option("width",newValues)});scope.$watch("value",function(newValues,oldValues){sliderThis.option("value",newValues)});attrMap.change&&sliderThis.on("change",function(){var param={"event":arguments[0],"value":arguments[1]};scope.change(param);scope.$digest()})}});(new slider).toAngularDirective();return slider});define("tiny-widgets/Spinner",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-common/util","tiny-widgets/Tip","tiny-common/UnifyValid"],function(angular,$,Class,Widget,util,Tip,UnifyValid){var DEFAULT_CONFIG={"step":"1","placeholder":"","disable":!1,"value":"","template":'<div id=""><div class="tiny-spinner-container"><div class="tiny-spinner-editor"><input type="text" class="tiny-spinner-input" placeholder = ""/></div><div class="tiny-spinner-btn"><div class="tiny-spinner-upbtn"><div class="tiny-spinner-up-arrow"></div></div><div class="tiny-spinner-downbtn"><div class="tiny-spinner-down-arrow"></div></div></div></div></div>'},CONSTANT_VALUES={"BORDER_WIDTH":1,"PADDING_VERTICAL":2,"PADDING_LEFT":8,"UP_DOWN_BTN_WIDTH":15,"UP_DOWN_TRIANGLE_HEIGHT":5},Spinner=Widget.extend({"init":function(options){var spinnerThis=this;options=_.extend({},DEFAULT_CONFIG,options);spinnerThis._super(options);spinnerThis.$spinnerInput=spinnerThis._element.find(".tiny-spinner-input");spinnerThis._setOptions(options);spinnerThis._addValidate(options,spinnerThis.$spinnerInput);$("#"+options.id).append(spinnerThis._element)},"_setOption":function(key,value){var spinnerThis=this;options=spinnerThis.options;spinnerThis._super(key,value);switch(key){case"id":spinnerThis._updateId(value);break;case"value":value=isNaN(value)||""===value?"":parseFloat(value);spinnerThis._updateValue(value);break;case"step":spinnerThis.step=parseFloat(value);break;case"placeholder":spinnerThis._updatePlaceholder(value);break;case"width":spinnerThis._updateWidth(value);break;case"height":spinnerThis._updateHeight(value);break;case"max":spinnerThis._checkCurrentValue("max",value);break;case"min":spinnerThis._checkCurrentValue("min",value);break;case"disable":spinnerThis._setDisable(value);break;case"validate":UnifyValid.updateValidate(spinnerThis.$spinnerInput,value)}},"_addValidate":function(options,inputElement){if(options.validate||options.tooltip){var validOption={"eleInput":inputElement,"eleTip":this._element.find(".tiny-spinner-container"),"validate":options.validate,"tooltip":options.tooltip,"errorMsg":options.errorMsg,"extendFun":options.extendFunction,"tipPos":options.tipPosition,"tipWidth":options.tipWidth,"evtInstance":this};UnifyValid.initValid(validOption)}},"_checkCurrentValue":function(minMax,value){var inputValue,spinnerThis=this,options=spinnerThis.options;if("min"==minMax){if(isNaN(value)||""===value)return;spinnerThis.minNum=parseFloat(value)}else{if(isNaN(value)||""===value)return;spinnerThis.maxNum=parseFloat(value)}inputValue=spinnerThis.$spinnerInput.val();if(""==inputValue)return;spinnerThis.value=options.value=spinnerThis._restrictInputVal(inputValue)},"_updateWidth":function(width){var subWidth,spinnerThis=this;width=parseInt(width,10);subWidth=2*CONSTANT_VALUES.BORDER_WIDTH+CONSTANT_VALUES.PADDING_LEFT+CONSTANT_VALUES.UP_DOWN_BTN_WIDTH;if(isNaN(width)||subWidth>=width)return;spinnerThis._element.find(".tiny-spinner-container").css("width",width-2*CONSTANT_VALUES.BORDER_WIDTH);spinnerThis.$spinnerInput.parent().css("width",width-subWidth);
},"_updateHeight":function(height){var inputHeight,trianglePosition,spinnerThis=this;height=parseInt(height,10);if(isNaN(height)||height<=2*CONSTANT_VALUES.UP_DOWN_TRIANGLE_HEIGHT+2*CONSTANT_VALUES.BORDER_WIDTH)return;spinnerThis._element.find(".tiny-spinner-container").css("height",height-2*CONSTANT_VALUES.BORDER_WIDTH);inputHeight=height-2*CONSTANT_VALUES.BORDER_WIDTH-2*CONSTANT_VALUES.PADDING_VERTICAL;spinnerThis.$spinnerInput.css({"height":inputHeight,"line-height":inputHeight+"px"});trianglePosition=height/4-CONSTANT_VALUES.UP_DOWN_TRIANGLE_HEIGHT/2;spinnerThis._element.find(".tiny-spinner-up-arrow").css("top",trianglePosition);spinnerThis._element.find(".tiny-spinner-down-arrow").css("bottom",trianglePosition)},"_setDisable":function(value){var spinnerThis=this;if("true"===String(value)){spinnerThis._element.find(".tiny-spinner-container").addClass("tiny-spinner-container-disabled");spinnerThis._element.find(".tiny-spinner-input").attr("disabled","disabled");spinnerThis._element.find(".tiny-spinner-input").addClass("tiny-spinner-input-disabled");options.validate&&UnifyValid.clearValidate(spinnerThis.$spinnerInput)}else{spinnerThis._element.find(".tiny-spinner-container").removeClass("tiny-spinner-container-disabled");spinnerThis._element.find(".tiny-spinner-input").removeAttr("disabled");spinnerThis._element.find(".tiny-spinner-input").removeClass("tiny-spinner-input-disabled")}},"_updatePlaceholder":function(value){var spinnerThis=this,options=spinnerThis.options,placeholder=options.placeholder;""!=options.placeholder&&spinnerThis.$spinnerInput.attr("placeholder",placeholder)},"_updateValue":function(value){var spinnerThis=this,options=spinnerThis.options;if(!isNaN(options.max)){spinnerThis.maxNum=parseFloat(options.max);spinnerThis.maxNum<value&&(value=spinnerThis.maxNum)}if(!isNaN(options.min)){spinnerThis.minNum=parseFloat(options.min);spinnerThis.minNum>value&&(value=spinnerThis.minNum)}options.format&&""!==value&&(value=spinnerThis._formatNum(value,options.format));options.value=value;spinnerThis.value=options.value;spinnerThis.$spinnerInput.val(value)},"_formatNum":function(num,format){var precision,formatType;num=parseFloat(num);precision=-1;format.length>1&&(precision=parseInt(format.slice(1),10));formatType=format.charAt(0).toUpperCase();switch(formatType){case"N":num=this._expandNumber(num,precision)}return num},"_expandNumber":function(num,precision){0>precision&&(precision=2);return num.toFixed(precision)},"_accOperate":function(arg1,arg2,method){var r1,r2,m,c,cm;try{r1=arg1.toString().split(".")[1].length}catch(e){r1=0}try{r2=arg2.toString().split(".")[1].length}catch(e){r2=0}c=Math.abs(r1-r2);m=Math.pow(10,Math.max(r1,r2));if(c>0){cm=Math.pow(10,c);if(r1>r2){arg1=Number(arg1.toString().replace(".",""));arg2=Number(arg2.toString().replace(".",""))*cm}else{arg1=Number(arg1.toString().replace(".",""))*cm;arg2=Number(arg2.toString().replace(".",""))}}else{arg1=Number(arg1.toString().replace(".",""));arg2=Number(arg2.toString().replace(".",""))}if("add"==method)return(arg1+arg2)/m;if("sub"==method)return(arg1-arg2)/m},"_stepNaNInput":function(){var inputValue,spinnerThis=this;spinnerThis.options;inputValue=void 0!==spinnerThis.maxNum?spinnerThis.maxNum:void 0!==spinnerThis.minNum?spinnerThis.minNum:0;spinnerThis.$spinnerInput.val(inputValue)},"_restrictInputVal":function(inputValue){var spinnerThis=this;spinnerThis.options;inputValue=parseFloat(inputValue);isNaN(inputValue)?inputValue="":inputValue>spinnerThis.maxNum?inputValue=spinnerThis.maxNum:inputValue<spinnerThis.minNum&&(inputValue=spinnerThis.minNum);spinnerThis.$spinnerInput.val(inputValue);return inputValue},"_stepUp":function(step){var spinnerThis=this,inputValue=(spinnerThis.options,spinnerThis.$spinnerInput.val());if(""==inputValue||isNaN(inputValue)){spinnerThis._stepNaNInput();return}inputValue=spinnerThis._accOperate(inputValue,step,"add");spinnerThis._restrictInputVal(inputValue)},"_stepDown":function(step){var spinnerThis=this,inputValue=(spinnerThis.options,spinnerThis.$spinnerInput.val());if(""==inputValue||isNaN(inputValue)){spinnerThis._stepNaNInput();return}inputValue=spinnerThis._accOperate(inputValue,step,"sub");spinnerThis._restrictInputVal(inputValue)},"_isValidKey":function(e){var valid=[8,9,13,27,35,36,37,39,46,38,40,48,96,49,97,50,98,51,99,52,100,53,101,54,102,55,103,56,104,57,105,110,190,189],keyCode=e.keyCode;if(e.ctrlKey&&(67==keyCode||86==keyCode||65==keyCode||88==keyCode))return!0;if(_.contains(valid,keyCode))return!0;return!1},"_contentChangeHandler":function(event){var spinnerThis=this,options=spinnerThis.options,newValue=(options.value,spinnerThis.$spinnerInput.val());if(options.value+""===newValue)return;options.value=newValue;spinnerThis.trigger("contentChange",[event,newValue]);"function"==typeof options.contentChange&&options.contentChange(event,newValue)},"_addBehavior":function(){var spinnerThis=this,options=spinnerThis.options,isnoblur=!1;spinnerThis._element.on("click",".tiny-spinner-upbtn",function(event){if("true"===String(options.disable))return;spinnerThis._stepUp(spinnerThis.step);spinnerThis.$spinnerInput.focus();spinnerThis._contentChangeHandler(event)});spinnerThis._element.on("click",".tiny-spinner-downbtn",function(event){if("true"===String(options.disable))return;spinnerThis._stepDown(spinnerThis.step);spinnerThis.$spinnerInput.focus();spinnerThis._contentChangeHandler(event)});spinnerThis._element.on("focus",".tiny-spinner-input",function(event){if("true"===String(options.disable))return;spinnerThis.trigger("focus");spinnerThis._element.find(".tiny-spinner-container").addClass("tiny-spinner-container-focus");isnoblur=!1});spinnerThis._element.on("mousedown",".tiny-spinner-downbtn",function(event){if("true"===String(options.disable))return;isnoblur=!0;spinnerThis._element.find(".tiny-spinner-container").addClass("tiny-spinner-container-focus");setTimeout(function(){isnoblur=!1},10)});spinnerThis._element.on("mousedown",".tiny-spinner-upbtn",function(event){if("true"===String(options.disable))return;isnoblur=!0;spinnerThis._element.find(".tiny-spinner-container").addClass("tiny-spinner-container-focus");setTimeout(function(){isnoblur=!1},10)});spinnerThis._element.on("keydown",".tiny-spinner-container",function(event){38==event.keyCode&&spinnerThis._stepUp(spinnerThis.step);40==event.keyCode&&spinnerThis._stepDown(spinnerThis.step);spinnerThis._contentChangeHandler(event)});spinnerThis._element.on("keydown",".tiny-spinner-input",function(event){spinnerThis._isValidKey(event)||event.preventDefault()});"Microsoft Internet Explorer"==navigator.appName&&spinnerThis._element.on("keyup",".tiny-spinner-input",function(event){if(8==event.keyCode||46==event.keyCode){spinnerThis._contentChangeHandler(event);return}});spinnerThis._element.on("input",".tiny-spinner-input",function(event){spinnerThis._contentChangeHandler(event)});"Microsoft Internet Explorer"==navigator.appName&&spinnerThis._element.on("cut",".tiny-spinner-input",function(event){setTimeout(function(){spinnerThis._contentChangeHandler(event)},0)});spinnerThis._element.on("blur",".tiny-spinner-input",function(event){if(isnoblur)return;spinnerThis._element.find(".tiny-spinner-container").removeClass("tiny-spinner-container-focus");var inputValue=spinnerThis._restrictInputVal(spinnerThis.$spinnerInput.val());if(options.format&&""!==inputValue){inputValue=spinnerThis._formatNum(inputValue,options.format);spinnerThis.$spinnerInput.val(inputValue)}spinnerThis._contentChangeHandler(event);if(spinnerThis.value+""!=inputValue+""){spinnerThis.value=inputValue;$(this).trigger("changeEvt",[event])}spinnerThis.trigger("blur")});spinnerThis._element.on("changeEvt",function(event){spinnerThis.trigger("change",[event]);"function"==typeof options.change&&options.change(event)})}});window.tinyWidget.Spinner=Spinner;return Spinner});define("tiny-directives/Spinner",["tiny-directives/Directive","tiny-widgets/Spinner"],function(Directive,SpinnerWidget){var DEFAULT_CONFIG={"directiveName":"tinySpinner","widgetClass":SpinnerWidget,"scope":{"id":"=","validate":"=","tooltip":"=","errorMsg":"=","tipPosition":"=","tipWidth":"=","extendFunction":"=","value":"=","placeholder":"=","max":"=","min":"=","step":"=","width":"=","height":"=","disable":"=","format":"=","change":"&","contentChange":"&"},"constantProperties":["validate","tooltip","errorMsg","extendFunction","tipPosition","tipWidth","format"],"template":"<span></span>","replace":"true"},Spinner=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var spinnerInstance,spinnerThis=this,constants=_.pick(scope,spinnerThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});spinnerInstance=new spinnerThis.widgetClass(_.pick(constants,validProperName));spinnerInstance.on("contentChange",function(event,newValue){spinnerThis.setAttr(scope,"value",newValue,attrMap)});element.append(spinnerInstance._element);scope.$watch("id",function(newValues,oldValues){spinnerInstance.option("id",newValues)});scope.$watch("max",function(newValues,oldValues){spinnerInstance.option("max",newValues)});scope.$watch("min",function(newValues,oldValues){spinnerInstance.option("min",newValues)});scope.$watch("value",function(newValues,oldValues){if(scope.changeFlag===!0){scope.changeFlag=!1;return}spinnerInstance.option("value",newValues)});scope.$watch("step",function(newValues,oldValues){spinnerInstance.option("step",newValues)});scope.$watch("placeholder",function(newValues,oldValues){spinnerInstance.option("placeholder",newValues)});scope.$watch("width",function(newValues,oldValues){spinnerInstance.option("width",newValues)});scope.$watch("height",function(newValues,oldValues){spinnerInstance.option("height",newValues)});scope.$watch("disable",function(newValues,oldValues){spinnerInstance.option("disable",newValues)});scope.$watch("validate",function(newValue,oldValue){spinnerInstance.option("validate",newValue)});scope.$watch("tooltip",function(newValue,oldValue){spinnerInstance.option("tooltip",newValue)});scope.$watch("errorMsg",function(newValue,oldValue){spinnerInstance.option("errorMsg",newValue)});scope.$watch("format",function(newValues,oldValues){spinnerInstance.option("format",newValues)});attrMap.change&&spinnerInstance.on("change",function(event){scope.$evalAsync(function(){scope.change({"event":event})})});attrMap.contentChange&&spinnerInstance.on("contentChange",function(){var param={"event":arguments[0],"value":arguments[1]};scope.contentChange(param);scope.$digest()})}});(new Spinner).toAngularDirective();return Spinner});(function($){function maybeCall(thing,ctx){return"function"==typeof thing?thing.call(ctx):thing}function isElementInDOM(ele){for(;ele=ele.parentNode;)if(ele==document)return!0;return!1}function Tipsy(element,options){this.$element=$(element);this.options=options;this.enabled=!0;this.fixTitle()}Tipsy.prototype={"show":function(){var $tip,pos,actualWidth,actualHeight,gravity,tp,title=this.getTitle();if("undefined"==title||""==title.trim())return;if(title&&this.enabled){$tip=this.tip();$tip.find(".tipsy-inner")[this.options.html?"html":"text"](title);$tip[0].className="tipsy";$tip.remove().css({"top":0,"left":0,"visibility":"hidden","display":"block"}).prependTo(document.body);pos=$.extend({},this.$element.offset(),{"width":this.$element[0].offsetWidth,"height":this.$element[0].offsetHeight});actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight,gravity=maybeCall(this.options.gravity,this.$element[0]);switch(gravity.charAt(0)){case"n":tp={"top":pos.top+pos.height+this.options.offset,"left":pos.left+pos.width/2-actualWidth/2};break;case"s":tp={"top":pos.top-actualHeight-this.options.offset,"left":pos.left-actualWidth/2};break;case"e":tp={"top":pos.top+pos.height/2-actualHeight/2,"left":pos.left-actualWidth-this.options.offset};break;case"w":tp={"top":pos.top+pos.height/2-actualHeight/2,"left":pos.left+pos.width+this.options.offset}}2==gravity.length&&("w"==gravity.charAt(1)?tp.left=pos.left+pos.width/2-15:tp.left=pos.left+pos.width/2-actualWidth+15);$tip.css(tp).addClass("tipsy-"+gravity);$tip.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+gravity.charAt(0);this.options.className&&$tip.addClass(maybeCall(this.options.className,this.$element[0]));this.options.fade?$tip.stop().css({"opacity":0,"display":"block","visibility":"visible"}).animate({"opacity":this.options.opacity}):$tip.css({"visibility":"visible","opacity":this.options.opacity})}},"hide":function(){this.options.fade?this.tip().stop().fadeOut(function(){$(this).remove()}):this.tip().remove()},"fixTitle":function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("original-title"))&&$e.attr("original-title",$e.attr("title")||"").removeAttr("title")},"getTitle":function(){var title,$e=this.$element,o=this.options;this.fixTitle();o=this.options;"string"==typeof o.title?title=$e.attr("title"==o.title?"original-title":o.title):"function"==typeof o.title&&(title=o.title.call($e[0]));title=(""+title).replace(/(^\s*|\s*$)/,"");return title||o.fallback},"tip":function(){if(!this.$tip){this.$tip=$('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>');this.$tip.data("tipsy-pointee",this.$element[0])}return this.$tip},"validate":function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},"enable":function(){this.enabled=!0},"disable":function(){this.enabled=!1},"toggleEnabled":function(){this.enabled=!this.enabled}};$.fn.tipsy=function(options){function get(ele){var tipsy=$.data(ele,"tipsy");if(!tipsy){tipsy=new Tipsy(ele,$.fn.tipsy.elementOptions(ele,options));$.data(ele,"tipsy",tipsy)}return tipsy}function enter(){var tipsy=get(this);tipsy.hoverState="in";if(0==options.delayIn)tipsy.show();else{tipsy.fixTitle();setTimeout(function(){"in"==tipsy.hoverState&&tipsy.show()},options.delayIn)}}function leave(){var tipsy=get(this);tipsy.hoverState="out";0==options.delayOut?tipsy.hide():setTimeout(function(){"out"==tipsy.hoverState&&tipsy.hide()},options.delayOut)}var tipsy,binder,eventIn,eventOut;if(options===!0)return this.data("tipsy");if("string"==typeof options){tipsy=this.data("tipsy");tipsy&&tipsy[options]();return this}options=$.extend({},$.fn.tipsy.defaults,options);options.live||this.each(function(){get(this)});if("manual"!=options.trigger){binder=options.live?"live":"bind",eventIn="hover"==options.trigger?"mouseenter":"focus",eventOut="hover"==options.trigger?"mouseleave":"blur";this[binder](eventIn,enter)[binder](eventOut,leave)}return this};$.fn.tipsy.defaults={"className":null,"delayIn":0,"delayOut":0,"fade":!1,"fallback":"","gravity":"n","html":!0,"live":!1,"offset":0,"opacity":.8,"title":"title","trigger":"hover"};$.fn.tipsy.revalidate=function(){$(".tipsy").each(function(){var pointee=$.data(this,"tipsy-pointee");pointee&&isElementInDOM(pointee)||$(this).remove()})};$.fn.tipsy.elementOptions=function(ele,options){return $.metadata?$.extend({},options,$(ele).metadata()):options};$.fn.tipsy.autoNS=function(){return $(this).offset().top>$(document).scrollTop()+$(window).height()/2?"s":"n"};$.fn.tipsy.autoWE=function(){return $(this).offset().left>$(document).scrollLeft()+$(window).width()/2?"e":"w"};$.fn.tipsy.autoBounds=function(margin,prefer){return function(){var dir={"ns":prefer[0],"ew":prefer.length>1?prefer[1]:!1},boundTop=$(document).scrollTop()+margin,boundLeft=$(document).scrollLeft()+margin,$this=$(this);$this.offset().top<boundTop&&(dir.ns="n");$this.offset().left<boundLeft&&(dir.ew="w");$(window).width()+$(document).scrollLeft()-$this.offset().left<margin&&(dir.ew="e");$(window).height()+$(document).scrollTop()-$this.offset().top<margin&&(dir.ns="s");return dir.ns+(dir.ew?dir.ew:"")}}})(jQuery);define("tiny-lib/jquery.tipsy",["tiny-lib/jquery"],function(global){return function(){var ret;return ret||global.tipsy}}(this));define("tiny-widgets/Stellar",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-lib/d3","tiny-common/util","tiny-widgets/Select","tiny-widgets/Slider","tiny-widgets/Searchbox","tiny-lib/jquery.tipsy"],function(angular,$,Class,Widget,d3,util,Select,Slider,Searchbox,tipsy){var slider,$toolsDiv,SVG_OFFSET=60,DEFAULT_SIZE=700,language=tinyLanguage.language,DEFAULT_CONFIG={"width":700,"height":700,"axisStart":100,"axisEnd":0,"axisUnit":"","values":{},"selectOptions":{"display":"block","mode":"single"},"sliderOptions":{"from":0,"to":100,"value":0,"step":1},"axisDisplay":"none","template":'<div id="tiny-stellar-div"></div>'},Stellar=Widget.extend({"init":function(options){var stellarThis=this;options=_.extend({},DEFAULT_CONFIG,options);stellarThis._super(options);stellarThis._setOptions(stellarThis.options);$("#"+options.id).append(stellarThis._element)},"_setOption":function(key,value){var starValues,sectorValues,circleValues,stellarThis=this,options=stellarThis.options;stellarThis._super(key,value),containId=options.id;$toolsDiv=$("<div id='"+containId+"StellarTools' class='stellarTools clearfloat'></div");switch(key){case"id":stellarThis._updateId(value);break;case"selectOptions":$("#"+containId+" .tiny-select-input-field").css("display",value.display);break;case"axisDisplay":$("#"+containId+" .tick").css("display",value);break;case"values":starValues="undefined"==typeof options.values.starValues?[]:options.values.starValues,sectorValues="undefined"==typeof options.values.sectorValues?[]:options.values.sectorValues,circleValues="undefined"==typeof options.values.circleValues?[]:options.values.circleValues;stellarThis._creatTools();$("#"+containId).append($toolsDiv);stellarThis._creatStellar(sectorValues,circleValues,starValues)}},"_creatTools":function(){var option,$sliderDiv,searchOptions,searchbox,$searchboxDiv,stellarThis=this,options=stellarThis.options,containId=options.id,width=!isNaN(parseInt(options.width,10))&&parseInt(options.width,10)>0?options.height:DEFAULT_SIZE,starValues=(!isNaN(parseInt(options.height,10))&&parseInt(options.height,10)>0?options.height:DEFAULT_SIZE,"undefined"==typeof options.values.starValues?[]:options.values.starValues),sectorValues="undefined"==typeof options.values.sectorValues?[]:options.values.sectorValues,circleValues="undefined"==typeof options.values.circleValues?[]:options.values.circleValues;stellarThis._creatSelect(sectorValues,circleValues,starValues);option={"id":containId,"width":180*width/DEFAULT_SIZE,"from":options.sliderOptions.from||0,"to":options.sliderOptions.to||100,"value":options.sliderOptions.value||0,"step":options.sliderOptions.step||1,"change":function(event,value){if("function"==typeof options.sliderchange)return;if(stellarThis.listeners.sliderchange)return;var fromValue=value.split(";")[0],toValue=value.split(";")[1];d3.selectAll("#"+containId+" circle.stellarStar").style("display",function(d){0==fromValue&&(fromValue=-2147483648);if(d.distance>=fromValue&&void 0==toValue)return"block";if(d.distance>=fromValue&&d.distance<=toValue)return"block";return"none"})}};slider=new Slider(option);$sliderDiv=$("<div id='"+containId+"sliderDiv' style='float: left;'></div");slider.rendTo($sliderDiv);$sliderDiv.appendTo($toolsDiv);stellarThis._addBehaviorSlider(slider);searchOptions={"type":"round","width":150,"search":function(searchString){var beforeCirleArray,beforLen,$beforeCirle,i,cirleArray,cirleLen,$cirle,r,j;if("function"==typeof options.search){options.search(searchString);return}beforeCirleArray=d3.selectAll("#"+containId+" circle.stellarStar[search=true]"),beforLen=beforeCirleArray[0].length;for(i=0;beforLen>i;i++){$beforeCirle=$(beforeCirleArray[0][i]);d3.select(beforeCirleArray[0][i]).style("opacity",.5).attr("r",parseInt($beforeCirle.attr("initr"),10)).attr("search",!1)}if(""==searchString.trim())return;searchString=searchString.toLowerCase();cirleArray=d3.selectAll("#"+containId+' circle[name*="'+searchString+'"]'),cirleLen=cirleArray[0].length,r=0;for(j=0;cirleLen>j;j++){$cirle=$(cirleArray[0][j]);try{r=parseInt($cirle.attr("initr"),10)+5}catch(error){return}d3.select(cirleArray[0][j]).attr("search",!0).transition().duration(800).style("opacity",1).attr("r",r).ease("elastic")}}};searchbox=new Searchbox(searchOptions);$searchboxDiv=$("<div id='"+containId+"searchboxDiv' style='float: left;'></div");searchbox.rendTo($searchboxDiv);$searchboxDiv.appendTo($toolsDiv)},"_creatSelect":function(sectorValues,circleValues,starValues){var obj,i,sectorLen,select,$selectDiv,stellarThis=this,options=stellarThis.options,sectorData=[{"label":language.selectAll,"selectId":-1,"checked":!0}];for(i=0,sectorLen=sectorValues.length;sectorLen>i;i++){obj={};obj.label=sectorValues[i].sectorName;obj.selectId=sectorValues[i].sectorId;sectorData.push(obj)}select=new Select({"width":150,"values":sectorData,"mode":options.selectOptions.mode,"change":function(){var tmpSectorValues,tmpStarValues,selectValue,i,k,selectIdArray,idLen,j,sectorLen,m;if("function"==typeof options.selectchange)return;if(stellarThis.listeners.selectchange)return;tmpSectorValues=[],tmpStarValues=[];slider.option("value",slider.options.from+";"+slider.options.to);if("single"==options.selectOptions.mode){selectValue=select.getSelectedId();if("-1"==selectValue)return stellarThis._creatStellar(sectorValues,circleValues,starValues);for(i=0;i<sectorValues.length;i++)if(selectValue==sectorValues[i].sectorId){tmpSectorValues.push(sectorValues[i]);break}for(k=0;k<starValues.length;k++)selectValue==starValues[k].sectorId&&tmpStarValues.push(starValues[k]);return stellarThis._creatStellar(tmpSectorValues,circleValues,tmpStarValues)}selectIdArray=select.getSelectedId();if("-1"==selectIdArray[0])return stellarThis._creatStellar(sectorValues,circleValues,starValues);for(i=0,idLen=selectIdArray.length;idLen>i;i++)for(j=0,sectorLen=sectorValues.length;sectorLen>j;j++)if(selectIdArray[i]==sectorValues[j].sectorId){tmpSectorValues.push(sectorValues[j]);break}for(m=0,sectorLen=tmpSectorValues.length;sectorLen>m;m++)for(k=0;k<starValues.length;k++)tmpSectorValues[m].sectorId==starValues[k].sectorId&&tmpStarValues.push(starValues[k]);return stellarThis._creatStellar(tmpSectorValues,circleValues,tmpStarValues)}});$selectDiv=$("<div id='"+containId+"selectDiv' style='float: left;'></div");select.rendTo($selectDiv);$selectDiv.appendTo($toolsDiv);stellarThis._addBehaviorSelect(select)},"_addBehaviorSelect":function(widgetThis){var stellarThis=this,options=stellarThis.options;widgetThis.on("changeEvt",function(evt){stellarThis.trigger("selectchange",[evt]);"function"==typeof options.selectchange&&options.selectchange(evt)})},"_addBehaviorSlider":function(widgetThis){var stellarThis=this,options=stellarThis.options;widgetThis.on("changeEvt",function(event,changeVal,a,b){stellarThis.trigger("sliderchange",[event,changeVal]);"function"==typeof options.sliderchange&&options.sliderchange(event,changeVal)})},"_calculateAxis":function(sectorValues,circleValues,values){var i,sectorLen,valueBySector,j,valuesLen,valueByCircle1,valueByCircle2,valueByCircle3,valueByCircle4,n,len,stellarThis=this,options=stellarThis.options,perSectorAngle=2*Math.PI/sectorValues.length,startSectorAngle=0,countedValues=[],start=options.axisStart,end=options.axisEnd>=0?options.axisEnd:0,limit=(start-end)/4;for(i=0,sectorLen=sectorValues.length;sectorLen>i;i++){valueBySector=[];startSectorAngle=perSectorAngle*i;for(j=0,valuesLen=values.length;valuesLen>j;j++)sectorValues[i].sectorId==values[j].sectorId&&valueBySector.push(values[j]);if(0==valueBySector.length)continue;valueByCircle1=[],valueByCircle2=[],valueByCircle3=[],valueByCircle4=[];for(n=0,len=valueBySector.length;len>n;n++)valueBySector[n].distance>=3*limit?valueByCircle1.push(valueBySector[n]):valueBySector[n].distance>=2*limit&&valueBySector[n].distance<3*limit?valueByCircle2.push(valueBySector[n]):valueBySector[n].distance>=limit&&valueBySector[n].distance<2*limit?valueByCircle3.push(valueBySector[n]):valueByCircle4.push(valueBySector[n]);this._subCalculateAxis(perSectorAngle,startSectorAngle,valueByCircle1,circleValues,countedValues);this._subCalculateAxis(perSectorAngle,startSectorAngle,valueByCircle2,circleValues,countedValues);this._subCalculateAxis(perSectorAngle,startSectorAngle,valueByCircle3,circleValues,countedValues);this._subCalculateAxis(perSectorAngle,startSectorAngle,valueByCircle4,circleValues,countedValues)}return countedValues},"_subCalculateAxis":function(perSectorAngle,startSectorAngle,valueByCircle,circleValues,countedValues){var stellarThis,options,width,height,start,end,perStarAngle,starAngle,cx,cy,r,faultR,radius,m,len,n,circleLen;if(0==valueByCircle.length)return;stellarThis=this;options=stellarThis.options;width=!isNaN(parseInt(options.width,10))&&parseInt(options.width,10)>0?options.height:DEFAULT_SIZE,height=!isNaN(parseInt(options.height,10))&&parseInt(options.height,10)>0?options.height:DEFAULT_SIZE,start=options.axisStart,end=options.axisEnd,perStarAngle=0,starAngle=0,cx=0,cy=0,r=0,faultR=circleValues[0].radius/2,radius=d3.scale.linear().domain([start,end]).range([0,d3.min([width,height])/2-SVG_OFFSET]);for(m=0,len=valueByCircle.length;len>m;m++){perStarAngle=perSectorAngle/(valueByCircle.length+1);starAngle=startSectorAngle+perStarAngle*(m+1);r=valueByCircle[m].distance;if(valueByCircle[m].distance<0){valueByCircle[m].cx=radius(faultR)*Math.cos(starAngle);valueByCircle[m].cy=-radius(faultR)*Math.sin(starAngle);valueByCircle[m].starColor=circleValues[0].starColor}else{valueByCircle[m].cx=radius(r)*Math.cos(starAngle);valueByCircle[m].cy=-radius(r)*Math.sin(starAngle);for(n=0,circleLen=circleValues.length;circleLen-1>n;n++)r>=circleValues[n].radius&&r<circleValues[n+1].radius?valueByCircle[m].starColor=circleValues[n].starColor:r>=circleValues[n+1].radius&&(valueByCircle[m].starColor=circleValues[n+1].starColor)}countedValues.push(valueByCircle[m])}},"_creatStellar":function(sectorValues,circleValues,starValues){function radial_tick(selection){selection.each(function(axis_num){d3.svg.axis().scale(radius).ticks(10).tickValues(axis_num==tick_axis?null:[]).orient("bottom")(d3.select(this))})}var angle,sector,datumX,datumY,datumR1,datumR2,legendAxis,legend,margin,groups,starData,circles,mouseOn,mouseOff,stellarThis=this,options=stellarThis.options,containId=options.id,width=!isNaN(parseInt(options.width,10))&&parseInt(options.width,10)>0?options.width:DEFAULT_SIZE,height=!isNaN(parseInt(options.height,10))&&parseInt(options.height,10)>0?options.height:DEFAULT_SIZE,num_axes=sectorValues.length,tick_axis=0,start=options.axisStart,end=options.axisEnd,radius=d3.scale.linear().domain([start,end]).range([0,d3.min([width,height])/2-SVG_OFFSET]),svg=d3.select("#"+containId+" .stellarGroup");0==$("#"+containId+" .tiny-stellar").length&&(svg=d3.select("#"+containId).style("width",options.width+"px").append("svg").attr({"class":"tiny-stellar","width":width,"height":height}).append("g").attr("class","stellarGroup").attr("transform","translate("+(width/2-8)+","+height/2+")"));if(sectorValues.length>=0){$("#"+containId+" .sectorLabel").remove();$("#"+containId+" .stellarSector").remove()}if(circleValues.length>0){$("#"+containId+" .stellarCircle").remove();$("#"+containId+" .stellarLegend").remove();$("#"+containId+" .legendText").remove()}$("#"+containId+" .stellarStar").remove();$(".tipsy-s").remove();svg.selectAll("circle.stellarCircle").data(circleValues).enter().append("circle").attr("class","stellarCircle").style({"fill":function(d){return d.fillColor},"stroke":function(d){return d.strokeColor},"stroke-dasharray":function(d){return d.strokeDasharray}}).attr({"cx":0,"cy":0,"r":function(d){return radius(d.radius)}});angle=d3.scale.linear().domain([0,num_axes]).range([0,360]);sector=svg.selectAll(".stellarSector").data(d3.range(num_axes)).enter().append("g").attr("class","stellarSector").attr("transform",function(d){return"rotate("+-angle(d)+")"}).call(radial_tick);$("#"+containId+" .tick").css("display",options.axisDisplay);datumX=Math.cos(Math.PI/sectorValues.length),datumY=-Math.sin(Math.PI/sectorValues.length),datumR1=d3.min([width,height])/2-50,datumR2=d3.min([width,height])/2-10;sector.append("g").data(sectorValues).attr("transform",function(d,i){if(360/sectorValues.length*i>90&&360/sectorValues.length*i<240&&sectorValues.length>2)return"translate("+(datumX*datumR2-2)+","+datumY*datumR2+")";if(1==sectorValues.length)return"translate(0,"+-datumR1+")";return"translate("+datumX*datumR1+","+datumY*datumR1+")"}).append("text").attr({"class":"sectorLabel","transform":function(d,i){return"rotate("+360/sectorValues.length*i+")"},"lengthAdjust":"spacingAndGlyphs"}).text(function(d){return d.sectorName});$("#"+containId+" .sectorLabel").tipsy({"gravity":"s","html":!0,"delayIn":500,"delayOut":500,"opacity":1,"title":function(){var d=this.__data__;return d.sectorTips}});legendAxis=radius(0)-57;legend=svg.selectAll("circle.legend").data(circleValues).enter().append("circle").style("fill",function(d){return d.starColor}).attr({"class":"stellarLegend","cx":legendAxis+55,"cy":function(d,i){return-(legendAxis+14*i+23)},"r":5});svg.selectAll("circle.legendtext").data(circleValues).enter().append("text").attr({"class":"legendText","x":legendAxis+65,"y":function(d,i){return-(legendAxis+14*i+18)}}).text(function(d){return d.circleDesc});"none"!=options.axisDisplay&&""!=options.axisUnit&&svg.append("text").attr({"class":"stellarTickUnit","x":d3.min([width,height])/2-45,"y":15}).text(options.axisUnit);margin={"t":0,"r":20,"b":20,"l":0};groups=svg.append("g").attr("transform","translate("+margin.l+","+margin.t+")");starData=stellarThis._calculateAxis(sectorValues,circleValues,starValues);circles=groups.selectAll("circle").data(starData).enter().append("circle").attr("class","stellarStar").attr({"cx":function(d){return d.cx},"cy":function(d){return d.cy},"r":function(d){return d.radius},"initr":function(d){return d.radius},"name":function(d){return d.starName.toLowerCase()},"sectorname":function(d){return d.sectorName}}).style("fill",function(d){return d.starColor}).style("opacity",.5);mouseOn=function(){var circle=d3.select(this),r=parseInt(circle.attr("initr"),10)+5;circle.transition().duration(800).style("opacity",1).attr("r",r).ease("elastic");d3.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})}};mouseOff=function(){var circle=d3.select(this),r=parseInt(circle.attr("initr"),10);circle.transition().duration(800).style("opacity",.5).attr("r",r).ease("elastic");d3.selectAll(".guide").transition().duration(100).styleTween("opacity",function(){return d3.interpolate(.5,0)}).remove()};circles.on("mouseover",mouseOn);circles.on("mouseout",mouseOff);$("#"+containId+" .stellarStar").tipsy({"gravity":"s","html":!0,"delayIn":500,"delayOut":500,"opacity":1,"title":function(){var d=this.__data__;return d.starTips}})},"update":function(values){var stellarThis=this,options=stellarThis.options,starValues="undefined"==typeof values.starValues?[]:values.starValues,sectorValues="undefined"==typeof values.sectorValues?options.values.sectorValues:values.sectorValues,circleValues="undefined"==typeof values.circleValues?options.values.circleValues:values.circleValues;"none"!=options.selectOptions.display&&stellarThis._creatSelect(sectorValues,circleValues,starValues);stellarThis._creatStellar(sectorValues,circleValues,starValues)},"resetSlider":function(value){slider.option("value",value)}});window.tinyWidget.Stellar=Stellar;return Stellar});define("tiny-directives/Stellar",["tiny-directives/Directive","tiny-widgets/Stellar"],function(Directive,StellarWidget){var DEFAULT_CONFIG={"directiveName":"tinyStellar","widgetClass":StellarWidget,"scope":{"id":"=","width":"=","height":"=","selectOptions":"=","sliderOptions":"=","axisStart":"=","axisEnd":"=","axisUnit":"=","values":"=","axisDisplay":"=block","selectchange":"&",
"sliderchange":"&","search":"&"}},Stellar=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"link":function(scope,element,attrMap){scope.$watch("id",function(newValue,oldValue){element.widget().option("id",newValue)});scope.$watch("width",function(newValue,oldValue){element.widget().option("width",newValue)});scope.$watch("height",function(newValue,oldValue){element.widget().option("height",newValue)});scope.$watch("selectOptions",function(newValue,oldValue){element.widget().option("selectOptions",newValue)});scope.$watch("sliderOptions",function(newValue,oldValue){element.widget().option("sliderOptions",newValue)});scope.$watch("axisStart",function(newValue,oldValue){element.widget().option("axisStart",newValue)});scope.$watch("axisEnd",function(newValue,oldValue){element.widget().option("axisEnd",newValue)});scope.$watch("axisUnit",function(newValue,oldValue){element.widget().option("axisUnit",newValue)});scope.$watch("values",function(newValue,oldValue){element.widget().option("values",newValue)});scope.$watch("axisDisplay",function(newValue,oldValue){element.widget().option("axisDisplay",newValue)});attrMap.selectchange&&element.widget().on("selectchange",function(){scope.$apply(scope.selectchange)});attrMap.sliderchange&&element.widget().on("sliderchange",function(){scope.$apply(scope.sliderchange)})}});(new Stellar).toAngularDirective();return Stellar});define("tiny-widgets/Step",["tiny-lib/angular","tiny-lib/underscore","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-lib/encoder"],function(angular,_,$,Class,Widget,encoder){var DEFAULT_CONFIG={"template":'<div class="tiny-step" style="position: relative;"></div>'},CONST_VALUES={"NODE_WIDTH":16},Step=Widget.extend({"init":function(options){var widgetThis=this;widgetThis._varInit(options);widgetThis._super(_.extend({},DEFAULT_CONFIG,options));widgetThis._setId();widgetThis._reRender();$("#"+options.id).append(widgetThis._element)},"first":function(){var widgetThis=this;widgetThis.selectedNode=0;widgetThis._reRender()},"last":function(){var widgetThis=this;widgetThis.selectedNode=widgetThis.values.length-1;widgetThis._reRender()},"pre":function(nodeLength){var widgetThis=this;nodeLength=parseInt(nodeLength,10);isNaN(nodeLength)===!0||2>nodeLength?widgetThis.selectedNode=widgetThis.selectedNode-1:widgetThis.selectedNode=widgetThis.selectedNode-parseInt(nodeLength,10);widgetThis.selectedNode<0&&(widgetThis.selectedNode=0);widgetThis._reRender()},"next":function(nodeLength){var widgetThis=this;nodeLength=parseInt(nodeLength,10);isNaN(nodeLength)===!0||2>nodeLength?widgetThis.selectedNode=widgetThis.selectedNode+1:widgetThis.selectedNode=widgetThis.selectedNode+nodeLength;widgetThis.selectedNode>widgetThis.values.length-1&&(widgetThis.selectedNode=widgetThis.values.length-1);widgetThis._reRender()},"jump":function(index){var widgetThis=this;index=parseInt(index,10);widgetThis.selectedNode=index;widgetThis.selectedNode>widgetThis.values.length-1&&(widgetThis.selectedNode=widgetThis.values.length-1);widgetThis.selectedNode<0&&(widgetThis.selectedNode=0);widgetThis._reRender()},"_generateElement":function(){var widgetThis=this;widgetThis._super();widgetThis.oStep=widgetThis._element},"_varInit":function(options){var widgetThis=this;widgetThis.oStep=null;widgetThis.id=options.id;widgetThis.cls=null;widgetThis.display=options.display?options.display:!0;widgetThis.disable=options.disable?options.disable:!1;widgetThis.jumpable=options.jumpable?options.jumpable:!0;widgetThis.width=options.width?options.width:180;widgetThis.height=40;widgetThis.values=options.values;widgetThis.selectedNode=0},"_setOption":function(key,value){var widgetThis=this;widgetThis._super(key,value);widgetThis=this;switch(key){case"id":widgetThis._updateId(value);break;case"cls":widgetThis.cls=value;break;case"display":widgetThis.display=value;break;case"disable":widgetThis.disable=value;break;case"width":widgetThis.width=value;break;case"selectedNode":widgetThis.selectedNode=value;break;case"jumpable":widgetThis.jumpable=value;break;case"values":widgetThis.values=value}widgetThis._reRender()},"_addBehavior":function(){var widgetThis=this;widgetThis._element},"_setId":function(){var widgetThis=this;widgetThis.id=_.uniqueId("tiny-step-")},"_reRender":function(){var mainConDiv,nodeDatas,remainingNodes,nodeLink,totalNodes,linkWidth,remNodeImage,remNodeData,i,widgetThis=this;widgetThis.oStep.empty();widgetThis.oStep.addClass(widgetThis.cls);mainConDiv=$('<div style="float:left;">');nodeDatas=widgetThis.values;remainingNodes=[];nodeLink=[];totalNodes=nodeDatas.length;linkWidth=(widgetThis.width-totalNodes*CONST_VALUES.NODE_WIDTH)/(totalNodes-1);for(i=0;totalNodes>i;i++){if(widgetThis.selectedNode>=0&&i<=widgetThis.selectedNode&&widgetThis.disable!==!0){nodeLink[i]=$('<div class="tiny-step-selectedNodeLink">');remNodeImage=$('<div class="tiny-step-selectedNode"">')}else{nodeLink[i]=$('<div class="tiny-step-nodeLink">');remNodeImage=$('<div class="tiny-step-deselectedNode"">')}nodeLink[i].css({"width":linkWidth});0!=i&&mainConDiv.append(nodeLink[i]);widgetThis.id=$.encoder.encodeForHTMLAttribute("id",widgetThis.id,!0);remainingNodes[i]=$('<div id="'+widgetThis.id+"-"+i+'" style="float:left">');remainingNodes[i].css({"width":CONST_VALUES.NODE_WIDTH});widgetThis.selectedNode>=totalNodes&&i==totalNodes-2&&(remNodeImage=$(widgetThis.disable===!0?'<div class="tiny-step-deselectedNode">':'<div class="tiny-step-selectedNode">'));remNodeData=$('<div class = "tiny-step-text">');remNodeData.html(nodeDatas[i]+"");widgetThis.disable===!0&&remNodeData.css({"color":"#c7c7c7"});remainingNodes[i].append(remNodeImage);remainingNodes[i].append(remNodeData);remainingNodes[i].on("click",function(evt){if(!widgetThis.disable&&widgetThis.jumpable){widgetThis.trigger("click",[evt]);var index=this.id.split("-").pop();widgetThis.jump(index);widgetThis.trigger("clickFn",[index]);"function"==typeof widgetThis.options.clickFn&&widgetThis.options.clickFn(index)}});mainConDiv.append(remainingNodes[i])}mainConDiv.css({"width":widgetThis.width,"height":widgetThis.height});widgetThis.oStep.append(mainConDiv)}});window.tinyWidget.Step=Step;return Step});define("tiny-directives/Step",["tiny-directives/Directive","tiny-widgets/Step"],function(Directive,StepWidget){var DEFAULT_CONFIG={"directiveName":"tinyStep","widgetClass":StepWidget,"constantProperties":["id","values"],"scope":{"id":"=","values":"=","display":"=","disable":"=","jumpable":"=","width":"=","cls":"=","clickFn":"&"}},Step=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"link":function(scope,element,attrMap){scope.$watch("id",function(newValue,oldValue){element.widget().option("id",newValue)});scope.$watch("values",function(newValue,oldValue){element.widget().option("values",newValue)});scope.$watch("display",function(newValue,oldValue){element.widget().option("display",newValue)});scope.$watch("disable",function(newValue,oldValue){element.widget().option("disable",newValue)});scope.$watch("jumpable",function(newValue,oldValue){element.widget().option("jumpable",newValue)});scope.$watch("width",function(newValue,oldValue){element.widget().option("width",newValue)});attrMap.clickFn&&element.widget().on("clickFn",function(){var param={"index":arguments[0]};scope.clickFn(param)});element.widget()}});(new Step).toAngularDirective();return Step});define("tiny-widgets/Switch",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-lib/underscore","tiny-common/util","tiny-lib/encoder"],function(angular,$,Class,Widget,_,util,encoder){var HEMICYCLE_WIDTH=10,widgetsLanguage=tinyLanguage.language,DEFAULT_CONFIG={"template":'<div class="tiny-switch"><div class="tiny-switch-box"><div class="switch-button-bg"><div class="tiny-switch-left"></div><div class="tiny-switch-middle"></div><div class="tiny-switch-right"></div></div></div></div>',"display":!0,"disable":!1,"items":[{"label":widgetsLanguage.off,"value":"off"},{"label":widgetsLanguage.on,"value":"on"}],"selected":"off","standard":!0},Switch=Widget.extend({"init":function(options){var _parentDiv,widgetThis=this;widgetThis._super(_.extend({},DEFAULT_CONFIG,options));_parentDiv=$("#"+options.id);if(_parentDiv.length>0){_parentDiv.append(widgetThis._element);widgetThis._update()}else widgetThis._element.attr("id",widgetThis.options.id)},"_setSelectedItem":function(value){var widgetThis=this,item=_.find(widgetThis.options.items,function(item){return item.value==value});if(item){widgetThis.options.selected=value;widgetThis.selectedItem=item;widgetThis._update()}},"_setOption":function(key,value){var widgetThis=this;widgetThis._super(key,value);switch(key){case"display":widgetThis._setDisplay(value);break;case"disable":widgetThis._setDisable(value);break;case"selected":widgetThis._setSelectedItem(value);break;case"adjust":widgetThis._update()}},"_addBehavior":function(){var param,newValue,widgetThis=this,options=widgetThis.options;options.standard?widgetThis._element.find(".tiny-switch-box > div").on("click",function(evt){if(options.disable)return;newValue=_.find(options.items,function(item){return item.value!=options.selected});param={"oldValue":options.selected,"newValue":newValue.value};if(options.isDirective)widgetThis.trigger("changeEvt",[param]);else{if("function"==typeof options.change){var canChange=options.change(param);if(util.isFalse(canChange))return}widgetThis._setSelectedItem(newValue.value)}}):widgetThis._element.find(".switch-button").on("click",function(evt){var value,canChange,$currButton=$(evt.currentTarget);if(options.disable||$currButton.hasClass("switch-button-selected"))return;value=$currButton.attr("value");newValue=_.find(widgetThis.options.items,function(item){return item.value==value});param={"oldValue":options.selected,"newValue":newValue.value};if(options.isDirective)widgetThis.trigger("changeEvt",[param]);else{if("function"==typeof options.change){canChange=options.change(param);if(util.isFalse(canChange))return}widgetThis._setSelectedItem(newValue.value)}})},"_generateElement":function(){var $html,$box,_buttonTemplate,widgetThis=this;widgetThis._super();$html=widgetThis._element;$box=$html.find(".tiny-switch-box");_buttonTemplate='<div class="{0}" {1}><div class="tiny-switch-left"></div><div class="tiny-switch-middle">{2}</div><div class="tiny-switch-right"></div></div>';widgetThis.selectedItem=_.find(widgetThis.options.items,function(item){return item.value==widgetThis.options.selected});widgetThis.options.standard?$box.append(_buttonTemplate.replace("{0}","switch-button-off").replace("{1}","").replace("{2}",$.encoder.encodeForHTML(widgetThis.options.items[0].label))):_.each(widgetThis.options.items,function(item){$box.append(_buttonTemplate.replace("{0}","switch-button").replace("{1}",$.encoder.encodeForHTMLAttribute("value",""+item.value)).replace("{2}",$.encoder.encodeForHTML(item.label)))});return $html},"_setDisplay":function(display){var widgetThis=this;widgetThis.options.display=display;display?widgetThis._element.show():widgetThis._element.hide()},"_setDisable":function(disabled){var widgetThis=this;widgetThis.options.disable=disabled;if(disabled){widgetThis._element.removeClass("tiny-switch");widgetThis._element.addClass("tiny-switch-disabled")}else{widgetThis._element.removeClass("tiny-switch-disabled");widgetThis._element.addClass("tiny-switch")}},"_update":function(){var widgetThis=this;widgetThis.options.standard?widgetThis._updateStandard():widgetThis._updateExtend()},"_updateStandard":function(){var _w,temp,_w2,_bgMiddleWidth,widgetThis=this,$button=widgetThis._element.find(".switch-button-bg + div"),$textDiv=$button.find(".tiny-switch-middle");if(!widgetThis.maxWidth){_w=$textDiv.width();if(0==_w){temp=$textDiv.clone();$("body").append(temp);_w=temp.width();temp.remove()}if(_w>0){_w2=$textDiv.text(widgetThis.options.items[1].label).width();widgetThis.maxWidth=_w>_w2?_w:_w2;widgetThis.maxWidth=widgetThis.maxWidth+2;$textDiv.width(widgetThis.maxWidth);_bgMiddleWidth=2*widgetThis.maxWidth+HEMICYCLE_WIDTH;widgetThis._element.find(".switch-button-bg > .tiny-switch-middle").width(_bgMiddleWidth);widgetThis._element.width(2*HEMICYCLE_WIDTH+_bgMiddleWidth)}widgetThis.options.disable&&widgetThis._setDisable(!0);util.isFalse(widgetThis.options.display)&&widgetThis._setDisplay(!1)}$textDiv.text(widgetThis.selectedItem.label);$button.removeClass();if("on"==widgetThis.options.selected){widgetThis._element.find(".switch-button-bg").addClass("switch-bg-focus");$button.addClass("switch-button-on");$button.css("left",widgetThis.maxWidth+HEMICYCLE_WIDTH)}else{widgetThis._element.find(".switch-button-bg").removeClass("switch-bg-focus");$button.addClass("switch-button-off");$button.css("left",0)}},"_updateExtend":function(){var _num,_bgWidth,widgetThis=this,$buttons=widgetThis._element.find(".switch-button-bg ~ .switch-button"),_maxWidth=0,$textList=$buttons.find(".tiny-switch-middle");if(!widgetThis.maxWidth){_.each($textList,function(textDiv){var _w=$(textDiv).width();_w>_maxWidth&&(_maxWidth=_w)});if(_maxWidth>0){widgetThis.maxWidth=_maxWidth;widgetThis.maxWidth=widgetThis.maxWidth+2;$textList.width(widgetThis.maxWidth);_num=$textList.length;_bgWidth=_num*(2*HEMICYCLE_WIDTH+widgetThis.maxWidth)-2*HEMICYCLE_WIDTH;widgetThis._element.find(".switch-button-bg > .tiny-switch-middle").width(_bgWidth);widgetThis._element.width(_bgWidth+2*HEMICYCLE_WIDTH)}_.each($buttons,function(button,index){index>0&&$(button).css("left",index*(widgetThis.maxWidth+2*HEMICYCLE_WIDTH))});widgetThis.options.disable&&widgetThis._setDisable(!0);util.isFalse(widgetThis.options.display)&&widgetThis._setDisplay(!1)}widgetThis._element.find(".switch-button-selected").removeClass().addClass("switch-button");widgetThis._element.find("div[value="+widgetThis.options.selected+"]").removeClass().addClass("switch-button-selected")}});window.tinyWidget.Switch=Switch;return Switch});define("tiny-directives/Switch",["tiny-common/util","tiny-directives/Directive","tiny-widgets/Switch"],function(util,Directive,SwitchWidget){var DEFAULT_CONFIG={"directiveName":"tinySwitch","widgetClass":SwitchWidget,"constantProperties":["id","display","disable","items","selected","standard"],"scope":{"id":"=","display":"=","disable":"=","items":"=","selected":"=","standard":"=","change":"&"},"template":"<div></div>","replace":!0},Switch=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var _option,directiveThis=this,constants=_.pick(scope,directiveThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});_option=_.pick(constants,validProperName);_option.isDirective=!0;directiveThis=new directiveThis.widgetClass(_option);element.append(directiveThis._element);directiveThis._update();scope.$watch("display",function(newValue,oldValue){newValue!=oldValue&&directiveThis.option("display",newValue)});scope.$watch("disable",function(newValue,oldValue){newValue!=oldValue&&directiveThis.option("disable",newValue)});scope.$watch("selected",function(newValue,oldValue){newValue!=oldValue&&directiveThis.option("selected",newValue)});directiveThis.on("changeEvt",function(param){var changeFn,canChange=!0;if(scope.change){changeFn=scope.change();changeFn&&(canChange=changeFn(param))}util.isFalse(canChange)||(scope.selected=param.newValue);scope.$apply()})}});(new Switch).toAngularDirective();return Switch});(function(window,document,undefined){(function(factory){jQuery&&!jQuery.fn.dataTable&&factory(jQuery)})(function($){var DataTable=function(oInit){function _fnAddColumn(oSettings,nTh){var oPre,oDefaults=DataTable.defaults.columns,iCol=oSettings.aoColumns.length,oCol=$.extend({},DataTable.models.oColumn,oDefaults,{"sSortingClass":oSettings.oClasses.sSortable,"sSortingClassJUI":oSettings.oClasses.sSortJUI,"nSortLabel":document.createElement("span"),"nTh":nTh?nTh:document.createElement("th"),"sTitle":oDefaults.sTitle?oDefaults.sTitle:nTh?nTh.innerHTML:"","aDataSort":oDefaults.aDataSort?oDefaults.aDataSort:[iCol],"mData":oDefaults.mData?oDefaults.oDefaults:iCol});oSettings.aoColumns.push(oCol);if(oSettings.aoPreSearchCols[iCol]===undefined||null===oSettings.aoPreSearchCols[iCol])oSettings.aoPreSearchCols[iCol]=$.extend({},DataTable.models.oSearch);else{oPre=oSettings.aoPreSearchCols[iCol];oPre.bRegex===undefined&&(oPre.bRegex=!0);oPre.bSmart===undefined&&(oPre.bSmart=!0);oPre.bCaseInsensitive===undefined&&(oPre.bCaseInsensitive=!0)}_fnColumnOptions(oSettings,iCol,null)}function _fnColumnOptions(oSettings,iCol,oOptions){var mRender,mData,oCol=oSettings.aoColumns[iCol];if(oOptions!==undefined&&null!==oOptions){oOptions.mDataProp&&!oOptions.mData&&(oOptions.mData=oOptions.mDataProp);if(oOptions.sType!==undefined){oCol.sType=oOptions.sType;oCol._bAutoType=!1}$.extend(oCol,oOptions);_fnMap(oCol,oOptions,"sWidth","sWidthOrig");oOptions.iDataSort!==undefined&&(oCol.aDataSort=[oOptions.iDataSort]);_fnMap(oCol,oOptions,"aDataSort")}mRender=oCol.mRender?_fnGetObjectDataFn(oCol.mRender):null;mData=_fnGetObjectDataFn(oCol.mData);oCol.fnGetData=function(oData,sSpecific){var innerData=mData(oData,sSpecific);if(oCol.mRender&&sSpecific&&""!==sSpecific)return mRender(innerData,sSpecific,oData);return innerData};oCol.fnSetData=_fnSetObjectDataFn(oCol.mData);oSettings.oFeatures.bSort||(oCol.bSortable=!1);if(!oCol.bSortable||-1==$.inArray("asc",oCol.asSorting)&&-1==$.inArray("desc",oCol.asSorting)){oCol.sSortingClass=oSettings.oClasses.sSortableNone;oCol.sSortingClassJUI=""}else if(-1==$.inArray("asc",oCol.asSorting)&&-1==$.inArray("desc",oCol.asSorting)){oCol.sSortingClass=oSettings.oClasses.sSortable;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUI}else if(-1!=$.inArray("asc",oCol.asSorting)&&-1==$.inArray("desc",oCol.asSorting)){oCol.sSortingClass=oSettings.oClasses.sSortableAsc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIAscAllowed}else if(-1==$.inArray("asc",oCol.asSorting)&&-1!=$.inArray("desc",oCol.asSorting)){oCol.sSortingClass=oSettings.oClasses.sSortableDesc;oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIDescAllowed}}function _fnAdjustColumnSizing(oSettings){if(oSettings.oFeatures.bAutoWidth===!1)return!1;_fnCalculateColumnWidths(oSettings);for(var i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)oSettings.aoColumns[i].nTh.style.width=oSettings.aoColumns[i].sWidth}function _fnVisibleToColumnIndex(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");return"number"==typeof aiVis[iMatch]?aiVis[iMatch]:null}function _fnColumnIndexToVisible(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible"),iPos=$.inArray(iMatch,aiVis);return-1!==iPos?iPos:null}function _fnVisbleColumns(oSettings){return _fnGetColumns(oSettings,"bVisible").length}function _fnGetColumns(oSettings,sParam){var a=[];$.map(oSettings.aoColumns,function(val,i){val[sParam]&&a.push(i)});return a}function _fnDetectType(sData){var i,sType,aTypes=DataTable.ext.aTypes,iLen=aTypes.length;for(i=0;iLen>i;i++){sType=aTypes[i](sData);if(null!==sType)return sType}return"string"}function _fnReOrderIndex(oSettings,sColumns){var i,iLen,j,aColumns=sColumns.split(","),aiReturn=[];for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)for(j=0;iLen>j;j++)if(oSettings.aoColumns[i].sName==aColumns[j]){aiReturn.push(j);break}return aiReturn}function _fnColumnOrdering(oSettings){var i,iLen,sNames="";for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)sNames+=oSettings.aoColumns[i].sName+",";if(sNames.length==iLen)return"";return sNames.slice(0,-1)}function _fnApplyColumnDefs(oSettings,aoColDefs,aoCols,fn){var i,iLen,j,jLen,k,kLen,aTargets;if(aoColDefs)for(i=aoColDefs.length-1;i>=0;i--){aTargets=aoColDefs[i].aTargets;$.isArray(aTargets)||_fnLog(oSettings,1,"aTargets must be an array of targets, not a "+typeof aTargets);for(j=0,jLen=aTargets.length;jLen>j;j++)if("number"==typeof aTargets[j]&&aTargets[j]>=0){for(;oSettings.aoColumns.length<=aTargets[j];)_fnAddColumn(oSettings);fn(aTargets[j],aoColDefs[i])}else if("number"==typeof aTargets[j]&&aTargets[j]<0)fn(oSettings.aoColumns.length+aTargets[j],aoColDefs[i]);else if("string"==typeof aTargets[j])for(k=0,kLen=oSettings.aoColumns.length;kLen>k;k++)("_all"==aTargets[j]||$(oSettings.aoColumns[k].nTh).hasClass(aTargets[j]))&&fn(k,aoColDefs[i])}if(aoCols)for(i=0,iLen=aoCols.length;iLen>i;i++)fn(i,aoCols[i])}function _fnAddData(oSettings,aDataSupplied){var oCol,sThisType,i,iLen,sVarType,aDataIn=$.isArray(aDataSupplied)?aDataSupplied.slice():$.extend(!0,{},aDataSupplied),iRow=oSettings.aoData.length,oData=$.extend(!0,{},DataTable.models.oRow);oData._aData=aDataIn;oSettings.aoData.push(oData);for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++){oCol=oSettings.aoColumns[i];"function"==typeof oCol.fnRender&&oCol.bUseRendered&&null!==oCol.mData?_fnSetCellData(oSettings,iRow,i,_fnRender(oSettings,iRow,i)):_fnSetCellData(oSettings,iRow,i,_fnGetCellData(oSettings,iRow,i));if(oCol._bAutoType&&"string"!=oCol.sType){sVarType=_fnGetCellData(oSettings,iRow,i,"type");if(null!==sVarType&&""!==sVarType){sThisType=_fnDetectType(sVarType);null===oCol.sType?oCol.sType=sThisType:oCol.sType!=sThisType&&"html"!=oCol.sType&&(oCol.sType="string")}}}oSettings.aiDisplayMaster.push(iRow);oSettings.oFeatures.bDeferRender||_fnCreateTr(oSettings,iRow);return iRow}function _fnGatherData(oSettings){var i,iLen,jInner,nTds,nTrs,nTd,nTr,iThisIndex,iRow,iRows,iColumn,iColumns,sNodeName,oCol,oData,bAutoType,bRender,bClass,bVisible,nCell,sThisType,sRendered,sValType;if(oSettings.bDeferLoading||null===oSettings.sAjaxSource){nTr=oSettings.nTBody.firstChild;for(;nTr;){if("TR"==nTr.nodeName.toUpperCase()){iThisIndex=oSettings.aoData.length;nTr._DT_RowIndex=iThisIndex;oSettings.aoData.push($.extend(!0,{},DataTable.models.oRow,{"nTr":nTr}));oSettings.aiDisplayMaster.push(iThisIndex);nTd=nTr.firstChild;jInner=0;for(;nTd;){sNodeName=nTd.nodeName.toUpperCase();if("TD"==sNodeName||"TH"==sNodeName){_fnSetCellData(oSettings,iThisIndex,jInner,$.trim(nTd.innerHTML));jInner++}nTd=nTd.nextSibling}}nTr=nTr.nextSibling}}nTrs=_fnGetTrNodes(oSettings);nTds=[];for(i=0,iLen=nTrs.length;iLen>i;i++){nTd=nTrs[i].firstChild;for(;nTd;){sNodeName=nTd.nodeName.toUpperCase();("TD"==sNodeName||"TH"==sNodeName)&&nTds.push(nTd);nTd=nTd.nextSibling}}for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumns>iColumn;iColumn++){oCol=oSettings.aoColumns[iColumn];null===oCol.sTitle&&(oCol.sTitle=oCol.nTh.innerHTML);bAutoType=oCol._bAutoType,bRender="function"==typeof oCol.fnRender,bClass=null!==oCol.sClass,bVisible=oCol.bVisible;if(bAutoType||bRender||bClass||!bVisible)for(iRow=0,iRows=oSettings.aoData.length;iRows>iRow;iRow++){oData=oSettings.aoData[iRow];nCell=nTds[iRow*iColumns+iColumn];if(bAutoType&&"string"!=oCol.sType){sValType=_fnGetCellData(oSettings,iRow,iColumn,"type");if(""!==sValType){sThisType=_fnDetectType(sValType);null===oCol.sType?oCol.sType=sThisType:oCol.sType!=sThisType&&"html"!=oCol.sType&&(oCol.sType="string")}}oCol.mRender?nCell.innerHTML=_fnGetCellData(oSettings,iRow,iColumn,"display"):oCol.mData!==iColumn&&(nCell.innerHTML=_fnGetCellData(oSettings,iRow,iColumn,"display"));if(bRender){sRendered=_fnRender(oSettings,iRow,iColumn);nCell.innerHTML=sRendered;oCol.bUseRendered&&_fnSetCellData(oSettings,iRow,iColumn,sRendered)}bClass&&(nCell.className+=" "+oCol.sClass);if(bVisible)oData._anHidden[iColumn]=null;else{oData._anHidden[iColumn]=nCell;nCell.parentNode.removeChild(nCell)}oCol.fnCreatedCell&&oCol.fnCreatedCell.call(oSettings.oInstance,nCell,_fnGetCellData(oSettings,iRow,iColumn,"display"),oData._aData,iRow,iColumn)}}if(0!==oSettings.aoRowCreatedCallback.length)for(i=0,iLen=oSettings.aoData.length;iLen>i;i++){oData=oSettings.aoData[i];_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[oData.nTr,oData._aData,i])}}function _fnNodeToDataIndex(oSettings,n){return n._DT_RowIndex!==undefined?n._DT_RowIndex:null}function _fnNodeToColumnIndex(oSettings,iRow,n){var i,iLen,anCells=_fnGetTdNodes(oSettings,iRow);for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)if(anCells[i]===n)return i;return-1}function _fnGetRowData(oSettings,iRow,sSpecific,aiColumns){var i,iLen,out=[];for(i=0,iLen=aiColumns.length;iLen>i;i++)out.push(_fnGetCellData(oSettings,iRow,aiColumns[i],sSpecific));return out}function _fnGetCellData(oSettings,iRow,iCol,sSpecific){var sData,oCol=oSettings.aoColumns[iCol],oData=oSettings.aoData[iRow]._aData;if((sData=oCol.fnGetData(oData,sSpecific))===undefined){if(oSettings.iDrawError!=oSettings.iDraw&&null===oCol.sDefaultContent){_fnLog(oSettings,1,"Requested unknown parameter "+("function"==typeof oCol.mData?"{mData function}":"'"+oCol.mData+"'")+" from the data source for row "+iRow);oSettings.iDrawError=oSettings.iDraw}return oCol.sDefaultContent}if(null===sData&&null!==oCol.sDefaultContent)sData=oCol.sDefaultContent;else if("function"==typeof sData)return sData();if("display"==sSpecific&&null===sData)return"";return sData}function _fnSetCellData(oSettings,iRow,iCol,val){var oCol=oSettings.aoColumns[iCol],oData=oSettings.aoData[iRow]._aData;oCol.fnSetData(oData,val)}function _fnGetObjectDataFn(mSource){if(null===mSource)return function(data,type){return null};if("function"==typeof mSource)return function(data,type,extra){return mSource(data,type,extra)};if("string"!=typeof mSource||-1===mSource.indexOf(".")&&-1===mSource.indexOf("["))return function(data,type){return data[mSource]};var fetchData=function(data,type,src){var arrayNotation,out,innerSrc,i,iLen,j,jLen,join,a=src.split(".");if(""!==src)for(i=0,iLen=a.length;iLen>i;i++){arrayNotation=a[i].match(__reArray);if(arrayNotation){a[i]=a[i].replace(__reArray,"");""!==a[i]&&(data=data[a[i]]);out=[];a.splice(0,i+1);innerSrc=a.join(".");for(j=0,jLen=data.length;jLen>j;j++)out.push(fetchData(data[j],type,innerSrc));join=arrayNotation[0].substring(1,arrayNotation[0].length-1);data=""===join?out:out.join(join);break}if(null===data||data[a[i]]===undefined)return undefined;data=data[a[i]]}return data};return function(data,type){return fetchData(data,type,mSource)}}function _fnSetObjectDataFn(mSource){if(null===mSource)return function(data,val){};if("function"==typeof mSource)return function(data,val){mSource(data,"set",val)};if("string"!=typeof mSource||-1===mSource.indexOf(".")&&-1===mSource.indexOf("["))return function(data,val){data[mSource]=val};var setData=function(data,val,src){var b,arrayNotation,o,innerSrc,i,iLen,j,jLen,a=src.split(".");for(i=0,iLen=a.length-1;iLen>i;i++){arrayNotation=a[i].match(__reArray);if(arrayNotation){a[i]=a[i].replace(__reArray,"");data[a[i]]=[];b=a.slice();b.splice(0,i+1);innerSrc=b.join(".");for(j=0,jLen=val.length;jLen>j;j++){o={};setData(o,val[j],innerSrc);data[a[i]].push(o)}return}(null===data[a[i]]||data[a[i]]===undefined)&&(data[a[i]]={});data=data[a[i]]}data[a[a.length-1].replace(__reArray,"")]=val};return function(data,val){return setData(data,val,mSource)}}function _fnGetDataMaster(oSettings){var i,aData=[],iLen=oSettings.aoData.length;for(i=0;iLen>i;i++)aData.push(oSettings.aoData[i]._aData);return aData}function _fnClearTable(oSettings){oSettings.aoData.splice(0,oSettings.aoData.length);oSettings.aiDisplayMaster.splice(0,oSettings.aiDisplayMaster.length);oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnCalculateEnd(oSettings)}function _fnDeleteIndex(a,iTarget){var i,iLen,iTargetIndex=-1;for(i=0,iLen=a.length;iLen>i;i++)a[i]==iTarget?iTargetIndex=i:a[i]>iTarget&&a[i]--;-1!=iTargetIndex&&a.splice(iTargetIndex,1)}function _fnRender(oSettings,iRow,iCol){var oCol=oSettings.aoColumns[iCol];return oCol.fnRender({"iDataRow":iRow,"iDataColumn":iCol,"oSettings":oSettings,"aData":oSettings.aoData[iRow]._aData,"mDataProp":oCol.mData},_fnGetCellData(oSettings,iRow,iCol,"display"))}function _fnCreateTr(oSettings,iRow){var nTd,i,iLen,oCol,tdContent,invalidDataMask,oData=oSettings.aoData[iRow];if(null===oData.nTr){oData.nTr=document.createElement("tr");oData.nTr._DT_RowIndex=iRow;oData._aData.DT_RowId&&(oData.nTr.id=oData._aData.DT_RowId);oData._aData.DT_RowClass&&(oData.nTr.className=oData._aData.DT_RowClass);for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++){oCol=oSettings.aoColumns[i];nTd=document.createElement(oCol.sCellType);tdContent="function"!=typeof oCol.fnRender||oCol.bUseRendered&&null!==oCol.mData?_fnGetCellData(oSettings,iRow,i,"display"):_fnRender(oSettings,iRow,i);invalidDataMask=oSettings.oInit.invalidDataMask;""===tdContent&&(tdContent=invalidDataMask);nTd.innerHTML=tdContent;$(nTd).attr("tdname",i);$(nTd).attr("tdtitle",oCol.sTitle);$(nTd).attr("autotip",oCol.bodyTip);null!==oCol.sClass&&(nTd.className=oCol.sClass);if(oCol.bVisible){oData.nTr.appendChild(nTd);oData._anHidden[i]=null}else oData._anHidden[i]=nTd;oCol.fnCreatedCell&&oCol.fnCreatedCell.call(oSettings.oInstance,nTd,_fnGetCellData(oSettings,iRow,i,"display"),oData._aData,iRow,i);$(nTd).addClass("tiny-tdStyle")}_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[oData.nTr,oData._aData,iRow])}}function _fnBuildHead(oSettings){var i,nTh,iLen,nTr,nTitleLabel,nSortLabel,$thContent,verticalLine,nDiv,nSpan,anCells,iThs=$("th, td",oSettings.nTHead).length;if(0!==iThs)for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++){nTh=oSettings.aoColumns[i].nTh;nTh.setAttribute("role","columnheader");if(oSettings.aoColumns[i].bSortable){nTh.setAttribute("tabindex",oSettings.iTabIndex);nTh.setAttribute("aria-controls",oSettings.sTableId)}null!==oSettings.aoColumns[i].sClass&&$(nTh).addClass(oSettings.aoColumns[i].sClass);oSettings.aoColumns[i].sTitle!=nTh.innerHTML&&(nTh.innerHTML=oSettings.aoColumns[i].sTitle)}else{nTr=document.createElement("tr");for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++){nTh=oSettings.aoColumns[i].nTh;nTitleLabel=document.createElement("label");nSortLabel=oSettings.aoColumns[i].nSortLabel;nTitleLabel.innerHTML=oSettings.aoColumns[i].sTitle;($(nSortLabel).hasClass("sorting_asc")||$(nSortLabel).hasClass("sorting_desc"))&&$(nTitleLabel).addClass("tiny-table-title-label-sorted");$thContent=$("<div class='tiny-th-content'></div>");$thContent.append(nTitleLabel).append(oSettings.aoColumns[i].nSortLabel);verticalLine=$("<div class='tiny-th-vertival-line'></div>");iLen-1>i&&$thContent.append(verticalLine);$(nTh).append($thContent);nTh.setAttribute("tabindex","0");null!==oSettings.aoColumns[i].sClass&&$(nTh).addClass(oSettings.aoColumns[i].sClass);nTr.appendChild(nTh)}$(oSettings.nTHead).html("")[0].appendChild(nTr);_fnDetectHeader(oSettings.aoHeader,oSettings.nTHead)}$(oSettings.nTHead).children("tr").attr("role","row");if(oSettings.bJUI)for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++){nTh=oSettings.aoColumns[i].nTh;nDiv=document.createElement("div");nDiv.className=oSettings.oClasses.sSortJUIWrapper;$(nTh).contents().appendTo(nDiv);nSpan=document.createElement("span");nSpan.className=oSettings.oClasses.sSortIcon;nDiv.appendChild(nSpan);nTh.appendChild(nDiv)}if(oSettings.oFeatures.bSort)for(i=0;i<oSettings.aoColumns.length;i++)oSettings.aoColumns[i].bSortable!==!1?_fnSortAttachListener(oSettings,oSettings.aoColumns[i].nTh,i):$(oSettings.aoColumns[i].nSortLabel).addClass(oSettings.oClasses.sSortableNone);""!==oSettings.oClasses.sFooterTH&&$(oSettings.nTFoot).children("tr").children("th").addClass(oSettings.oClasses.sFooterTH);if(null!==oSettings.nTFoot){anCells=_fnGetUniqueThs(oSettings,null,oSettings.aoFooter);for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)if(anCells[i]){oSettings.aoColumns[i].nTf=anCells[i];oSettings.aoColumns[i].sClass&&$(anCells[i]).addClass(oSettings.aoColumns[i].sClass)}}}function _fnDrawHead(oSettings,aoSource,bIncludeHidden){var i,iLen,j,jLen,k,n,nLocalTr,iRowspan,iColspan,aoLocal=[],aApplied=[],iColumns=oSettings.aoColumns.length;bIncludeHidden===undefined&&(bIncludeHidden=!1);for(i=0,iLen=aoSource.length;iLen>i;i++){aoLocal[i]=aoSource[i].slice();aoLocal[i].nTr=aoSource[i].nTr;
for(j=iColumns-1;j>=0;j--)oSettings.aoColumns[j].bVisible||bIncludeHidden||aoLocal[i].splice(j,1);aApplied.push([])}for(i=0,iLen=aoLocal.length;iLen>i;i++){nLocalTr=aoLocal[i].nTr;if(nLocalTr)for(;n=nLocalTr.firstChild;)nLocalTr.removeChild(n);for(j=0,jLen=aoLocal[i].length;jLen>j;j++){iRowspan=1;iColspan=1;if(aApplied[i][j]===undefined){nLocalTr.appendChild(aoLocal[i][j].cell);aApplied[i][j]=1;for(;aoLocal[i+iRowspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i+iRowspan][j].cell;){aApplied[i+iRowspan][j]=1;iRowspan++}for(;aoLocal[i][j+iColspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i][j+iColspan].cell;){for(k=0;iRowspan>k;k++)aApplied[i+k][j+iColspan]=1;iColspan++}aoLocal[i][j].cell.rowSpan=iRowspan;aoLocal[i][j].cell.colSpan=iColspan}}}}function _fnDraw(oSettings){var i,iLen,n,anRows,iRowCount,iStripes,iOpenRows,iStart,iEnd,j,aoData,nRow,sStripe,k,oLang,sZero,nTd,nAddFrag,nRemoveFrag,nBodyPar,aPreDraw=_fnCallbackFire(oSettings,"aoPreDrawCallback","preDraw",[oSettings]);if(-1!==$.inArray(!1,aPreDraw)){_fnProcessingDisplay(oSettings,!1);return}anRows=[];iRowCount=0;iStripes=oSettings.asStripeClasses.length;iOpenRows=oSettings.aoOpenRows.length;oSettings.bDrawing=!0;if(oSettings.iInitDisplayStart!==undefined&&-1!=oSettings.iInitDisplayStart){oSettings.oFeatures.bServerSide?oSettings._iDisplayStart=oSettings.iInitDisplayStart:oSettings._iDisplayStart=oSettings.iInitDisplayStart>=oSettings.fnRecordsDisplay()?0:oSettings.iInitDisplayStart;oSettings.iInitDisplayStart=-1;_fnCalculateEnd(oSettings)}if(oSettings.bDeferLoading){oSettings.bDeferLoading=!1;oSettings.iDraw++}else if(oSettings.oFeatures.bServerSide){if(!oSettings.bDestroying&&!_fnAjaxUpdate(oSettings))return}else oSettings.iDraw++;if(0!==oSettings.aiDisplay.length){iStart=oSettings._iDisplayStart;iEnd=oSettings._iDisplayEnd;if(oSettings.oFeatures.bServerSide){iStart=0;iEnd=oSettings.aoData.length}for(j=iStart;iEnd>j;j++){aoData=oSettings.aoData[oSettings.aiDisplay[j]];null===aoData.nTr&&_fnCreateTr(oSettings,oSettings.aiDisplay[j]);nRow=aoData.nTr;if(0!==iStripes){sStripe=oSettings.asStripeClasses[iRowCount%iStripes];if(aoData._sRowStripe!=sStripe){$(nRow).removeClass(aoData._sRowStripe).addClass(sStripe);aoData._sRowStripe=sStripe}}_fnCallbackFire(oSettings,"aoRowCallback",null,[nRow,oSettings.aoData[oSettings.aiDisplay[j]]._aData,iRowCount,j]);anRows.push(nRow);iRowCount++;if(0!==iOpenRows)for(k=0;iOpenRows>k;k++)if(nRow==oSettings.aoOpenRows[k].nParent){anRows.push(oSettings.aoOpenRows[k].nTr);break}}}else{anRows[0]=document.createElement("tr");oSettings.asStripeClasses[0]&&(anRows[0].className=oSettings.asStripeClasses[0]);oLang=oSettings.oLanguage;sZero=oLang.sZeroRecords;1!=oSettings.iDraw||null===oSettings.sAjaxSource||oSettings.oFeatures.bServerSide?oLang.sEmptyTable&&0===oSettings.fnRecordsTotal()&&(sZero=oLang.sEmptyTable):sZero=oLang.sLoadingRecords;nTd=document.createElement("td");nTd.setAttribute("valign","top");nTd.colSpan=_fnVisbleColumns(oSettings);nTd.className=oSettings.oClasses.sRowEmpty;nTd.innerHTML=_fnInfoMacros(oSettings,sZero);anRows[iRowCount].appendChild(nTd)}_fnCallbackFire(oSettings,"aoHeaderCallback","header",[$(oSettings.nTHead).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay]);_fnCallbackFire(oSettings,"aoFooterCallback","footer",[$(oSettings.nTFoot).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay]);nAddFrag=document.createDocumentFragment(),nRemoveFrag=document.createDocumentFragment();if(oSettings.nTBody){nBodyPar=oSettings.nTBody.parentNode;nRemoveFrag.appendChild(oSettings.nTBody);if(!oSettings.oScroll.bInfinite||!oSettings._bInitComplete||oSettings.bSorted||oSettings.bFiltered)for(;n=oSettings.nTBody.firstChild;)oSettings.nTBody.removeChild(n);for(i=0,iLen=anRows.length;iLen>i;i++)nAddFrag.appendChild(anRows[i]);oSettings.nTBody.appendChild(nAddFrag);null!==nBodyPar&&nBodyPar.appendChild(oSettings.nTBody)}_fnCallbackFire(oSettings,"aoDrawCallback","draw",[oSettings]);oSettings.bSorted=!1;oSettings.bFiltered=!1;oSettings.bDrawing=!1;if(oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,!1);oSettings._bInitComplete||_fnInitComplete(oSettings)}}function _fnReDraw(oSettings){if(oSettings.oFeatures.bSort)_fnSort(oSettings,oSettings.oPreviousSearch);else if(oSettings.oFeatures.bFilter)_fnFilterComplete(oSettings,oSettings.oPreviousSearch);else{_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}function _fnAddOptionsHtml(oSettings){var nInsertNode,aDom,nTmp,iPushFeature,cOption,nNewNode,cNext,sAttr,j,i,aSplit,aoFeatures,k,kLen,nHolding=$("<div></div>")[0];oSettings.nTable.parentNode.insertBefore(nHolding,oSettings.nTable);oSettings.nTableWrapper=$('<div id="'+oSettings.sTableId+'_wrapper" class="'+oSettings.oClasses.sWrapper+'" role="grid"></div>')[0];oSettings.nTableReinsertBefore=oSettings.nTable.nextSibling;nInsertNode=oSettings.nTableWrapper;aDom=oSettings.sDom.split("");for(i=0;i<aDom.length;i++){iPushFeature=0;cOption=aDom[i];if("<"==cOption){nNewNode=$("<div></div>")[0];cNext=aDom[i+1];if("'"==cNext||'"'==cNext){sAttr="";j=2;for(;aDom[i+j]!=cNext;){sAttr+=aDom[i+j];j++}"H"==sAttr?sAttr=oSettings.oClasses.sJUIHeader:"F"==sAttr&&(sAttr=oSettings.oClasses.sJUIFooter);if(-1!=sAttr.indexOf(".")){aSplit=sAttr.split(".");nNewNode.id=aSplit[0].substr(1,aSplit[0].length-1);nNewNode.className=aSplit[1]}else"#"==sAttr.charAt(0)?nNewNode.id=sAttr.substr(1,sAttr.length-1):nNewNode.className=sAttr;i+=j}nInsertNode.appendChild(nNewNode);nInsertNode=nNewNode}else if(">"==cOption)nInsertNode=nInsertNode.parentNode;else if("l"==cOption&&oSettings.oFeatures.bPaginate&&oSettings.oFeatures.bLengthChange){nTmp=_fnFeatureHtmlLength(oSettings);iPushFeature=1}else if("f"==cOption&&oSettings.oFeatures.bFilter){nTmp=_fnFeatureHtmlFilter(oSettings);iPushFeature=1}else if("r"==cOption&&oSettings.oFeatures.bProcessing){nTmp=_fnFeatureHtmlProcessing(oSettings);iPushFeature=1}else if("t"==cOption){nTmp=_fnFeatureHtmlTable(oSettings);iPushFeature=1}else if("i"==cOption&&oSettings.oFeatures.bInfo){nTmp=_fnFeatureHtmlInfo(oSettings);iPushFeature=1}else if("p"==cOption&&oSettings.oFeatures.bPaginate){nTmp=_fnFeatureHtmlPaginate(oSettings);iPushFeature=1}else if(0!==DataTable.ext.aoFeatures.length){aoFeatures=DataTable.ext.aoFeatures;for(k=0,kLen=aoFeatures.length;kLen>k;k++)if(cOption==aoFeatures[k].cFeature){nTmp=aoFeatures[k].fnInit(oSettings);nTmp&&(iPushFeature=1);break}}if(1==iPushFeature&&null!==nTmp){"object"!=typeof oSettings.aanFeatures[cOption]&&(oSettings.aanFeatures[cOption]=[]);oSettings.aanFeatures[cOption].push(nTmp);nInsertNode.appendChild(nTmp)}}nHolding.parentNode.replaceChild(oSettings.nTableWrapper,nHolding)}function _fnDetectHeader(aLayout,nThead){var nTr,nCell,i,k,l,iLen,iColShifted,iColumn,iColspan,iRowspan,bUnique,nTrs=$(nThead).children("tr"),fnShiftCol=function(a,i,j){var k=a[i];for(;k[j];)j++;return j};aLayout.splice(0,aLayout.length);for(i=0,iLen=nTrs.length;iLen>i;i++)aLayout.push([]);for(i=0,iLen=nTrs.length;iLen>i;i++){nTr=nTrs[i];iColumn=0;nCell=nTr.firstChild;for(;nCell;){if("TD"==nCell.nodeName.toUpperCase()||"TH"==nCell.nodeName.toUpperCase()){iColspan=1*nCell.getAttribute("colspan");iRowspan=1*nCell.getAttribute("rowspan");iColspan=iColspan&&0!==iColspan&&1!==iColspan?iColspan:1;iRowspan=iRowspan&&0!==iRowspan&&1!==iRowspan?iRowspan:1;iColShifted=fnShiftCol(aLayout,i,iColumn);bUnique=1===iColspan?!0:!1;for(l=0;iColspan>l;l++)for(k=0;iRowspan>k;k++){aLayout[i+k][iColShifted+l]={"cell":nCell,"unique":bUnique};aLayout[i+k].nTr=nTr}}nCell=nCell.nextSibling}}}function _fnGetUniqueThs(oSettings,nHeader,aLayout){var i,iLen,j,jLen,aReturn=[];if(!aLayout){aLayout=oSettings.aoHeader;if(nHeader){aLayout=[];_fnDetectHeader(aLayout,nHeader)}}for(i=0,iLen=aLayout.length;iLen>i;i++)for(j=0,jLen=aLayout[i].length;jLen>j;j++)!aLayout[i][j].unique||aReturn[j]&&oSettings.bSortCellsTop||(aReturn[j]=aLayout[i][j].cell);return aReturn}function _fnAjaxUpdate(oSettings){var iColumns,aoData;if(oSettings.bAjaxDataGet){oSettings.iDraw++;_fnProcessingDisplay(oSettings,!0);iColumns=oSettings.aoColumns.length;aoData=_fnAjaxParameters(oSettings);_fnServerParams(oSettings,aoData);oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){_fnAjaxUpdateDraw(oSettings,json)},oSettings);return!1}return!0}function _fnAjaxParameters(oSettings){var mDataProp,aaSort,aDataSort,i,j,iCounter,iColumns=oSettings.aoColumns.length,aoData=[];aoData.push({"name":"sEcho","value":oSettings.iDraw});aoData.push({"name":"iColumns","value":iColumns});aoData.push({"name":"sColumns","value":_fnColumnOrdering(oSettings)});aoData.push({"name":"iDisplayStart","value":oSettings._iDisplayStart});aoData.push({"name":"iDisplayLength","value":oSettings.oFeatures.bPaginate!==!1?oSettings._iDisplayLength:-1});for(i=0;iColumns>i;i++){mDataProp=oSettings.aoColumns[i].mData;aoData.push({"name":"mDataProp_"+i,"value":"function"==typeof mDataProp?"function":mDataProp})}if(oSettings.oFeatures.bFilter!==!1){aoData.push({"name":"sSearch","value":oSettings.oPreviousSearch.sSearch});aoData.push({"name":"bRegex","value":oSettings.oPreviousSearch.bRegex});for(i=0;iColumns>i;i++){aoData.push({"name":"sSearch_"+i,"value":oSettings.aoPreSearchCols[i].sSearch});aoData.push({"name":"bRegex_"+i,"value":oSettings.aoPreSearchCols[i].bRegex});aoData.push({"name":"bSearchable_"+i,"value":oSettings.aoColumns[i].bSearchable})}}if(oSettings.oFeatures.bSort!==!1){iCounter=0;aaSort=null!==oSettings.aaSortingFixed?oSettings.aaSortingFixed.concat(oSettings.aaSorting):oSettings.aaSorting.slice();for(i=0;i<aaSort.length;i++){aDataSort=oSettings.aoColumns[aaSort[i][0]].aDataSort;for(j=0;j<aDataSort.length;j++){aoData.push({"name":"iSortCol_"+iCounter,"value":aDataSort[j]});aoData.push({"name":"sSortDir_"+iCounter,"value":aaSort[i][1]});iCounter++}}aoData.push({"name":"iSortingCols","value":iCounter});for(i=0;iColumns>i;i++)aoData.push({"name":"bSortable_"+i,"value":oSettings.aoColumns[i].bSortable})}return aoData}function _fnServerParams(oSettings,aoData){_fnCallbackFire(oSettings,"aoServerParams","serverParams",[aoData])}function _fnAjaxUpdateDraw(oSettings,json){var sOrdering,bReOrder,aiIndex,aData,i,iLen,aDataSorted,j,jLen;if(json.sEcho!==undefined){if(1*json.sEcho<oSettings.iDraw)return;oSettings.iDraw=1*json.sEcho}(!oSettings.oScroll.bInfinite||oSettings.oScroll.bInfinite&&(oSettings.bSorted||oSettings.bFiltered))&&_fnClearTable(oSettings);oSettings._iRecordsTotal=parseInt(json.iTotalRecords,10);oSettings._iRecordsDisplay=parseInt(json.iTotalDisplayRecords,10);sOrdering=_fnColumnOrdering(oSettings);bReOrder=json.sColumns!==undefined&&""!==sOrdering&&json.sColumns!=sOrdering;bReOrder&&(aiIndex=_fnReOrderIndex(oSettings,json.sColumns));aData=_fnGetObjectDataFn(oSettings.sAjaxDataProp)(json);for(i=0,iLen=aData.length;iLen>i;i++)if(bReOrder){aDataSorted=[];for(j=0,jLen=oSettings.aoColumns.length;jLen>j;j++)aDataSorted.push(aData[i][aiIndex[j]]);_fnAddData(oSettings,aDataSorted)}else _fnAddData(oSettings,aData[i]);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bAjaxDataGet=!1;_fnDraw(oSettings);oSettings.bAjaxDataGet=!0;_fnProcessingDisplay(oSettings,!1)}function _fnFeatureHtmlFilter(oSettings){var nFilter,searchboxInstance,$searchbox,jqFilter,searchTableData,oPreviousSearch=oSettings.oPreviousSearch,sSearchStr=oSettings.oLanguage.sSearch,verticalAlignWrapper='<span style="display:inline-block;vertical-align:middle;">';sSearchStr=-1!==sSearchStr.indexOf("_INPUT_")?sSearchStr.replace("_INPUT_",'<input type="text" />'):""===sSearchStr?'<input type="text" />':verticalAlignWrapper+sSearchStr+'&nbsp;</span> <input type="text" />';nFilter=document.createElement("div");nFilter.className=oSettings.oClasses.sFilter;nFilter.innerHTML=sSearchStr;oSettings.aanFeatures.f||(nFilter.id=oSettings.sTableId+"_filter");searchboxInstance=DataTable.ext.fnGenerateSearchbox(oSettings);$searchbox=$(verticalAlignWrapper).append(searchboxInstance.getDom());$searchbox.css("cursor","text");$searchbox.find(".tiny-searchBox-searchIcon").css("cursor","text");$(nFilter).find("input").replaceWith($searchbox);jqFilter=$('input[type="text"]',nFilter);nFilter._DT_Input=jqFilter[0];jqFilter.val(oPreviousSearch.sSearch.replace('"',"&quot;"));searchTableData=function(){var i,iLen,n=oSettings.aanFeatures.f,val=""===this.value?"":this.value;for(i=0,iLen=n.length;iLen>i;i++)n[i]!=$(this).parents("div.dataTables_filter")[0]&&$(n[i]._DT_Input).val(val);if(val!=oPreviousSearch.sSearch){oSettings.filterChangeRedrow=!0;_fnFilterComplete(oSettings,{"sSearch":val,"bRegex":oPreviousSearch.bRegex,"bSmart":oPreviousSearch.bSmart,"bCaseInsensitive":oPreviousSearch.bCaseInsensitive})}};searchboxInstance.options.clearCallback=function(){searchTableData.apply(searchboxInstance.getDom().find('input[type="text"]')[0])};jqFilter.bind("input.DT",function(e){searchTableData.apply(this)});if("Microsoft Internet Explorer"==navigator.appName&&"9."==navigator.appVersion.match(/9./)){jqFilter.bind("keyup.DT",function(e){(8==event.keyCode||46==event.keyCode)&&searchTableData.apply(this)});jqFilter.bind("cut.DT",function(e){var that=this;setTimeout(function(){searchTableData.apply(that)},0)})}jqFilter.attr("aria-controls",oSettings.sTableId).bind("keypress.DT",function(e){if(13==e.keyCode)return!1});return nFilter}function _fnFilterComplete(oSettings,oInput,iForce){var i,curPage,displayLength,totalPage,oPrevSearch=oSettings.oPreviousSearch,aoPrevSearch=oSettings.aoPreSearchCols,fnSaveFilter=function(oFilter){oPrevSearch.sSearch=oFilter.sSearch;oPrevSearch.bRegex=oFilter.bRegex;oPrevSearch.bSmart=oFilter.bSmart;oPrevSearch.bCaseInsensitive=oFilter.bCaseInsensitive};if(oSettings.oFeatures.bServerSide)fnSaveFilter(oInput);else{_fnFilter(oSettings,oInput.sSearch,iForce,oInput.bRegex,oInput.bSmart,oInput.bCaseInsensitive);fnSaveFilter(oInput);for(i=0;i<oSettings.aoPreSearchCols.length;i++)_fnFilterColumn(oSettings,aoPrevSearch[i].sSearch,i,aoPrevSearch[i].bRegex,aoPrevSearch[i].bSmart,aoPrevSearch[i].bCaseInsensitive);_fnFilterCustom(oSettings)}oSettings.bFiltered=!0;$(oSettings.oInstance).trigger("filter",oSettings);if(oSettings.oFeatures.bPaginate)if(oSettings.filterChangeRedrow){oSettings._iDisplayStart=0;curPage=1;oSettings.filterChangeRedrow=!1}else{curPage=oSettings.pag.option("cur-page").pageIndex;displayLength=0===oSettings._iDisplayLength?10:oSettings._iDisplayLength;totalPage=Math.ceil(oSettings.aiDisplay.length/displayLength);curPage=curPage>totalPage?totalPage:curPage;oSettings._iDisplayStart=(curPage-1)*displayLength}else oSettings._iDisplayStart=0;_fnCalculateEnd(oSettings);_fnDraw(oSettings);if(oSettings.oFeatures.bPaginate){oSettings.pag.option("total-records",oSettings.aiDisplay.length);oSettings.pag.option("cur-page",{"pageIndex":curPage})}_fnBuildSearchArray(oSettings,0)}function _fnFilterCustom(oSettings){var i,iLen,iCorrector,j,jLen,iDisIndex,bTest,afnFilters=DataTable.ext.afnFiltering,aiFilterColumns=_fnGetColumns(oSettings,"bSearchable");for(i=0,iLen=afnFilters.length;iLen>i;i++){iCorrector=0;for(j=0,jLen=oSettings.aiDisplay.length;jLen>j;j++){iDisIndex=oSettings.aiDisplay[j-iCorrector];bTest=afnFilters[i](oSettings,_fnGetRowData(oSettings,iDisIndex,"filter",aiFilterColumns),iDisIndex);if(!bTest){oSettings.aiDisplay.splice(j-iCorrector,1);iCorrector++}}}}function _fnFilterColumn(oSettings,sInput,iColumn,bRegex,bSmart,bCaseInsensitive){var iIndexCorrector,rpSearch,i,sData;if(""===sInput)return;iIndexCorrector=0;rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart,bCaseInsensitive);for(i=oSettings.aiDisplay.length-1;i>=0;i--){sData=_fnDataToSearch(_fnGetCellData(oSettings,oSettings.aiDisplay[i],iColumn,"filter"),oSettings.aoColumns[iColumn].sType);if(!rpSearch.test(sData)){oSettings.aiDisplay.splice(i,1);iIndexCorrector++}}}function _fnFilter(oSettings,sInput,iForce,bRegex,bSmart,bCaseInsensitive){var i,iIndexCorrector,rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart,bCaseInsensitive),oPrevSearch=oSettings.oPreviousSearch;iForce||(iForce=0);0!==DataTable.ext.afnFiltering.length&&(iForce=1);if(sInput.length<=0){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice()}else if(oSettings.aiDisplay.length==oSettings.aiDisplayMaster.length||oPrevSearch.sSearch.length>sInput.length||1==iForce||0!==sInput.indexOf(oPrevSearch.sSearch)){oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length);_fnBuildSearchArray(oSettings,1);for(i=0;i<oSettings.aiDisplayMaster.length;i++)rpSearch.test(oSettings.asDataSearch[i])&&oSettings.aiDisplay.push(oSettings.aiDisplayMaster[i])}else{iIndexCorrector=0;for(i=0;i<oSettings.asDataSearch.length;i++)if(!rpSearch.test(oSettings.asDataSearch[i])){oSettings.aiDisplay.splice(i-iIndexCorrector,1);iIndexCorrector++}}}function _fnBuildSearchArray(oSettings,iMaster){var aiFilterColumns,aiIndex,i,iLen;if(!oSettings.oFeatures.bServerSide){oSettings.asDataSearch=[];aiFilterColumns=_fnGetColumns(oSettings,"bSearchable");aiIndex=1===iMaster?oSettings.aiDisplayMaster:oSettings.aiDisplay;for(i=0,iLen=aiIndex.length;iLen>i;i++)oSettings.asDataSearch[i]=_fnBuildSearchRow(oSettings,_fnGetRowData(oSettings,aiIndex[i],"filter",aiFilterColumns))}}function _fnBuildSearchRow(oSettings,aData){var sSearch=aData.join("  ");-1!==sSearch.indexOf("&")&&(sSearch=$("<div>").html(sSearch).text());return sSearch.replace(/[\n\r]/g," ")}function _fnFilterCreateSearch(sSearch,bRegex,bSmart,bCaseInsensitive){var asSearch,sRegExpString;if(bSmart){asSearch=bRegex?sSearch.split(" "):_fnEscapeRegex(sSearch).split(" ");sRegExpString="^(?=.*?"+asSearch.join(")(?=.*?")+").*$";return new RegExp(sRegExpString,bCaseInsensitive?"i":"")}sSearch=bRegex?sSearch:_fnEscapeRegex(sSearch);return new RegExp(sSearch,bCaseInsensitive?"i":"")}function _fnDataToSearch(sData,sType){if("function"==typeof DataTable.ext.ofnSearch[sType])return DataTable.ext.ofnSearch[sType](sData);if(null===sData)return"";if("html"==sType)return sData.replace(/[\r\n]/g," ").replace(/<.*?>/g,"");if("string"==typeof sData)return sData.replace(/[\r\n]/g," ");return sData}function _fnEscapeRegex(sVal){var acEscape=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"],reReplace=new RegExp("(\\"+acEscape.join("|\\")+")","g");return sVal.replace(reReplace,"\\$1")}function _fnFeatureHtmlInfo(oSettings){var nInfo=document.createElement("div");nInfo.className=oSettings.oClasses.sInfo;if(!oSettings.aanFeatures.i){oSettings.aoDrawCallback.push({"fn":_fnUpdateInfo,"sName":"information"});nInfo.id=oSettings.sTableId+"_info"}oSettings.nTable.setAttribute("aria-describedby",oSettings.sTableId+"_info");return nInfo}function _fnUpdateInfo(oSettings){var oLang,iStart,iEnd,iMax,iTotal,sOut,n,i,iLen;if(!oSettings.oFeatures.bInfo||0===oSettings.aanFeatures.i.length)return;oLang=oSettings.oLanguage,iStart=oSettings._iDisplayStart+1,iEnd=oSettings.fnDisplayEnd(),iMax=oSettings.fnRecordsTotal(),iTotal=oSettings.fnRecordsDisplay();sOut=0===iTotal?oLang.sInfoEmpty:oLang.sInfo;iTotal!=iMax&&(sOut+=" "+oLang.sInfoFiltered);sOut+=oLang.sInfoPostFix;sOut=_fnInfoMacros(oSettings,sOut);null!==oLang.fnInfoCallback&&(sOut=oLang.fnInfoCallback.call(oSettings.oInstance,oSettings,iStart,iEnd,iMax,iTotal,sOut));n=oSettings.aanFeatures.i;for(i=0,iLen=n.length;iLen>i;i++)$(n[i]).html(sOut)}function _fnInfoMacros(oSettings,str){var iStart=oSettings._iDisplayStart+1,sStart=oSettings.fnFormatNumber(iStart),iEnd=oSettings.fnDisplayEnd(),sEnd=oSettings.fnFormatNumber(iEnd),iTotal=oSettings.fnRecordsDisplay(),sTotal=oSettings.fnFormatNumber(iTotal),iMax=oSettings.fnRecordsTotal(),sMax=oSettings.fnFormatNumber(iMax);oSettings.oScroll.bInfinite&&(sStart=oSettings.fnFormatNumber(1));return str.replace(/_START_/g,sStart).replace(/_END_/g,sEnd).replace(/_TOTAL_/g,sTotal).replace(/_MAX_/g,sMax)}function _fnInitialise(oSettings){var i,iLen,aoData,iAjaxStart=oSettings.iInitDisplayStart;if(oSettings.bInitialised===!1){setTimeout(function(){_fnInitialise(oSettings)},200);return}_fnAddOptionsHtml(oSettings);_fnBuildHead(oSettings);_fnDrawHead(oSettings,oSettings.aoHeader);oSettings.nTFoot&&_fnDrawHead(oSettings,oSettings.aoFooter);_fnProcessingDisplay(oSettings,!0);oSettings.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(oSettings);for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)null!==oSettings.aoColumns[i].sWidth&&(oSettings.aoColumns[i].nTh.style.width=_fnStringToCss(oSettings.aoColumns[i].sWidth));if(oSettings.oFeatures.bSort)_fnSort(oSettings);else if(oSettings.oFeatures.bFilter)_fnFilterComplete(oSettings,oSettings.oPreviousSearch);else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}if(null!==oSettings.sAjaxSource&&!oSettings.oFeatures.bServerSide){aoData=[];_fnServerParams(oSettings,aoData);oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){var aData=""!==oSettings.sAjaxDataProp?_fnGetObjectDataFn(oSettings.sAjaxDataProp)(json):json;for(i=0;i<aData.length;i++)_fnAddData(oSettings,aData[i]);oSettings.iInitDisplayStart=iAjaxStart;if(oSettings.oFeatures.bSort)_fnSort(oSettings);else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();_fnCalculateEnd(oSettings);_fnDraw(oSettings)}_fnProcessingDisplay(oSettings,!1);_fnInitComplete(oSettings,json)},oSettings);return}if(!oSettings.oFeatures.bServerSide){_fnProcessingDisplay(oSettings,!1);_fnInitComplete(oSettings)}}function _fnInitComplete(oSettings,json){oSettings._bInitComplete=!0;_fnCallbackFire(oSettings,"aoInitComplete","init",[oSettings,json])}function _fnLanguageCompat(oLanguage){var oDefaults=DataTable.defaults.oLanguage;!oLanguage.sEmptyTable&&oLanguage.sZeroRecords&&"No data available in table"===oDefaults.sEmptyTable&&_fnMap(oLanguage,oLanguage,"sZeroRecords","sEmptyTable");!oLanguage.sLoadingRecords&&oLanguage.sZeroRecords&&"Loading..."===oDefaults.sLoadingRecords&&_fnMap(oLanguage,oLanguage,"sZeroRecords","sLoadingRecords")}function _fnFeatureHtmlLength(oSettings){var sName,sStdMenu,i,iLen,aLengthMenu,nLength;if(oSettings.oScroll.bInfinite)return null;sName='name="'+oSettings.sTableId+'_length"';sStdMenu='<select size="1" '+sName+">";aLengthMenu=oSettings.aLengthMenu;if(2==aLengthMenu.length&&"object"==typeof aLengthMenu[0]&&"object"==typeof aLengthMenu[1])for(i=0,iLen=aLengthMenu[0].length;iLen>i;i++)sStdMenu+='<option value="'+aLengthMenu[0][i]+'">'+aLengthMenu[1][i]+"</option>";else for(i=0,iLen=aLengthMenu.length;iLen>i;i++)sStdMenu+='<option value="'+aLengthMenu[i]+'">'+aLengthMenu[i]+"</option>";sStdMenu+="</select>";nLength=document.createElement("div");oSettings.aanFeatures.l||(nLength.id=oSettings.sTableId+"_length");nLength.className=oSettings.oClasses.sLength;nLength.innerHTML="<label>"+oSettings.oLanguage.sLengthMenu.replace("_MENU_",sStdMenu)+"</label>";$('select option[value="'+oSettings._iDisplayLength+'"]',nLength).attr("selected",!0);$("select",nLength).bind("change.DT",function(e){var iVal=$(this).val(),n=oSettings.aanFeatures.l;for(i=0,iLen=n.length;iLen>i;i++)n[i]!=this.parentNode&&$("select",n[i]).val(iVal);oSettings._iDisplayLength=parseInt(iVal,10);_fnCalculateEnd(oSettings);if(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()){oSettings._iDisplayStart=oSettings.fnDisplayEnd()-oSettings._iDisplayLength;oSettings._iDisplayStart<0&&(oSettings._iDisplayStart=0)}-1==oSettings._iDisplayLength&&(oSettings._iDisplayStart=0);_fnDraw(oSettings)});$("select",nLength).attr("aria-controls",oSettings.sTableId);return nLength}function _fnCalculateEnd(oSettings){oSettings.oFeatures.bPaginate===!1?oSettings._iDisplayEnd=oSettings.aiDisplay.length:oSettings._iDisplayStart+oSettings._iDisplayLength>oSettings.aiDisplay.length||-1==oSettings._iDisplayLength?oSettings._iDisplayEnd=oSettings.aiDisplay.length:oSettings._iDisplayEnd=oSettings._iDisplayStart+oSettings._iDisplayLength}function _fnFeatureHtmlPaginate(oSettings){if(oSettings.oScroll.bInfinite)return null;var nPaginate=document.createElement("div");nPaginate.className=oSettings.oClasses.sPaging+oSettings.sPaginationType;DataTable.ext.oPagination[oSettings.sPaginationType].fnInit(oSettings,nPaginate,function(oSettings){_fnCalculateEnd(oSettings)});oSettings.aanFeatures.p||oSettings.aoDrawCallback.push({"fn":function(oSettings){DataTable.ext.oPagination[oSettings.sPaginationType].fnUpdate(oSettings,function(oSettings){_fnCalculateEnd(oSettings);_fnDraw(oSettings)})},"sName":"pagination"});return nPaginate}function _fnPageChange(oSettings,mAction){var iPages,iOldStart=oSettings._iDisplayStart;if("number"==typeof mAction){oSettings._iDisplayStart=mAction*oSettings._iDisplayLength;oSettings._iDisplayStart>=oSettings.fnRecordsDisplay()&&(oSettings._iDisplayStart=0)}else if("first"==mAction)oSettings._iDisplayStart=0;else if("previous"==mAction){oSettings._iDisplayStart=oSettings._iDisplayLength>=0?oSettings._iDisplayStart-oSettings._iDisplayLength:0;oSettings._iDisplayStart<0&&(oSettings._iDisplayStart=0)}else if("next"==mAction)oSettings._iDisplayLength>=0?oSettings._iDisplayStart+oSettings._iDisplayLength<oSettings.fnRecordsDisplay()&&(oSettings._iDisplayStart+=oSettings._iDisplayLength):oSettings._iDisplayStart=0;else if("last"==mAction)if(oSettings._iDisplayLength>=0){iPages=parseInt((oSettings.fnRecordsDisplay()-1)/oSettings._iDisplayLength,10)+1;oSettings._iDisplayStart=(iPages-1)*oSettings._iDisplayLength}else oSettings._iDisplayStart=0;else _fnLog(oSettings,0,"Unknown paging action: "+mAction);$(oSettings.oInstance).trigger("page",oSettings);return iOldStart!=oSettings._iDisplayStart}function _fnFeatureHtmlProcessing(oSettings){var nProcessing=document.createElement("div");oSettings.aanFeatures.r||(nProcessing.id=oSettings.sTableId+"_processing");nProcessing.innerHTML=oSettings.oLanguage.sProcessing;nProcessing.className=oSettings.oClasses.sProcessing;oSettings.nTable.parentNode.insertBefore(nProcessing,oSettings.nTable);return nProcessing}function _fnProcessingDisplay(oSettings,bShow){var an,i,iLen;if(oSettings.oFeatures.bProcessing){an=oSettings.aanFeatures.r;for(i=0,iLen=an.length;iLen>i;i++)an[i].style.visibility=bShow?"visible":"hidden"}$(oSettings.oInstance).trigger("processing",[oSettings,bShow])}function _fnFeatureHtmlTable(oSettings){var nScroller,nScrollHead,nScrollHeadInner,nScrollBody,nScrollFoot,nScrollFootInner,nScrollHeadTable,nScrollFootTable,nThead,nTfoot,oClasses,nCaption;if(""===oSettings.oScroll.sX&&""===oSettings.oScroll.sY)return oSettings.nTable;nScroller=document.createElement("div"),nScrollHead=document.createElement("div"),nScrollHeadInner=document.createElement("div"),nScrollBody=document.createElement("div"),nScrollFoot=document.createElement("div"),nScrollFootInner=document.createElement("div"),nScrollHeadTable=oSettings.nTable.cloneNode(!1),nScrollFootTable=oSettings.nTable.cloneNode(!1),nThead=oSettings.nTable.getElementsByTagName("thead")[0],nTfoot=0===oSettings.nTable.getElementsByTagName("tfoot").length?null:oSettings.nTable.getElementsByTagName("tfoot")[0],oClasses=oSettings.oClasses;nScrollHead.appendChild(nScrollHeadInner);nScrollFoot.appendChild(nScrollFootInner);nScrollBody.appendChild(oSettings.nTable);nScroller.appendChild(nScrollHead);nScroller.appendChild(nScrollBody);nScrollHeadInner.appendChild(nScrollHeadTable);nScrollHeadTable.appendChild(nThead);if(null!==nTfoot){nScroller.appendChild(nScrollFoot);nScrollFootInner.appendChild(nScrollFootTable);nScrollFootTable.appendChild(nTfoot)}nScroller.className=oClasses.sScrollWrapper;nScrollHead.className=oClasses.sScrollHead;nScrollHeadInner.className=oClasses.sScrollHeadInner;nScrollBody.className=oClasses.sScrollBody;nScrollFoot.className=oClasses.sScrollFoot;nScrollFootInner.className=oClasses.sScrollFootInner;if(oSettings.oScroll.bAutoCss){nScrollHead.style.overflow="hidden";nScrollHead.style.position="relative";nScrollFoot.style.overflow="hidden";nScrollBody.style.overflow="auto"}nScrollHead.style.border="0";nScrollHead.style.width="100%";nScrollFoot.style.border="0";nScrollHeadInner.style.width=""!==oSettings.oScroll.sXInner?oSettings.oScroll.sXInner:"100%";nScrollHeadTable.removeAttribute("id");nScrollHeadTable.style.marginLeft="0";oSettings.nTable.style.marginLeft="0";if(null!==nTfoot){nScrollFootTable.removeAttribute("id");nScrollFootTable.style.marginLeft="0"}nCaption=$(oSettings.nTable).children("caption");if(nCaption.length>0){nCaption=nCaption[0];"top"===nCaption._captionSide?nScrollHeadTable.appendChild(nCaption):"bottom"===nCaption._captionSide&&nTfoot&&nScrollFootTable.appendChild(nCaption)}if(""!==oSettings.oScroll.sX){nScrollHead.style.width=_fnStringToCss(oSettings.oScroll.sX);nScrollBody.style.width=_fnStringToCss(oSettings.oScroll.sX);null!==nTfoot&&(nScrollFoot.style.width=_fnStringToCss(oSettings.oScroll.sX));$(nScrollBody).scroll(function(e){nScrollHead.scrollLeft=this.scrollLeft;null!==nTfoot&&(nScrollFoot.scrollLeft=this.scrollLeft)})}""!==oSettings.oScroll.sY&&(nScrollBody.style.height=_fnStringToCss(oSettings.oScroll.sY));oSettings.aoDrawCallback.push({"fn":_fnScrollDraw,"sName":"scrolling"});oSettings.oScroll.bInfinite&&$(nScrollBody).scroll(function(){if(!oSettings.bDrawing&&0!==$(this).scrollTop()&&$(this).scrollTop()+$(this).height()>$(oSettings.nTable).height()-oSettings.oScroll.iLoadGap&&oSettings.fnDisplayEnd()<oSettings.fnRecordsDisplay()){_fnPageChange(oSettings,"next");_fnCalculateEnd(oSettings);_fnDraw(oSettings)}});oSettings.nScrollHead=nScrollHead;oSettings.nScrollFoot=nScrollFoot;return nScroller}function _fnScrollDraw(o){var i,iLen,anHeadToSize,anHeadSizers,anFootSizers,anFootToSize,oStyle,iVis,nTheadSize,nTfootSize,iSanityWidth,nThs,wrapperDom,$tempWrapperDom,tempWrapperWidth,tempHeadSizers,$wrapperDom,tHeadWidth,colTotalWidth,delta,lastIndex,lastThWidth,newWidth,iCorrection,iExtra,iOuterWidth,bScrolling,aoColumnsWidth,$aoColumnsDom,nScrollHeadInner=o.nScrollHead.getElementsByTagName("div")[0],nScrollHeadTable=nScrollHeadInner.getElementsByTagName("table")[0],nScrollBody=o.nTable.parentNode,nScrollBodyTable=nScrollBody.getElementsByTagName("table")[0],aApplied=[],aAppliedFooter=[],nScrollFootInner=null!==o.nTFoot?o.nScrollFoot.getElementsByTagName("div")[0]:null,nScrollFootTable=null!==o.nTFoot?nScrollFootInner.getElementsByTagName("table")[0]:null,ie67=o.oBrowser.bScrollOversize,zeroOut=function(nSizer){oStyle=nSizer.style;oStyle.paddingTop="0";oStyle.paddingBottom="0";oStyle.borderTopWidth="0";oStyle.borderBottomWidth="0";oStyle.height=0};nScrollHeadInner.style.width="inherit";nScrollHeadTable.style.width="inherit";nScrollBodyTable.style.width="inherit";$(o.nTable).children("thead, tfoot").remove();nTheadSize=$(o.nTHead).clone()[0];o.nTable.insertBefore(nTheadSize,o.nTable.childNodes[0]);anHeadToSize=o.nTHead.getElementsByTagName("tr");anHeadSizers=nTheadSize.getElementsByTagName("tr");if(null!==o.nTFoot){nTfootSize=$(o.nTFoot).clone()[0];o.nTable.insertBefore(nTfootSize,o.nTable.childNodes[1]);anFootToSize=o.nTFoot.getElementsByTagName("tr");anFootSizers=nTfootSize.getElementsByTagName("tr")}if(""===o.oScroll.sX){nScrollBody.style.width="100%";nScrollHeadInner.parentNode.style.width="100%"}if(o.clickColVis)for(i=0;i<o.aoColumns.length;i++)o.aoColumns[i].sWidth=oInit.initColumns[i].sWidth;nThs=_fnGetUniqueThs(o,nTheadSize);for(i=0,iLen=nThs.length;iLen>i;i++){iVis=_fnVisibleToColumnIndex(o,i);nThs[i].style.width=o.aoColumns[iVis].sWidth}null!==o.nTFoot&&_fnApplyToChildren(function(n){n.style.width=""},anFootSizers);o.oScroll.bCollapse&&""!==o.oScroll.sY&&(nScrollBody.style.height=nScrollBody.offsetHeight+o.nTHead.offsetHeight+"px");iSanityWidth=$(o.nTable).outerWidth();wrapperDom=o.nTableWrapper.parentNode&&o.nTableWrapper.parentNode.parentNode;$tempWrapperDom=null;tempWrapperWidth=0;tempHeadSizers=null;if(wrapperDom&&$(wrapperDom).is(":hidden")){$wrapperDom=$(wrapperDom);$tempWrapperDom=$wrapperDom.clone();$wrapperDom.after($tempWrapperDom);$tempWrapperDom.removeClass("ng-hide").show();if(!$tempWrapperDom.is(":hidden")){tempWrapperWidth=$tempWrapperDom.width();
iSanityWidth=tempWrapperWidth;tempHeadSizers=$tempWrapperDom.find(".dataTables_scrollBody>table.tinyTable>thead")[0].getElementsByTagName("tr")}}if("true"===String(oInit.isDraggedRemember)&&o.oInstance._oPluginColReorder&&oInit.draggedData[0].tableWidth>0&&!o.clickColVis)iSanityWidth=oInit.draggedData[0].tableWidth;else if(o.oInstance._oPluginColReorder&&o.oInstance._oPluginColReorder.table_size&&o.oInstance._oPluginColReorder.table_size>0&&!o.clickColVis)iSanityWidth=o.oInstance._oPluginColReorder.table_size;else if(o.clickColVis&&oInit.draggedData[0].initWidth>0){iSanityWidth=oInit.draggedData[0].initWidth;o.oInstance._oPluginColReorder.table_size=iSanityWidth;oInit.draggedData[0].tableWidth=iSanityWidth}if(""===o.oScroll.sX){o.nTable.style.width="100%";ie67&&($("tbody",nScrollBody).height()>nScrollBody.offsetHeight||"scroll"==$(nScrollBody).css("overflow-y"))&&(o.nTable.style.width=_fnStringToCss($(o.nTable).outerWidth()-o.oScroll.iBarWidth))}else if(""!==o.oScroll.sXInner)o.nTable.style.width=_fnStringToCss(o.oScroll.sXInner);else if(iSanityWidth==$(nScrollBody).width()&&$(nScrollBody).height()<$(o.nTable).height()){o.nTable.style.width=_fnStringToCss(iSanityWidth-o.oScroll.iBarWidth);$(o.nTable).outerWidth()>iSanityWidth-o.oScroll.iBarWidth&&(o.nTable.style.width=_fnStringToCss(iSanityWidth))}else o.nTable.style.width=_fnStringToCss(iSanityWidth);iSanityWidth=$(o.nTable).outerWidth();tempWrapperWidth>0&&(iSanityWidth=tempWrapperWidth);_fnApplyToChildren(zeroOut,anHeadSizers);_fnApplyToChildren(function(nSizer){aApplied.push(_fnStringToCss($(nSizer).width()))},anHeadSizers);tHeadWidth=$(anHeadSizers).outerWidth();colTotalWidth=0;_fnApplyToChildren(function(nSizer){colTotalWidth+=$(nSizer).outerWidth()},anHeadSizers);if(tempHeadSizers&&tempHeadSizers.length){aApplied=[];colTotalWidth=0;_fnApplyToChildren(function(nSizer){aApplied.push(_fnStringToCss($(nSizer).width()));colTotalWidth+=$(nSizer).outerWidth()},tempHeadSizers);tHeadWidth=$(tempHeadSizers).outerWidth()}delta=colTotalWidth-tHeadWidth;if(tHeadWidth>0&&delta>0){lastIndex=aApplied.length-1;lastThWidth=parseInt(aApplied[lastIndex],10);newWidth=lastThWidth-delta;newWidth>0&&(aApplied[lastIndex]=newWidth+"px")}_fnApplyToChildren(function(nToSize,i){nToSize.style.width=aApplied[i]},anHeadToSize);$(anHeadSizers).height(0);if(null!==o.nTFoot){_fnApplyToChildren(zeroOut,anFootSizers);_fnApplyToChildren(function(nSizer){aAppliedFooter.push(_fnStringToCss($(nSizer).width()))},anFootSizers);_fnApplyToChildren(function(nToSize,i){nToSize.style.width=aAppliedFooter[i]},anFootToSize);$(anFootSizers).height(0)}_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML="";nSizer.style.width=aApplied[i]},anHeadSizers);"true"===String(oInit.isDraggedRemember)&&(iSanityWidth=$(o.nTable).outerWidth());null!==o.nTFoot&&_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML="";nSizer.style.width=aAppliedFooter[i]},anFootSizers);if($(o.nTable).outerWidth()<iSanityWidth){iCorrection=nScrollBody.scrollHeight>nScrollBody.offsetHeight||"scroll"==$(nScrollBody).css("overflow-y")?iSanityWidth+o.oScroll.iBarWidth:iSanityWidth;ie67&&(nScrollBody.scrollHeight>nScrollBody.offsetHeight||"scroll"==$(nScrollBody).css("overflow-y"))&&(o.nTable.style.width=_fnStringToCss(iCorrection-o.oScroll.iBarWidth));nScrollBody.style.width=_fnStringToCss(iCorrection);o.nScrollHead.style.width=_fnStringToCss(iCorrection);null!==o.nTFoot&&(o.nScrollFoot.style.width=_fnStringToCss(iCorrection));""===o.oScroll.sX?_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==o.oScroll.sXInner&&_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else{nScrollBody.style.width=_fnStringToCss("100%");o.nScrollHead.style.width=_fnStringToCss("100%");null!==o.nTFoot&&(o.nScrollFoot.style.width=_fnStringToCss("100%"))}""===o.oScroll.sY&&ie67&&(nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+o.oScroll.iBarWidth));if(""!==o.oScroll.sY&&o.oScroll.bCollapse){nScrollBody.style.height=_fnStringToCss(o.oScroll.sY);iExtra=""!==o.oScroll.sX&&o.nTable.offsetWidth>nScrollBody.offsetWidth?o.oScroll.iBarWidth:0;o.nTable.offsetHeight<nScrollBody.offsetHeight&&(nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+iExtra))}iOuterWidth=$(o.nTable).outerWidth();nScrollHeadTable.style.width=_fnStringToCss(iOuterWidth);nScrollHeadInner.style.width=_fnStringToCss(iOuterWidth);bScrolling=$(o.nTable).height()>nScrollBody.clientHeight||"scroll"==$(nScrollBody).css("overflow-y");nScrollHeadInner.style.paddingRight=bScrolling?o.oScroll.iBarWidth+"px":"0px";if(null!==o.nTFoot){nScrollFootTable.style.width=_fnStringToCss(iOuterWidth);nScrollFootInner.style.width=_fnStringToCss(iOuterWidth);nScrollFootInner.style.paddingRight=bScrolling?o.oScroll.iBarWidth+"px":"0px"}$(nScrollBody).scroll();(o.bSorted||o.bFiltered)&&(nScrollBody.scrollTop=0);$tempWrapperDom&&$tempWrapperDom.remove();aoColumnsWidth=0;$aoColumnsDom=$($("div.dataTables_scrollHead",o.nTableWrapper)[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes);if("true"===String(oInit.isDraggedRemember)&&o.oInstance._oPluginColReorder&&!o.clickColVis)if(oInit.draggedData[0].isDraggedChange){for(i=0;i<$aoColumnsDom.length;i++){$($aoColumnsDom[i]).width(oInit.draggedColumns[i].sWidth);$(anHeadSizers[0].childNodes[i]).width(oInit.draggedColumns[i].sWidth)}nScrollBodyTable.style.width=oInit.draggedData[0].tableWidth+"px";nScrollHeadTable.style.width=oInit.draggedData[0].tableWidth+"px"}else for(i=0;i<$aoColumnsDom.length;i++){aoColumnsWidth=$($aoColumnsDom[i]).width();$($aoColumnsDom[i]).width(aoColumnsWidth+"px");oInit.draggedColumns[i].sWidth=aoColumnsWidth+"px"}if(!oInit.draggedData[0].isDraggedChange&&!o.clickColVis){if($aoColumnsDom.length===oInit.initColumns.length)for(i=0;i<$aoColumnsDom.length;i++){aoColumnsWidth=$($aoColumnsDom[i]).width();oInit.initColumns[i].sWidth=aoColumnsWidth+"px"}else{aoColumnsWidth=($(nScrollBodyTable).width()-11*oInit.initColumns.length)/(oInit.initColumns.length?oInit.initColumns.length:1);for(i=0;i<oInit.initColumns.length;i++)oInit.initColumns[i].sWidth=aoColumnsWidth+"px"}oInit.draggedData[0].initWidth=$(nScrollBodyTable).width()}}function _fnApplyToChildren(fn,an1,an2){var nNode1,nNode2,index=0,i=0,iLen=an1.length;for(;iLen>i;){nNode1=an1[i].firstChild;nNode2=an2?an2[i].firstChild:null;for(;nNode1;){if(1===nNode1.nodeType){an2?fn(nNode1,nNode2,index):fn(nNode1,index);index++}nNode1=nNode1.nextSibling;nNode2=an2?nNode2.nextSibling:null}i++}}function _fnConvertToWidth(sWidth,nParent){var iWidth,nTmp;if(!sWidth||null===sWidth||""===sWidth)return 0;nParent||(nParent=document.body);nTmp=document.createElement("div");nTmp.style.width=_fnStringToCss(sWidth);nParent.appendChild(nTmp);iWidth=nTmp.offsetWidth;nParent.removeChild(nTmp);return iWidth}function _fnCalculateColumnWidths(oSettings){var iTmpWidth,i,iCorrector,iWidth,nCalcTmp,nTheadClone,nBody,nTr,jqColSizing,nThs,oColumn,nTd,oNodes,iTotal,cssWidth,iUserInputs=(oSettings.nTable.offsetWidth,0),iVisibleColumns=0,iColums=oSettings.aoColumns.length,oHeaders=$("th",oSettings.nTHead),widthAttr=oSettings.nTable.getAttribute("width"),nWrapper=oSettings.nTable.parentNode;for(i=0;iColums>i;i++)if(oSettings.aoColumns[i].bVisible){iVisibleColumns++;if(null!==oSettings.aoColumns[i].sWidth){iTmpWidth=_fnConvertToWidth(oSettings.aoColumns[i].sWidthOrig,nWrapper);null!==iTmpWidth&&(oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth));iUserInputs++}}if(iColums==oHeaders.length&&0===iUserInputs&&iVisibleColumns==iColums&&""===oSettings.oScroll.sX&&""===oSettings.oScroll.sY)for(i=0;i<oSettings.aoColumns.length;i++){iTmpWidth=$(oHeaders[i]).width();null!==iTmpWidth&&(oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth))}else{nCalcTmp=oSettings.nTable.cloneNode(!1),nTheadClone=oSettings.nTHead.cloneNode(!0),nBody=document.createElement("tbody"),nTr=document.createElement("tr");nCalcTmp.removeAttribute("id");nCalcTmp.appendChild(nTheadClone);if(null!==oSettings.nTFoot){nCalcTmp.appendChild(oSettings.nTFoot.cloneNode(!0));_fnApplyToChildren(function(n){n.style.width=""},nCalcTmp.getElementsByTagName("tr"))}nCalcTmp.appendChild(nBody);nBody.appendChild(nTr);jqColSizing=$("thead th",nCalcTmp);0===jqColSizing.length&&(jqColSizing=$("tbody tr:eq(0)>td",nCalcTmp));nThs=_fnGetUniqueThs(oSettings,nTheadClone);iCorrector=0;for(i=0;iColums>i;i++){oColumn=oSettings.aoColumns[i];oColumn.bVisible&&null!==oColumn.sWidthOrig&&""!==oColumn.sWidthOrig?nThs[i-iCorrector].style.width=_fnStringToCss(oColumn.sWidthOrig):oColumn.bVisible?nThs[i-iCorrector].style.width="":iCorrector++}for(i=0;iColums>i;i++)if(oSettings.aoColumns[i].bVisible){nTd=_fnGetWidestNode(oSettings,i);if(null!==nTd){nTd=nTd.cloneNode(!0);""!==oSettings.aoColumns[i].sContentPadding&&(nTd.innerHTML+=oSettings.aoColumns[i].sContentPadding);nTr.appendChild(nTd)}}nWrapper.appendChild(nCalcTmp);if(""!==oSettings.oScroll.sX&&""!==oSettings.oScroll.sXInner)nCalcTmp.style.width=_fnStringToCss(oSettings.oScroll.sXInner);else if(""!==oSettings.oScroll.sX){nCalcTmp.style.width="";$(nCalcTmp).width()<nWrapper.offsetWidth&&(nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth))}else""!==oSettings.oScroll.sY?nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth):widthAttr&&(nCalcTmp.style.width=_fnStringToCss(widthAttr));nCalcTmp.style.visibility="hidden";_fnScrollingWidthAdjust(oSettings,nCalcTmp);oNodes=$("tbody tr:eq(0)",nCalcTmp).children();0===oNodes.length&&(oNodes=_fnGetUniqueThs(oSettings,$("thead",nCalcTmp)[0]));if(""!==oSettings.oScroll.sX){iTotal=0;iCorrector=0;for(i=0;i<oSettings.aoColumns.length;i++)if(oSettings.aoColumns[i].bVisible){iTotal+=null===oSettings.aoColumns[i].sWidthOrig?$(oNodes[iCorrector]).outerWidth():parseInt(oSettings.aoColumns[i].sWidth.replace("px",""),10)+($(oNodes[iCorrector]).outerWidth()-$(oNodes[iCorrector]).width());iCorrector++}nCalcTmp.style.width=_fnStringToCss(iTotal);oSettings.nTable.style.width=_fnStringToCss(iTotal)}iCorrector=0;for(i=0;i<oSettings.aoColumns.length;i++)if(oSettings.aoColumns[i].bVisible){iWidth=$(oNodes[iCorrector]).width();null!==iWidth&&iWidth>0&&(oSettings.aoColumns[i].sWidth=_fnStringToCss(iWidth));iCorrector++}cssWidth=$(nCalcTmp).css("width");oSettings.nTable.style.width=-1!==cssWidth.indexOf("%")?cssWidth:_fnStringToCss($(nCalcTmp).outerWidth());nCalcTmp.parentNode.removeChild(nCalcTmp)}widthAttr&&(oSettings.nTable.style.width=_fnStringToCss(widthAttr))}function _fnScrollingWidthAdjust(oSettings,n){if(""===oSettings.oScroll.sX&&""!==oSettings.oScroll.sY){$(n).width();n.style.width=_fnStringToCss($(n).outerWidth()-oSettings.oScroll.iBarWidth)}else""!==oSettings.oScroll.sX&&(n.style.width=_fnStringToCss($(n).outerWidth()))}function _fnGetWidestNode(oSettings,iCol){var n,iMaxIndex=_fnGetMaxLenString(oSettings,iCol);if(0>iMaxIndex)return null;if(null===oSettings.aoData[iMaxIndex].nTr){n=document.createElement("td");n.innerHTML=_fnGetCellData(oSettings,iMaxIndex,iCol,"");return n}return _fnGetTdNodes(oSettings,iMaxIndex)[iCol]}function _fnGetMaxLenString(oSettings,iCol){var i,s,iMax=-1,iMaxIndex=-1;for(i=0;i<oSettings.aoData.length;i++){s=_fnGetCellData(oSettings,i,iCol,"display")+"";s=s.replace(/<.*?>/g,"");if(s.length>iMax){iMax=s.length;iMaxIndex=i}}return iMaxIndex}function _fnStringToCss(s){if(null===s)return"0px";if("number"==typeof s){if(0>s)return"0px";return s+"px"}var c=s.charCodeAt(s.length-1);if(48>c||c>57)return s;return s+"px"}function _fnScrollBarWidth(){var outer,w1,w2,inner=document.createElement("p"),style=inner.style;style.width="100%";style.height="200px";style.padding="0px";outer=document.createElement("div");style=outer.style;style.position="absolute";style.top="0px";style.left="0px";style.visibility="hidden";style.width="200px";style.height="150px";style.padding="0px";style.overflow="hidden";outer.appendChild(inner);document.body.appendChild(outer);w1=inner.offsetWidth;outer.style.overflow="scroll";w2=inner.offsetWidth;w1==w2&&(w2=outer.clientWidth);document.body.removeChild(outer);return w1-w2}function _fnSort(oSettings,bApplyClasses){var i,iLen,j,jLen,k,kLen,sDataType,nTh,iColumn,iVisColumn,aData,iSortLen,fnSortFormat,aDataSort,sTitle,nextSort,tempCurPage,aaSort=[],aiOrig=[],oSort=DataTable.ext.oSort,aoData=oSettings.aoData,aoColumns=oSettings.aoColumns,oAria=oSettings.oLanguage.oAria;if(!oSettings.oFeatures.bServerSide&&(0!==oSettings.aaSorting.length||null!==oSettings.aaSortingFixed)){aaSort=null!==oSettings.aaSortingFixed?oSettings.aaSortingFixed.concat(oSettings.aaSorting):oSettings.aaSorting.slice();for(i=0;i<aaSort.length;i++){iColumn=aaSort[i][0];iVisColumn=_fnColumnIndexToVisible(oSettings,iColumn);sDataType=oSettings.aoColumns[iColumn].sSortDataType;if(DataTable.ext.afnSortData[sDataType]){aData=DataTable.ext.afnSortData[sDataType].call(oSettings.oInstance,oSettings,iColumn,iVisColumn);if(aData.length===aoData.length)for(j=0,jLen=aoData.length;jLen>j;j++)_fnSetCellData(oSettings,j,iColumn,aData[j]);else _fnLog(oSettings,0,"Returned data sort array (col "+iColumn+") is the wrong length")}}for(i=0,iLen=oSettings.aiDisplayMaster.length;iLen>i;i++)aiOrig[oSettings.aiDisplayMaster[i]]=i;iSortLen=aaSort.length;for(i=0,iLen=aoData.length;iLen>i;i++)for(j=0;iSortLen>j;j++){aDataSort=aoColumns[aaSort[j][0]].aDataSort;for(k=0,kLen=aDataSort.length;kLen>k;k++){sDataType=aoColumns[aDataSort[k]].sType;fnSortFormat=oSort[(sDataType?sDataType:"string")+"-pre"];aoData[i]._aSortData[aDataSort[k]]=fnSortFormat?fnSortFormat(_fnGetCellData(oSettings,i,aDataSort[k],"sort")):_fnGetCellData(oSettings,i,aDataSort[k],"sort")}}oSettings.oInit.sortCallback||oSettings.aiDisplayMaster.sort(function(a,b){var k,l,lLen,iTest,aDataSort,sDataType;for(k=0;iSortLen>k;k++){aDataSort=aoColumns[aaSort[k][0]].aDataSort;for(l=0,lLen=aDataSort.length;lLen>l;l++){sDataType=aoColumns[aDataSort[l]].sType;iTest=oSort[(sDataType?sDataType:"string")+"-"+aaSort[k][1]](aoData[a]._aSortData[aDataSort[l]],aoData[b]._aSortData[aDataSort[l]]);if(0!==iTest)return iTest}}return oSort["numeric-asc"](aiOrig[a],aiOrig[b])})}bApplyClasses!==undefined&&!bApplyClasses||oSettings.oFeatures.bDeferRender||_fnSortingClasses(oSettings);for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++){sTitle=aoColumns[i].sTitle.replace(/<.*?>/g,"");nTh=aoColumns[i].nTh;nTh.removeAttribute("aria-sort");nTh.removeAttribute("aria-label");if(aoColumns[i].bSortable)if(aaSort.length>0&&aaSort[0][0]==i){nTh.setAttribute("aria-sort","asc"==aaSort[0][1]?"ascending":"descending");nextSort=aoColumns[i].asSorting[aaSort[0][2]+1]?aoColumns[i].asSorting[aaSort[0][2]+1]:aoColumns[i].asSorting[0];nTh.setAttribute("aria-label",sTitle+("asc"==nextSort?oAria.sSortAscending:oAria.sSortDescending))}else nTh.setAttribute("aria-label",sTitle+("asc"==aoColumns[i].asSorting[0]?oAria.sSortAscending:oAria.sSortDescending));else nTh.setAttribute("aria-label",sTitle)}oSettings.bSorted=!0;$(oSettings.oInstance).trigger("sort",oSettings);if(oSettings.oFeatures.bFilter)_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1);else{oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings._iDisplayStart=0;if(oSettings.oInit.bPaginate&&oSettings.oInit.curPage){tempCurPage=oSettings.oInit.curPage.pageIndex||1;oSettings.oApi._fnPageChange(oSettings,tempCurPage-1)}_fnCalculateEnd(oSettings);_fnDraw(oSettings)}}function _fnSortAttachListener(oSettings,nNode,iDataIndex,fnCallback){_fnBindAction(nNode,{},function(e){var ColIndex,nTrs,selectorStr,fnInnerSorting;if("TH"===e.target.nodeName){ColIndex=$(e.target).index();nTrs=$("tr",oSettings.nTable);selectorStr="th:eq("+ColIndex+"),td:eq("+ColIndex+")";_.each(nTrs,function(trElement){$("td",trElement).css("border-right-color","transparent")})}if(oSettings.aoColumns[iDataIndex].bSortable===!1)return;fnInnerSorting=function(){var iColumn,iNextSort,bFound,i;if(e.shiftKey){bFound=!1;for(i=0;i<oSettings.aaSorting.length;i++)if(oSettings.aaSorting[i][0]==iDataIndex){bFound=!0;iColumn=oSettings.aaSorting[i][0];iNextSort=oSettings.aaSorting[i][2]+1;if(oSettings.aoColumns[iColumn].asSorting[iNextSort]){oSettings.aaSorting[i][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[i][2]=iNextSort}else oSettings.aaSorting.splice(i,1);break}bFound===!1&&oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}else if(1==oSettings.aaSorting.length&&oSettings.aaSorting[0][0]==iDataIndex){iColumn=oSettings.aaSorting[0][0];iNextSort=oSettings.aaSorting[0][2]+1;oSettings.aoColumns[iColumn].asSorting[iNextSort]||(iNextSort=0);oSettings.aaSorting[0][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort];oSettings.aaSorting[0][2]=iNextSort}else{oSettings.aaSorting.splice(0,oSettings.aaSorting.length);oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}if(oSettings.oInit.bPaginate&&oSettings.pag){oSettings.pag.option("cur-page",{"pageIndex":1});oSettings.oInit.curPage.pageIndex=1}_fnSort(oSettings)};if(oSettings.oFeatures.bProcessing){_fnProcessingDisplay(oSettings,!0);setTimeout(function(){fnInnerSorting();oSettings.oFeatures.bServerSide||_fnProcessingDisplay(oSettings,!1)},0)}else fnInnerSorting();"function"==typeof fnCallback&&fnCallback(oSettings);oSettings.oInit.sortCallback&&oSettings.oInit.sortCallback(nNode,oSettings.aaSorting)})}function _fnSortingClasses(oSettings){var i,iLen,j,iFound,aaSort,sClass,jqSpan,sSpanClass,nTds,iClass,iTargetCol,asClasses,reClass,sTmpClass,sCurrentClass,sNewClass,iColumns=oSettings.aoColumns.length,oClasses=oSettings.oClasses;for(i=0;iColumns>i;i++)if(oSettings.aoColumns[i].bSortable){$(oSettings.aoColumns[i].nSortLabel).removeClass(oClasses.sSortAsc+" "+oClasses.sSortDesc+" "+oSettings.aoColumns[i].sSortingClass);$(oSettings.aoColumns[i].nTh).find(".tiny-table-title-label").removeClass("tiny-table-title-label-sorted")}aaSort=null!==oSettings.aaSortingFixed?oSettings.aaSortingFixed.concat(oSettings.aaSorting):oSettings.aaSorting.slice();for(i=0;i<oSettings.aoColumns.length;i++)if(oSettings.aoColumns[i].bSortable){sClass=oSettings.aoColumns[i].sSortingClass;iFound=-1;for(j=0;j<aaSort.length;j++)if(aaSort[j][0]==i){sClass="asc"==aaSort[j][1]?oClasses.sSortAsc:oClasses.sSortDesc;iFound=j;$(oSettings.aoColumns[i].nTh).find(".tiny-table-title-label").addClass("tiny-table-title-label-sorted");break}$(oSettings.aoColumns[i].nSortLabel).addClass(sClass);if(oSettings.bJUI){jqSpan=$("span."+oClasses.sSortIcon,oSettings.aoColumns[i].nTh);jqSpan.removeClass(oClasses.sSortJUIAsc+" "+oClasses.sSortJUIDesc+" "+oClasses.sSortJUI+" "+oClasses.sSortJUIAscAllowed+" "+oClasses.sSortJUIDescAllowed);sSpanClass=-1==iFound?oSettings.aoColumns[i].sSortingClassJUI:"asc"==aaSort[iFound][1]?oClasses.sSortJUIAsc:oClasses.sSortJUIDesc;jqSpan.addClass(sSpanClass)}}else $(oSettings.aoColumns[i].nSortLabel).addClass(oSettings.aoColumns[i].sSortingClass);sClass=oClasses.sSortColumn;if(oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){nTds=_fnGetTdNodes(oSettings);asClasses=[];for(i=0;iColumns>i;i++)asClasses.push("");for(i=0,iClass=1;i<aaSort.length;i++){iTargetCol=parseInt(aaSort[i][0],10);asClasses[iTargetCol]=sClass+iClass;3>iClass&&iClass++}reClass=new RegExp(sClass+"[123]");for(i=0,iLen=nTds.length;iLen>i;i++){iTargetCol=i%iColumns;sCurrentClass=nTds[i].className;sNewClass=asClasses[iTargetCol];sTmpClass=sCurrentClass.replace(reClass,sNewClass);sTmpClass!=sCurrentClass?nTds[i].className=$.trim(sTmpClass):sNewClass.length>0&&-1==sCurrentClass.indexOf(sNewClass)&&(nTds[i].className=sCurrentClass+" "+sNewClass)}}}function _fnSaveState(oSettings){var widthTemp,$aoColumnsDom,i,len,$tableHeadDom,iLen,bInfinite,oState;if("true"===String(oInit.isDraggedRemember)&&oSettings.oInstance._oPluginColReorder&&oSettings.isDraggedOrColVis){$aoColumnsDom=$($("div.dataTables_scrollHead",oSettings.nTableWrapper)[0].childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes);for(i=0,len=$aoColumnsDom.length;len>i;i++){widthTemp=$($aoColumnsDom[i]).attr("style");widthTemp=widthTemp.match(/width:\s\S*/)[0].replace(/width:/,"");oInit.draggedColumns[i].sWidth=parseFloat(widthTemp)+"px"}$tableHeadDom=$($("div.dataTables_scrollHead",oSettings.nTableWrapper)[0].childNodes[0].childNodes[0]);widthTemp=$tableHeadDom.attr("style");widthTemp=widthTemp.match(/width:\s\S*/)[0].replace(/width:/,"");oInit.draggedData[0].tableWidth=parseFloat(widthTemp)}oSettings.oInstance._oPluginColReorder&&oSettings.isDraggedOrColVis&&(oInit.draggedData[0].isDraggedChange=!0);if(oSettings.restoreColVis)return;if(!oSettings.oFeatures.bStateSave||oSettings.bDestroying)return;bInfinite=oSettings.oScroll.bInfinite;oState={"iCreate":(new Date).getTime(),"iStart":bInfinite?0:oSettings._iDisplayStart,"iEnd":bInfinite?oSettings._iDisplayLength:oSettings._iDisplayEnd,"iLength":oSettings._iDisplayLength,"aaSorting":$.extend(!0,[],oSettings.aaSorting),"oSearch":$.extend(!0,{},oSettings.oPreviousSearch),"aoSearchCols":$.extend(!0,[],oSettings.aoPreSearchCols),"abVisCols":[]};for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)oState.abVisCols.push(oSettings.aoColumns[i].bVisible);_fnCallbackFire(oSettings,"aoStateSaveParams","stateSaveParams",[oSettings,oState]);oSettings.fnStateSave.call(oSettings.oInstance,oSettings,oState)}function _fnLoadState(oSettings,oInit){var oData,abStateLoad,i;if(!oSettings.oFeatures.bStateSave)return;oData=oSettings.fnStateLoad.call(oSettings.oInstance,oSettings);if(!oData)return;abStateLoad=_fnCallbackFire(oSettings,"aoStateLoadParams","stateLoadParams",[oSettings,oData]);if(-1!==$.inArray(!1,abStateLoad))return;oSettings.oLoadedState=$.extend(!0,{},oData);oSettings._iDisplayStart=oData.iStart;oSettings.iInitDisplayStart=oData.iStart;oSettings._iDisplayEnd=oData.iEnd;oSettings._iDisplayLength=oData.iLength;oSettings.aaSorting=oData.aaSorting.slice();oSettings.saved_aaSorting=oData.aaSorting.slice();$.extend(oSettings.oPreviousSearch,oData.oSearch);$.extend(!0,oSettings.aoPreSearchCols,oData.aoSearchCols);oInit.saved_aoColumns=[];for(i=0;i<oData.abVisCols.length;i++){oInit.saved_aoColumns[i]={};oInit.saved_aoColumns[i].bVisible=oData.abVisCols[i]}_fnCallbackFire(oSettings,"aoStateLoaded","stateLoaded",[oSettings,oData])}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var aParts,sNameFile,sFullCookie,oData,aCookies,iNewCookieLen,aOldCookies,i,iLen,aSplitCookie,old,date=new Date;date.setTime(date.getTime()+1e3*iSecs);aParts=window.location.pathname.split("/");sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase();if(null!==fnCallback){oData="function"==typeof $.parseJSON?$.parseJSON(sValue):eval("("+sValue+")");sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")}else sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/";aCookies=document.cookie.split(";"),iNewCookieLen=sFullCookie.split(";")[0].length,aOldCookies=[];if(iNewCookieLen+document.cookie.length+10>4096){for(i=0,iLen=aCookies.length;iLen>i;i++)if(-1!=aCookies[i].indexOf(sBaseName)){aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")");oData&&oData.iCreate&&aOldCookies.push({"name":aSplitCookie[0],"time":oData.iCreate})}catch(e){}}aOldCookies.sort(function(a,b){return b.time-a.time});for(;iNewCookieLen+document.cookie.length+10>4096;){if(0===aOldCookies.length)return;old=aOldCookies.pop();document.cookie=old.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(sName){var i,c,aParts=window.location.pathname.split("/"),sNameEQ=sName+"_"+aParts[aParts.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",sCookieContents=document.cookie.split(";");for(i=0;i<sCookieContents.length;i++){c=sCookieContents[i];for(;" "==c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(sNameEQ))return decodeURIComponent(c.substring(sNameEQ.length,c.length))}return null}function _fnSettingsFromNode(nTable){for(var i=0;i<DataTable.settings.length;i++)if(DataTable.settings[i].nTable===nTable)return DataTable.settings[i];return null}function _fnGetTrNodes(oSettings){var i,iLen,aNodes=[],aoData=oSettings.aoData;for(i=0,iLen=aoData.length;iLen>i;i++)null!==aoData[i].nTr&&aNodes.push(aoData[i].nTr);return aNodes}function _fnGetTdNodes(oSettings,iIndividualRow){var iCorrector,anTds,nTd,iRow,iColumn,iColumns,oData,sNodeName,anReturn=[],iRows=oSettings.aoData.length,iStart=0,iEnd=iRows;if(iIndividualRow!==undefined){iStart=iIndividualRow;iEnd=iIndividualRow+1}for(iRow=iStart;iEnd>iRow;iRow++){oData=oSettings.aoData[iRow];if(null!==oData.nTr){anTds=[];nTd=oData.nTr.firstChild;for(;nTd;){sNodeName=nTd.nodeName.toLowerCase();("td"==sNodeName||"th"==sNodeName)&&anTds.push(nTd);nTd=nTd.nextSibling}iCorrector=0;for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumns>iColumn;iColumn++)if(oSettings.aoColumns[iColumn].bVisible)anReturn.push(anTds[iColumn-iCorrector]);else{anReturn.push(oData._anHidden[iColumn]);iCorrector++}}}return anReturn}function _fnLog(oSettings,iLevel,sMesg){var sAlert=null===oSettings?"DataTables warning: "+sMesg:"DataTables warning (table id = '"+oSettings.sTableId+"'): "+sMesg;if(0===iLevel){if("alert"!=DataTable.ext.sErrMode)throw new Error(sAlert);alert(sAlert);return}window.console&&console.log}function _fnMap(oRet,oSrc,sName,sMappedName){sMappedName===undefined&&(sMappedName=sName);oSrc[sName]!==undefined&&(oRet[sMappedName]=oSrc[sName])}function _fnExtend(oOut,oExtender){var val,prop;for(prop in oExtender)if(oExtender.hasOwnProperty(prop)){val=oExtender[prop];"object"==typeof oInit[prop]&&null!==val&&$.isArray(val)===!1?$.extend(!0,oOut[prop],val):oOut[prop]=val}return oOut}function _fnBindAction(n,oData,fn){$(n).bind("click.DT",oData,function(e){n.blur();fn(e)}).bind("keypress.DT",oData,function(e){13===e.which&&fn(e)}).bind("selectstart.DT",function(){return!1})}function _fnCallbackReg(oSettings,sStore,fn,sName){fn&&oSettings[sStore].push({"fn":fn,"sName":sName})}function _fnCallbackFire(oSettings,sStore,sTrigger,aArgs){var i,aoStore=oSettings[sStore],aRet=[];for(i=aoStore.length-1;i>=0;i--)aRet.push(aoStore[i].fn.apply(oSettings.oInstance,aArgs));null!==sTrigger&&$(oSettings.oInstance).trigger(sTrigger,aArgs);return aRet}function _fnBrowserDetect(oSettings){var n=$('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];document.body.appendChild(n);oSettings.oBrowser.bScrollOversize=100===$("#DT_BrowserTest",n)[0].offsetWidth?!0:!1;document.body.removeChild(n)}function _fnExternApiFunc(sFunc){return function(){var aArgs=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[sFunc].apply(this,aArgs)}}var sFunc,_that,__reArray=/\[.*?\]$/,_fnJsonString=window.JSON?JSON.stringify:function(o){var sProp,mValue,json,bArr,sType=typeof o;if("object"!==sType||null===o){"string"===sType&&(o='"'+o+'"');return o+""}json=[],bArr=$.isArray(o);for(sProp in o){mValue=o[sProp];sType=typeof mValue;"string"===sType?mValue='"'+mValue+'"':"object"===sType&&null!==mValue&&(mValue=_fnJsonString(mValue));json.push((bArr?"":'"'+sProp+'":')+mValue)}return(bArr?"[":"{")+json+(bArr?"]":"}")};this.$=function(sSelector,oOpts){var i,iLen,tr,jqA,jqTRs,jqDescendants,a=[],oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),aoData=oSettings.aoData,aiDisplay=oSettings.aiDisplay,aiDisplayMaster=oSettings.aiDisplayMaster;oOpts||(oOpts={});oOpts=$.extend({},{"filter":"none","order":"current","page":"all"},oOpts);if("current"==oOpts.page)for(i=oSettings._iDisplayStart,iLen=oSettings.fnDisplayEnd();iLen>i;i++){tr=aoData[aiDisplay[i]].nTr;tr&&a.push(tr)}else if("current"==oOpts.order&&"none"==oOpts.filter)for(i=0,iLen=aiDisplayMaster.length;iLen>i;i++){tr=aoData[aiDisplayMaster[i]].nTr;tr&&a.push(tr)}else if("current"==oOpts.order&&"applied"==oOpts.filter)for(i=0,iLen=aiDisplay.length;iLen>i;i++){tr=aoData[aiDisplay[i]].nTr;tr&&a.push(tr)}else if("original"==oOpts.order&&"none"==oOpts.filter)for(i=0,iLen=aoData.length;iLen>i;i++){tr=aoData[i].nTr;tr&&a.push(tr)}else if("original"==oOpts.order&&"applied"==oOpts.filter)for(i=0,iLen=aoData.length;iLen>i;i++){tr=aoData[i].nTr;-1!==$.inArray(i,aiDisplay)&&tr&&a.push(tr)}else _fnLog(oSettings,1,"Unknown selection options");jqA=$(a);jqTRs=jqA.filter(sSelector);jqDescendants=jqA.find(sSelector);return $([].concat($.makeArray(jqTRs),$.makeArray(jqDescendants)))};this._=function(sSelector,oOpts){var i,iLen,aOut=[],aTrs=this.$(sSelector,oOpts);for(i=0,iLen=aTrs.length;iLen>i;i++)aOut.push(this.fnGetData(aTrs[i]));return aOut};this.fnAddData=function(mData,bRedraw){var aiReturn,iTest,oSettings,i;if(0===mData.length)return[];aiReturn=[];oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if("object"==typeof mData[0]&&null!==mData[0])for(i=0;i<mData.length;i++){iTest=_fnAddData(oSettings,mData[i]);if(-1==iTest)return aiReturn;aiReturn.push(iTest)}else{iTest=_fnAddData(oSettings,mData);if(-1==iTest)return aiReturn;aiReturn.push(iTest)}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();(bRedraw===undefined||bRedraw)&&_fnReDraw(oSettings);return aiReturn};this.fnAdjustColumnSizing=function(bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(oSettings);bRedraw===undefined||bRedraw?this.fnDraw(!1):(""!==oSettings.oScroll.sX||""!==oSettings.oScroll.sY)&&this.oApi._fnScrollDraw(oSettings)};this.fnClearTable=function(bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(oSettings);(bRedraw===undefined||bRedraw)&&_fnDraw(oSettings)};this.fnClose=function(nTr){var i,nTrParent,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);for(i=0;i<oSettings.aoOpenRows.length;i++)if(oSettings.aoOpenRows[i].nParent==nTr){nTrParent=oSettings.aoOpenRows[i].nTr.parentNode;nTrParent&&nTrParent.removeChild(oSettings.aoOpenRows[i].nTr);oSettings.aoOpenRows.splice(i,1);return 0}return 1};this.fnDeleteRow=function(mTarget,fnCallBack,bRedraw){var i,iLen,iDisplayIndex,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),iAODataIndex="object"==typeof mTarget?_fnNodeToDataIndex(oSettings,mTarget):mTarget,oData=oSettings.aoData.splice(iAODataIndex,1);for(i=0,iLen=oSettings.aoData.length;iLen>i;i++)null!==oSettings.aoData[i].nTr&&(oSettings.aoData[i].nTr._DT_RowIndex=i);iDisplayIndex=$.inArray(iAODataIndex,oSettings.aiDisplay);oSettings.asDataSearch.splice(iDisplayIndex,1);_fnDeleteIndex(oSettings.aiDisplayMaster,iAODataIndex);_fnDeleteIndex(oSettings.aiDisplay,iAODataIndex);"function"==typeof fnCallBack&&fnCallBack.call(this,oSettings,oData);if(oSettings._iDisplayStart>=oSettings.fnRecordsDisplay()){oSettings._iDisplayStart-=oSettings._iDisplayLength;oSettings._iDisplayStart<0&&(oSettings._iDisplayStart=0)}if(bRedraw===undefined||bRedraw){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}return oData};this.fnDestroy=function(bRemove){var i,iLen,anRows,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),nOrig=oSettings.nTableWrapper.parentNode,nBody=oSettings.nTBody;bRemove=bRemove===undefined?!1:bRemove;oSettings.bDestroying=!0;_fnCallbackFire(oSettings,"aoDestroyCallback","destroy",[oSettings]);if(!bRemove)for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)oSettings.aoColumns[i].bVisible===!1&&this.fnSetColumnVis(i,!0);$(oSettings.nTableWrapper).find("*").andSelf().unbind(".DT");$("tbody>tr>td."+oSettings.oClasses.sRowEmpty,oSettings.nTable).parent().remove();if(oSettings.nTable!=oSettings.nTHead.parentNode){$(oSettings.nTable).children("thead").remove();oSettings.nTable.appendChild(oSettings.nTHead)}if(oSettings.nTFoot&&oSettings.nTable!=oSettings.nTFoot.parentNode){$(oSettings.nTable).children("tfoot").remove();
oSettings.nTable.appendChild(oSettings.nTFoot)}oSettings.nTable.parentNode.removeChild(oSettings.nTable);$(oSettings.nTableWrapper).remove();oSettings.aaSorting=[];oSettings.aaSortingFixed=[];_fnSortingClasses(oSettings);$(_fnGetTrNodes(oSettings)).removeClass(oSettings.asStripeClasses.join(" "));$("th, td,th>span",oSettings.nTHead).removeClass([oSettings.oClasses.sSortable,oSettings.oClasses.sSortableAsc,oSettings.oClasses.sSortableDesc,oSettings.oClasses.sSortableNone].join(" "));if(oSettings.bJUI){$("th span."+oSettings.oClasses.sSortIcon+", td span."+oSettings.oClasses.sSortIcon,oSettings.nTHead).remove();$("th, td",oSettings.nTHead).each(function(){var jqWrapper=$("div."+oSettings.oClasses.sSortJUIWrapper,this),kids=jqWrapper.contents();$(this).append(kids);jqWrapper.remove()})}!bRemove&&oSettings.nTableReinsertBefore?nOrig.insertBefore(oSettings.nTable,oSettings.nTableReinsertBefore):bRemove||nOrig.appendChild(oSettings.nTable);for(i=0,iLen=oSettings.aoData.length;iLen>i;i++)null!==oSettings.aoData[i].nTr&&nBody.appendChild(oSettings.aoData[i].nTr);oSettings.oFeatures.bAutoWidth===!0&&(oSettings.nTable.style.width=_fnStringToCss(oSettings.sDestroyWidth));iLen=oSettings.asDestroyStripes.length;if(iLen){anRows=$(nBody).children("tr");for(i=0;iLen>i;i++)anRows.filter(":nth-child("+iLen+"n + "+i+")").addClass(oSettings.asDestroyStripes[i])}for(i=0,iLen=DataTable.settings.length;iLen>i;i++)DataTable.settings[i]==oSettings&&DataTable.settings.splice(i,1);oSettings=null;oInit=null};this.fnDraw=function(bComplete){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(bComplete===!1){_fnCalculateEnd(oSettings);_fnDraw(oSettings)}else _fnReDraw(oSettings)};this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal,bCaseInsensitive){var n,i,iLen,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(!oSettings.oFeatures.bFilter)return;(bRegex===undefined||null===bRegex)&&(bRegex=!1);(bSmart===undefined||null===bSmart)&&(bSmart=!0);(bShowGlobal===undefined||null===bShowGlobal)&&(bShowGlobal=!0);(bCaseInsensitive===undefined||null===bCaseInsensitive)&&(bCaseInsensitive=!0);if(iColumn===undefined||null===iColumn){_fnFilterComplete(oSettings,{"sSearch":sInput+"","bRegex":bRegex,"bSmart":bSmart,"bCaseInsensitive":bCaseInsensitive},1);if(bShowGlobal&&oSettings.aanFeatures.f){n=oSettings.aanFeatures.f;for(i=0,iLen=n.length;iLen>i;i++)try{n[i]._DT_Input!=document.activeElement&&$(n[i]._DT_Input).val(sInput)}catch(e){$(n[i]._DT_Input).val(sInput)}}}else{$.extend(oSettings.aoPreSearchCols[iColumn],{"sSearch":sInput+"","bRegex":bRegex,"bSmart":bSmart,"bCaseInsensitive":bCaseInsensitive});_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)}};this.fnGetData=function(mRow,iCol){var iRow,sNode,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(mRow!==undefined){iRow=mRow;if("object"==typeof mRow){sNode=mRow.nodeName.toLowerCase();if("tr"===sNode)iRow=_fnNodeToDataIndex(oSettings,mRow);else if("td"===sNode){iRow=_fnNodeToDataIndex(oSettings,mRow.parentNode);iCol=_fnNodeToColumnIndex(oSettings,iRow,mRow)}}if(iCol!==undefined)return _fnGetCellData(oSettings,iRow,iCol,"");return oSettings.aoData[iRow]!==undefined?oSettings.aoData[iRow]._aData:null}return _fnGetDataMaster(oSettings)};this.fnGetNodes=function(iRow){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(iRow!==undefined)return oSettings.aoData[iRow]!==undefined?oSettings.aoData[iRow].nTr:null;return _fnGetTrNodes(oSettings)};this.fnGetPosition=function(nNode){var iDataIndex,iColumnIndex,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),sNodeName=nNode.nodeName.toUpperCase();if("TR"==sNodeName)return _fnNodeToDataIndex(oSettings,nNode);if("TD"==sNodeName||"TH"==sNodeName){iDataIndex=_fnNodeToDataIndex(oSettings,nNode.parentNode);iColumnIndex=_fnNodeToColumnIndex(oSettings,iDataIndex,nNode);return[iDataIndex,_fnColumnIndexToVisible(oSettings,iColumnIndex),iColumnIndex]}return null};this.fnIsOpen=function(nTr){var i,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);oSettings.aoOpenRows;for(i=0;i<oSettings.aoOpenRows.length;i++)if(oSettings.aoOpenRows[i].nParent==nTr)return!0;return!1};this.fnOpen=function(nTr,mHtml,sClass){var nNewRow,nNewCell,nTrs,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),nTableRows=_fnGetTrNodes(oSettings);if(-1===$.inArray(nTr,nTableRows))return;this.fnClose(nTr);nNewRow=document.createElement("tr");nNewCell=document.createElement("td");nNewRow.appendChild(nNewCell);nNewCell.className=sClass;nNewCell.colSpan=_fnVisbleColumns(oSettings);"string"==typeof mHtml?nNewCell.innerHTML=mHtml:$(nNewCell).html(mHtml);nTrs=$("tr",oSettings.nTBody);-1!=$.inArray(nTr,nTrs)&&$(nNewRow).insertAfter(nTr);oSettings.aoOpenRows.push({"nTr":nNewRow,"nParent":nTr});return nNewRow};this.fnPageChange=function(mAction,bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(oSettings,mAction);_fnCalculateEnd(oSettings);(bRedraw===undefined||bRedraw)&&_fnDraw(oSettings)};this.fnSetColumnVis=function(iCol,bShow,bRedraw){var i,iLen,aoColumns,aoData,nTd,bAppend,iBefore,iInsert,$detailsTd,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(oSettings.restoreColVis){oSettings.isDraggedOrColVis=!0;_fnSaveState(oSettings);oSettings.isDraggedOrColVis=!1;return}aoColumns=oSettings.aoColumns;aoData=oSettings.aoData;oInit.aoColumns[iCol].bVisible=bShow;if(aoColumns[iCol].bVisible==bShow)return;if(bShow){iInsert=0;for(i=0;iCol>i;i++)aoColumns[i].bVisible&&iInsert++;bAppend=iInsert>=_fnVisbleColumns(oSettings);if(!bAppend)for(i=iCol;i<aoColumns.length;i++)if(aoColumns[i].bVisible){iBefore=i;break}for(i=0,iLen=aoData.length;iLen>i;i++)null!==aoData[i].nTr&&(bAppend?aoData[i].nTr.appendChild(aoData[i]._anHidden[iCol]):aoData[i].nTr.insertBefore(aoData[i]._anHidden[iCol],_fnGetTdNodes(oSettings,i)[iBefore]))}else for(i=0,iLen=aoData.length;iLen>i;i++)if(null!==aoData[i].nTr){nTd=_fnGetTdNodes(oSettings,i)[iCol];aoData[i]._anHidden[iCol]=nTd;nTd.parentNode.removeChild(nTd)}aoColumns[iCol].bVisible=bShow;_fnDrawHead(oSettings,oSettings.aoHeader);oSettings.nTFoot&&_fnDrawHead(oSettings,oSettings.aoFooter);for(i=0,iLen=oSettings.aoOpenRows.length;iLen>i;i++)oSettings.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(oSettings);if(bRedraw===undefined||bRedraw){_fnAdjustColumnSizing(oSettings);_fnDraw(oSettings)}oSettings.isDraggedOrColVis=!0;_fnSaveState(oSettings);oSettings.isDraggedOrColVis=!1;$detailsTd=$(oSettings.nTBody).find("tr>td.info_row");$detailsTd.each(function(index,td){td.colSpan=_fnVisbleColumns(oSettings)})};this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])};this.fnSort=function(aaSort){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);oSettings.aaSorting=aaSort;_fnSort(oSettings)};this.fnSortListener=function(nNode,iColumn,fnCallback){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),nNode,iColumn,fnCallback)};this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var i,sDisplay,oCol,iDisplayIndex,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),iRow="object"==typeof mRow?_fnNodeToDataIndex(oSettings,mRow):mRow;if($.isArray(mData)&&iColumn===undefined){oSettings.aoData[iRow]._aData=mData.slice();for(i=0;i<oSettings.aoColumns.length;i++)this.fnUpdate(_fnGetCellData(oSettings,iRow,i),iRow,i,!1,!1)}else if($.isPlainObject(mData)&&iColumn===undefined){oSettings.aoData[iRow]._aData=$.extend(!0,{},mData);for(i=0;i<oSettings.aoColumns.length;i++)this.fnUpdate(_fnGetCellData(oSettings,iRow,i),iRow,i,!1,!1)}else{_fnSetCellData(oSettings,iRow,iColumn,mData);sDisplay=_fnGetCellData(oSettings,iRow,iColumn,"display");oCol=oSettings.aoColumns[iColumn];if(null!==oCol.fnRender){sDisplay=_fnRender(oSettings,iRow,iColumn);oCol.bUseRendered&&_fnSetCellData(oSettings,iRow,iColumn,sDisplay)}null!==oSettings.aoData[iRow].nTr&&(_fnGetTdNodes(oSettings,iRow)[iColumn].innerHTML=sDisplay)}iDisplayIndex=$.inArray(iRow,oSettings.aiDisplay);oSettings.asDataSearch[iDisplayIndex]=_fnBuildSearchRow(oSettings,_fnGetRowData(oSettings,iRow,"filter",_fnGetColumns(oSettings,"bSearchable")));(bAction===undefined||bAction)&&_fnAdjustColumnSizing(oSettings);(bRedraw===undefined||bRedraw)&&_fnReDraw(oSettings);return 0};this.fnVersionCheck=DataTable.ext.fnVersionCheck;this.oApi={"_fnExternApiFunc":_fnExternApiFunc,"_fnInitialise":_fnInitialise,"_fnInitComplete":_fnInitComplete,"_fnLanguageCompat":_fnLanguageCompat,"_fnAddColumn":_fnAddColumn,"_fnColumnOptions":_fnColumnOptions,"_fnAddData":_fnAddData,"_fnCreateTr":_fnCreateTr,"_fnGatherData":_fnGatherData,"_fnBuildHead":_fnBuildHead,"_fnDrawHead":_fnDrawHead,"_fnDraw":_fnDraw,"_fnReDraw":_fnReDraw,"_fnAjaxUpdate":_fnAjaxUpdate,"_fnAjaxParameters":_fnAjaxParameters,"_fnAjaxUpdateDraw":_fnAjaxUpdateDraw,"_fnServerParams":_fnServerParams,"_fnAddOptionsHtml":_fnAddOptionsHtml,"_fnFeatureHtmlTable":_fnFeatureHtmlTable,"_fnScrollDraw":_fnScrollDraw,"_fnAdjustColumnSizing":_fnAdjustColumnSizing,"_fnFeatureHtmlFilter":_fnFeatureHtmlFilter,"_fnFilterComplete":_fnFilterComplete,"_fnFilterCustom":_fnFilterCustom,"_fnFilterColumn":_fnFilterColumn,"_fnFilter":_fnFilter,"_fnBuildSearchArray":_fnBuildSearchArray,"_fnBuildSearchRow":_fnBuildSearchRow,"_fnFilterCreateSearch":_fnFilterCreateSearch,"_fnDataToSearch":_fnDataToSearch,"_fnSort":_fnSort,"_fnSortAttachListener":_fnSortAttachListener,"_fnSortingClasses":_fnSortingClasses,"_fnFeatureHtmlPaginate":_fnFeatureHtmlPaginate,"_fnPageChange":_fnPageChange,"_fnFeatureHtmlInfo":_fnFeatureHtmlInfo,"_fnUpdateInfo":_fnUpdateInfo,"_fnFeatureHtmlLength":_fnFeatureHtmlLength,"_fnFeatureHtmlProcessing":_fnFeatureHtmlProcessing,"_fnProcessingDisplay":_fnProcessingDisplay,"_fnVisibleToColumnIndex":_fnVisibleToColumnIndex,"_fnColumnIndexToVisible":_fnColumnIndexToVisible,"_fnNodeToDataIndex":_fnNodeToDataIndex,"_fnVisbleColumns":_fnVisbleColumns,"_fnCalculateEnd":_fnCalculateEnd,"_fnConvertToWidth":_fnConvertToWidth,"_fnCalculateColumnWidths":_fnCalculateColumnWidths,"_fnScrollingWidthAdjust":_fnScrollingWidthAdjust,"_fnGetWidestNode":_fnGetWidestNode,"_fnGetMaxLenString":_fnGetMaxLenString,"_fnStringToCss":_fnStringToCss,"_fnDetectType":_fnDetectType,"_fnSettingsFromNode":_fnSettingsFromNode,"_fnGetDataMaster":_fnGetDataMaster,"_fnGetTrNodes":_fnGetTrNodes,"_fnGetTdNodes":_fnGetTdNodes,"_fnEscapeRegex":_fnEscapeRegex,"_fnDeleteIndex":_fnDeleteIndex,"_fnReOrderIndex":_fnReOrderIndex,"_fnColumnOrdering":_fnColumnOrdering,"_fnLog":_fnLog,"_fnClearTable":_fnClearTable,"_fnSaveState":_fnSaveState,"_fnLoadState":_fnLoadState,"_fnCreateCookie":_fnCreateCookie,"_fnReadCookie":_fnReadCookie,"_fnDetectHeader":_fnDetectHeader,"_fnGetUniqueThs":_fnGetUniqueThs,"_fnScrollBarWidth":_fnScrollBarWidth,"_fnApplyToChildren":_fnApplyToChildren,"_fnMap":_fnMap,"_fnGetRowData":_fnGetRowData,"_fnGetCellData":_fnGetCellData,"_fnSetCellData":_fnSetCellData,"_fnGetObjectDataFn":_fnGetObjectDataFn,"_fnSetObjectDataFn":_fnSetObjectDataFn,"_fnApplyColumnDefs":_fnApplyColumnDefs,"_fnBindAction":_fnBindAction,"_fnExtend":_fnExtend,"_fnCallbackReg":_fnCallbackReg,"_fnCallbackFire":_fnCallbackFire,"_fnJsonString":_fnJsonString,"_fnRender":_fnRender,"_fnNodeToColumnIndex":_fnNodeToColumnIndex,"_fnInfoMacros":_fnInfoMacros,"_fnBrowserDetect":_fnBrowserDetect,"_fnGetColumns":_fnGetColumns};$.extend(DataTable.ext.oApi,this.oApi);for(sFunc in DataTable.ext.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));_that=this;this.each(function(){var iLen,j,jLen,oSettings,tmp,bStripeRemove,anRows,anThs,aoColumnsInit,nThead,oColumn,captions,thead,tbody,tfoot,i=0,sId=this.getAttribute("id"),bInitHandedOff=!1,bUsePassedData=!1;if("table"!=this.nodeName.toLowerCase()){_fnLog(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);return}for(i=0,iLen=DataTable.settings.length;iLen>i;i++){if(DataTable.settings[i].nTable==this){if(oInit===undefined||oInit.bRetrieve)return DataTable.settings[i].oInstance;if(oInit.bDestroy){DataTable.settings[i].oInstance.fnDestroy();break}_fnLog(DataTable.settings[i],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}if(DataTable.settings[i].sTableId==this.id){DataTable.settings.splice(i,1);break}}if(null===sId||""===sId){sId="DataTables_Table_"+DataTable.ext._oExternConfig.iNextUnique++;this.id=sId}oSettings=$.extend(!0,{},DataTable.models.oSettings,{"nTable":this,"oApi":_that.oApi,"oInit":oInit,"sDestroyWidth":$(this).width(),"sInstance":sId,"sTableId":sId});DataTable.settings.push(oSettings);oSettings.oInstance=1===_that.length?_that:$(this).dataTable();oInit||(oInit={});oInit.oLanguage&&_fnLanguageCompat(oInit.oLanguage);oInit=_fnExtend($.extend(!0,{},DataTable.defaults),oInit);_fnMap(oSettings.oFeatures,oInit,"bPaginate");_fnMap(oSettings.oFeatures,oInit,"bLengthChange");_fnMap(oSettings.oFeatures,oInit,"bFilter");_fnMap(oSettings.oFeatures,oInit,"bSort");_fnMap(oSettings.oFeatures,oInit,"bInfo");_fnMap(oSettings.oFeatures,oInit,"bProcessing");_fnMap(oSettings.oFeatures,oInit,"bAutoWidth");_fnMap(oSettings.oFeatures,oInit,"bSortClasses");_fnMap(oSettings.oFeatures,oInit,"bServerSide");_fnMap(oSettings.oFeatures,oInit,"bDeferRender");_fnMap(oSettings.oScroll,oInit,"sScrollX","sX");_fnMap(oSettings.oScroll,oInit,"sScrollXInner","sXInner");_fnMap(oSettings.oScroll,oInit,"sScrollY","sY");_fnMap(oSettings.oScroll,oInit,"bScrollCollapse","bCollapse");_fnMap(oSettings.oScroll,oInit,"bScrollInfinite","bInfinite");_fnMap(oSettings.oScroll,oInit,"iScrollLoadGap","iLoadGap");_fnMap(oSettings.oScroll,oInit,"bScrollAutoCss","bAutoCss");_fnMap(oSettings,oInit,"asStripeClasses");_fnMap(oSettings,oInit,"asStripClasses","asStripeClasses");_fnMap(oSettings,oInit,"fnServerData");_fnMap(oSettings,oInit,"fnFormatNumber");_fnMap(oSettings,oInit,"sServerMethod");_fnMap(oSettings,oInit,"aaSorting");_fnMap(oSettings,oInit,"aaSortingFixed");_fnMap(oSettings,oInit,"aLengthMenu");_fnMap(oSettings,oInit,"sPaginationType");_fnMap(oSettings,oInit,"sAjaxSource");_fnMap(oSettings,oInit,"sAjaxDataProp");_fnMap(oSettings,oInit,"iCookieDuration");_fnMap(oSettings,oInit,"sCookiePrefix");_fnMap(oSettings,oInit,"sDom");_fnMap(oSettings,oInit,"bSortCellsTop");_fnMap(oSettings,oInit,"iTabIndex");_fnMap(oSettings,oInit,"oSearch","oPreviousSearch");_fnMap(oSettings,oInit,"aoSearchCols","aoPreSearchCols");_fnMap(oSettings,oInit,"iDisplayLength","_iDisplayLength");_fnMap(oSettings,oInit,"bJQueryUI","bJUI");_fnMap(oSettings,oInit,"fnCookieCallback");_fnMap(oSettings,oInit,"fnStateLoad");_fnMap(oSettings,oInit,"fnStateSave");_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback");_fnCallbackReg(oSettings,"aoDrawCallback",oInit.fnDrawCallback,"user");_fnCallbackReg(oSettings,"aoServerParams",oInit.fnServerParams,"user");_fnCallbackReg(oSettings,"aoStateSaveParams",oInit.fnStateSaveParams,"user");_fnCallbackReg(oSettings,"aoStateLoadParams",oInit.fnStateLoadParams,"user");_fnCallbackReg(oSettings,"aoStateLoaded",oInit.fnStateLoaded,"user");_fnCallbackReg(oSettings,"aoRowCallback",oInit.fnRowCallback,"user");_fnCallbackReg(oSettings,"aoRowCreatedCallback",oInit.fnCreatedRow,"user");_fnCallbackReg(oSettings,"aoHeaderCallback",oInit.fnHeaderCallback,"user");_fnCallbackReg(oSettings,"aoFooterCallback",oInit.fnFooterCallback,"user");_fnCallbackReg(oSettings,"aoInitComplete",oInit.fnInitComplete,"user");_fnCallbackReg(oSettings,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user");oSettings.oFeatures.bServerSide&&oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses?_fnCallbackReg(oSettings,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes"):oSettings.oFeatures.bDeferRender&&_fnCallbackReg(oSettings,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes");if(oInit.bJQueryUI){$.extend(oSettings.oClasses,DataTable.ext.oJUIClasses);oInit.sDom===DataTable.defaults.sDom&&"lfrtip"===DataTable.defaults.sDom&&(oSettings.sDom='<"H"lfr>t<"F"ip>')}else $.extend(oSettings.oClasses,DataTable.ext.oStdClasses);$(this).addClass(oSettings.oClasses.sTable);(""!==oSettings.oScroll.sX||""!==oSettings.oScroll.sY)&&(oSettings.oScroll.iBarWidth=_fnScrollBarWidth());if(oSettings.iInitDisplayStart===undefined){oSettings.iInitDisplayStart=oInit.iDisplayStart;oSettings._iDisplayStart=oInit.iDisplayStart}if(oInit.bStateSave){oSettings.oFeatures.bStateSave=!0;_fnLoadState(oSettings,oInit);_fnCallbackReg(oSettings,"aoDrawCallback",_fnSaveState,"state_save")}if(null!==oInit.iDeferLoading){oSettings.bDeferLoading=!0;tmp=$.isArray(oInit.iDeferLoading);oSettings._iRecordsDisplay=tmp?oInit.iDeferLoading[0]:oInit.iDeferLoading;oSettings._iRecordsTotal=tmp?oInit.iDeferLoading[1]:oInit.iDeferLoading}null!==oInit.aaData&&(bUsePassedData=!0);if(""!==oInit.oLanguage.sUrl){oSettings.oLanguage.sUrl=oInit.oLanguage.sUrl;$.getJSON(oSettings.oLanguage.sUrl,null,function(json){_fnLanguageCompat(json);$.extend(!0,oSettings.oLanguage,oInit.oLanguage,json);_fnInitialise(oSettings)});bInitHandedOff=!0}else $.extend(!0,oSettings.oLanguage,oInit.oLanguage);null===oInit.asStripeClasses&&(oSettings.asStripeClasses=[oSettings.oClasses.sStripeOdd,oSettings.oClasses.sStripeEven]);iLen=oSettings.asStripeClasses.length;oSettings.asDestroyStripes=[];if(iLen){bStripeRemove=!1;anRows=$(this).children("tbody").children("tr:lt("+iLen+")");for(i=0;iLen>i;i++)if(anRows.hasClass(oSettings.asStripeClasses[i])){bStripeRemove=!0;oSettings.asDestroyStripes.push(oSettings.asStripeClasses[i])}bStripeRemove&&anRows.removeClass(oSettings.asStripeClasses.join(" "))}anThs=[];nThead=this.getElementsByTagName("thead");if(0!==nThead.length){_fnDetectHeader(oSettings.aoHeader,nThead[0]);anThs=_fnGetUniqueThs(oSettings)}if(null===oInit.aoColumns){aoColumnsInit=[];for(i=0,iLen=anThs.length;iLen>i;i++)aoColumnsInit.push(null)}else aoColumnsInit=oInit.aoColumns;for(i=0,iLen=aoColumnsInit.length;iLen>i;i++){if(oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==iLen){null===aoColumnsInit[i]&&(aoColumnsInit[i]={});aoColumnsInit[i].bVisible=oInit.saved_aoColumns[i].bVisible}_fnAddColumn(oSettings,anThs?anThs[i]:null)}_fnApplyColumnDefs(oSettings,oInit.aoColumnDefs,aoColumnsInit,function(iCol,oDef){_fnColumnOptions(oSettings,iCol,oDef)});for(i=0,iLen=oSettings.aaSorting.length;iLen>i;i++){oSettings.aaSorting[i][0]>=oSettings.aoColumns.length&&(oSettings.aaSorting[i][0]=0);oColumn=oSettings.aoColumns[oSettings.aaSorting[i][0]];oSettings.aaSorting[i][2]===undefined&&(oSettings.aaSorting[i][2]=0);oInit.aaSorting===undefined&&oSettings.saved_aaSorting===undefined&&(oSettings.aaSorting[i][1]=oColumn.asSorting[0]);for(j=0,jLen=oColumn.asSorting.length;jLen>j;j++)if(oSettings.aaSorting[i][1]==oColumn.asSorting[j]){oSettings.aaSorting[i][2]=j;break}}_fnSortingClasses(oSettings);_fnBrowserDetect(oSettings);captions=$(this).children("caption").each(function(){this._captionSide=$(this).css("caption-side")});thead=$(this).children("thead");if(0===thead.length){thead=[document.createElement("thead")];this.appendChild(thead[0])}oSettings.nTHead=thead[0];tbody=$(this).children("tbody");if(0===tbody.length){tbody=[document.createElement("tbody")];this.appendChild(tbody[0])}oSettings.nTBody=tbody[0];oSettings.nTBody.setAttribute("role","alert");oSettings.nTBody.setAttribute("aria-live","polite");oSettings.nTBody.setAttribute("aria-relevant","all");tfoot=$(this).children("tfoot");if(0===tfoot.length&&captions.length>0&&(""!==oSettings.oScroll.sX||""!==oSettings.oScroll.sY)){tfoot=[document.createElement("tfoot")];this.appendChild(tfoot[0])}if(tfoot.length>0){oSettings.nTFoot=tfoot[0];_fnDetectHeader(oSettings.aoFooter,oSettings.nTFoot)}if(bUsePassedData)for(i=0;i<oInit.aaData.length;i++)_fnAddData(oSettings,oInit.aaData[i]);else _fnGatherData(oSettings);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bInitialised=!0;bInitHandedOff===!1&&_fnInitialise(oSettings)});_that=null;return this};DataTable.fnVersionCheck=function(sVersion){var i,iLen,fnZPad=function(Zpad,count){for(;Zpad.length<count;)Zpad+="0";return Zpad},aThis=DataTable.ext.sVersion.split("."),aThat=sVersion.split("."),sThis="",sThat="";for(i=0,iLen=aThat.length;iLen>i;i++){sThis+=fnZPad(aThis[i],3);sThat+=fnZPad(aThat[i],3)}return parseInt(sThis,10)>=parseInt(sThat,10)};DataTable.fnIsDataTable=function(nTable){var i,o=DataTable.settings;for(i=0;i<o.length;i++)if(o[i].nTable===nTable||o[i].nScrollHead===nTable||o[i].nScrollFoot===nTable)return!0;return!1};DataTable.fnTables=function(bVisible){var out=[];jQuery.each(DataTable.settings,function(i,o){(!bVisible||bVisible===!0&&$(o.nTable).is(":visible"))&&out.push(o.nTable)});return out};DataTable.version="1.9.4";DataTable.settings=[];DataTable.models={};DataTable.models.ext={"afnFiltering":[],"afnSortData":[],"aoFeatures":[],"aTypes":[],"fnVersionCheck":DataTable.fnVersionCheck,"iApiIndex":0,"ofnSearch":{},"oApi":{},"oStdClasses":{},"oJUIClasses":{},"oPagination":{},"oSort":{},"sVersion":DataTable.version,"sErrMode":"alert","_oExternConfig":{"iNextUnique":0}};DataTable.models.oSearch={"bCaseInsensitive":!0,"sSearch":"","bRegex":!1,"bSmart":!0};DataTable.models.oRow={"nTr":null,"_aData":[],"_aSortData":[],"_anHidden":[],"_sRowStripe":""};DataTable.models.oColumn={"aDataSort":null,"asSorting":null,"bSearchable":null,"bSortable":null,"bUseRendered":null,"bVisible":null,"_bAutoType":!0,"fnCreatedCell":null,"fnGetData":null,"fnRender":null,"fnSetData":null,"mData":null,"mRender":null,"nTh":null,"nTf":null,"sClass":null,"sContentPadding":null,"sDefaultContent":null,"sName":null,"sSortDataType":"std","sSortingClass":null,"sSortingClassJUI":null,"sTitle":null,"sType":null,"sWidth":null,"sWidthOrig":null};DataTable.defaults={"aaData":null,"aaSorting":[[0,"asc"]],"aaSortingFixed":null,"aLengthMenu":[10,25,50,100],"aoColumns":null,"aoColumnDefs":null,"aoSearchCols":[],"asStripeClasses":null,"bAutoWidth":!0,"bDeferRender":!1,"bDestroy":!1,"bFilter":!0,"bInfo":!0,"bJQueryUI":!1,"bLengthChange":!0,"bPaginate":!0,"bProcessing":!1,"bRetrieve":!1,"bScrollAutoCss":!0,"bScrollCollapse":!1,"bScrollInfinite":!1,"bServerSide":!1,"bSort":!0,"bSortCellsTop":!1,"bSortClasses":!0,"bStateSave":!1,"fnCookieCallback":null,"fnCreatedRow":null,"fnDrawCallback":null,"fnFooterCallback":null,"fnFormatNumber":function(iIn){var s,a,out,iLen,i;if(1e3>iIn)return iIn;s=iIn+"",a=s.split(""),out="",iLen=s.length;for(i=0;iLen>i;i++){i%3===0&&0!==i&&(out=this.oLanguage.sInfoThousands+out);out=a[iLen-i-1]+out}return out},"fnHeaderCallback":null,"fnInfoCallback":null,"fnInitComplete":null,"fnPreDrawCallback":null,"fnRowCallback":null,"fnServerData":function(sUrl,aoData,fnCallback,oSettings){oSettings.jqXHR=$.ajax({"url":sUrl,"data":aoData,"success":function(json){json.sError&&oSettings.oApi._fnLog(oSettings,0,json.sError);$(oSettings.oInstance).trigger("xhr",[oSettings,json]);fnCallback(json)},"dataType":"json","cache":!1,"type":oSettings.sServerMethod,"error":function(xhr,error,thrown){"parsererror"==error&&oSettings.oApi._fnLog(oSettings,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},"fnServerParams":null,"fnStateLoad":function(oSettings){var oData,sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance);try{oData="function"==typeof $.parseJSON?$.parseJSON(sData):eval("("+sData+")")}catch(e){oData=null}return oData},"fnStateLoadParams":null,"fnStateLoaded":null,"fnStateSave":function(oSettings,oData){this.oApi._fnCreateCookie(oSettings.sCookiePrefix+oSettings.sInstance,this.oApi._fnJsonString(oData),oSettings.iCookieDuration,oSettings.sCookiePrefix,oSettings.fnCookieCallback)},"fnStateSaveParams":null,"iCookieDuration":7200,"iDeferLoading":null,"iDisplayLength":10,"iDisplayStart":0,"iScrollLoadGap":100,"iTabIndex":0,"oLanguage":{"oAria":{"sSortAscending":": activate to sort column ascending","sSortDescending":": activate to sort column descending"},"oPaginate":{"sFirst":"First","sLast":"Last","sNext":"Next","sPrevious":"Previous"},"sEmptyTable":"No data available in table","sInfo":"Showing _START_ to _END_ of _TOTAL_ entries","sInfoEmpty":"Showing 0 to 0 of 0 entries","sInfoFiltered":"(filtered from _MAX_ total entries)","sInfoPostFix":"","sInfoThousands":",","sLengthMenu":"Show _MENU_ entries","sLoadingRecords":"Loading...","sProcessing":"Processing...","sSearch":"Search:","sUrl":"","sZeroRecords":"No matching records found"},"oSearch":$.extend({},DataTable.models.oSearch),"sAjaxDataProp":"aaData","sAjaxSource":null,"sCookiePrefix":"SpryMedia_DataTables_","sDom":"lfrtip","sPaginationType":"two_button","sScrollX":"","sScrollXInner":"","sScrollY":"","sServerMethod":"GET"};DataTable.defaults.columns={"aDataSort":null,"asSorting":["asc","desc"],"bSearchable":!0,"bSortable":!0,"bUseRendered":!0,"bVisible":!0,"fnCreatedCell":null,"fnRender":null,"iDataSort":-1,"mData":null,"mRender":null,"sCellType":"td","sClass":"","sContentPadding":"","sDefaultContent":null,"sName":"","sSortDataType":"std","sTitle":null,"sType":null,"sWidth":null};DataTable.models.oSettings={"oFeatures":{"bAutoWidth":null,"bDeferRender":null,"bFilter":null,"bInfo":null,"bLengthChange":null,"bPaginate":null,"bProcessing":null,"bServerSide":null,"bSort":null,"bSortClasses":null,"bStateSave":null},"oScroll":{"bAutoCss":null,"bCollapse":null,"bInfinite":null,"iBarWidth":0,"iLoadGap":null,"sX":null,"sXInner":null,"sY":null},"oLanguage":{"fnInfoCallback":null},"oBrowser":{"bScrollOversize":!1},"aanFeatures":[],"aoData":[],"aiDisplay":[],"aiDisplayMaster":[],"aoColumns":[],"aoHeader":[],"aoFooter":[],"asDataSearch":[],"oPreviousSearch":{},"aoPreSearchCols":[],"aaSorting":null,"aaSortingFixed":null,"asStripeClasses":null,"asDestroyStripes":[],"sDestroyWidth":0,"aoRowCallback":[],"aoHeaderCallback":[],"aoFooterCallback":[],"aoDrawCallback":[],"aoRowCreatedCallback":[],"aoPreDrawCallback":[],"aoInitComplete":[],"aoStateSaveParams":[],"aoStateLoadParams":[],"aoStateLoaded":[],"sTableId":"","nTable":null,"nTHead":null,"nTFoot":null,"nTBody":null,"nTableWrapper":null,"bDeferLoading":!1,"bInitialised":!1,"aoOpenRows":[],"sDom":null,"sPaginationType":"two_button","iCookieDuration":0,"sCookiePrefix":"","fnCookieCallback":null,"aoStateSave":[],"aoStateLoad":[],"oLoadedState":null,"sAjaxSource":null,"sAjaxDataProp":null,"bAjaxDataGet":!0,"jqXHR":null,"fnServerData":null,"aoServerParams":[],"sServerMethod":null,"fnFormatNumber":null,"aLengthMenu":null,"iDraw":0,"bDrawing":!1,"iDrawError":-1,"_iDisplayLength":10,"_iDisplayStart":0,"_iDisplayEnd":10,"_iRecordsTotal":0,"_iRecordsDisplay":0,"bJUI":null,"oClasses":{},"bFiltered":!1,"bSorted":!1,"bSortCellsTop":null,"oInit":null,"aoDestroyCallback":[],"fnRecordsTotal":function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},"fnRecordsDisplay":function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},"fnDisplayEnd":function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},"oInstance":null,"sInstance":null,"iTabIndex":0,"nScrollHead":null,"nScrollFoot":null};DataTable.ext=$.extend(!0,{},DataTable.models.ext);$.extend(DataTable.ext.oStdClasses,{"sTable":"dataTable","sPagePrevEnabled":"paginate_enabled_previous","sPagePrevDisabled":"paginate_disabled_previous","sPageNextEnabled":"paginate_enabled_next","sPageNextDisabled":"paginate_disabled_next","sPageJUINext":"","sPageJUIPrev":"","sPageButton":"paginate_button","sPageButtonActive":"paginate_active","sPageButtonStaticDisabled":"paginate_button paginate_button_disabled","sPageFirst":"first","sPagePrevious":"previous","sPageNext":"next","sPageLast":"last","sStripeOdd":"odd","sStripeEven":"even","sRowEmpty":"dataTables_empty","sWrapper":"dataTables_wrapper","sFilter":"dataTables_filter","sInfo":"dataTables_info","sPaging":"dataTables_paginate paging_","sLength":"dataTables_length","sProcessing":"dataTables_processing","sSortAsc":"sorting_asc","sSortDesc":"sorting_desc","sSortable":"sorting","sSortableAsc":"sorting_asc_disabled","sSortableDesc":"sorting_desc_disabled","sSortableNone":"sorting_disabled","sSortColumn":"sorting_","sSortJUIAsc":"","sSortJUIDesc":"","sSortJUI":"","sSortJUIAscAllowed":"","sSortJUIDescAllowed":"","sSortJUIWrapper":"","sSortIcon":"","sScrollWrapper":"dataTables_scroll","sScrollHead":"dataTables_scrollHead","sScrollHeadInner":"dataTables_scrollHeadInner","sScrollBody":"dataTables_scrollBody","sScrollFoot":"dataTables_scrollFoot","sScrollFootInner":"dataTables_scrollFootInner","sFooterTH":"","sJUIHeader":"","sJUIFooter":""});$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{"sPagePrevEnabled":"fg-button ui-button ui-state-default ui-corner-left","sPagePrevDisabled":"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled","sPageNextEnabled":"fg-button ui-button ui-state-default ui-corner-right","sPageNextDisabled":"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled","sPageJUINext":"ui-icon ui-icon-circle-arrow-e","sPageJUIPrev":"ui-icon ui-icon-circle-arrow-w","sPageButton":"fg-button ui-button ui-state-default","sPageButtonActive":"fg-button ui-button ui-state-default ui-state-disabled","sPageButtonStaticDisabled":"fg-button ui-button ui-state-default ui-state-disabled","sPageFirst":"first ui-corner-tl ui-corner-bl","sPageLast":"last ui-corner-tr ui-corner-br","sPaging":"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_","sSortAsc":"ui-state-default","sSortDesc":"ui-state-default","sSortable":"ui-state-default","sSortableAsc":"ui-state-default","sSortableDesc":"ui-state-default","sSortableNone":"ui-state-default","sSortJUIAsc":"css_right ui-icon ui-icon-triangle-1-n","sSortJUIDesc":"css_right ui-icon ui-icon-triangle-1-s","sSortJUI":"css_right ui-icon ui-icon-carat-2-n-s","sSortJUIAscAllowed":"css_right ui-icon ui-icon-carat-1-n","sSortJUIDescAllowed":"css_right ui-icon ui-icon-carat-1-s","sSortJUIWrapper":"DataTables_sort_wrapper","sSortIcon":"DataTables_sort_icon","sScrollHead":"dataTables_scrollHead ui-state-default","sScrollFoot":"dataTables_scrollFoot ui-state-default","sFooterTH":"ui-state-default","sJUIHeader":"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix","sJUIFooter":"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"});$.extend(DataTable.ext.oPagination,{"two_button":{"fnInit":function(oSettings,nPaging,fnCallbackDraw){var els,nPrevious,nNext,oLang=oSettings.oLanguage.oPaginate,fnClickHandler=(oSettings.oClasses,function(e){oSettings.oApi._fnPageChange(oSettings,e.data.action)&&fnCallbackDraw(oSettings)}),sAppend=oSettings.bJUI?'<a class="'+oSettings.oClasses.sPagePrevDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button"><span class="'+oSettings.oClasses.sPageJUIPrev+'"></span></a><a class="'+oSettings.oClasses.sPageNextDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button"><span class="'+oSettings.oClasses.sPageJUINext+'"></span></a>':'<a class="'+oSettings.oClasses.sPagePrevDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button">'+oLang.sPrevious+'</a><a class="'+oSettings.oClasses.sPageNextDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button">'+oLang.sNext+"</a>";$(nPaging).append(sAppend);els=$("a",nPaging);nPrevious=els[0],nNext=els[1];oSettings.oApi._fnBindAction(nPrevious,{"action":"previous"},fnClickHandler);oSettings.oApi._fnBindAction(nNext,{"action":"next"},fnClickHandler);if(!oSettings.aanFeatures.p){nPaging.id=oSettings.sTableId+"_paginate";nPrevious.id=oSettings.sTableId+"_previous";nNext.id=oSettings.sTableId+"_next";nPrevious.setAttribute("aria-controls",oSettings.sTableId);nNext.setAttribute("aria-controls",oSettings.sTableId)}},"fnUpdate":function(oSettings,fnCallbackDraw){var oClasses,an,nNode,i,iLen;if(!oSettings.aanFeatures.p)return;
oClasses=oSettings.oClasses;an=oSettings.aanFeatures.p;for(i=0,iLen=an.length;iLen>i;i++){nNode=an[i].firstChild;if(nNode){nNode.className=0===oSettings._iDisplayStart?oClasses.sPagePrevDisabled:oClasses.sPagePrevEnabled;nNode=nNode.nextSibling;nNode.className=oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()?oClasses.sPageNextDisabled:oClasses.sPageNextEnabled}}}},"iFullNumbersShowPages":5,"full_numbers":{"fnInit":function(oSettings,nPaging,fnCallbackDraw){var els,nFirst,nPrev,nNext,nLast,oLang=oSettings.oLanguage.oPaginate,oClasses=oSettings.oClasses,fnClickHandler=function(e){oSettings.oApi._fnPageChange(oSettings,e.data.action)&&fnCallbackDraw(oSettings)};$(nPaging).append('<a  tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPageFirst+'">'+oLang.sFirst+'</a><a  tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPagePrevious+'">'+oLang.sPrevious+'</a><span></span><a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPageNext+'">'+oLang.sNext+'</a><a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPageLast+'">'+oLang.sLast+"</a>");els=$("a",nPaging);nFirst=els[0],nPrev=els[1],nNext=els[2],nLast=els[3];oSettings.oApi._fnBindAction(nFirst,{"action":"first"},fnClickHandler);oSettings.oApi._fnBindAction(nPrev,{"action":"previous"},fnClickHandler);oSettings.oApi._fnBindAction(nNext,{"action":"next"},fnClickHandler);oSettings.oApi._fnBindAction(nLast,{"action":"last"},fnClickHandler);if(!oSettings.aanFeatures.p){nPaging.id=oSettings.sTableId+"_paginate";nFirst.id=oSettings.sTableId+"_first";nPrev.id=oSettings.sTableId+"_previous";nNext.id=oSettings.sTableId+"_next";nLast.id=oSettings.sTableId+"_last"}},"fnUpdate":function(oSettings,fnCallbackDraw){var iPageCount,iPageCountHalf,iPages,iCurrentPage,sList,iStartButton,iEndButton,i,iLen,oClasses,anButtons,anStatic,nNode,an,fnBind;if(!oSettings.aanFeatures.p)return;iPageCount=DataTable.ext.oPagination.iFullNumbersShowPages;iPageCountHalf=Math.floor(iPageCount/2);iPages=Math.ceil(oSettings.fnRecordsDisplay()/oSettings._iDisplayLength);iCurrentPage=Math.ceil(oSettings._iDisplayStart/oSettings._iDisplayLength)+1;sList="";oClasses=oSettings.oClasses;an=oSettings.aanFeatures.p;fnBind=function(j){oSettings.oApi._fnBindAction(this,{"page":j+iStartButton-1},function(e){oSettings.oApi._fnPageChange(oSettings,e.data.page);fnCallbackDraw(oSettings);e.preventDefault()})};if(-1===oSettings._iDisplayLength){iStartButton=1;iEndButton=1;iCurrentPage=1}else if(iPageCount>iPages){iStartButton=1;iEndButton=iPages}else if(iPageCountHalf>=iCurrentPage){iStartButton=1;iEndButton=iPageCount}else if(iCurrentPage>=iPages-iPageCountHalf){iStartButton=iPages-iPageCount+1;iEndButton=iPages}else{iStartButton=iCurrentPage-Math.ceil(iPageCount/2)+1;iEndButton=iStartButton+iPageCount-1}for(i=iStartButton;iEndButton>=i;i++)sList+=iCurrentPage!==i?'<a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+'">'+oSettings.fnFormatNumber(i)+"</a>":'<a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButtonActive+'">'+oSettings.fnFormatNumber(i)+"</a>";for(i=0,iLen=an.length;iLen>i;i++){nNode=an[i];if(!nNode.hasChildNodes())continue;$("span:eq(0)",nNode).html(sList).children("a").each(fnBind);anButtons=nNode.getElementsByTagName("a");anStatic=[anButtons[0],anButtons[1],anButtons[anButtons.length-2],anButtons[anButtons.length-1]];$(anStatic).removeClass(oClasses.sPageButton+" "+oClasses.sPageButtonActive+" "+oClasses.sPageButtonStaticDisabled);$([anStatic[0],anStatic[1]]).addClass(1==iCurrentPage?oClasses.sPageButtonStaticDisabled:oClasses.sPageButton);$([anStatic[2],anStatic[3]]).addClass(0===iPages||iCurrentPage===iPages||-1===oSettings._iDisplayLength?oClasses.sPageButtonStaticDisabled:oClasses.sPageButton)}}}});$.extend(DataTable.ext.oSort,{"string-pre":function(a){"string"!=typeof a&&(a=null!==a&&a.toString?a.toString():"");return a.toLowerCase()},"string-asc":function(x,y){return y>x?-1:x>y?1:0},"string-desc":function(x,y){return y>x?1:x>y?-1:0},"html-pre":function(a){return a.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(x,y){return y>x?-1:x>y?1:0},"html-desc":function(x,y){return y>x?1:x>y?-1:0},"date-pre":function(a){var x=Date.parse(a);(isNaN(x)||""===x)&&(x=Date.parse("01/01/1970 00:00:00"));return x},"date-asc":function(x,y){return x-y},"date-desc":function(x,y){return y-x},"numeric-pre":function(a){return"-"==a||""===a?0:1*a},"numeric-asc":function(x,y){return x-y},"numeric-desc":function(x,y){return y-x}});$.extend(DataTable.ext.aTypes,[function(sData){var sValidFirstChars,sValidChars,Char,bDecimal,i;if("number"==typeof sData)return"numeric";if("string"!=typeof sData)return null;sValidFirstChars="0123456789-";sValidChars="0123456789.";bDecimal=!1;Char=sData.charAt(0);if(-1==sValidFirstChars.indexOf(Char))return null;for(i=1;i<sData.length;i++){Char=sData.charAt(i);if(-1==sValidChars.indexOf(Char))return null;if("."==Char){if(bDecimal)return null;bDecimal=!0}}return"numeric"},function(sData){var iParse=Date.parse(sData);if(null!==iParse&&!isNaN(iParse)||"string"==typeof sData&&0===sData.length)return"date";return null},function(sData){if("string"==typeof sData&&-1!=sData.indexOf("<")&&-1!=sData.indexOf(">"))return"html";return null}]);$.fn.DataTable=DataTable;$.fn.dataTable=DataTable;$.fn.dataTableSettings=DataTable.settings;$.fn.dataTableExt=DataTable.ext})})(window,document);define("tiny-lib/jquery.dataTables",["tiny-lib/jquery","tiny-lib/jquery-ui.custom.min"],function(){});(function($,window,document){function fnInvertKeyValues(aIn){var i,iLen,aRet=[];for(i=0,iLen=aIn.length;iLen>i;i++)aRet[aIn[i]]=i;return aRet}function fnArraySwitch(aArray,iFrom,iTo){var mStore=aArray.splice(iFrom,1)[0];aArray.splice(iTo,0,mStore)}function fnDomSwitch(nParent,iFrom,iTo){var i,iLen,nStore,anTags=[];for(i=0,iLen=nParent.childNodes.length;iLen>i;i++)1==nParent.childNodes[i].nodeType&&anTags.push(nParent.childNodes[i]);nStore=anTags[iFrom];null!==iTo?nParent.insertBefore(nStore,anTags[iTo]):nParent.appendChild(nStore)}$.fn.dataTableExt.oApi.fnColReorder=function(oSettings,iFrom,iTo){var i,iLen,j,jLen,nTrs,oCol,aiMapping,aiInvertMapping,iVisibleIndex,iInsertBeforeIndex,iCols=oSettings.aoColumns.length;if(iFrom==iTo)return;if(0>iFrom||iFrom>=iCols){this.oApi._fnLog(oSettings,1,"ColReorder 'from' index is out of bounds: "+iFrom);return}if(0>iTo||iTo>=iCols){this.oApi._fnLog(oSettings,1,"ColReorder 'to' index is out of bounds: "+iTo);return}aiMapping=[];for(i=0,iLen=iCols;iLen>i;i++)aiMapping[i]=i;fnArraySwitch(aiMapping,iFrom,iTo);aiInvertMapping=fnInvertKeyValues(aiMapping);for(i=0,iLen=oSettings.aaSorting.length;iLen>i;i++)oSettings.aaSorting[i][0]=aiInvertMapping[oSettings.aaSorting[i][0]];if(null!==oSettings.aaSortingFixed)for(i=0,iLen=oSettings.aaSortingFixed.length;iLen>i;i++)oSettings.aaSortingFixed[i][0]=aiInvertMapping[oSettings.aaSortingFixed[i][0]];for(i=0,iLen=iCols;iLen>i;i++){oCol=oSettings.aoColumns[i];for(j=0,jLen=oCol.aDataSort.length;jLen>j;j++)oCol.aDataSort[j]=aiInvertMapping[oCol.aDataSort[j]]}for(i=0,iLen=iCols;iLen>i;i++){oCol=oSettings.aoColumns[i];if("number"==typeof oCol.mData){oCol.mData=aiInvertMapping[oCol.mData];oCol.fnGetData=oSettings.oApi._fnGetObjectDataFn(oCol.mData);oCol.fnSetData=oSettings.oApi._fnSetObjectDataFn(oCol.mData)}}if(oSettings.aoColumns[iFrom].bVisible){iVisibleIndex=this.oApi._fnColumnIndexToVisible(oSettings,iFrom);iInsertBeforeIndex=null;i=iFrom>iTo?iTo:iTo+1;for(;null===iInsertBeforeIndex&&iCols>i;){iInsertBeforeIndex=this.oApi._fnColumnIndexToVisible(oSettings,i);i++}nTrs=oSettings.nTHead.getElementsByTagName("tr");for(i=0,iLen=nTrs.length;iLen>i;i++)fnDomSwitch(nTrs[i],iVisibleIndex,iInsertBeforeIndex);if(null!==oSettings.nTFoot){nTrs=oSettings.nTFoot.getElementsByTagName("tr");for(i=0,iLen=nTrs.length;iLen>i;i++)fnDomSwitch(nTrs[i],iVisibleIndex,iInsertBeforeIndex)}for(i=0,iLen=oSettings.aoData.length;iLen>i;i++)null!==oSettings.aoData[i].nTr&&fnDomSwitch(oSettings.aoData[i].nTr,iVisibleIndex,iInsertBeforeIndex)}fnArraySwitch(oSettings.aoColumns,iFrom,iTo);fnArraySwitch(oSettings.aoPreSearchCols,iFrom,iTo);for(i=0,iLen=oSettings.aoData.length;iLen>i;i++){$.isArray(oSettings.aoData[i]._aData)&&fnArraySwitch(oSettings.aoData[i]._aData,iFrom,iTo);fnArraySwitch(oSettings.aoData[i]._anHidden,iFrom,iTo)}for(i=0,iLen=oSettings.aoHeader.length;iLen>i;i++)fnArraySwitch(oSettings.aoHeader[i],iFrom,iTo);if(null!==oSettings.aoFooter)for(i=0,iLen=oSettings.aoFooter.length;iLen>i;i++)fnArraySwitch(oSettings.aoFooter[i],iFrom,iTo);for(i=0,iLen=iCols;iLen>i;i++){oSettings.aoColumns[i].aDataSort=[i];oSettings.aoColumns[i]._ColReorder_iOrigCol=i;$(oSettings.aoColumns[i].nTh).unbind("click");this.oApi._fnSortAttachListener(oSettings,oSettings.aoColumns[i].nTh,i)}"undefined"!=typeof ColVis&&ColVis.fnRebuild(oSettings.oInstance);$(oSettings.oInstance).trigger("column-reorder",[oSettings,{"iFrom":iFrom,"iTo":iTo,"aiInvertMapping":aiInvertMapping}]);"undefined"!=typeof oSettings.oInstance._oPluginFixedHeader&&oSettings.oInstance._oPluginFixedHeader.fnUpdate()};ColReorder=function(oDTSettings,oOpts){this.CLASS&&"ColReorder"==this.CLASS||alert("Warning: ColReorder must be initialised with the keyword 'new'");"undefined"==typeof oOpts&&(oOpts={});this.s={"dt":null,"init":oOpts,"allowReorder":!1,"allowResize":!0,"fixed":0,"dropCallback":null,"fnMouseUpCallback":null,"mouse":{"startX":-1,"startY":-1,"offsetX":-1,"offsetY":-1,"target":-1,"targetIndex":-1,"fromIndex":-1},"aoTargets":[]};this.dom={"drag":null,"resize":null,"pointer":null};this.table_size=-1;this.s.dt=oDTSettings.oInstance.fnSettings();this._fnConstruct();oDTSettings.oApi._fnCallbackReg(oDTSettings,"aoDestroyCallback",jQuery.proxy(this._fnDestroy,this),"ColReorder");ColReorder.aoInstances.push(this);return this};ColReorder.prototype={"fnReset":function(){var i,iLen,a=[];for(i=0,iLen=this.s.dt.aoColumns.length;iLen>i;i++)a.push(this.s.dt.aoColumns[i]._ColReorder_iOrigCol);this._fnOrderColumns(a)},"_fnConstruct":function(){var i,iLen,aiOrder,bDone,resort,that=this;"undefined"!=typeof this.s.init.allowReorder&&(this.s.allowReorder=this.s.init.allowReorder);"undefined"!=typeof this.s.init.allowResize&&(this.s.allowResize=this.s.init.allowResize);"undefined"!=typeof this.s.init.iFixedColumns&&(this.s.fixed=this.s.init.iFixedColumns);"undefined"!=typeof this.s.init.fnReorderCallback&&(this.s.dropCallback=this.s.init.fnReorderCallback);"undefined"!=typeof this.s.init.fnMouseUpCallback&&(this.s.fnMouseUpCallback=this.s.init.fnMouseUpCallback);for(i=0,iLen=this.s.dt.aoColumns.length;iLen>i;i++){i>this.s.fixed-1&&"false"!==String(this.s.dt.aoColumns[i].bDraggable)&&this._fnMouseListener(i,this.s.dt.aoColumns[i].nTh);this.s.dt.aoColumns[i]._ColReorder_iOrigCol=i}this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(oS,oData){that._fnStateSave.call(that,oData)},"ColReorder_State");aiOrder=null;"undefined"!=typeof this.s.init.aiOrder&&(aiOrder=this.s.init.aiOrder.slice());this.s.dt.oLoadedState&&"undefined"!=typeof this.s.dt.oLoadedState.ColReorder&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length&&(aiOrder=this.s.dt.oLoadedState.ColReorder);if(aiOrder)if(that.s.dt._bInitComplete){resort=fnInvertKeyValues(aiOrder);that._fnOrderColumns.call(that,resort)}else{bDone=!1;this.s.dt.aoDrawCallback.push({"fn":function(){if(!that.s.dt._bInitComplete&&!bDone){bDone=!0;var resort=fnInvertKeyValues(aiOrder);that._fnOrderColumns.call(that,resort)}},"sName":"ColReorder_Pre"})}},"_fnOrderColumns":function(a){var i,iLen,currIndex;if(a.length!=this.s.dt.aoColumns.length){this.s.dt.oInstance.oApi._fnLog(oDTSettings,1,"ColReorder - array reorder does not match known number of columns. Skipping.");return}for(i=0,iLen=a.length;iLen>i;i++){currIndex=$.inArray(i,a);if(i!=currIndex){fnArraySwitch(a,currIndex,i);this.s.dt.oInstance.fnColReorder(currIndex,i)}}(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing();this.s.dt.oInstance.oApi._fnSaveState(this.s.dt)},"_fnStateSave":function(oState){var i,iLen,iOrigColumn,oSettings=this.s.dt;for(i=0;i<oState.aaSorting.length;i++)oState.aaSorting[i][0]=oSettings.aoColumns[oState.aaSorting[i][0]]._ColReorder_iOrigCol;aSearchCopy=$.extend(!0,[],oState.aoSearchCols);oState.ColReorder=[];for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++){iOrigColumn=oSettings.aoColumns[i]._ColReorder_iOrigCol;oState.aoSearchCols[iOrigColumn]=aSearchCopy[i];oState.abVisCols[iOrigColumn]=oSettings.aoColumns[i].bVisible;oState.ColReorder.push(iOrigColumn)}},"_fnMouseListener":function(i,nTh){var that=this;$(nTh).unbind("mousemove.ColReorder");$(nTh).unbind("mousedown.ColReorder");this.s.allowResize&&$(nTh).bind("mousemove.ColReorder",function(e){var nThTarget,offset,nLength;if(null===that.dom.drag&&null===that.dom.resize){nThTarget="TH"==e.target.nodeName?e.target:$(e.target).parents("TH")[0];offset=$(nThTarget).offset();nLength=$(nThTarget).innerWidth();Math.abs(e.pageX-Math.round(offset.left+nLength))<=5?$(nThTarget).css({"cursor":"col-resize"}):$(nThTarget).css({"cursor":"pointer"})}});$(nTh).bind("mousedown.ColReorder",function(e){that._fnMouseDown.call(that,e,nTh,i)})},"_fnMouseDown":function(e,nTh,i){var nThNext,nThTarget,offset,iToPoint,iLen,that=this,aoColumns=this.s.dt.aoColumns;if("col-resize"==$(nTh).css("cursor")){this.s.mouse.startX=e.pageX;this.s.mouse.startWidth=$(nTh).width();this.s.mouse.resizeElem=$(nTh);nThNext=$(nTh).next();this.s.mouse.nextStartWidth=$(nThNext).width();that.dom.resize=!0;this.s.dt.aoColumns[i].bSortable=!1;this.s.dt.oFeatures.bAutoWidth=!1}else if(this.s.allowReorder){that.dom.resize=null;nThTarget="TH"==e.target.nodeName?e.target:$(e.target).parents("TH")[0];offset=$(nThTarget).offset();this.s.mouse.startX=e.pageX;this.s.mouse.startY=e.pageY;this.s.mouse.offsetX=e.pageX-offset.left;this.s.mouse.offsetY=e.pageY-offset.top;this.s.mouse.target=nTh;this.s.mouse.targetIndex=$("th",nTh.parentNode).index(nTh);this.s.mouse.fromIndex=this.s.dt.oInstance.oApi._fnVisibleToColumnIndex(this.s.dt,this.s.mouse.targetIndex);this.s.aoTargets.splice(0,this.s.aoTargets.length);this.s.aoTargets.push({"x":$(this.s.dt.nTable).offset().left,"to":0});iToPoint=0;for(i=0,iLen=aoColumns.length;iLen>i;i++){i!=this.s.mouse.fromIndex&&iToPoint++;aoColumns[i].bVisible&&this.s.aoTargets.push({"x":$(aoColumns[i].nTh).offset().left+$(aoColumns[i].nTh).outerWidth(),"to":iToPoint})}0!==this.s.fixed&&this.s.aoTargets.splice(0,this.s.fixed)}d=$(".modal",top.document).size()>0?top.document:document;$(d).bind("mousemove.ColReorder",function(e){if(!that.s)return;that._fnMouseMove.call(that,e,i)});$(d).bind("mouseup.ColReorder",function(e){setTimeout(function(){that._fnMouseUp.call(that,e,i)},10)})},"_fnMouseMove":function(e,colResized){var nTh,nThNext,moveLength,visibleColumnIndex,currentColumnIndex,bSet,i,iLen,scrollXEnabled=""===this.s.dt.oInit.sScrollX?!1:!0;this.table_size<0&&scrollXEnabled&&void 0!=$("div.dataTables_scrollHead",this.s.dt.nTableWrapper)&&$("div.dataTables_scrollHead",this.s.dt.nTableWrapper).length>0&&(this.table_size=$($("div.dataTables_scrollHead",this.s.dt.nTableWrapper)[0].childNodes[0].childNodes[0]).width());if(this.dom.resize){nTh=this.s.mouse.resizeElem;nThNext=$(nTh).next();moveLength=e.pageX-this.s.mouse.startX;0==moveLength||scrollXEnabled||$(nThNext).width(this.s.mouse.nextStartWidth-moveLength);this.s.mouse.startWidth+moveLength>5&&$(nTh).width(this.s.mouse.startWidth+moveLength);scrollXEnabled&&void 0!=$("div.dataTables_scrollHead",this.s.dt.nTableWrapper)&&$("div.dataTables_scrollHead",this.s.dt.nTableWrapper).length>0&&$($("div.dataTables_scrollHead",this.s.dt.nTableWrapper)[0].childNodes[0].childNodes[0]).width(this.table_size+moveLength);if(null!=$("div.dataTables_scrollBody",this.s.dt.nTableWrapper)&&$("div.dataTables_scrollBody",this.s.dt.nTableWrapper).length>0){visibleColumnIndex=-1;for(currentColumnIndex=-1;currentColumnIndex<this.s.dt.aoColumns.length-1&&currentColumnIndex!=colResized;currentColumnIndex++)this.s.dt.aoColumns[currentColumnIndex+1].bVisible&&visibleColumnIndex++;tableScroller=$("div.dataTables_scrollBody",this.s.dt.nTableWrapper)[0];scrollingTableHead=$(tableScroller)[0].childNodes[0].childNodes[0].childNodes[0];0!=moveLength&&!scrollXEnabled&&this.s.mouse.nextStartWidth-moveLength>5&&$($(scrollingTableHead)[0].childNodes[visibleColumnIndex+1]).width(this.s.mouse.nextStartWidth-moveLength);this.s.mouse.startWidth+moveLength>5&&$($(scrollingTableHead)[0].childNodes[visibleColumnIndex]).width(this.s.mouse.startWidth+moveLength);scrollXEnabled&&$($(tableScroller)[0].childNodes[0]).width(this.table_size+moveLength)}return}if(this.s.allowReorder){if(null===this.dom.drag){if(Math.pow(Math.pow(e.pageX-this.s.mouse.startX,2)+Math.pow(e.pageY-this.s.mouse.startY,2),.5)<5)return;this._fnCreateDragNode()}this.dom.drag.style.left=e.pageX-this.s.mouse.offsetX+"px";this.dom.drag.style.top=e.pageY-this.s.mouse.offsetY+"px";bSet=!1;for(i=1,iLen=this.s.aoTargets.length;iLen>i;i++)if(e.pageX<this.s.aoTargets[i-1].x+(this.s.aoTargets[i].x-this.s.aoTargets[i-1].x)/2){this.dom.pointer.style.left=this.s.aoTargets[i-1].x+"px";this.s.mouse.toIndex=this.s.aoTargets[i-1].to;bSet=!0;break}if(!bSet){this.dom.pointer.style.left=this.s.aoTargets[this.s.aoTargets.length-1].x+"px";this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to}}},"_fnMouseUp":function(e,colResized){var i,currentColumn,nextVisibleColumnIndex,previousVisibleColumnIndex,scrollXEnabled;d=$(".modal",top.document).size()>0?top.document:document;$(d).unbind("mousemove.ColReorder");$(d).unbind("mouseup.ColReorder");if(null!==this.dom.drag){d.body.removeChild(this.dom.drag);d.body.removeChild(this.dom.pointer);this.dom.drag=null;this.dom.pointer=null;this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex);(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing();null!==this.s.dropCallback&&this.s.dropCallback.call(this);this._fnConstruct();this.s.dt.oInstance.oApi._fnSaveState(this.s.dt)}else if(null!==this.dom.resize){this.s.dt.aoColumns[colResized].bSortable=!0;this.s.dt.aoColumns[colResized].sWidth=$(this.s.mouse.resizeElem).width()+"px";scrollXEnabled=""===this.s.dt.oInit.sScrollX?!1:!0;if(!scrollXEnabled){for(nextVisibleColumnIndex=colResized+1;nextVisibleColumnIndex<this.s.dt.aoColumns.length&&!this.s.dt.aoColumns[nextVisibleColumnIndex].bVisible;nextVisibleColumnIndex++);for(previousVisibleColumnIndex=colResized-1;previousVisibleColumnIndex>=0&&!this.s.dt.aoColumns[previousVisibleColumnIndex].bVisible;previousVisibleColumnIndex--);if(this.s.dt.aoColumns.length>nextVisibleColumnIndex)this.s.dt.aoColumns[nextVisibleColumnIndex].sWidth=$(this.s.mouse.resizeElem).next().width()+"px";else{currentColumn=this.s.mouse.resizeElem;for(i=previousVisibleColumnIndex;i>0;i--)if(this.s.dt.aoColumns[i].bVisible){currentColumn=$(currentColumn).prev();this.s.dt.aoColumns[i].sWidth=$(currentColumn).width()+"px"}}}scrollXEnabled&&void 0!=$("div.dataTables_scrollHead",this.s.dt.nTableWrapper)&&$("div.dataTables_scrollHead",this.s.dt.nTableWrapper).length>0&&(this.table_size=$($("div.dataTables_scrollHead",this.s.dt.nTableWrapper)[0].childNodes[0].childNodes[0]).width());this.s.dt.isDraggedOrColVis=!0;this.s.dt.oInstance.oApi._fnSaveState(this.s.dt);this.s.dt.isDraggedOrColVis=!1;this.s.fnMouseUpCallback()}this.dom.resize=null},"_fnCreateDragNode":function(){var that=this;this.dom.drag=$(this.s.dt.nTHead.parentNode).clone(!0)[0];this.dom.drag.className+=" DTCR_clonedTable";for(;this.dom.drag.getElementsByTagName("caption").length>0;)this.dom.drag.removeChild(this.dom.drag.getElementsByTagName("caption")[0]);for(;this.dom.drag.getElementsByTagName("tbody").length>0;)this.dom.drag.removeChild(this.dom.drag.getElementsByTagName("tbody")[0]);for(;this.dom.drag.getElementsByTagName("tfoot").length>0;)this.dom.drag.removeChild(this.dom.drag.getElementsByTagName("tfoot")[0]);$("thead tr:eq(0)",this.dom.drag).each(function(){$("th:not(:eq("+that.s.mouse.targetIndex+"))",this).remove()});$("tr",this.dom.drag).height($("tr:eq(0)",that.s.dt.nTHead).height());$("thead tr:gt(0)",this.dom.drag).remove();$("thead th:eq(0)",this.dom.drag).each(function(i){this.style.width=$("th:eq("+that.s.mouse.targetIndex+")",that.s.dt.nTHead).width()+"px"});this.dom.drag.style.position="absolute";this.dom.drag.style.zIndex=1200;this.dom.drag.style.top="0px";this.dom.drag.style.left="0px";this.dom.drag.style.width=$("th:eq("+that.s.mouse.targetIndex+")",that.s.dt.nTHead).outerWidth()+"px";d=$(".modal",top.document).size()>0?top.document:document;this.dom.pointer=d.createElement("div");this.dom.pointer.className="DTCR_pointer";this.dom.pointer.style.position="absolute";if(""===this.s.dt.oScroll.sX&&""===this.s.dt.oScroll.sY){this.dom.pointer.style.top=$(this.s.dt.nTable).offset().top+"px";this.dom.pointer.style.height=$(this.s.dt.nTable).height()+"px"}else{this.dom.pointer.style.top=$("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top+"px";this.dom.pointer.style.height=$("div.dataTables_scroll",this.s.dt.nTableWrapper).height()+"px"}d=$(".modal",top.document).size()>0?top.document:document;d.body.appendChild(this.dom.pointer);d.body.appendChild(this.dom.drag)},"_fnDestroy":function(){for(var i=0,iLen=ColReorder.aoInstances.length;iLen>i;i++)if(ColReorder.aoInstances[i]===this){ColReorder.aoInstances.splice(i,1);break}$(this.s.dt.nTHead).find("*").unbind(".ColReorder");this.s.dt.oInstance._oPluginColReorder=null;this.s=null}};ColReorder.aoInstances=[];ColReorder.fnReset=function(oTable){for(var i=0,iLen=ColReorder.aoInstances.length;iLen>i;i++)ColReorder.aoInstances[i].s.dt.oInstance==oTable&&ColReorder.aoInstances[i].fnReset()};ColReorder.prototype.CLASS="ColReorder";ColReorder.VERSION="1.0.7";ColReorder.prototype.VERSION=ColReorder.VERSION;"function"==typeof $.fn.dataTable&&"function"==typeof $.fn.dataTableExt.fnVersionCheck&&$.fn.dataTableExt.fnVersionCheck("1.9.3")?$.fn.dataTableExt.aoFeatures.push({"fnInit":function(oDTSettings){var opts,oTable=oDTSettings.oInstance;if("undefined"==typeof oTable._oPluginColReorder){opts="undefined"!=typeof oDTSettings.oInit.oColReorder?oDTSettings.oInit.oColReorder:{};oTable._oPluginColReorder=new ColReorder(oDTSettings,opts)}else oTable.oApi._fnLog(oDTSettings,1,"ColReorder attempted to initialise twice. Ignoring second");return null},"cFeature":"R","sFeature":"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.9.3 or greater - www.datatables.net/download")})(jQuery,window,document);define("tiny-lib/ColReorderWithResize",["tiny-lib/jquery.dataTables"],function(){});(function($){ColVis=function(oDTSettings,oInit){this.CLASS&&"ColVis"==this.CLASS||alert("Warning: ColVis must be initialised with the keyword 'new'");"undefined"==typeof oInit&&(oInit={});this.s={"dt":null,"oInit":oInit,"fnStateChange":null,"activate":"click","sAlign":"left","buttonText":"Show / hide columns","colVisText":"","hidden":!0,"aiExclude":[],"abOriginal":[],"bShowAll":!1,"sShowAll":"Show All","bRestore":!1,"sRestore":"Restore original","iOverlayFade":500,"fnLabel":null,"sSize":"auto","bCssPosition":!1};this.dom={"wrapper":null,"button":null,"collection":null,"background":null,"catcher":null,"buttons":[],"restore":null};ColVis.aInstances.push(this);this.s.dt=oDTSettings;this._fnConstruct();return this};ColVis.prototype={"fnRebuild":function(){for(var i=this.dom.buttons.length-1;i>=0;i--)null!==this.dom.buttons[i]&&this.dom.collection.removeChild(this.dom.buttons[i]);this.dom.buttons.splice(0,this.dom.buttons.length);this.dom.restore&&this.dom.restore.parentNode(this.dom.restore);this._fnAddButtons();this._fnDrawCallback()},"_fnConstruct":function(){var that,i,iLen;this._fnApplyCustomisation();that=this;this.dom.wrapper=document.createElement("div");this.dom.wrapper.className="ColVis TableTools";this.dom.button=this._fnDomBaseButton(this.s.buttonText);this.dom.button.className+=" ColVis_MasterButton ti ti-config";$(this.dom.button).attr("title",this.s.colVisText);this.dom.wrapper.appendChild(this.dom.button);this.dom.catcher=this._fnDomCatcher();this.dom.collection=this._fnDomCollection();this.dom.background=this._fnDomBackground();this._fnAddButtons();for(i=0,iLen=this.s.dt.aoColumns.length;iLen>i;i++)this.s.abOriginal.push(this.s.dt.aoColumns[i].bVisible);this.s.dt.aoDrawCallback.push({"fn":function(){that._fnDrawCallback.call(that)},"sName":"ColVis"});$(this.s.dt.oInstance).bind("column-reorder",function(e,oSettings,oReorder){for(i=0,iLen=that.s.aiExclude.length;iLen>i;i++)that.s.aiExclude[i]=oReorder.aiInvertMapping[that.s.aiExclude[i]];var mStore=that.s.abOriginal.splice(oReorder.iFrom,1)[0];that.s.abOriginal.splice(oReorder.iTo,0,mStore);that.fnRebuild()})},"_fnApplyCustomisation":function(){var oConfig=this.s.oInit;"undefined"!=typeof oConfig.activate&&(this.s.activate=oConfig.activate);"undefined"!=typeof oConfig.buttonText&&(this.s.buttonText=oConfig.buttonText);"undefined"!=typeof oConfig.colVisText&&(this.s.colVisText=oConfig.colVisText);"undefined"!=typeof oConfig.aiExclude&&(this.s.aiExclude=oConfig.aiExclude);"undefined"!=typeof oConfig.bRestore&&(this.s.bRestore=oConfig.bRestore);"undefined"!=typeof oConfig.sRestore&&(this.s.sRestore=oConfig.sRestore);"undefined"!=typeof oConfig.bShowAll&&(this.s.bShowAll=oConfig.bShowAll);"undefined"!=typeof oConfig.sShowAll&&(this.s.sShowAll=oConfig.sShowAll);"undefined"!=typeof oConfig.sAlign&&(this.s.sAlign=oConfig.sAlign);"undefined"!=typeof oConfig.fnStateChange&&(this.s.fnStateChange=oConfig.fnStateChange);"undefined"!=typeof oConfig.iOverlayFade&&(this.s.iOverlayFade=oConfig.iOverlayFade);"undefined"!=typeof oConfig.fnLabel&&(this.s.fnLabel=oConfig.fnLabel);"undefined"!=typeof oConfig.sSize&&(this.s.sSize=oConfig.sSize);"undefined"!=typeof oConfig.bCssPosition&&(this.s.bCssPosition=oConfig.bCssPosition)},"_fnDrawCallback":function(){var i,iLen,aoColumns=this.s.dt.aoColumns;for(i=0,iLen=aoColumns.length;iLen>i;i++)null!==this.dom.buttons[i]&&(aoColumns[i].bVisible?$("span.ColVis_radio",this.dom.buttons[i]).removeClass("Radio_unchecked").addClass("Radio_checked"):$("span.ColVis_radio",this.dom.buttons[i]).removeClass("Radio_checked").addClass("Radio_unchecked"))},"_fnAddButtons":function(){var nButton,i,iLen,sExclude=","+this.s.aiExclude.join(",")+",";for(i=0,iLen=this.s.dt.aoColumns.length;iLen>i;i++)if(-1==sExclude.indexOf(","+i+",")){nButton=this._fnDomColumnButton(i);this.dom.buttons.push(nButton);this.dom.collection.appendChild(nButton)}else this.dom.buttons.push(null);if(this.s.bRestore){nButton=this._fnDomRestoreButton();nButton.className+=" ColVis_Restore";this.dom.buttons.push(nButton);this.dom.collection.appendChild(nButton)}if(this.s.bShowAll){nButton=this._fnDomShowAllButton();nButton.className+=" ColVis_ShowAll";this.dom.buttons.push(nButton);this.dom.collection.appendChild(nButton)}},"_fnDomRestoreButton":function(){var that=this,nButton=document.createElement("button"),nSpan=document.createElement("span");nButton.className=this.s.dt.bJUI?"ColVis_Button TableTools_Button ui-button ui-state-default":"ColVis_Button TableTools_Button";nButton.appendChild(nSpan);$(nSpan).html('<span class="ColVis_title">'+this.s.sRestore+"</span>");$(nButton).click(function(e){that.s.dt.clickColVis=!0;for(var i=0,iLen=that.s.abOriginal.length;iLen>i;i++)that.s.dt.oInstance.fnSetColumnVis(i,that.s.abOriginal[i],!1);that._fnAdjustOpenRows();that.s.dt.oInstance.fnAdjustColumnSizing(!1);that.s.dt.oInstance.fnDraw(!1);that.s.dt.restoreColVis=!0;that.s.dt.oInstance.fnSetColumnVis();that.s.dt.restoreColVis=!1;that.s.dt.clickColVis=!1});return nButton},"_fnDomShowAllButton":function(){var that=this,nButton=document.createElement("button"),nSpan=document.createElement("span");nButton.className=this.s.dt.bJUI?"ColVis_Button TableTools_Button ui-button ui-state-default":"ColVis_Button TableTools_Button";nButton.appendChild(nSpan);$(nSpan).html('<span class="ColVis_title">'+this.s.sShowAll+"</span>");$(nButton).click(function(e){for(var i=0,iLen=that.s.abOriginal.length;iLen>i;i++)-1===that.s.aiExclude.indexOf(i)&&that.s.dt.oInstance.fnSetColumnVis(i,!0,!1);that._fnAdjustOpenRows();that.s.dt.oInstance.fnAdjustColumnSizing(!1);that.s.dt.oInstance.fnDraw(!1)});return nButton},"_fnDomColumnButton":function(i){var sTitle,that=this,oColumn=this.s.dt.aoColumns[i],nButton=document.createElement("button"),nSpan=document.createElement("span"),dt=this.s.dt;nButton.style.width="auto";nSpan.style.width="auto";nButton.className=dt.bJUI?"ColVis_Button TableTools_Button ui-button ui-state-default":"ColVis_Button TableTools_Button";nButton.appendChild(nSpan);sTitle=null===this.s.fnLabel?oColumn.sTitle:this.s.fnLabel(i,oColumn.sTitle,oColumn.nTh);$(nSpan).html('<span class="ColVis_radio Radio_checked"></span><span class="ColVis_title">'+sTitle+"</span>");$(nButton).click(function(e){var $radioBtn,showHide,oldIndex;that.s.dt.clickColVis=!0;$radioBtn=$("span.ColVis_radio",this);showHide=$radioBtn.hasClass("Radio_checked");showHide?$radioBtn.removeClass("Radio_checked").addClass("Radio_unchecked"):$radioBtn.removeClass("Radio_unchecked").addClass("Radio_checked");showHide=!showHide;oldIndex=$.fn.dataTableExt.iApiIndex;$.fn.dataTableExt.iApiIndex=that._fnDataTablesApiIndex.call(that);if(!dt.oFeatures.bServerSide||""===dt.oScroll.sX&&""===dt.oScroll.sY)that.s.dt.oInstance.fnSetColumnVis(i,showHide);else{that.s.dt.oInstance.fnSetColumnVis(i,showHide,!1);that.s.dt.oInstance.fnAdjustColumnSizing(!1);that.s.dt.oInstance.oApi._fnScrollDraw(that.s.dt);that._fnDrawCallback()}$.fn.dataTableExt.iApiIndex=oldIndex;null!==that.s.fnStateChange&&that.s.fnStateChange.call(that,i,showHide);that.s.dt.clickColVis=!1});return nButton},"_fnDataTablesApiIndex":function(){for(var i=0,iLen=this.s.dt.oInstance.length;iLen>i;i++)if(this.s.dt.oInstance[i]==this.s.dt.nTable)return i;return 0},"_fnDomBaseButton":function(text){var that=this,nButton=document.createElement("div"),nSpan=document.createElement("span"),sEvent="mouseover"==this.s.activate?"mouseover":"click";nButton.className=this.s.dt.bJUI?"ColVis_Button TableTools_Button ui-button ui-state-default":"ColVis_Button TableTools_Button";nButton.appendChild(nSpan);nSpan.innerHTML=text;$(nButton).bind(sEvent,function(e){that._fnCollectionShow();e.preventDefault()});return nButton},"_fnDomCollection":function(){var nHidden=document.createElement("div");nHidden.style.display="none";nHidden.className=this.s.dt.bJUI?"ColVis_collection TableTools_collection ui-buttonset ui-buttonset-multi":"ColVis_collection TableTools_collection";this.s.bCssPosition||(nHidden.style.position="absolute");$(nHidden).css("opacity",0);return nHidden},"_fnDomCatcher":function(){var that=this,nCatcher=document.createElement("div");nCatcher.className="ColVis_catcher TableTools_catcher";$(nCatcher).click(function(){that._fnCollectionHide.call(that,null,null)});return nCatcher},"_fnDomBackground":function(){var that=this,nBackground=document.createElement("div");nBackground.style.position="absolute";nBackground.style.left="0px";nBackground.style.top="0px";nBackground.className="ColVis_collectionBackground TableTools_collectionBackground";$(nBackground).css("opacity",0);$(nBackground).click(function(){that._fnCollectionHide.call(that,null,null)});"mouseover"==this.s.activate&&$(nBackground).mouseover(function(){that.s.overcollection=!1;that._fnCollectionHide.call(that,null,null)});return nBackground},"_fnCollectionShow":function(){var i,iLen,iWinHeight,iDocHeight,iWinWidth,iDocWidth,oStyle,aiSizes,iLeft,iDivWidth,that=this,oPos=$(this.dom.button).offset(),nHidden=this.dom.collection,nBackground=this.dom.background,iDivX=parseInt(oPos.left,10),iDivY=parseInt(oPos.top+$(this.dom.button).outerHeight(),10);if(!this.s.bCssPosition){nHidden.style.top=iDivY+"px";nHidden.style.left=iDivX+"px"}nHidden.style.display="block";$(nHidden).css("opacity",0);iWinHeight=$(window).height(),iDocHeight=$(document).height(),iWinWidth=$(window).width(),
iDocWidth=$(document).width();nBackground.style.height=(iWinHeight>iDocHeight?iWinHeight:iDocHeight)+"px";nBackground.style.width=(iDocWidth>iWinWidth?iWinWidth:iDocWidth)+"px";oStyle=this.dom.catcher.style;oStyle.height=$(this.dom.button).outerHeight()+"px";oStyle.width=$(this.dom.button).outerWidth()+"px";oStyle.top=oPos.top+"px";oStyle.left=iDivX+"px";document.body.appendChild(nBackground);document.body.appendChild(nHidden);document.body.appendChild(this.dom.catcher);if("auto"==this.s.sSize){aiSizes=[];this.dom.collection.style.width="auto";for(i=0,iLen=this.dom.buttons.length;iLen>i;i++)if(null!==this.dom.buttons[i]){this.dom.buttons[i].style.width="auto";aiSizes.push($(this.dom.buttons[i]).outerWidth())}iMax=Math.max.apply(window,aiSizes);for(i=0,iLen=this.dom.buttons.length;iLen>i;i++)null!==this.dom.buttons[i]&&(this.dom.buttons[i].style.width=iMax+"px");this.dom.collection.style.width=iMax+"px"}if(!this.s.bCssPosition){iDivWidth=$(nHidden).outerWidth();if("left"===this.s.sAlign){iDocWidth=$(document).width();iLeft=iDivX+iDivWidth>iDocWidth?iDocWidth-iDivWidth:iDivX}else iLeft=iDivX-iDivWidth+$(this.dom.button).outerWidth()+10;nHidden.style.left=iLeft+"px"}setTimeout(function(){$(nHidden).animate({"opacity":1},that.s.iOverlayFade);$(nBackground).animate({"opacity":.1},that.s.iOverlayFade,"linear",function(){jQuery.browser.msie&&"6.0"==jQuery.browser.version&&that._fnDrawCallback()})},10);this.s.hidden=!1},"_fnCollectionHide":function(){var that=this;if(!this.s.hidden&&null!==this.dom.collection){this.s.hidden=!0;$(this.dom.collection).animate({"opacity":0},that.s.iOverlayFade,function(e){this.style.display="none"});$(this.dom.background).animate({"opacity":0},that.s.iOverlayFade,function(e){document.body.removeChild(that.dom.background);document.body.removeChild(that.dom.catcher)})}},"_fnAdjustOpenRows":function(){var i,iLen,aoOpen=this.s.dt.aoOpenRows,iVisible=this.s.dt.oApi._fnVisbleColumns(this.s.dt);for(i=0,iLen=aoOpen.length;iLen>i;i++)aoOpen[i].nTr.getElementsByTagName("td")[0].colSpan=iVisible}};ColVis.fnRebuild=function(oTable){var i,iLen,nTable=null;"undefined"!=typeof oTable&&(nTable=oTable.fnSettings().nTable);for(i=0,iLen=ColVis.aInstances.length;iLen>i;i++)("undefined"==typeof oTable||nTable==ColVis.aInstances[i].s.dt.nTable)&&ColVis.aInstances[i].fnRebuild()};ColVis.aInstances=[];ColVis.prototype.CLASS="ColVis";ColVis.VERSION="1.0.8";ColVis.prototype.VERSION=ColVis.VERSION;"function"==typeof $.fn.dataTable&&"function"==typeof $.fn.dataTableExt.fnVersionCheck&&$.fn.dataTableExt.fnVersionCheck("1.7.0")?$.fn.dataTableExt.aoFeatures.push({"fnInit":function(oDTSettings){var init="undefined"==typeof oDTSettings.oInit.oColVis?{}:oDTSettings.oInit.oColVis,oColvis=new ColVis(oDTSettings,init);oDTSettings.tinyColvis=oColvis;return oColvis.dom.wrapper},"cFeature":"C","sFeature":"ColVis"}):alert("Warning: ColVis requires DataTables 1.7 or greater - www.datatables.net/download")})(jQuery);define("tiny-lib/ColVis",["tiny-lib/jquery.dataTables"],function(){});define("tiny-widgets/Table",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/jquery.dataTables","tiny-widgets/Pagination","tiny-lib/Class","tiny-lib/underscore","tiny-widgets/Widget","tiny-lib/ColReorderWithResize","tiny-lib/ColVis","tiny-common/util","tiny-widgets/Searchbox"],function(angular,jquery,datatable,Pagination,Class,_,Widget,ColReorderWithResize,ColVis,util,Searchbox){var language,SWITCH_DETAIL_CLASS,DETAIL_ROW_CLASS,DEFAULT_CONFIG,DEFAULT_DATATABLE_CONFIG,Table;$.fn.extend({"addTitle":function(){var $this=$(this);$this.attr("title",$this.text());return $this}});language=tinyLanguage.language;SWITCH_DETAIL_CLASS="btn_detail_switch";DETAIL_ROW_CLASS="info_row";DEFAULT_CONFIG={"template":'<div class="tinyTablediv" id="<%=id%>" ><div class="tinyTable_tablecaption"></div><table class="tinyTable"> <thead></thead> <tbody> </tbody> </table></div>',"display":!0,"caption":"","columns":[],"data":[],"isDraggedRemember":!1,"enable-pagination":!0,"pagination-style":"simple","length-change":!0,"length-menu":[10,25,50,100],"display-length":10,"enable-filter":!1,"hide-total-records":!1,"total-items":0,"cur-page":{"pageIndex":1},"renderRow":function(nRow,aData,iDataIndex){},"callback":function(evtObj){},"changeSelect":null,"request-config":{"enableRefresh":!1,"refreshInterval":3e4,"sAjaxDataProp":""},"columns-visibility":!1,"columns-draggable":!1,"show-details":!1,"closeOthersDetails":!1,"column-sorting":[],"getDataList":"","tips":!0};DEFAULT_DATATABLE_CONFIG={"aaSorting":[],"aaData":[],"aoColumns":[],"bPaginate":!1,"sPaginationType":"simple","bLengthChange":!1,"aLengthMenu":[10,25,50,100],"bHideGotoPanel":!1,"iDisplayLength":10,"bFilter":!1,"bAutoWidth":!1,"invalidDataMask":"","sDom":"lfrtip","bSort":!0,"refreshStopped":!1,"bInfo":!1,"lastResponseData":{},"oLanguage":{"sEmptyTable":language.emptyTable}};$.fn.dataTableExt.oPagination.simple={"fnInit":function(oSettings,nPaging,fnCallbackDraw){var options={"type":oSettings.sPaginationType,"prev-text":"上一页","next-text":"下一页","hide-display-length":!oSettings.oInit.bPageSizeChange,"hide-total-records":oSettings.oInit.bHideTotalRecords,"cur-page":oSettings.oInit.curPage,"total-records":_.isUndefined(oSettings.oInit.totalRecords)?oSettings.aiDisplayMaster.length:oSettings.oInit.totalRecords,"display":oSettings.bPaginate,"display-length":oSettings._iDisplayLength,"callback":function(obj){var widgetObj,$detailsTd;oSettings.oApi._fnPageChange(oSettings,obj.currentPage-1);fnCallbackDraw(oSettings);if(""!=arguments[1]&&oSettings.oInit.callback){oSettings.oApi._fnDraw(oSettings);oSettings.oInit.callback(obj)}widgetObj=$(oSettings.nTableWrapper.parentNode).widget();if(widgetObj){widgetObj.dataTableConfig.curPage={"pageIndex":obj.currentPage};widgetObj.options["cur-page"].pageIndex=obj.currentPage}oSettings.oInit.curPage.pageIndex=obj.currentPage;$detailsTd=$(oSettings.nTBody).find("tr>td.info_row");$detailsTd.each(function(index,td){td.colSpan=oSettings.oApi._fnVisbleColumns(oSettings)})},"length-options":oSettings.aLengthMenu},pag=new Pagination(options);oSettings.pag=pag;$(nPaging).append(pag.getDom())},"fnUpdate":function(oSettings,fnCallbackDraw){}};$.fn.dataTableExt.oPagination.fullnumbers={"fnInit":function(oSettings,nPaging,fnCallbackDraw){var options={"type":"full_numbers","prev-text":"上一页","next-text":"下一页","hide-display-length":!oSettings.oInit.bPageSizeChange,"hide-total-records":oSettings.oInit.bHideTotalRecords,"hide-goto-panel":oSettings.oInit.bHideGotoPanel,"total-records":_.isUndefined(oSettings.oInit.totalRecords)?oSettings.aiDisplayMaster.length:oSettings.oInit.totalRecords,"cur-page":oSettings.oInit.curPage,"display":oSettings.bPaginate,"display-length":oSettings._iDisplayLength,"callback":function(obj){var widgetObj,$detailsTd;oSettings.oApi._fnPageChange(oSettings,obj.currentPage-1);fnCallbackDraw(oSettings);if(""!=arguments[1]&&oSettings.oInit.callback){oSettings.oApi._fnDraw(oSettings);oSettings.oInit.callback(obj)}widgetObj=$(oSettings.nTableWrapper.parentNode).widget();if(widgetObj){widgetObj.dataTableConfig.curPage={"pageIndex":obj.currentPage};widgetObj.options["cur-page"].pageIndex=obj.currentPage}oSettings.oInit.curPage.pageIndex=obj.currentPage;$detailsTd=$(oSettings.nTBody).find("tr>td.info_row");$detailsTd.each(function(index,td){td.colSpan=oSettings.oApi._fnVisbleColumns(oSettings)})},"change-select":function(obj){var changeSelectBind,bindParams,widgetObj;oSettings._iDisplayLength=obj.displayLength;oSettings.oApi._fnCalculateEnd(oSettings);if(oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()){oSettings._iDisplayStart=oSettings.fnDisplayEnd()-oSettings._iDisplayLength;oSettings._iDisplayStart<0&&(oSettings._iDisplayStart=0)}-1==oSettings._iDisplayLength&&(oSettings._iDisplayStart=0);oSettings.oApi._fnDraw(oSettings);changeSelectBind=oSettings.oInit.changeSelectBind;bindParams=oSettings.oInit.bindParams;bindParams&&(bindParams.newVal=obj.displayLength);"function"==typeof changeSelectBind&&changeSelectBind.apply(bindParams,void 0);oSettings.oInit.changeSelect&&oSettings.oInit.changeSelect(obj);widgetObj=$(oSettings.nTableWrapper.parentNode).widget();if(widgetObj){widgetObj.options["display-length"]=obj.displayLength;widgetObj.dataTableConfig.iDisplayLength=obj.displayLength}},"length-options":oSettings.aLengthMenu},pag=new Pagination(options);oSettings.pag=pag;$(nPaging).append(pag.getDom())},"fnUpdate":function(oSettings,fnCallbackDraw){}};$.fn.dataTableExt.fnGenerateSearchbox=function(oSettings){var options={"id":oSettings.nTable.id+"_searchbox","width":"200px"},searchbox=new Searchbox(options);return searchbox};Table=Widget.extend({"init":function(options){var el,widgetThis=this;widgetThis.id=_.uniqueId("tinyTableId_");widgetThis._super(_.extend({},angular.copy(DEFAULT_CONFIG),options));widgetThis._initDataTableConfig(widgetThis.options);if(widgetThis.options.id){el=$("#"+widgetThis.options.id);el[0]&&el.append(widgetThis._element);el=null}widgetThis._setTableCaption(widgetThis.options.caption);widgetThis._updateTable();widgetThis._toggleCss();widgetThis._doOpButtonsDomInit()},"_addBehavior":function(){var widgetThis=this;widgetThis._element.on("$destroy",function(){widgetThis.destroy()})},"_getTableoInit":function(){var widgetThis=this,$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$dataTable=$dataTable.dataTable();return $dataTable},"getOSettings":function(){var widgetThis=this,oInit=widgetThis._getTableoInit();return oInit.fnSettings()},"_fnDrawCallback":function(oSetting){var $table,drawCallback,widgetThis=this,aaData=widgetThis.getTableData(),isDataWithTinyChecked=_.find(aaData,function(aData){return $.isPlainObject(aData)&&aData.hasOwnProperty("tinyChecked")});if(!isDataWithTinyChecked){$table=$(oSetting.nTable);$table.find(".dataTables_checkboxs").removeClass("table_checkbox_select");$table.find("tr.odd,tr.even").removeClass("clickTrColor");$table.find(".dataTables_checkbox_title").attr("class","dataTables_checkbox_title")}widgetThis.Initopts.bColVis&&widgetThis._locateColvisBtn.call(widgetThis,oSetting);drawCallback=widgetThis.options.drawCallback;_.isUndefined(drawCallback)||"function"!=typeof drawCallback||drawCallback.call(null,oSetting);$("th:has(span.sorting_disabled)",widgetThis._element).css("cursor","default");setTimeout(function(){widgetThis._setHeadLabelsStyle()},0);widgetThis.options.checkbox&&widgetThis._doAllCheckState()},"_setHeadLabelsStyle":function(){var $singleDom,maxWidth,iconWidth,i,widgetThis=this,$th=$("th:has(div.tiny-th-content)",widgetThis._element),titleLen=$th.length;for(i=0;titleLen>i;i++){$singleDom=$($th[i]);iconWidth=$("span",$singleDom).width();maxWidth=$singleDom.width();$("label",$singleDom).css("max-width",maxWidth-iconWidth+"px").addClass("tiny-table-title-label")}},"_locateColvisBtn":function(oSetting){var widgetThis=this,nColVis=$("div.ColVis",oSetting.nTableWrapper)[0];nColVis.style.width="16px";nColVis.style.top=widgetThis.Initopts.bcolDrag?$("div.dataTables_scroll",oSetting.nTableWrapper).position().top+"px":$("table.tinyTable",oSetting.nTableWrapper).position().top+"px";nColVis.style.right="0px";nColVis.style.position="absolute";nColVis.style.height="25px"},"_doCheckboxInit":function(config){function isCheckBoxExisted(config){var CheckBoxExistedArr=_.filter(config.aoColumns,function(columnItem){return-1!==columnItem.sTitle.indexOf("class='dataTables_checkbox_title'")});if(0===CheckBoxExistedArr.length)return!1;return!0}var marginLeft,sWidth,showDetails,oCheckboxColums,widgetThis=this;if(isCheckBoxExisted(config))return;marginLeft="0px";sWidth="30px";showDetails=widgetThis.dataTableConfig.showDetails;if(("true"===String(showDetails)||showDetails&&$.isPlainObject(showDetails)&&(0===showDetails.colIndex||"undefined"==typeof showDetails.colIndex))&&"true"===String(widgetThis.options.checkbox)){marginLeft="26px";sWidth="63px"}oCheckboxColums={"sTitle":"<div class='tiny-th-checkbox-wrapper'><div style='margin-left: "+marginLeft+"'class='dataTables_checkbox_title' ></div></div>","mData":function(){return"<div style='margin-left: "+marginLeft+"'class='dataTables_checkboxs' ></div>"},"bSortable":!1,"sWidth":sWidth,"bDraggable":!1};config.aoColumns.unshift(oCheckboxColums)},"_setSelectRow":function($tr,isEnforceDraw){var bRowSelected,$checkboxs,widgetThis=this,aData=widgetThis.getTableData($tr[0]),bCheckboxDisabled=aData?aData.tinyCheckDisabled:!1;if(bCheckboxDisabled&&!isEnforceDraw)return;bRowSelected=$tr.hasClass("clickTrColor");$checkboxs=$tr.find(".dataTables_checkboxs");widgetThis.options.checkbox&&$checkboxs.addClass("table_checkbox_select");bRowSelected||$tr.addClass("clickTrColor");bCheckboxDisabled&&!$checkboxs.hasClass("table_checkbox_disable")&&$checkboxs.addClass("table_checkbox_disable");$.isPlainObject(aData)&&aData.hasOwnProperty("tinyChecked")&&(aData.tinyChecked=!0)},"_setCheckboxState":function(bAllChe,trSiblings){var widgetThis=this;bAllChe?_.each(trSiblings,function(element,index){widgetThis._cancelSelectRow($(element))}):_.each(trSiblings,function(element,index){widgetThis._setSelectRow($(element))});widgetThis._doAllCheckState()},"_setThCheckboxState":function(bAllChe,nAllCheckbox){bAllChe?nAllCheckbox.removeClass("table_checkbox_select"):nAllCheckbox.addClass("table_checkbox_select")},"_cancelSelectRow":function($tr,isEnforceDraw){var bRowSelected,$checkboxs,widgetThis=this,aData=widgetThis.getTableData($tr[0]),bCheckboxDisabled=aData?aData.tinyCheckDisabled:!1;if(bCheckboxDisabled&&!isEnforceDraw)return;bRowSelected=$tr.hasClass("clickTrColor");$checkboxs=$tr.find(".dataTables_checkboxs");$checkboxs.removeClass("table_checkbox_select");bRowSelected&&$tr.removeClass("clickTrColor");bCheckboxDisabled&&!$checkboxs.hasClass("table_checkbox_disable")&&$checkboxs.addClass("table_checkbox_disable");$.isPlainObject(aData)&&aData.hasOwnProperty("tinyChecked")&&(aData.tinyChecked=!1)},"_doCheckboxsHandle":function($td,$tr,event){var aData,bCheckboxDisabled,widgetThis=this,bselect=$td.find(".dataTables_checkboxs").hasClass("table_checkbox_select");bselect?widgetThis._cancelSelectRow($tr):widgetThis._setSelectRow($tr);widgetThis._doAllCheckState();if("function"==typeof widgetThis.options.tBodyCheckboxFn){aData=widgetThis.getTableData($tr[0]);bCheckboxDisabled=aData?aData.tinyCheckDisabled:!1;bCheckboxDisabled||widgetThis.options.tBodyCheckboxFn(!bselect,event,aData)}},"_doAllCheckState":function(){var nTable,nAll,widgetThis=this,iSelect=widgetThis._getSelectedNums(),iCurrent=widgetThis._getCurrentNums(),oSetting=widgetThis.getOSettings();nTable=oSetting.nScrollHead?$(oSetting.nScrollHead).find("table.tinyTable"):oSetting.nTable;nAll=$(nTable).find(".dataTables_checkbox_title");nAll.removeClass("table_checkbox_select");nAll.removeClass("table_part_select");if(0===iSelect)return;iSelect==iCurrent?nAll.addClass("table_checkbox_select"):iCurrent>iSelect&&iSelect>0&&nAll.addClass("table_part_select")},"_doCheckbosxOther":function($tr,$trSiblings){var aData,widgetThis=this;$trSiblings.removeClass("clickTrColor");$trSiblings.find(".dataTables_checkboxs").removeClass("table_checkbox_select");_.each($trSiblings,function(tr,key){aData=widgetThis.getTableData(tr);$.isPlainObject(aData)&&aData.hasOwnProperty("tinyChecked")&&(aData.tinyChecked=!1)});widgetThis._setSelectRow($tr)},"_getSelectedNums":function(){var widgetThis=this,oSetting=widgetThis.getOSettings(),nTable=oSetting.nTable;return $(nTable).find("td .table_checkbox_select").length},"_getCurrentNums":function(){var widgetThis=this,oSetting=widgetThis.getOSettings(),nTable=oSetting.nTable;return $(nTable).find(".dataTables_checkboxs").length},"_isAllCheckedWithoutDisabled":function(){var widgetThis=this,oSetting=widgetThis.getOSettings(),nTable=oSetting.nTable,totalUnCheckedNum=$(nTable).find(".dataTables_checkboxs:not(.table_checkbox_select)").length,disabledUnCheckedNum=$(nTable).find(".dataTables_checkboxs.table_checkbox_disable:not(.table_checkbox_select)").length;if(totalUnCheckedNum===disabledUnCheckedNum)return!0;return!1},"_doOpAreaInit":function(config){var oOpAreaColums={"sTitle":"","mData":function(){return'<div class="dataTables_opArea"></div>'},"bSortable":!1};config.aoColumns.push(oOpAreaColums)},"_doOpButtonsDomInit":function(){function getOption(){return widgetThis.options.opAreaConfig}function doMoreButton(aoOption){var size=aoOption.length,oMoreButton={"template":'<div class="moreButton"></div>',"clickActive":function(){var nSub=widgetThis._oPAreaElement.find(".OpButton_panel_sub");nSub.toggle()},"id":widgetThis.options.id+"_MoreButton"};size>4&&aoOption.splice(4,0,oMoreButton)}function initDom(aoOption){var nDiv=$('<div class="OpButton_main"></div>'),nDivPanel=$('<div class="OpButton_panel"></div>'),nDivSubPanel=$('<div class="OpButton_panel_sub"></div>'),ntriangle=$('<div class="OpButton_triangle"></div>'),oEvent={};_.each(aoOption,function(element,index){5>index?addButtonDiv(nDivPanel,element):addButtonDiv(nDivSubPanel,element);oEvent=getEventObjs(oEvent,element)});proxyEvent(nDiv,oEvent);nDivSubPanel.append(ntriangle);nDiv.append(nDivPanel);nDiv.append(nDivSubPanel);nTableDiv.append(nDiv);widgetThis._oPAreaElement=nDiv}function addButtonDiv(nSuper,oConfig){var sTemplate=oConfig.template,sID=oConfig.id,nSubButtonDiv=$('<div class="sub_OpButton"></div>'),nButtonDiv=$('<div class="OpButton"></div>');nSubButtonDiv.prop("id",sID);nSubButtonDiv.html(sTemplate);nButtonDiv.append(nSubButtonDiv);nSuper.append(nButtonDiv)}function getEventObjs(oEvent,oConfig){var sID=oConfig.id,fClickActive=oConfig.clickActive,obj={};obj[sID]=fClickActive;return _.extend(oEvent,obj)}function proxyEvent(nElement,oEvent){nElement.on("click","div[class=sub_OpButton]",function(event){var nSrc=$(this),sID=$(nSrc).attr("id");oEvent[sID]&&oEvent[sID].apply()});nElement.on("mouseover","div",function(){widgetThis._doOpElementShow(!0);widgetThis._lastHoverTr.addClass("Table_hover")});nElement.on("mouseleave","div",function(){widgetThis._doOpElementShow(!1);widgetThis._lastHoverTr.removeClass("Table_hover")})}var aoOption,nTableDiv,widgetThis=this;widgetThis._oPAreaElement&&widgetThis._oPAreaElement.remove();aoOption=getOption();if(void 0==aoOption)return;nTableDiv=widgetThis._element;doMoreButton(aoOption);initDom(aoOption)},"_doOpElementShow":function(isshow,nTr){var widgetThis=this,nOp=widgetThis._oPAreaElement;if(isshow){nOp.show();nTr&&nTr.addClass("Table_hover")}else{nOp.hide();nTr&&nTr.removeClass("Table_hover")}},"_doOpAreaHandle":{"mouseover":function(widgetThis,nNode){var src,nTarget,oPosition,height,elePos;if(void 0==widgetThis.options.opAreaConfig||nNode.is("tr:has(td.info_row)")||0!==nNode.find(".dataTables_empty").length)return;src=nNode;nTarget=src.find("div[class=dataTables_opArea]");oPosition=nTarget.position();height=widgetThis._oPAreaElement.height();elePos={"top":oPosition.top-height/2};widgetThis._lastHoverTr&&widgetThis._lastHoverTr[0]!==nNode[0]&&widgetThis._doOpElementShow(!1,widgetThis._lastHoverTr);widgetThis._doOpElementShow(!0,nNode);widgetThis._oPAreaElement.css(elePos)},"mouseleave":function(widgetThis,nNode){if(void 0==widgetThis.options.opAreaConfig)return;widgetThis._doOpElementShow(!1,nNode);widgetThis._lastHoverTr=nNode},"click":function(widgetThis){widgetThis.options.opAreaConfig&&widgetThis._doOpElementShow(!1)}},"_toggleCss":function(){var tableIndex,widgetThis=this;if(widgetThis.Initopts.bcolDrag){widgetThis._element.on("mouseover","table.tinyTable:eq(1)>thead>tr>th",function(){var tableArr,tableThis,tableThisClass,nTrs,ColIndex=$(this).index();if("false"===String(widgetThis.dataTableConfig.aoColumns[ColIndex].bDraggable))return;tableArr=$(this).parent().parent().parent().parent().parent().parent();tableThis=tableArr.find("div.dataTables_scrollBody:first");tableThisClass=_.uniqueId("tableThis-");tableThis.addClass(tableThisClass);nTrs=$("div."+tableThisClass+">table.tinyTable>tbody>tr:not(tr:has(td.info_row))");$(this).css("border-right","1px dotted #000");_.each(nTrs,function(trElement){$(trElement.children[ColIndex]).css("border-right","1px dotted #000")});tableThis.removeClass(tableThisClass)});widgetThis._element.on("mouseleave","table.tinyTable:eq(1)>thead>tr>th",function(){var tableArr,tableThis,tableThisClass,nTrs,ColIndex=$(this).index();if("false"===String(widgetThis.dataTableConfig.aoColumns[ColIndex].bDraggable))return;tableArr=$(this).parent().parent().parent().parent().parent().parent();tableThis=tableArr.find("div.dataTables_scrollBody:first");tableThisClass=_.uniqueId("tableThis-");tableThis.addClass(tableThisClass);nTrs=$("div."+tableThisClass+">table.tinyTable>tbody>tr:not(tr:has(td.info_row))");$(this).css("border-right-color","transparent");_.each(nTrs,function(trElement){$(trElement.children[ColIndex]).css("border-right-color","transparent")});tableThis.removeClass(tableThisClass)});widgetThis._element.on("mouseup","table.tinyTable:eq(1)>thead>tr>th",function(){var nTrs,ColIndex=$(this).index();if("false"===String(widgetThis.dataTableConfig.aoColumns[ColIndex].bDraggable))return;nTrs=$("tr",widgetThis._element);$(this).css("border-right-color","transparent");_.each(nTrs,function(trElement){$(trElement.children[ColIndex]).css("border-right-color","transparent")})});widgetThis._element.on("click","table.tinyTable:eq(1)>thead>tr>th",function(){var tableArr,tableThis,tableThisClass,nTrs,ColIndex=$(this).index();if("false"===String(widgetThis.dataTableConfig.aoColumns[ColIndex].bDraggable))return;tableArr=$(this).parent().parent().parent().parent().parent().parent();tableThis=tableArr.find("div.dataTables_scrollBody:first");tableThisClass=_.uniqueId("tableThis-");tableThis.addClass(tableThisClass);nTrs=$("div."+tableThisClass+">table.tinyTable>tbody>tr:not(tr:has(td.info_row))");$(this).css("border-right","1px dotted #000");_.each(nTrs,function(trElement){$(trElement.children[ColIndex]).css("border-right","1px dotted #000")});tableThis.removeClass(tableThisClass)})}widgetThis._element.on("click","td.tiny-tdStyle",function(event){var oSetting,oData,$td=$(this),nTr=$(this).parent("tr")[0],$tr=$(nTr),trSiblings=$tr.siblings();if($tr.is("tr:has(td.info_row)")||$td.hasClass("dataTables_empty"))return;oSetting=widgetThis.getOSettings();if(!widgetThis.options.checkbox){trSiblings.removeClass("clickTrColor");$tr.addClass("clickTrColor")}oData=oSetting.oInstance.fnGetData(nTr);widgetThis.trigger("cellClickActive",[event,oData]);widgetThis.options.cellClickActive&&widgetThis.options.cellClickActive.call(this,event,oData)});if(widgetThis.options.checkbox){widgetThis._element.on("click","div.dataTables_checkbox_title",function(event){var bAllChe,oSetting=widgetThis.getOSettings(),trSiblings=$(oSetting.nTable).find("tr.odd,tr.even").filter(":not(:has(.dataTables_empty))"),nAllCheckbox=$(this);if(0===trSiblings.length){bAllChe=nAllCheckbox.hasClass("table_checkbox_select");widgetThis._setThCheckboxState(bAllChe,nAllCheckbox)}else{bAllChe=widgetThis._isAllCheckedWithoutDisabled();widgetThis._setCheckboxState(bAllChe,trSiblings)}widgetThis.options.tHeadCheckboxFn&&widgetThis.options.tHeadCheckboxFn(!bAllChe,event)});widgetThis._element.on("click","td.tiny-tdStyle .dataTables_checkboxs",function(event){var $td=$(this).parent("td"),$tr=$td.parent("tr");widgetThis._doCheckboxsHandle($td,$tr,event)})}widgetThis._element.on("mouseover","tr:has(td.tiny-tdStyle)",function(event){widgetThis._doOpAreaHandle.mouseover(widgetThis,$(this))});if("true"===String(widgetThis.options.tips)){tableIndex=widgetThis.tableIndex-1;widgetThis._element.on("mouseenter","table.tinyTable:eq("+tableIndex+")>tbody>tr>td:not('.info_row')",_.partial(widgetThis._setTips,_,"tBody"));widgetThis._element.on("mouseenter","table.tinyTable:eq(1)>thead>tr>th",_.partial(widgetThis._setTips,_,"head"))}widgetThis._element.on("mouseleave","tr:has(td.tiny-tdStyle)",function(event){widgetThis._doOpAreaHandle.mouseleave(widgetThis,$(this))})},"_setTips":function(evt,flag){var maxWidth,textWidth,iconWidth,$contentNodeTmp,element=$(this),canFocusedElem=element.find(":tabbable"),$childrenATag=element.find("a");if(canFocusedElem.length&&$childrenATag.length<1)return;element.removeAttr("title");if("head"===flag){iconWidth=$("span",element).width();$contentNodeTmp=element.clone();$("label",$contentNodeTmp).css({"overflow":"visible","max-width":"none"});$("body").append($contentNodeTmp);textWidth=$("label",$contentNodeTmp).width();$contentNodeTmp.remove();maxWidth=element.width()-iconWidth}else{if("false"===element.attr("autotip"))return;$contentNodeTmp=element.clone();$contentNodeTmp.css("overflow","visible");$contentNodeTmp.css("display","none");$("body").append($contentNodeTmp);textWidth=$contentNodeTmp.width();$contentNodeTmp.remove();maxWidth=element.width()}textWidth>maxWidth&&element.attr("title",element.text())},"getTableCheckedNums":function(){var widgetThis=this;return widgetThis._getSelectedNums()},"getTinyCheckedData":function(){var widgetThis=this,aoData=widgetThis.getTableData(),aaData=[];_.each(aoData,function(value,key){$.isPlainObject(value)&&value.tinyChecked===!0&&aaData.push(value)});return aaData},"getTableCheckedItems":function(){var widgetThis=this,oSetting=widgetThis.getOSettings(),aaData=[];$("table.tinyTable:lt("+widgetThis.tableIndex+"):last>tbody>tr.clickTrColor",widgetThis._element).each(function(){aaData.push(oSetting.oInstance.fnGetData(this))});return aaData},"setSelectedRow":function(key,value){var widgetThis=this,oSettings=widgetThis.getOSettings(),aoData=oSettings.aoData,userKey=key,userValue=value;_.each(aoData,function(value,key){value._aData&&value._aData[userKey]===userValue&&widgetThis._setSelectRow($(value.nTr),!0)});widgetThis._doAllCheckState()},"cancelSelectedRow":function(key,value){var widgetThis=this,oSettings=widgetThis.getOSettings(),aoData=oSettings.aoData,userKey=key,userValue=value;_.each(aoData,function(value,key){value._aData&&value._aData[userKey]===userValue&&widgetThis._cancelSelectRow($(value.nTr),!0)});widgetThis._doAllCheckState()},"refreshDataTable":function(){var defaultAjaxConfig,widgetThis=this;widgetThis.options.refreshStopped=!1;defaultAjaxConfig={};!_.isUndefined(widgetThis.options["request-config"].contentType)&&(defaultAjaxConfig.contentType=widgetThis.options["request-config"].contentType);!_.isUndefined(widgetThis.options["request-config"].httpMethod)&&(defaultAjaxConfig.type=widgetThis.options["request-config"].httpMethod);!_.isUndefined(widgetThis.options["request-config"].async)&&(defaultAjaxConfig.async=widgetThis.options["request-config"].async);!_.isUndefined(widgetThis.options["request-config"].dataType)&&(defaultAjaxConfig.dataType=widgetThis.options["request-config"].dataType);!_.isUndefined(widgetThis.options["request-config"].data)&&(defaultAjaxConfig.data=widgetThis.options["request-config"].data);!_.isUndefined(widgetThis.options["request-config"].url)&&(defaultAjaxConfig.url=widgetThis.options["request-config"].url);!_.isUndefined(widgetThis.options["request-config"].cache)&&(defaultAjaxConfig.cache=widgetThis.options["request-config"].cache);defaultAjaxConfig.success=widgetThis.getSuccessFn(widgetThis.options);defaultAjaxConfig.error=widgetThis.getSuccessFn(widgetThis.options);$.ajax(defaultAjaxConfig)},"getSuccessFn":function(options){var widgetThis=this;return options["request-config"]&&options["request-config"].success?_.bind(options["request-config"].success,widgetThis):_.bind(widgetThis.onResponseSuccess,widgetThis)},"getErrorFn":function(options){var widgetThis=this;return options["request-config"]&&options["request-config"].error?_.bind(options["request-config"].error,widgetThis):_.bind(widgetThis.onResponseError,widgetThis)},"generateRequestConfig":function(lastResponseData){var widgetThis=this;return{"url":widgetThis.options["request-config"].url,"data":widgetThis.options["request-config"].data}},"startRefresh":function(){var widgetThis=this;widgetThis.options.refreshStopped=!1;widgetThis.refreshDataTable()},"getDataFn":function(){var widgetThis=this;return widgetThis.options.getDataList?_.bind(widgetThis.options.getDataList,widgetThis):_.bind(widgetThis.getDataList,widgetThis)},"onResponseSuccess":function(resultData){var getDataList,responseData,$table,dataTableObj,isContinueRefresh,widgetThis=this;if(!resultData)return;getDataList=widgetThis.getDataFn();responseData=getDataList(resultData);$table=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());dataTableObj=$table.dataTable();widgetThis.dataTableConfig.showDetails?widgetThis.handleDetailData(responseData,$table,dataTableObj):widgetThis.handleResponseData(responseData);if(widgetThis.options["request-config"].enableRefresh){isContinueRefresh=widgetThis.checkContinueRefresh();isContinueRefresh&&widgetThis.startRefreshTimeout()}widgetThis.lastResponseData=resultData},"handleResponseData":function(responseData){var widgetThis=this;widgetThis._setOption("data",responseData)},"handleDetailData":function(currentSteps,$table,dataTableObj){var trArr,widgetThis=this;if(!_.isArray(currentSteps)||currentSteps.length<=0)return;if(!widgetThis.dataTableConfig.showDetails){dataTableObj.fnAddData(currentSteps);return}trArr=$table.find("tbody tr").filter(".even,.odd").filter(":not(:has(.dataTables_empty))");_.each(currentSteps,function(step,index){var tr,detail;if(index<trArr.length){tr=trArr[index];if(dataTableObj.fnIsOpen(tr)){widgetThis.options.renderRow.apply(widgetThis,[tr,step,index,!0]);if("url"===step.detail.contentType){detail=$("<div class='td-padding'></div>").html("");$(tr).next().find("."+DETAIL_ROW_CLASS).html(detail).append("<div class='detail-background-after'></div>").prepend("<div class='detail-background-before'></div>");$(".td-padding",$(tr).next()).load(step.detail.content)}else{detail=$("<div class='td-padding'></div>").html(step.detail.content);$(tr).next().find("."+DETAIL_ROW_CLASS).html(detail).append("<div class='detail-background-after'></div>").prepend("<div class='detail-background-before'></div>")}}else widgetThis.options.renderRow.apply(widgetThis,[tr,step,index]);tr=null}else dataTableObj.fnAddData(step)})},"setRenderRowFn":function(optRenderRow){var widgetThis=this,renderFn=function(nRow,aData,iDataIndex){var widgetThis=this;"function"==typeof optRenderRow&&optRenderRow.apply(widgetThis,arguments);widgetThis.dataTableConfig.showDetails&&widgetThis.renderDetailTd.apply(widgetThis,arguments);widgetThis.options.checkbox&&widgetThis.renderCheckboxTd.apply(widgetThis,arguments)};widgetThis.dataTableConfig.fnCreatedRow=_.bind(renderFn,widgetThis)},"renderCheckboxTd":function(nRow,aData,iDataIndex){var widgetThis=this;if(_.isUndefined(aData.tinyChecked)&&_.isUndefined(aData.tinyCheckDisabled))return;aData.tinyChecked===!0?widgetThis._setSelectRow($(nRow),!0):widgetThis._cancelSelectRow($(nRow),!0)},"renderDetailTd":function(nRow,aData,iDataIndex,opened){var detailDefaultDiv,isDetailInvisible,defaultStyle,widgetThis=this,$table=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom()),$detail_td=$("td:eq(0)",nRow),defaultDiv=[],detailColIndex=widgetThis.dataTableConfig.showDetails.colIndex,detailColDom="",domPendType=widgetThis.dataTableConfig.showDetails.domPendType,closeClick=(widgetThis.dataTableConfig.showDetails.openClick,widgetThis.dataTableConfig.showDetails.closeClick),closeId=widgetThis.dataTableConfig.showDetails.closeId,showDetails=widgetThis.dataTableConfig.showDetails;_.isUndefined(detailColIndex)||($detail_td=$(nRow).children("td:eq("+detailColIndex+")"));detailColDom=$detail_td.html();isDetailInvisible=!aData.detail||"false"===String(aData.detail.show);detailDefaultDiv=isDetailInvisible?"<div class='btn_detail_switch default_show_style tiny-table-detail-hide'></div>":"<div class='btn_detail_switch default_show_style ti ti-arrow-right'></div>";if("true"===String(showDetails))"true"===String(widgetThis.options.checkbox)?$detail_td.prepend($(detailDefaultDiv)):$detail_td.html(detailDefaultDiv);else switch(domPendType){case"append":$detail_td.prepend(detailDefaultDiv);break;case"prepend":$detail_td.append(detailDefaultDiv);break;case"nopend":
$detail_td.html(detailDefaultDiv);break;default:$detail_td.html(detailDefaultDiv);defaultStyle=opened?"default_hide_style":"default_show_style";$("div.btn_detail_switch",$detail_td).removeClass(defaultStyle).removeClass("ti ti-arrow-right").append(detailColDom);$("."+SWITCH_DETAIL_CLASS,nRow).length>1&&$("."+SWITCH_DETAIL_CLASS+":first",nRow).removeClass(SWITCH_DETAIL_CLASS)}isDetailInvisible||$("."+SWITCH_DETAIL_CLASS+":last",nRow).click(function(event){var $otherDetailsEl,$detail,$thisEl=$(this),jqEvent=event,dataTableObj=$table.dataTable(),nRow=$thisEl.parents("tr").get(0);if(dataTableObj.fnIsOpen(nRow)){$(nRow).next().remove();dataTableObj.fnClose(nRow);defaultDiv=$thisEl.parents("td:first").find("div.default_hide_style");defaultDiv.length>0&&defaultDiv.removeClass("default_hide_style ti-arrow-down").addClass("default_show_style ti-arrow-right");_.isUndefined(closeClick)||closeClick(jqEvent,aData)}else{if("true"===String(widgetThis.options.closeOthersDetails)){$otherDetailsEl=$("."+SWITCH_DETAIL_CLASS,$thisEl.parents("tr").parents("tbody"));widgetThis._closeOthersDetail($otherDetailsEl,event)}widgetThis._openDetail(nRow,event);$detail=$(".td-padding",$(nRow).next());_.isUndefined($("#"+closeId))||$("#"+closeId,$detail).click(function(){var $this=$(this),nRow=$this.parents("tr").prev().get(0);$(".btn_detail_switch:last",nRow).trigger("click")})}$thisEl=null;nRow=null;jqEvent=null;dataTableObj=null});nRow=null},"setOpenDetails":function(key,value){var nRow,aData,tableIndex,$trElements,i,trElementLen,widgetThis=this;if("undefined"==typeof value||"undefined"==typeof key)return;tableIndex=widgetThis.tableIndex-1;$trElements=$("table.tinyTable:eq("+tableIndex+")>tbody>tr",widgetThis._element);for(i=0,trElementLen=$trElements.length;trElementLen>i;i++){nRow=$trElements[i];aData=widgetThis.getTableData(nRow);aData[key]===value&&widgetThis._openDetail(nRow)}},"_openDetail":function(nRow,event){var aData,beforeOpenClick,$detail,openClick,widgetThis=this,$table=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom()),dataTableObj=$table.dataTable();if(dataTableObj.fnIsOpen(nRow))return;aData=widgetThis.getTableData(nRow);beforeOpenClick=widgetThis.dataTableConfig.showDetails&&widgetThis.dataTableConfig.showDetails.beforeOpenClick;"function"==typeof beforeOpenClick&&beforeOpenClick(event,aData);$detail=$("<div class='td-padding'></div>");if(_.isUndefined(aData.detail))dataTableObj.fnOpen(nRow,$detail,DETAIL_ROW_CLASS);else if("url"===aData.detail.contentType){dataTableObj.fnOpen(nRow,$detail,DETAIL_ROW_CLASS);"function"==typeof aData.detail.completeFn?$(".td-padding",$(nRow).next()).load(aData.detail.content,aData.detail.completeFn):$(".td-padding",$(nRow).next()).load(aData.detail.content)}else{$detail.html(aData.detail.content);dataTableObj.fnOpen(nRow,$detail,DETAIL_ROW_CLASS)}$(nRow).next().find("."+DETAIL_ROW_CLASS).append("<div class='detail-background-after'></div>").prepend("<div class='detail-background-before'></div>");$defaultDiv=$("div.default_show_style",$(nRow));$defaultDiv.length>0&&$defaultDiv.removeClass("default_show_style ti-arrow-right").addClass("default_hide_style ti-arrow-down");openClick=widgetThis.dataTableConfig.showDetails&&widgetThis.dataTableConfig.showDetails.openClick;"function"==typeof openClick&&openClick(event,aData)},"_closeOthersDetail":function($otherDetailsEl,event){var nRow,$thisEl,defaultDiv,aData,i,closeClick,widgetThis=this,$table=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom()),dataTableObj=$table.dataTable(),elementsLength=$otherDetailsEl.length;for(i=0;elementsLength>i;i++){$thisEl=$($otherDetailsEl[i]);nRow=$thisEl.parents("tr").get(0);if(!dataTableObj.fnIsOpen(nRow))continue;dataTableObj.fnClose(nRow);defaultDiv=$thisEl.parents("td:first").find("div.default_hide_style");defaultDiv.length>0&&defaultDiv.removeClass("default_hide_style ti-arrow-down").addClass("default_show_style ti-arrow-right");closeClick=widgetThis.dataTableConfig.showDetails&&widgetThis.dataTableConfig.showDetails.closeClick;if("function"==typeof closeClick){aData=widgetThis.getTableData(nRow);closeClick(event,aData)}}},"onResponseError":function(error,msg){alert("Get table data failed:"+error.status+", "+msg)},"getDataList":function(responseData){var prop,data,widgetThis=this;if(!responseData)return null;prop=widgetThis.options["request-config"].sAjaxDataProp;data=responseData[prop];return data},"checkContinueRefresh":function(){var widgetThis=this;return!widgetThis.options.refreshStopped&&widgetThis.options["request-config"].enableRefresh&&widgetThis.getRefreshInterval()>0},"getRefreshInterval":function(){var widgetThis=this;return widgetThis.options["request-config"].refreshInterval},"startRefreshTimeout":function(){var widgetThis=this;widgetThis.refreshTimeoutId=window.setTimeout(function(){widgetThis.refreshDataTable()},widgetThis.getRefreshInterval())},"stopRefresh":function(){var widgetThis=this;window.clearTimeout(widgetThis.refreshTimeoutId);widgetThis.options.refreshStopped=!0},"_initDataTableConfig":function(option){var widgetThis=this;widgetThis.dataTableConfig=$.extend(!0,{},DEFAULT_DATATABLE_CONFIG);widgetThis.dataTableConfig.isDraggedRemember="true"===String(option.isDraggedRemember)?!0:!1;widgetThis.Initopts={"bColVis":!1,"bcolDrag":!1};$.isPlainObject(option.tableLanguage)&&(widgetThis.dataTableConfig.oLanguage=$.extend(!0,widgetThis.dataTableConfig.oLanguage,option.tableLanguage));widgetThis.tableIndex=2;!_.isUndefined(option.id)&&(widgetThis.dataTableConfig.wrapperId=option.id);!_.isUndefined(option.data)&&(widgetThis.dataTableConfig.aaData=$.extend(!0,[],option.data));!_.isUndefined(option.columns)&&(widgetThis.dataTableConfig.aoColumns=$.extend(!0,[],option.columns));_.isUndefined(option.enablePagination)?_.isUndefined(option["enable-pagination"])||(widgetThis.dataTableConfig.bPaginate=option["enable-pagination"]):widgetThis.dataTableConfig.bPaginate=option.enablePagination;if(_.isUndefined(option.lengthChange)){if(!_.isUndefined(option["length-change"])){widgetThis.dataTableConfig.bPageSizeChange=option["length-change"];widgetThis.dataTableConfig.bLengthChange=!1}}else{widgetThis.dataTableConfig.bPageSizeChange=option.lengthChange;widgetThis.dataTableConfig.bLengthChange=!1}_.isUndefined(option.hideTotalRecords)?_.isUndefined(option["hide-total-records"])||(widgetThis.dataTableConfig.bHideTotalRecords=option["hide-total-records"]):widgetThis.dataTableConfig.bHideTotalRecords=option.hideTotalRecords;_.isUndefined(option.hideGotoPanel)?_.isUndefined(option["hide-goto-panel"])||(widgetThis.dataTableConfig.bHideGotoPanel=option["hide-goto-panel"]):widgetThis.dataTableConfig.bHideGotoPanel=option.hideGotoPanel;_.isUndefined(option.lengthMenu)?_.isUndefined(option["length-menu"])||(widgetThis.dataTableConfig.aLengthMenu=$.extend(!0,[],option["length-menu"])):widgetThis.dataTableConfig.aLengthMenu=$.extend(!0,[],option.lengthMenu);if(_.isUndefined(option.displayLength))_.isUndefined(option["display-length"])||(widgetThis.dataTableConfig.iDisplayLength=option["display-length"]);else{widgetThis.dataTableConfig.iDisplayLength=option.displayLength;option["display-length"]=option.displayLength}if(_.isUndefined(option.totalRecords)){if(!_.isUndefined(option["total-records"])){widgetThis.dataTableConfig.totalRecords=option["total-records"];widgetThis.dataTableConfig.totalItems=option["total-records"]}}else{widgetThis.dataTableConfig.totalRecords=option.totalRecords;widgetThis.dataTableConfig.totalItems=option.totalRecords}_.isUndefined(option.curPage)?_.isUndefined(option["cur-page"])||(widgetThis.dataTableConfig.curPage=$.extend(!0,{},option["cur-page"])):widgetThis.dataTableConfig.curPage=$.extend(!0,{},option.curPage);_.isUndefined(option.enableFilter)?_.isUndefined(option["enable-filter"])||(widgetThis.dataTableConfig.bFilter=option["enable-filter"]):widgetThis.dataTableConfig.bFilter=option.enableFilter;_.isUndefined(option.columnSorting)?_.isUndefined(option["column-sorting"])||(widgetThis.dataTableConfig.aaSorting=$.extend(!0,[],option["column-sorting"])):widgetThis.dataTableConfig.aaSorting=$.extend(!0,[],option.columnSorting);_.isUndefined(option.paginationStyle)?_.isUndefined(option["pagination-style"])||(widgetThis.dataTableConfig.sPaginationType=widgetThis._getPaginationStyle(option["pagination-style"])):widgetThis.dataTableConfig.sPaginationType=widgetThis._getPaginationStyle(option.paginationStyle);_.isUndefined(option.showDetails)?widgetThis.dataTableConfig.showDetails=_.isUndefined(option["show-details"])?!1:option["show-details"]:widgetThis.dataTableConfig.showDetails=option.showDetails;widgetThis.setRenderRowFn(option.renderRow);_.isUndefined(option.callback)?widgetThis.dataTableConfig.callback=function(evtObj){}:widgetThis.dataTableConfig.callback=option.callback;_.isUndefined(option.changeSelect)||(widgetThis.dataTableConfig.changeSelect=option.changeSelect);"true"===String(widgetThis.options.checkbox)&&widgetThis._doCheckboxInit(widgetThis.dataTableConfig);_.isUndefined(option.columnsDraggable)?widgetThis.setColDrag(option["columns-draggable"],widgetThis.dataTableConfig):widgetThis.setColDrag(option.columnsDraggable,widgetThis.dataTableConfig);_.isUndefined(option.columnsVisibility)?widgetThis.setColVis(option["columns-visibility"],widgetThis.dataTableConfig,widgetThis.Initopts.bcolDrag):widgetThis.setColVis(option.columnsVisibility,widgetThis.dataTableConfig,widgetThis.Initopts.bcolDrag);0==widgetThis.dataTableConfig.bPaginate&&(widgetThis.dataTableConfig.iDisplayLength=1e10);_.isUndefined(option.opAreaConfig)?_.isUndefined(option["op-area-config"])||widgetThis._doOpAreaInit(widgetThis.dataTableConfig):widgetThis._doOpAreaInit(widgetThis.dataTableConfig);_.isUndefined(option.sortCallback)||"function"!=typeof option.sortCallback||(widgetThis.dataTableConfig.sortCallback=option.sortCallback);_.isUndefined(option.invalidDataMask)||(widgetThis.dataTableConfig.invalidDataMask=option.invalidDataMask);widgetThis.dataTableConfig.fnDrawCallback=_.bind(widgetThis._fnDrawCallback,widgetThis)},"setColDrag":function(draggable,dataTableConfig){var sDomStrLen,widgetThis=this,initDragSet=widgetThis.Initopts.bcolDrag;widgetThis.dataTableConfig.draggedData=[{"tableWidth":-1,"initWidth":-1,"isDraggedChange":!1}];!_.isUndefined(widgetThis.dataTableConfig.aoColumns)&&(widgetThis.dataTableConfig.draggedColumns=$.extend(!0,[],widgetThis.dataTableConfig.aoColumns))&&(widgetThis.dataTableConfig.initColumns=$.extend(!0,[],widgetThis.dataTableConfig.aoColumns));if(draggable&&!initDragSet){dataTableConfig.sDom+="R";dataTableConfig.sScrollX="100%";widgetThis.tableIndex=3;widgetThis.Initopts.bcolDrag=!0;widgetThis.dataTableConfig.oColReorder={"fnMouseUpCallback":widgetThis._setHeadLabelsStyle}}else if(!draggable&&initDragSet){sDomStrLen=dataTableConfig.sDom.length;dataTableConfig.sDom=dataTableConfig.sDom.substring(0,sDomStrLen-1);delete dataTableConfig.sScrollX}},"setColVis":function(colVis,dataTableConfig,draggable){var ColVisSet,oStr,widgetThis=this,initColVis=widgetThis.Initopts.bColVis;(util.isTrue(colVis)||null!=colVis&&"object"==typeof colVis)&&(ColVisSet=!0);oStr={};if(ColVisSet&&!initColVis){if(-1==dataTableConfig.sDom.indexOf("C")){oStr=widgetThis._getFrontAndEndStr(dataTableConfig.sDom,"t");oStr&&(dataTableConfig.sDom=oStr.frontStr+"tC"+oStr.endStr)}dataTableConfig.oColVis={"sAlign":"right","buttonText":"<div></div>","sRestore":language.colVisRestore,"colVisText":language.colVisText};"object"==typeof colVis&&_.extend(dataTableConfig.oColVis,colVis,{"buttonText":"<div></div>"});widgetThis.Initopts.bColVis=!0}else if(!ColVisSet&&initColVis){oStr=widgetThis._getFrontAndEndStr(dataTableConfig.sDom,"C");oStr&&(dataTableConfig.sDom=oStr.frontStr+oStr.endStr);delete dataTableConfig.oColVis}},"_getFrontAndEndStr":function(mainStr,searchStr){var oStr,foundOffset=mainStr.indexOf(searchStr);if(-1==foundOffset)return null;oStr={};oStr.frontStr=mainStr.substring(0,foundOffset);oStr.endStr=mainStr.substring(foundOffset+searchStr.length,mainStr.length);return oStr},"_setTableCaption":function(value){var widgetThis=this;$(".tinyTable_tablecaption",widgetThis.getDom()).text(value);_.isUndefined(value)||""==value?$(".tinyTable_tablecaption",widgetThis.getDom())[0].style.padding="0px":$(".tinyTable_tablecaption",widgetThis.getDom())[0].style.padding="5px"},"_updateTable":function(){var $thead,aoColumns,widgetThis=this,$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$.fn.DataTable.fnIsDataTable($dataTable.get(0))&&widgetThis.destroy();$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$thead=$dataTable.find("thead");$thead.html("");widgetThis.getDom().append('<table class="tinyTable"> <thead></thead> <tbody> </tbody> </table>');$dataTable.find("tbody").html("");widgetThis._setPaginationDisplay();$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());if(!$.fn.DataTable.fnIsDataTable($dataTable.get(0))){aoColumns=widgetThis.dataTableConfig.aoColumns;_.isArray(aoColumns)&&aoColumns.length>0&&$dataTable.dataTable(widgetThis.dataTableConfig)}},"_setPaginationDisplay":function(){var minDisplayLength,displayLen,widgetThis=this;if("auto"!==widgetThis.options["enable-pagination"]&&"auto"!==widgetThis.options.enablePagination)return;minDisplayLength=widgetThis.dataTableConfig.aLengthMenu.sort(function(a,b){return+a-+b})[0];displayLen=widgetThis.dataTableConfig.iDisplayLength;minDisplayLength=displayLen>minDisplayLength?minDisplayLength:displayLen;widgetThis.dataTableConfig.totalRecords<=minDisplayLength?widgetThis.dataTableConfig.bPaginate=!1:widgetThis.dataTableConfig.bPaginate=!0},"_updateBody":function(){var dataTableObj,aaData,widgetThis=this,$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());if($.fn.DataTable.fnIsDataTable($dataTable.get(0))){dataTableObj=$dataTable.dataTable();dataTableObj.fnClearTable();aaData=widgetThis.dataTableConfig.aaData;aaData&&dataTableObj.fnAddData(aaData)}},"addTableRows":function(){var widgetThis=this;$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$dataTable=$dataTable.dataTable();$dataTable.fnAddData.apply($dataTable,arguments);widgetThis.options.data=widgetThis.getTableData();widgetThis.dataTableConfig.aaData=widgetThis.options.data},"closeRowDetails":function(){var widgetThis=this;$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$dataTable=$dataTable.dataTable();$dataTable.fnClose.apply($dataTable,arguments)},"deleteTableRow":function(){var widgetThis=this;$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$dataTable=$dataTable.dataTable();$dataTable.fnDeleteRow.apply($dataTable,arguments);widgetThis.options.data=widgetThis.getTableData();widgetThis.dataTableConfig.aaData=widgetThis.options.data},"getTableData":function(){var widgetThis=this;$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$dataTable=$dataTable.dataTable();return $dataTable.fnGetData.apply($dataTable,arguments)},"clearTable":function(){var widgetThis=this;$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$dataTable=$dataTable.dataTable();$dataTable.fnClearTable.apply($dataTable,arguments);widgetThis.options.data=widgetThis.getTableData();widgetThis.dataTableConfig.aaData=widgetThis.options.data},"update":function(){var widgetThis=this;$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$dataTable=$dataTable.dataTable();$dataTable.fnUpdate.apply($dataTable,arguments);widgetThis.options.data=widgetThis.getTableData();arguments[3]!==!1&&widgetThis.option("data",widgetThis.options.data)},"destroy":function(){var oSettings,widgetThis=this,$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());try{$dataTable=$dataTable.dataTable();oSettings=widgetThis.getOSettings();oSettings.tinyColvis&&oSettings.tinyColvis._fnCollectionHide();$dataTable.fnDestroy(!0);$dataTable.remove()}catch(e){}},"getPosition":function(){var widgetThis=this;$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$dataTable=$dataTable.dataTable();return $dataTable.fnGetPosition.apply($dataTable,arguments)},"_changeTableLanguage":function(){var $dataTable,widgetThis=this,options=widgetThis.options;$.isPlainObject(options.tableLanguage)&&(widgetThis.dataTableConfig.oLanguage=$.extend(!0,widgetThis.dataTableConfig.oLanguage,options.tableLanguage));$dataTable=$("table.tinyTable:lt("+widgetThis.tableIndex+"):last",widgetThis.getDom());$dataTable.find(".dataTables_empty").html(widgetThis.dataTableConfig.oLanguage.sEmptyTable)},"_setOption":function(key,value){var widgetThis=this,wrapperHeight=widgetThis._element.height(),minHeight=widgetThis.options["enable-pagination"]?wrapperHeight+38:wrapperHeight;widgetThis._element.css("min-height",minHeight);widgetThis._super(key,value);switch(key){case"id":widgetThis._updateId(value);break;case"display":widgetThis._hideOrShowTable(value);break;case"caption":widgetThis._setTableCaption(value);break;case"column-sorting":widgetThis.dataTableConfig.aaSorting=$.extend(!0,[],value);widgetThis._updateTable();break;case"show-details":widgetThis.options["show-details"]=value;widgetThis._updateTable();break;case"columns":widgetThis.dataTableConfig.aoColumns=$.extend(!0,[],value);!_.isUndefined(widgetThis.dataTableConfig.draggedData)&&(widgetThis.dataTableConfig.draggedData[0].isDraggedChange=!1);"true"===String(widgetThis.options.checkbox)&&widgetThis._doCheckboxInit(widgetThis.dataTableConfig);widgetThis._updateTable();break;case"columns-visibility":widgetThis.setColVis(value,widgetThis.dataTableConfig);widgetThis._updateTable();break;case"renderRow":widgetThis.dataTableConfig.fnCreatedRow=value;widgetThis._updateTable();break;case"data":widgetThis.dataTableConfig.aaData=$.extend(!0,[],value);widgetThis._updateBody();break;case"hide-total-records":widgetThis.dataTableConfig.bHideTotalRecords=value;widgetThis._updateTable();break;case"total-records":widgetThis.dataTableConfig.totalItems=value;widgetThis.dataTableConfig.totalRecords=value;widgetThis._updateTable();break;case"cur-page":widgetThis.dataTableConfig.curPage=$.extend(!0,{},value);widgetThis._updateTable();break;case"enable-pagination":widgetThis.dataTableConfig.bPaginate=value;util.isTrue(value)?widgetThis.dataTableConfig.iDisplayLength=widgetThis.options["display-length"]?widgetThis.options["display-length"]:10:widgetThis.dataTableConfig.iDisplayLength=1e10;widgetThis._updateTable();break;case"pagination-style":widgetThis.dataTableConfig.sPaginationType=widgetThis._getPaginationStyle(value);widgetThis._updateTable();break;case"length-change":widgetThis.dataTableConfig.bPageSizeChange=value;widgetThis._updateTable();break;case"length-menu":widgetThis.dataTableConfig.aLengthMenu=$.extend(!0,[],value);widgetThis._updateTable();break;case"display-length":widgetThis.dataTableConfig.iDisplayLength=value;widgetThis._updateTable();break;case"enable-filter":widgetThis.dataTableConfig.bFilter=value;widgetThis._updateTable();break;case"opAreaConfig":widgetThis._doOpButtonsDomInit();break;case"tableLanguage":widgetThis._changeTableLanguage()}widgetThis._element.css("min-height",0);return},"_getPaginationStyle":function(styleName){return"simple"==styleName?styleName:"fullnumbers"},"_getPagination":function(){var widgetThis=this;return widgetThis.getDom().find(".eViewPagination_paginationContainer").widget()}});window.tinyWidget.Table=Table;return Table});define("tiny-directives/Table",["tiny-directives/Directive","tiny-widgets/Table","tiny-lib/underscore"],function(Directive,TableWidget,_){var DEFAULT_CONFIG={"directiveName":"tinyTable","widgetClass":TableWidget,"scope":{"id":"=","tableLanguage":"=","data":"=","columns":"=","caption":"=","enablePagination":"=","paginationStyle":"=","lengthChange":"=","lengthMenu":"=","displayLength":"=","enableFilter":"=","enableSort":"=","hideTotalRecords":"=","hideGotoPanel":"=","totalRecords":"=","callback":"=","curPage":"=","renderRow":"=","changeSelect":"=","requestConfig":"=","columnsVisibility":"=","columnsDraggable":"=","columnSorting":"=","showDetails":"=","closeOthersDetails":"=","cellClickActive":"=","opAreaConfig":"=","checkbox":"=","tHeadCheckboxFn":"=","tBodyCheckboxFn":"=","sortCallback":"=","drawCallback":"=","tips":"=","isDraggedRemember":"=","invalidDataMask":"="}},Table=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var changeSelectBind,bindParams,$tableDom,widgetObj,directiveThis=this,userOpts=_.pick(scope,_.keys(attrMap));directiveThis.widgetInstance=new directiveThis.widgetClass(userOpts);changeSelectBind=function(){var attrMap=this.attrMap,attr=this.attr,scope=this.scope,newVal=this.newVal;if("undefined"==typeof attrMap[attr])return;scope.$evalAsync(function(){scope[attr]=newVal;scope.changeFlag=!0})};bindParams={"scope":scope,"attrMap":attrMap,"attr":"displayLength"};directiveThis.widgetInstance.dataTableConfig.changeSelectBind=changeSelectBind;directiveThis.widgetInstance.dataTableConfig.bindParams=bindParams;$tableDom=directiveThis.widgetInstance._element;element.replaceWith($tableDom);directiveThis.widgetInstance._setHeadLabelsStyle();!_.isUndefined(scope.id)&&$tableDom.prop("id",scope.id);widgetObj=$tableDom.widget();userOpts.columnsDraggable===!0&&widgetObj._updateBody();scope.$watch("opAreaConfig",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("opAreaConfig",newValue)});scope.$watch("columnSorting",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("column-sorting",newValue)});scope.$watch("columns",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("columns",newValue)});scope.$watch("hideTotalRecords",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("hide-total-records",newValue)});scope.$watch("caption",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("caption",newValue)});scope.$watch("enablePagination",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("enable-pagination",newValue)});scope.$watch("paginationStyle",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("pagination-style",newValue)});scope.$watch("lengthChange",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("length-change",newValue)});scope.$watch("lengthMenu",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("length-menu",newValue)});scope.$watch("displayLength",function(newValue,oldValue){if(newValue===oldValue)return;if(scope.changeFlag===!0){scope.changeFlag=!1;return}widgetObj.option("display-length",newValue)});scope.$watch("enableSort",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("enable-sort",newValue)});scope.$watch("totalRecords",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("total-records",newValue)});scope.$watch("curPage",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("cur-page",newValue)});scope.$watch("data",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("data",newValue)},!0);scope.$watch("tips",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("tips",newValue)});scope.$watch("tableLanguage",function(newValue,oldValue){if(newValue===oldValue)return;widgetObj.option("tableLanguage",newValue)});widgetObj._element.on("$destroy",function(){scope.$destroy()})}});(new Table).toAngularDirective();return Table});define("tiny-widgets/Tabs",["tiny-lib/angular","tiny-lib/jquery","tiny-widgets/Widget"],function(angular,jQuery,Widget){var widgetsLanguage=tinyLanguage.language,Tabs=Widget.extend({"init":function(options){var TabsThis=this;TabsThis._super(options);TabsThis._setContainer();TabsThis._addBehavior()},"_setContainer":function(){var TabsThis=this,$Container=$("#"+TabsThis.options.id);TabsThis._element=$Container;$Container.hasClass("tiny-tabs-container")?TabsThis.domWrapper=$Container:TabsThis.domWrapper=$Container.find(".tiny-tabs-container");TabsThis.headDom=$Container.find(".tiny-tabs-titles");TabsThis.options.position="top";TabsThis.style="horizon";TabsThis.domWrapper.hasClass("tiny-tabs-bottom")&&(TabsThis.options.position="bottom");if(TabsThis.domWrapper.hasClass("tiny-tabs-left")){TabsThis.options.position="left";TabsThis.style="vertical"}if(TabsThis.domWrapper.hasClass("tiny-tabs-right")){TabsThis.options.position="right";TabsThis.style="vertical"}if(TabsThis.headDom){TabsThis.contentDom=$Container.find(".tiny-tabs-content");TabsThis._setHead(TabsThis.headDom)}},"_setHead":function(headDom){var liDom,indexI,delay,closable,i,len,$liDomI,isActive,$liDomA,$liDomClone,liAUrl,TabsThis=this,options=TabsThis.options,$ul=headDom.find("ul");$ul.attr("id","tab_head");$ul.addClass("ui-state-tabs-ul");liDom=[],indexI=0;TabsThis.disabled=[];TabsThis.activeId="";TabsThis.elementId=[];TabsThis.singleId=[];TabsThis.tooltip=[];TabsThis.tabsOption=[];TabsThis.closeId=[];liDom=$ul.eq(0).children();if("true"===String(options.more)){TabsThis.moreId=[];$ul.append('<li liindex=limore id="limore" class="tabs-more"><span class="tinyTab-tab-left"></span><div id="centermore " class="tinyTab-tab-center"><a id="licentermore" class="tinyTab-a" title="">'+widgetsLanguage.moreTitle+'</a><span class="tinyTab-arrow-hover"></span></div><span class="tinyTab-tab-right"></span><div id = "tiny-moreli-div" class="tabs-arrow-div" style="display:none;"><ul></ul></div></li>')}delay=!1,closable=!1;for(i=0,len=liDom.length;len>i;i++)if("LI"==liDom[i].tagName){$liDomI=$(liDom[i]),isActive=!1;$liDomA=$liDomI.find("a");$liDomClone=$liDomA.clone();indexI++;index=indexI+"";$liDomI.attr("liIndex","li"+index);TabsThis.elementId.push(index);if("true"===$liDomA.attr("active")&&""===TabsThis.activeId&&"true"!==String(TabsThis.options.setActiveClass)){$liDomI.addClass("tinyTabActive");isActive=!0;TabsThis.activeId=index}if("true"==String($liDomA.attr("disable"))){$liDomI.addClass("ui-state-disabled");TabsThis.disabled.push(index)}$liDomI.prepend($('<span class="tinyTab-tab-left"></span>'));$liDomI.append($('<span class = "tinyTab-tab-right"></span>'));$liDomA.attr("aIndex","licenter"+index);$liDomA.addClass("tinyTab-a");if("true"===String(TabsThis.options.closable)){$liDomA.wrap('<div id="center'+index+'" class="tinyTab-tab-center"></div>');$liDomA.after('<span class="ui-icon-close ti ti-x" closeid='+index+"></span>");closable=!0;TabsThis.closeId.push(index)}else $liDomA.addClass("tinyTab-tab-center");liAUrl=$liDomA.attr("url");liAUrl&&TabsThis._setContent(liAUrl,index,isActive,delay);TabsThis.tabsOption.push({"tabId":index,"title":$liDomA.text(),"contentUrl":liAUrl})}"true"===String(options.more)&&"horizon"==TabsThis.style&&TabsThis._horizonUpdate();if("vertical"==TabsThis.style){TabsThis.headDom.css("width","114px");TabsThis._verticalUpdate()}if(""===TabsThis.activeId&&"true"!==String(TabsThis.options.setActiveClass)){TabsThis.activeId=_.difference(TabsThis.elementId,TabsThis.disabled)[0];TabsThis._element.find("[liindex='li"+TabsThis.activeId+"']").addClass("tinyTabActive")}TabsThis._setActiveContent(TabsThis.activeId);TabsThis._tipUpdate(!1);if("true"==String(options.more)){"vertical"==TabsThis.style&&0!=TabsThis.moreId.length&&TabsThis._setVerticalMore();"bottom"==TabsThis.options.position&&0!=TabsThis.moreId.length&&TabsThis._setBottomMore()}},"_setContent":function(anchor,index,isActive,delay){var anchorObj,TabsThis=this,$outerDiv=$("<div id='"+index+"'></div>");TabsThis.contentDom.append($outerDiv);if("#"===anchor[0]){content=TabsThis.contentDom.find(anchor);$outerDiv.append(content);anchorObj=_.where(TabsThis.tabsOption,{"tabId":index});anchorObj.contentUrl=!0}isActive||$outerDiv.css("display","none")},"_setActiveContent":function(activeId){var TabsThis,anchorObj,$contentDiv,anchor;if(""===activeId||null==activeId)return;TabsThis=this;anchorObj=_.where(TabsThis.tabsOption,{"tabId":activeId});if(!anchorObj.length)return;$contentDiv=TabsThis._element.find("#"+activeId);$contentDiv.css("display","block");anchor=anchorObj[0].contentUrl;if(!0===anchor||"undefined"==typeof anchor)return;if(0!==anchorObj.length){if("#"===anchor[0]){content=TabsThis.contentDom.find(anchor);$contentDiv.append(content);return}$contentDiv.load(anchor)}anchorObj.contentUrl=!0},"_tipUpdate":function(tinytip){var i,$selectortootip,title,TabsThis=this,tooltipObj=TabsThis.tooltip;if(0!==tooltipObj.length)for(i=0;i<tooltipObj.length;i++){$selectortootip=TabsThis._element.find("[aindex='licenter"+tooltipObj[i].tipId+"']"),title=tooltipObj[i].tipValue;$selectortootip.attr("title",title)}},"_horizonUpdate":function(){var width,headHeight,i,id,$aDom,centerWidth,obj,TabsThis=this,options=TabsThis.options,totalWidth=TabsThis._element.find("#tab_head").parent().width(),moreFlag=!1,addWidth=0;TabsThis.moreTitleWidth=TabsThis._element.find("#limore").width();TabsThis.moreliWidth=TabsThis._element.find("#tiny-moreli-div").width();TabsThis._element.find("#limore").hide();TabsThis.hcenterMaxWidth=1200;if(options.maxwidth){width=parseInt(options.maxwidth,10);!isNaN(width)&&width>20&&(TabsThis.hcenterMaxWidth=width-20)}headHeight=TabsThis._element.find("#tab_head").height();TabsThis.maxWidth=0;if(headHeight>35){TabsThis._element.find("#limore").css("display","block");for(i=0;i<TabsThis.elementId.length;i++){id=TabsThis.elementId[i],width=TabsThis._element.find("[liindex='li"+id+"']").width(),$aDom=TabsThis._element.find("[aindex='licenter"+id+"']");centerWidth=$aDom.width(),obj=_.where(TabsThis.tabsOption,{"tabId":id});obj[0].width=width;addWidth+=width;width>TabsThis.maxWidth&&(TabsThis.maxWidth=width);centerWidth>TabsThis.hcenterMaxWidth&&TabsThis.tooltip.push({"tipId":id,"tipValue":obj[0].title});if(TabsThis.moreliWidth+addWidth+10>totalWidth){TabsThis.moreId.push(id);TabsThis._element.find("[liindex='li"+id+"']").hide();TabsThis._element.find("#limore"+id).show();moreFlag=!0}else{TabsThis.singleId.push(id);TabsThis._element.find("#limore"+id).hide()}$aDom.css({"max-width":"84px","white-space":"nowrap","text-overflow":"ellipsis","-o-text-overflow":"ellipsis","overflow":"hidden"})}}else{for(i=0;i<TabsThis.elementId.length;i++){id=TabsThis.elementId[i],centerWidth=TabsThis._element.find("[aindex='licenter"+id+"']").width(),$aDom=TabsThis._element.find("[aindex='licenter"+id+"']");centerWidth=$aDom.width(),obj=_.where(TabsThis.tabsOption,{"tabId":id});width>TabsThis.maxWidth&&(TabsThis.maxWidth=width);centerWidth>TabsThis.hcenterMaxWidth&&TabsThis.tooltip.push({"tipId":id,"tipValue":obj[0].title});$aDom.css({"max-width":TabsThis.hcenterMaxWidth,"white-space":"nowrap","text-overflow":"ellipsis","-o-text-overflow":"ellipsis","overflow":"hidden"})}TabsThis.moreId=[];TabsThis.singleId=TabsThis.elementId;for(i=0;i<TabsThis.singleId.length;i++){id=TabsThis.singleId[i];TabsThis._element.find("#limore"+id).css("display","none")}}TabsThis.totWidth=TabsThis._element.find("#tab_head").width()-TabsThis.moreTitleWidth+TabsThis.moreliWidth+2;TabsThis._element.css("min-width",TabsThis.moreliWidth+110+"px")},"_setBottomMore":function(){var TabsThis=this,moreliWidth=TabsThis._element.find("#tiny-moreli-div").height()+35;TabsThis._element.find("#tiny-moreli-div").css("margin-top",-moreliWidth+"px")},"_verticalUpdate":function(){var maxId,i,id,width,centerWidth,obj,singleCenterWidth,paddingHeight,moreNum,liMinWidth,TabsThis=this,verticalId=[],options=TabsThis.options,totalNum=TabsThis.elementId.length,maxWidth=0,maxCenterWidth=0,totalHeight=TabsThis._element.height(),putNum=Math.floor(totalHeight/33);TabsThis.singleId=TabsThis.elementId;TabsThis.leftContentSub=13;TabsThis.rightContentSub=16;
for(i=0;totalNum>i;i++){id=TabsThis.elementId[i],width=TabsThis._element.find("[liindex='li"+id+"']").width(),centerWidth=TabsThis._element.find("[aindex='licenter"+id+"']").width(),obj=_.where(TabsThis.tabsOption,{"tabId":id});obj[0].width=width;TabsThis.vcenterMaxWidth=79;if(centerWidth>maxCenterWidth){maxCenterWidth=centerWidth;maxId=id}"right"==options.position&&(TabsThis.vcenterMaxWidth=74);centerWidth>TabsThis.vcenterMaxWidth&&TabsThis.tooltip.push({"tipId":id,"tipValue":obj[0].title})}maxWidth=TabsThis._element.find("[liindex='li"+maxId+"']").width(),singleCenterWidth=TabsThis._element.find("[aindex='licenter"+maxId+"']").outerWidth();paddingHeight=4;TabsThis.headDom.css("height",totalHeight-paddingHeight);TabsThis._element.find(".tiny-tabs-content").css("height",totalHeight-paddingHeight);if("true"==String(options.more)){TabsThis.moreId=[];if(putNum>=totalNum)TabsThis._element.find("#limore").hide();else{moreNum=totalNum-putNum+1;verticalId=_.without(TabsThis.elementId,TabsThis.activeId);verticalIndex=verticalId.length-1;for(i=0;moreNum>i;i++){id=verticalId[verticalIndex-i];TabsThis._element.find("[liindex='li"+id+"']").hide();TabsThis._element.find("#limore"+id).show();TabsThis.singleId=_.without(TabsThis.singleId,id);TabsThis.moreId.push(id)}}if(0!=TabsThis.moreId.length){0!==TabsThis.closeId.length?TabsThis._element.find("#licentermore").css("width",singleCenterWidth+"px"):TabsThis._element.find("#licentermore").css("min-width",singleCenterWidth-13+"px");TabsThis.vertMaxWidth=maxWidth+10}}if("left"==options.position){+[1]||(maxWidth-=2);maxWidth+=44}"right"==options.position&&(maxWidth+=23);liMinWidth=94;TabsThis.headDom.css("width",maxWidth);for(i=0;totalNum>i;i++){id=TabsThis.elementId[i];TabsThis._element.find("[aindex='licenter"+id+"']").css("width",singleCenterWidth+5+"px")}},"_setVerticalMore":function(){var moreliWidth,moreliHeight,TabsThis=this,options=TabsThis.options,$moreDiv=TabsThis._element.find("#tiny-moreli-div");if("right"==options.position){moreliWidth=$moreDiv.width(),moreliHeight=$moreDiv.height();$moreDiv.css("margin-top",-moreliHeight-11+"px");$moreDiv.css("margin-left",-moreliWidth+"px")}if("left"==options.position){$moreDiv.css("margin-left",TabsThis.vertMaxWidth-2+"px");$moreDiv.css("margin-right",-TabsThis.vertMaxWidth-35+"px");moreliHeight=$moreDiv.height()+10;$moreDiv.css("margin-top",-moreliHeight+"px")}},"opActive":function($activeDom){var objActive,$activeDomli,tabId,TabsThis=this;if(0===arguments.length){objActive=TabsThis._element.find("[liindex='li"+TabsThis.activeId+"']");return objActive}if("true"===$activeDom.attr("disabled"))return;$activeDomli=$activeDom.closest("li");if($activeDomli.hasClass("tinyTabActive"))return;TabsThis._element.find("#"+TabsThis.activeId).hide();TabsThis._element.find("[liindex='li"+TabsThis.activeId+"']").removeClass("tinyTabActive");tabId=$activeDom.attr("aindex").substring(8);TabsThis.activeId=tabId;_.contains(TabsThis.moreId,tabId)?TabsThis._changeMore():TabsThis._element.find("[liindex='li"+tabId+"']").addClass("tinyTabActive");TabsThis._element.find("#"+tabId).show();TabsThis._setActiveContent(tabId)},"_changeMore":function(){var TabsThis=this,hideId=TabsThis.singleId[TabsThis.singleId.length-1];TabsThis._element.find("[liindex='li"+hideId+"']").hide();TabsThis._element.find("#limore"+hideId).show();TabsThis._element.find("[liindex='li"+TabsThis.activeId+"']").css("display","block").addClass("tinyTabActive");TabsThis._element.find("#limore"+TabsThis.activeId).hide();TabsThis._element.find("#"+TabsThis.activeId).show();TabsThis._setActiveContent(TabsThis.activeId);TabsThis.singleId=_.without(TabsThis.singleId,hideId);TabsThis.singleId.push(TabsThis.activeId);TabsThis.moreId=_.without(TabsThis.moreId,TabsThis.activeId);TabsThis.moreId.push(hideId)},"_tabChange":function(event,ethis,isMouse){var moreFlag=!1,TabsThis=this;eTarget=$(ethis);TabsThis.dropDiv=TabsThis._element.find(".tabs-arrow-div");if("true"==String(TabsThis.options.more)&&"tab_head"!=$(eTarget[0].parentNode).attr("id")){moreFlag=!0;clickId=eTarget.attr("liindex").substring(6)}else clickId=eTarget.attr("liindex").substring(2);if(_.contains(TabsThis.disabled,clickId))return;if(0==TabsThis._element.find("[liindex='li"+clickId+"']").length)return;if("true"==String(TabsThis.options.more)&&"more"==clickId){TabsThis._stopEvent(event);if(isMouse){eTarget.addClass("tinyTabActive");TabsThis.dropDiv.css("display","block");return}if("none"==TabsThis.dropDiv.css("display")){eTarget.addClass("tinyTabActive");TabsThis.dropDiv.css("display","block")}else{eTarget.removeClass("tinyTabActive");TabsThis.dropDiv.css("display","none")}}else{if(isMouse&&moreFlag)return;TabsThis._element.find("[liindex='li"+TabsThis.activeId+"']").removeClass("tinyTabActive");""!==TabsThis.activeId&&TabsThis._element.find("#"+TabsThis.activeId).css("display","none");if(moreFlag){TabsThis.activeId=clickId;TabsThis._changeMore()}else{TabsThis.activeId=clickId;eTarget.addClass("tinyTabActive");TabsThis._setActiveContent(TabsThis.activeId);if(isMouse&&"block"==TabsThis.dropDiv.css("display")){TabsThis._element.find("#limore").removeClass("tinyTabActive");TabsThis.dropDiv.css("display","none")}}TabsThis.trigger("changeEvt",event)}},"_clickMoreli":function(clickId){var TabsThis=this;TabsThis._element.find("#li"+TabsThis.activeId).removeClass("tinyTabActive");TabsThis._element.find("#"+TabsThis.activeId).css("display","none");TabsThis.activeId=clickId;TabsThis._changeMore();TabsThis.trigger("changeEvt")},"_stopEvent":function(event){event.stopPropagation?event.stopPropagation():event.cancelBubble=!0},"_hideMore":function(){var TabsThis=this;if("block"==TabsThis._element.find("#limore").css("display")){TabsThis._element.find("#tiny-moreli-div").css("display","none");TabsThis._element.find("#limore").removeClass("tinyTabActive")}},"_addBehavior":function(){var TabsThis=this,options=TabsThis.options;"true"===String(options.more)&&$(window).resize(function(){var resizeWidth,changeWidth,changeNum,moreIdArray,i,changeId,moreliDivWidth,tabsSingleId,singleIndex;TabsThis._hideMore();if("vertical"==TabsThis.style)return;resizeWidth=TabsThis.headDom.width(),changeWidth=resizeWidth-TabsThis.totWidth,changeNum=0;if(changeWidth>0){if(60>changeWidth||0==TabsThis.moreId.length)return;changeNum=Math.floor(changeWidth/TabsThis.maxWidth);changeNum>TabsThis.moreId.length&&(changeNum=TabsThis.moreId.length);TabsThis.moreId.length==changeNum+1&&(changeNum+=1);moreIdArray=TabsThis.moreId;for(i=0;changeNum>i;i++){changeId=moreIdArray[i];TabsThis._element.find("#li"+changeId).show();TabsThis._element.find("#limore"+changeId).hide();TabsThis.singleId.push(changeId);TabsThis.moreId=_.without(TabsThis.moreId,changeId)}if(0==TabsThis.moreId.length){TabsThis._element.find("#limore").hide();TabsThis.totWidth=TabsThis._element.find("#tab_head").width()}else{moreliDivWidth=TabsThis._element.find("#tiny-moreli-div").width();TabsThis.totWidth=TabsThis._element.find("#tab_head").width()-TabsThis.moreTitleWidth+moreliDivWidth+2}}else{changeNum=Math.ceil(Math.abs(changeWidth)/60);if("none"==TabsThis._element.find("#limore").css("display")){changeNum=Math.ceil((Math.abs(changeWidth)+TabsThis.moreliWidth)/60);TabsThis._element.find("#limore").show()}tabsSingleId=_.without(TabsThis.singleId,TabsThis.activeId),singleIndex=tabsSingleId.length-1;for(i=0;changeNum>i;i++){changeId=tabsSingleId[singleIndex-i];TabsThis._element.find("#li"+changeId).hide();TabsThis._element.find("#limore"+changeId).show();TabsThis.moreId.push(changeId);TabsThis.singleId=_.without(TabsThis.singleId,changeId)}if(0==TabsThis.moreId.length)TabsThis.totWidth=TabsThis._element.find("#tab_head").width();else{TabsThis._hideMore();moreliDivWidth=TabsThis._element.find("#tiny-moreli-div").width();TabsThis.totWidth=TabsThis._element.find("#tab_head").width()-TabsThis.moreTitleWidth+moreliDivWidth+2}}"bottom"==options.position&&0!=TabsThis.moreId.length&&TabsThis._setBottomMore()});if("true"===String(TabsThis.options.closable)){TabsThis._element.on("click",".ui-icon-close",function(){var moreNum,changId,changeMoreId,closeId=$(this).attr("closeId");if(_.contains(TabsThis.disabled,closeId))return;TabsThis._element.find("#"+closeId).remove();TabsThis._element.find("#limore"+closeId).remove();TabsThis.elementId=_.without(TabsThis.elementId,closeId);TabsThis._element.find("[liindex='li"+closeId+"']").remove();TabsThis.singleId=_.without(TabsThis.singleId,closeId);if("true"===String(options.more)){moreNum=TabsThis.moreId.length;if(0!=moreNum){changId=TabsThis.moreId[0];TabsThis._element.find("#li"+changId).css("display","block");TabsThis._element.find("#limore"+changId).css("display","none");TabsThis.moreId=_.without(TabsThis.moreId,changId);TabsThis.singleId.push(changId)}moreNum=TabsThis.moreId.length;if(1==moreNum){changeMoreId=TabsThis.moreId[0];TabsThis._element.find("#li"+changeMoreId).css("display","block");TabsThis._element.find("#limore"+changeMoreId).css("display","none");TabsThis.moreId=_.without(TabsThis.moreId,changeMoreId);TabsThis.singleId.push(changeMoreId);TabsThis._element.find("#limore").css("display","none")}}if(closeId==TabsThis.activeId){TabsThis.activeId=_.difference(TabsThis.singleId,TabsThis.disabled)[0];TabsThis._element.find("[liindex='li"+TabsThis.activeId+"']").addClass("tinyTabActive");TabsThis._element.find("#"+TabsThis.activeId).css("display","block")}});TabsThis._element.on("click",".ui-icon-arrowdiv-close",function(event){var closeId,changeMoreId;TabsThis._stopEvent(event);closeId=$(this).attr("closeId");if(_.contains(TabsThis.disabled,closeId))return;TabsThis._element.find("#"+closeId).remove();TabsThis.elementId=_.without(TabsThis.elementId,closeId);TabsThis._element.find("#limore"+closeId).remove();TabsThis._element.find("#li"+closeId).remove();TabsThis.moreId=_.without(TabsThis.moreId,closeId);moreNum=TabsThis.moreId.length;if(1==moreNum){changeMoreId=TabsThis.moreId[0];TabsThis._element.find("#li"+changeMoreId).css("display","block");TabsThis._element.find("#limore"+changeMoreId).css("display","none");TabsThis.moreId=_.without(TabsThis.moreId,changeMoreId);TabsThis.singleId.push(changeMoreId);TabsThis._element.find("#limore").css("display","none");return}"bottom"==options.position&&TabsThis._setBottomMore();"vertical"==TabsThis.style&&TabsThis._setVerticalMore()})}options.mouse&&TabsThis._element.on("mouseover",".ui-state-tabs-ul li",function(event){if("tab_head"!=$($(this)[0].parentNode).attr("id"))return;TabsThis._tabChange(event,this,!0)});TabsThis._element.on("click",".ui-state-tabs-ul li",function(event){var clickId=$(this).attr("liindex").substring(2);if(_.contains(TabsThis.disabled,clickId))return;if(options.mouse){if("tab_head"!=$($(this)[0].parentNode).attr("id")){moreFlag=!0;clickId=$(this).attr("id").substring(6);TabsThis._clickMoreli(clickId)}}else TabsThis._tabChange(event,this,!1)});TabsThis._element.on("dblclick",".ui-state-tabs-ul li",function(){var clickId=$(this).attr("liindex").substring(2);if(_.contains(TabsThis.disabled,clickId))return;_.contains(TabsThis.collapsible,clickId)&&TabsThis._element.find("#"+clickId).css("display","none")});TabsThis.on("changeEvt",function(event){TabsThis.trigger("change",[event]);"function"==typeof options.change&&options.change(event)});"true"===String(options.more)&&$(document).on("click",function(){if(0==TabsThis.moreId.length)return;if(!TabsThis.dropDiv)return;if("block"==TabsThis.dropDiv.css("display")){TabsThis._element.find("#limore").removeClass("tinyTabActive");return TabsThis.dropDiv.css("display","none")}TabsThis.dropDiv=null})}});window.tinyWidget.Tabs=Tabs;return Tabs});define("tiny-directives/Tabs",["tiny-directives/Directive","tiny-widgets/Tabs"],function(Directive,TabsWidget){var DEFAULT_CONFIG={"directiveName":"tinyTabs","widgetClass":TabsWidget,"constantProperties":["id","active","closable","position","tooltip","height","width","values","moreTitle"],"scope":{"id":"=","active":"=","position":"=","height":"=","width":"=","values":"=","tooltip":"=","moreTitle":"=","closable":"=","change":"&","model":"=tinyTabs"},"replace":!0,"template":"<div></div>"},Tabs=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var TabsThis=this;TabsThis.widgetInstance=new TabsThis.widgetClass(_.pick(scope,TabsThis.constantProperties));element.append(TabsThis.widgetInstance._element);TabsThis.widgetInstance._element.prop("id",scope.id);attrMap.change&&TabsThis.widgetInstance.on("changeEvt",function(event){scope.$evalAsync(function(){scope.change({"event":event})})})}});(new Tabs).toAngularDirective();return Tabs});(function(window,document,$){function args(elem){var newAttrs={},rinlinejQuery=/^jQuery\d+$/;$.each(elem.attributes,function(i,attr){attr.specified&&!rinlinejQuery.test(attr.name)&&(newAttrs[attr.name]=attr.value)});return newAttrs}function clearPlaceholder(event,value){var input=this,$input=$(input);if(input.value==$input.attr("placeholder")&&$input.hasClass("placeholder"))if($input.data("placeholder-password")){$input=$input.hide().next().show().attr("id",$input.removeAttr("id").data("placeholder-id"));if(event===!0)return $input[0].value=value;$input.focus()}else{input.value="";$input.removeClass("placeholder");input==safeActiveElement()&&input.select()}}function setPlaceholder(){var $replacement,input=this,$input=$(input),id=this.id;if(""==input.value){if("password"==input.type){if(!$input.data("placeholder-textinput")){try{$replacement=$input.clone().attr({"type":"text"})}catch(e){$replacement=$("<input>").attr($.extend(args(this),{"type":"text"}))}$replacement.removeAttr("name").data({"placeholder-password":$input,"placeholder-id":id}).bind("focus.placeholder",clearPlaceholder);$input.data({"placeholder-textinput":$replacement,"placeholder-id":id}).before($replacement)}$input=$input.removeAttr("id").hide().prev().attr("id",id).show()}$input.addClass("placeholder");$input[0].value=$input.attr("placeholder")}else $input.removeClass("placeholder")}function safeActiveElement(){try{return document.activeElement}catch(exception){}}var hooks,placeholder,isOperaMini="[object OperaMini]"==Object.prototype.toString.call(window.operamini),isInputSupported="placeholder"in document.createElement("input")&&!isOperaMini,isTextareaSupported="placeholder"in document.createElement("textarea")&&!isOperaMini,prototype=$.fn,valHooks=$.valHooks,propHooks=$.propHooks;if(isInputSupported&&isTextareaSupported){placeholder=prototype.placeholder=function(){return this};placeholder.input=placeholder.textarea=!0}else{placeholder=prototype.placeholder=function(){var $this=this;$this.filter((isInputSupported?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":clearPlaceholder,"blur.placeholder":setPlaceholder}).data("placeholder-enabled",!0).trigger("blur.placeholder");return $this};placeholder.input=isInputSupported;placeholder.textarea=isTextareaSupported;hooks={"get":function(element){var $element=$(element),$passwordInput=$element.data("placeholder-password");if($passwordInput)return $passwordInput[0].value;return $element.data("placeholder-enabled")&&$element.hasClass("placeholder")?"":element.value},"set":function(element,value){var $element=$(element),$passwordInput=$element.data("placeholder-password");if($passwordInput)return $passwordInput[0].value=value;if(!$element.data("placeholder-enabled"))return element.value=value;if(""==value){element.value=value;element!=safeActiveElement()&&setPlaceholder.call(element)}else $element.hasClass("placeholder")?clearPlaceholder.call(element,!0,value)||(element.value=value):element.value=value;return $element}};if(!isInputSupported){valHooks.input=hooks;propHooks.value=hooks}if(!isTextareaSupported){valHooks.textarea=hooks;propHooks.value=hooks}$(function(){$(document).delegate("form","submit.placeholder",function(){var $inputs=$(".placeholder",this).each(clearPlaceholder);setTimeout(function(){$inputs.each(setPlaceholder)},10)})});$(window).bind("beforeunload.placeholder",function(){$(".placeholder").each(function(){this.value=""})})}})(this,document,jQuery);define("tiny-lib/jquery.placeholder",function(){});define("tiny-widgets/Textbox",["tiny-lib/angular","tiny-lib/jquery","tiny-widgets/Widget","tiny-widgets/Tip","tiny-common/UnifyValid","tiny-lib/jquery.placeholder"],function(angular,$,Widget,Tip,UnifyValid){var DEFAULT_CONFIG={"type":"input","isvalidtip":!0,"focused":!1,"width":200,"value":""},Textbox=Widget.extend({"init":function(options){var widgetThis=this;options=_.extend({},DEFAULT_CONFIG,options);widgetThis._super(options);widgetThis._addValidate(options,widgetThis._element);widgetThis._setOptions(options);$("#"+options.id).append(widgetThis._element);widgetThis._element.filter(':input[focused="true"]').focus()},"_addValidate":function(options,inputElement){if(options.validate||options.tooltip){var validOption={"eleInput":inputElement,"focusElem":inputElement,"validate":options.validate,"tooltip":options.tooltip,"errorMsg":options.errorMsg,"extendFun":options.extendFunction,"tipPos":options.tipPosition,"tipWidth":options.tipWidth,"evtInstance":this};UnifyValid.initValid(validOption)}},"_generateElement":function(){var textArea,text,widgetThis=this,textboxElement=null,focused=widgetThis.options.focused;if("multi"===widgetThis.options.type){textArea=document.createElement("textarea");focused&&$(textArea).attr("focused","true");widgetThis.options.rows&&!isNaN(parseInt(widgetThis.options.rows))&&(textArea.rows=parseInt(widgetThis.options.rows));textboxElement=$(textArea);widgetThis._element=textboxElement}else{text=document.createElement("input");focused&&$(text).attr("focused","true");text.type="password"===widgetThis.options.type?"password":"text";"password"===text.type&&$(text).bind("cut copy",function(event){event.preventDefault()});textboxElement=$(text);widgetThis._element=textboxElement}textboxElement.addClass("tiny-input-text")},"_setOption":function(key,value){var tinyDisable,widgetThis=this,options=widgetThis.options;widgetThis._super(key,value);switch(key){case"id":widgetThis._updateId(value);break;case"value":widgetThis._element.val(value);widgetThis.currentValue=null==value?"":value;break;case"maxLength":widgetThis._setMaxLength(value);break;case"readonly":widgetThis._element.prop("readonly",!!value);break;case"tooltip":UnifyValid.updateTooltip(widgetThis._element,value);break;case"validate":UnifyValid.updateValidate(widgetThis._element,value);break;case"errorMsg":UnifyValid.updateErrMsg(widgetThis._element,value);break;case"disable":tinyDisable="true"===String(value)?!0:!1;widgetThis._element.prop("disabled",tinyDisable);if(tinyDisable){widgetThis._element.addClass("tiny-input-text-disabled");options.validate&&UnifyValid.clearValidate(widgetThis._element)}else widgetThis._element.removeClass("tiny-input-text-disabled");break;case"width":widgetThis._element.css("width",value);break;case"height":widgetThis._element.css("height",value);break;case"placeholder":widgetThis._element.attr("placeholder",value);"placeholder"in document.createElement("input")||widgetThis._element.placeholder();break;case"focused":widgetThis._setFocus(value);break;case"resize":widgetThis._element.css("resize",value)}},"_setMaxLength":function(value){var widgetThis=this,maxLength=parseInt(value,10);!_.isNaN(maxLength)&&maxLength>=0&&widgetThis._element.prop("maxlength",maxLength)},"_setFocus":function(value){var widgetThis=this;"true"===String(value)&&widgetThis._element.focus()},"getValue":function(){var widgetThis=this;return widgetThis._element.val()},"_addTip":function(){var widgetThis=this,position=widgetThis.options["tip-position"];position||(position="right");widgetThis.tip=new Tip({"auto":!1,"content":widgetThis.options.tooltip,"element":widgetThis._element,"position":position,"width":widgetThis.options.tipWidth});widgetThis.tip.show()},"_contentChangeHandler":function(event,newValue){var widgetThis=this,options=widgetThis.options,oldValue=widgetThis.currentValue;if(newValue===oldValue)return;widgetThis.currentValue=newValue;widgetThis.trigger("contentChange",[event,newValue]);"function"==typeof options.contentChange&&options.contentChange(event,newValue)},"destroy":function(){var widgetThis=this;"password"===widgetThis.options.type&&"Microsoft Internet Explorer"===navigator.appName&&$(document).unbind("keyup",widgetThis._keyupHandler)},"_addBehavior":function(){var widgetThis=this,options=widgetThis.options;widgetThis._element.on("change",function(event){widgetThis.trigger("change",[event]);"function"==typeof options.change&&options.change(event)});widgetThis._element.on("input",function(event){var newValue=widgetThis.getValue();widgetThis._contentChangeHandler(event,newValue)});"Microsoft Internet Explorer"==navigator.appName&&widgetThis._element.on("cut",function(event){setTimeout(function(){var newValue=widgetThis.getValue();widgetThis._contentChangeHandler(event,newValue)},0)});widgetThis._element.on("focus",function(event){widgetThis.trigger("focus",[event]);"function"==typeof options.focus&&options.focus(event)});widgetThis._element.on("blur",function(event){widgetThis.trigger("blur",[event]);"function"==typeof options.blur&&options.blur(event)});widgetThis._element.on("keypress",function(event){widgetThis.trigger("keypress",[event]);"function"==typeof options.keypressfn&&options.keypressfn(event)});widgetThis._element.on("keydown",function(event){widgetThis.trigger("keydown",[event]);"function"==typeof options.keydownfn&&options.keydownfn(event)});widgetThis._element.on("keyup",function(event){widgetThis.trigger("keyup",[event]);"function"==typeof options.keyupfn&&options.keyupfn(event);if("Microsoft Internet Explorer"==navigator.appName&&(8==event.keyCode||46==event.keyCode)){var newValue=widgetThis.getValue();widgetThis._contentChangeHandler(event,newValue);return}widgetThis.currentValue=widgetThis.getValue()});if("password"===options.type&&"Microsoft Internet Explorer"===navigator.appName){widgetThis._keyupHandler=function(event){9===event.keyCode&&widgetThis._element[0]===document.activeElement&&widgetThis._element[0].select()};$(document).on("keyup",widgetThis._keyupHandler)}widgetThis._element.on("$destroy",function(){widgetThis.destroy()})}});window.tinyWidget.Textbox=Textbox;return Textbox});define("tiny-directives/Textbox",["tiny-directives/Directive","tiny-widgets/Textbox"],function(Directive,TextboxWidget){var DEFAULT_CONFIG={"directiveName":"tinyTextbox","widgetClass":TextboxWidget,"constantProperties":["type","value","maxLength","focused","validate","tooltip","errorMsg","extendFunction","keydownfn","keyupfn","keypressfn","tipPosition","tipWidth"],"scope":{"id":"=","validate":"=","tooltip":"=","errorMsg":"=","value":"=","maxLength":"=","readonly":"=","disable":"=","width":"=","height":"=","focused":"=","type":"=","extendFunction":"=","placeholder":"=","tipPosition":"=","tipWidth":"=","change":"&","focus":"&","blur":"&","contentChange":"&","keyup":"&","keyupfn":"=","keydown":"&","keydownfn":"=","keypress":"&","keypressfn":"=","resize":"="},"replace":!0,"template":"<span></span>"},Textbox=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(element,attrMap,transclude){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var textboxInstance,directiveThis=this,constants=_.pick(scope,directiveThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});textboxInstance=new directiveThis.widgetClass(_.pick(constants,validProperName));textboxInstance.on("contentChange",function(event,newValue){directiveThis.setAttr(scope,"value",newValue,attrMap)});element.replaceWith(textboxInstance._element);scope.$watch("id",function(newValue,oldValue){textboxInstance.option("id",newValue)});scope.$watch("focused",function(newValue,oldValue){textboxInstance.option("focused",newValue)});scope.$watch("value",function(newValue,oldValue){if(scope.changeFlag===!0){scope.changeFlag=!1;return}textboxInstance.option("value",newValue)});scope.$watch("width",function(newValue,oldValue){textboxInstance.option("width",newValue)});scope.$watch("height",function(newValue,oldValue){textboxInstance.option("height",newValue)});scope.$watch("readonly",function(newValue,oldValue){textboxInstance.option("readonly",newValue)});scope.$watch("disable",function(newValue,oldValue){textboxInstance.option("disable",newValue)});scope.$watch("validate",function(newValue,oldValue){textboxInstance.option("validate",newValue)});scope.$watch("tooltip",function(newValue,oldValue){textboxInstance.option("tooltip",newValue)});scope.$watch("errorMsg",function(newValue,oldValue){textboxInstance.option("errorMsg",newValue)});scope.$watch("placeholder",function(newValue,oldValue){textboxInstance.option("placeholder",newValue)});scope.$watch("resize",function(newValue,oldValue){textboxInstance.option("resize",newValue)});attrMap.change&&textboxInstance.on("change",function(event){scope.$evalAsync(function(){scope.change({"event":event})})});attrMap.contentChange&&textboxInstance.on("contentChange",function(){var param={"event":arguments[0],"value":arguments[1]};scope.contentChange(param);scope.$digest()});attrMap.focus&&textboxInstance.on("focus",function(event){scope.$evalAsync(function(){scope.focus({"event":event})})});attrMap.blur&&textboxInstance.on("blur",function(event){scope.$evalAsync(function(){scope.blur({"event":event})})});attrMap.keyup&&textboxInstance.on("keyup",function(event){scope.$evalAsync(function(){scope.keyup({"event":event})})});attrMap.keydown&&textboxInstance.on("keydown",function(event){scope.$evalAsync(function(){scope.keydown({"event":event})})});attrMap.keypress&&textboxInstance.on("keypress",function(event){scope.$evalAsync(function(){scope.keypress({"event":event})})});textboxInstance._element.on("$destroy",function(){scope.$destroy()})}});(new Textbox).toAngularDirective();return Textbox});define("tiny-directives/Tip",["tiny-directives/Directive","tiny-widgets/Tip","tiny-common/util"],function(Directive,TipWidget,util){var DEFAULT_CONFIG={"directiveName":"tinyTip","widgetClass":TipWidget,"restrict":"A","scope":{"model":"=tinyTip"},"constantProperties":[]},Tip=Directive.extend({"init":function(options){var tipThis=this;tipThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var tipThis=this;return tipThis.link},"link":function(scope,element,attrMap){var tipThis=this,tipInstance=new tipThis.widgetClass(_.pick(attrMap,tipThis.constantProperties));tipInstance.option("element",element);scope.$watch("model.content",function(newValue,oldValue){tipInstance.option("content",newValue)});scope.$watch("model.position",function(newValue,oldValue){tipInstance.option("position",newValue)});scope.$watch("model.containerStyle",function(newValue,oldValue){tipInstance.option("containerStyle",newValue)});scope.$watch("model.auto",function(newValue,oldValue){tipInstance.option("auto",newValue);if(tipInstance.options.auto){element.on("mouseover.tinyTip",function(event){tipInstance.show(tipInstance.options.time)});element.on("mouseout.tinyTip",function(event){tipInstance.hide()})}});scope.$watch("model.width",function(newValue,oldValue){tipInstance.option("width",newValue)});scope.$watch("model.time",function(newValue,oldValue){tipInstance.option("time",newValue)})}});(new Tip).toAngularDirective();return Tip});(function($){var zt,$$,consts,settings={},roots={},caches={},_consts={"className":{"BUTTON":"button","LEVEL":"level","ICO_LOADING":"ico_loading","SWITCH":"switch"},"event":{"NODECREATED":"ztree_nodeCreated","CLICK":"ztree_click","EXPAND":"ztree_expand","COLLAPSE":"ztree_collapse","ASYNC_SUCCESS":"ztree_async_success","ASYNC_ERROR":"ztree_async_error","REMOVE":"ztree_remove"},"id":{"A":"_a","ICON":"_ico","SPAN":"_span","SWITCH":"_switch","UL":"_ul"},"line":{"ROOT":"root","ROOTS":"roots","CENTER":"center","BOTTOM":"bottom","NOLINE":"noline","LINE":"line"},"folder":{"OPEN":"open","CLOSE":"close","DOCU":"docu"},"node":{"CURSELECTED":"curSelectedNode","DISABLENODE":"disableNode"}},_setting={"treeId":"","treeObj":null,"view":{"addDiyDom":null,"autoCancelSelected":!0,"dblClickExpand":!0,"expandSpeed":"fast","fontCss":{},"nameIsHTML":!1,"selectedMulti":!0,"showIcon":!0,"showLine":!0,"showTitle":!0,"txtSelectedEnable":!1},"data":{"key":{"children":"children","name":"name","title":"","url":"url","selected":"selected","disable":"disable"},"simpleData":{"enable":!1,"idKey":"id","pIdKey":"pId","rootPId":null},"keep":{"parent":!1,"leaf":!1}},"async":{"enable":!1,"contentType":"application/x-www-form-urlencoded","type":"post","dataType":"text","url":"","autoParam":[],"otherParam":[],"dataFilter":null},"callback":{"beforeAsync":null,"beforeClick":null,"beforeDblClick":null,"beforeRightClick":null,"beforeMouseDown":null,"beforeMouseUp":null,"beforeExpand":null,"beforeCollapse":null,"beforeRemove":null,"onAsyncError":null,"onAsyncSuccess":null,"onNodeCreated":null,"onClick":null,"onDblClick":null,"onRightClick":null,"onMouseDown":null,"onMouseUp":null,"onExpand":null,"onCollapse":null,"onRemove":null}},_initRoot=function(setting){var r=data.getRoot(setting);if(!r){r={};data.setRoot(setting,r)}r[setting.data.key.children]=[];r.expandTriggerFlag=!1;r.curSelectedList=[];r.noSelection=!0;r.createdNodes=[];r.zId=0;r._ver=(new Date).getTime()},_initCache=function(setting){var c=data.getCache(setting);if(!c){c={};data.setCache(setting,c)}c.nodes=[];c.doms=[]},_bindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.bind(c.NODECREATED,function(event,treeId,node){tools.apply(setting.callback.onNodeCreated,[event,treeId,node])});o.bind(c.CLICK,function(event,srcEvent,treeId,node,clickFlag){tools.apply(setting.callback.onClick,[srcEvent,treeId,node,clickFlag])});o.bind(c.EXPAND,function(event,treeId,node){tools.apply(setting.callback.onExpand,[event,treeId,node])});o.bind(c.COLLAPSE,function(event,treeId,node){tools.apply(setting.callback.onCollapse,[event,treeId,node])});o.bind(c.ASYNC_SUCCESS,function(event,treeId,node,msg){tools.apply(setting.callback.onAsyncSuccess,[event,treeId,node,msg])});o.bind(c.ASYNC_ERROR,function(event,treeId,node,XMLHttpRequest,textStatus,errorThrown){tools.apply(setting.callback.onAsyncError,[event,treeId,node,XMLHttpRequest,textStatus,errorThrown])});o.bind(c.REMOVE,function(event,treeId,treeNode){tools.apply(setting.callback.onRemove,[event,treeId,treeNode])})},_unbindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.unbind(c.NODECREATED).unbind(c.CLICK).unbind(c.EXPAND).unbind(c.COLLAPSE).unbind(c.ASYNC_SUCCESS).unbind(c.ASYNC_ERROR).unbind(c.REMOVE)},_eventProxy=function(event){var proxyResult,target=event.target,setting=data.getSetting(event.data.treeId),tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null,tmp=null;if(tools.eqs(event.type,"mousedown"))treeEventType="mousedown";else if(tools.eqs(event.type,"mouseup"))treeEventType="mouseup";else if(tools.eqs(event.type,"contextmenu"))treeEventType="contextmenu";else if(tools.eqs(event.type,"click"))if(tools.eqs(target.tagName,"span")&&null!==target.getAttribute("treeNode"+consts.id.SWITCH)){tId=tools.getNodeMainDom(target).id;nodeEventType="switchNode"}else{tmp=tools.getMDom(setting,target,[{"tagName":"a","attrName":"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="clickNode"}}else if(tools.eqs(event.type,"dblclick")){treeEventType="dblclick";tmp=tools.getMDom(setting,target,[{"tagName":"a","attrName":"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="switchNode"}}if(treeEventType.length>0&&0==tId.length){tmp=tools.getMDom(setting,target,[{"tagName":"a","attrName":"treeNode"+consts.id.A}]);tmp&&(tId=tools.getNodeMainDom(tmp).id)}if(tId.length>0){
node=data.getNodeCache(setting,tId);switch(nodeEventType){case"switchNode":node.isParent&&(tools.eqs(event.type,"click")||tools.eqs(event.type,"dblclick")&&tools.apply(setting.view.dblClickExpand,[setting.treeId,node],setting.view.dblClickExpand))?nodeEventCallback=handler.onSwitchNode:nodeEventType="";break;case"clickNode":nodeEventCallback=handler.onClickNode}}switch(treeEventType){case"mousedown":treeEventCallback=handler.onZTreeMousedown;break;case"mouseup":treeEventCallback=handler.onZTreeMouseup;break;case"dblclick":treeEventCallback=handler.onZTreeDblclick;break;case"contextmenu":treeEventCallback=handler.onZTreeContextmenu}proxyResult={"stop":!1,"node":node,"nodeEventType":nodeEventType,"nodeEventCallback":nodeEventCallback,"treeEventType":treeEventType,"treeEventCallback":treeEventCallback};return proxyResult},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){if(!n)return;var r=data.getRoot(setting),childKey=setting.data.key.children;n.level=level;n.tId=setting.treeId+"_"+ ++r.zId;n.parentTId=parentNode?parentNode.tId:null;n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open;if(n[childKey]&&n[childKey].length>0){n.isParent=!0;n.zAsync=!0}else{n.isParent="string"==typeof n.isParent?tools.eqs(n.isParent,"true"):!!n.isParent;n.open=n.isParent&&!setting.async.enable?n.open:!1;n.zAsync=!n.isParent}n.isFirstNode=isFirstNode;n.isLastNode=isLastNode;n.getParentNode=function(){return data.getNodeCache(setting,n.parentTId)};n.getPreNode=function(){return data.getPreNode(setting,n)};n.getNextNode=function(){return data.getNextNode(setting,n)};n.isAjaxing=!1;data.fixPIdKeyValue(setting,n)},_init={"bind":[_bindEvent],"unbind":[_unbindEvent],"caches":[_initCache],"nodes":[_initNode],"proxys":[_eventProxy],"roots":[_initRoot],"beforeA":[],"afterA":[],"innerBeforeA":[],"innerAfterA":[],"zTreeTools":[]},data={"addNodeCache":function(setting,node){data.getCache(setting).nodes[data.getNodeCacheId(node.tId)]=node},"getNodeCacheId":function(tId){return tId.substring(tId.lastIndexOf("_")+1)},"addAfterA":function(afterA){_init.afterA.push(afterA)},"addBeforeA":function(beforeA){_init.beforeA.push(beforeA)},"addInnerAfterA":function(innerAfterA){_init.innerAfterA.push(innerAfterA)},"addInnerBeforeA":function(innerBeforeA){_init.innerBeforeA.push(innerBeforeA)},"addInitBind":function(bindEvent){_init.bind.push(bindEvent)},"addInitUnBind":function(unbindEvent){_init.unbind.push(unbindEvent)},"addInitCache":function(initCache){_init.caches.push(initCache)},"addInitNode":function(initNode){_init.nodes.push(initNode)},"addInitProxy":function(initProxy,isFirst){isFirst?_init.proxys.splice(0,0,initProxy):_init.proxys.push(initProxy)},"addInitRoot":function(initRoot){_init.roots.push(initRoot)},"addNodesData":function(setting,parentNode,nodes){var childKey=setting.data.key.children;parentNode[childKey]||(parentNode[childKey]=[]);if(parentNode[childKey].length>0){parentNode[childKey][parentNode[childKey].length-1].isLastNode=!1;view.setNodeLineIcos(setting,parentNode[childKey][parentNode[childKey].length-1])}parentNode.isParent=!0;parentNode[childKey]=parentNode[childKey].concat(nodes)},"addSelectedNode":function(setting,node){var root=data.getRoot(setting);data.isSelectedNode(setting,node)||root.curSelectedList.push(node)},"addCreatedNode":function(setting,node){if(setting.callback.onNodeCreated||setting.view.addDiyDom){var root=data.getRoot(setting);root.createdNodes.push(node)}},"addZTreeTools":function(zTreeTools){_init.zTreeTools.push(zTreeTools)},"exSetting":function(s){$.extend(!0,_setting,s)},"fixPIdKeyValue":function(setting,node){setting.data.simpleData.enable&&(node[setting.data.simpleData.pIdKey]=node.parentTId?node.getParentNode()[setting.data.simpleData.idKey]:setting.data.simpleData.rootPId)},"getAfterA":function(setting,node,array){for(var i=0,j=_init.afterA.length;j>i;i++)_init.afterA[i].apply(this,arguments)},"getBeforeA":function(setting,node,array){for(var i=0,j=_init.beforeA.length;j>i;i++)_init.beforeA[i].apply(this,arguments)},"getInnerAfterA":function(setting,node,array){for(var i=0,j=_init.innerAfterA.length;j>i;i++)_init.innerAfterA[i].apply(this,arguments)},"getInnerBeforeA":function(setting,node,array){for(var i=0,j=_init.innerBeforeA.length;j>i;i++)_init.innerBeforeA[i].apply(this,arguments)},"getCache":function(setting){return caches[setting.treeId]},"getNextNode":function(setting,node){var childKey,p,i,l;if(!node)return null;childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);for(i=0,l=p[childKey].length-1;l>=i;i++)if(p[childKey][i]===node)return i==l?null:p[childKey][i+1];return null},"getNodeByParam":function(setting,nodes,key,value){var childKey,i,l,tmp;if(!nodes||!key)return null;childKey=setting.data.key.children;for(i=0,l=nodes.length;l>i;i++){if(nodes[i][key]==value)return nodes[i];tmp=data.getNodeByParam(setting,nodes[i][childKey],key,value);if(tmp)return tmp}return null},"getNodeCache":function(setting,tId){if(!tId)return null;var n=caches[setting.treeId].nodes[data.getNodeCacheId(tId)];return n?n:null},"getNodeName":function(setting,node){var nameKey=setting.data.key.name;return""+node[nameKey]},"getNodeTitle":function(setting,node){var t=""===setting.data.key.title?setting.data.key.name:setting.data.key.title;return""+node[t]},"getNodes":function(setting){return data.getRoot(setting)[setting.data.key.children]},"getNodesByParam":function(setting,nodes,key,value){var childKey,result,i,l;if(!nodes||!key)return[];childKey=setting.data.key.children,result=[];for(i=0,l=nodes.length;l>i;i++){nodes[i][key]==value&&result.push(nodes[i]);result=result.concat(data.getNodesByParam(setting,nodes[i][childKey],key,value))}return result},"getNodesByParamFuzzy":function(setting,nodes,key,value){var childKey,result,i,l;if(!nodes||!key)return[];childKey=setting.data.key.children,result=[];value=value.toLowerCase();for(i=0,l=nodes.length;l>i;i++){"string"==typeof nodes[i][key]&&nodes[i][key].toLowerCase().indexOf(value)>-1&&result.push(nodes[i]);result=result.concat(data.getNodesByParamFuzzy(setting,nodes[i][childKey],key,value))}return result},"getNodesByFilter":function(setting,nodes,filter,isSingle,invokeParam){var childKey,result,i,l,tmpResult;if(!nodes)return isSingle?null:[];childKey=setting.data.key.children,result=isSingle?null:[];for(i=0,l=nodes.length;l>i;i++){if(tools.apply(filter,[nodes[i],invokeParam],!1)){if(isSingle)return nodes[i];result.push(nodes[i])}tmpResult=data.getNodesByFilter(setting,nodes[i][childKey],filter,isSingle,invokeParam);if(isSingle&&tmpResult)return tmpResult;result=isSingle?tmpResult:result.concat(tmpResult)}return result},"getPreNode":function(setting,node){var childKey,p,i,l;if(!node)return null;childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);for(i=0,l=p[childKey].length;l>i;i++)if(p[childKey][i]===node)return 0==i?null:p[childKey][i-1];return null},"getRoot":function(setting){return setting?roots[setting.treeId]:null},"getRoots":function(){return roots},"getSetting":function(treeId){return settings[treeId]},"getSettings":function(){return settings},"getZTreeTools":function(treeId){var r=this.getRoot(this.getSetting(treeId));return r?r.treeTools:null},"initCache":function(setting){for(var i=0,j=_init.caches.length;j>i;i++)_init.caches[i].apply(this,arguments)},"initNode":function(setting,level,node,parentNode,preNode,nextNode){for(var i=0,j=_init.nodes.length;j>i;i++)_init.nodes[i].apply(this,arguments)},"initRoot":function(setting){for(var i=0,j=_init.roots.length;j>i;i++)_init.roots[i].apply(this,arguments)},"isSelectedNode":function(setting,node){var i,j,root=data.getRoot(setting);for(i=0,j=root.curSelectedList.length;j>i;i++)if(node===root.curSelectedList[i])return!0;return!1},"removeNodeCache":function(setting,node){var i,l,childKey=setting.data.key.children;if(node[childKey])for(i=0,l=node[childKey].length;l>i;i++)arguments.callee(setting,node[childKey][i]);data.getCache(setting).nodes[data.getNodeCacheId(node.tId)]=null},"removeSelectedNode":function(setting,node){var i,j,root=data.getRoot(setting);for(i=0,j=root.curSelectedList.length;j>i;i++)if(node===root.curSelectedList[i]||!data.getNodeCache(setting,root.curSelectedList[i].tId)){root.curSelectedList.splice(i,1);i--;j--}},"setCache":function(setting,cache){caches[setting.treeId]=cache},"setRoot":function(setting,root){roots[setting.treeId]=root},"setZTreeTools":function(setting,zTreeTools){for(var i=0,j=_init.zTreeTools.length;j>i;i++)_init.zTreeTools[i].apply(this,arguments)},"transformToArrayFormat":function(setting,nodes){var childKey,r,i,l;if(!nodes)return[];childKey=setting.data.key.children,r=[];if(tools.isArray(nodes))for(i=0,l=nodes.length;l>i;i++){r.push(nodes[i]);nodes[i][childKey]&&(r=r.concat(data.transformToArrayFormat(setting,nodes[i][childKey])))}else{r.push(nodes);nodes[childKey]&&(r=r.concat(data.transformToArrayFormat(setting,nodes[childKey])))}return r},"transformTozTreeFormat":function(setting,sNodes){var i,l,r,tmpMap,key=setting.data.simpleData.idKey,parentKey=setting.data.simpleData.pIdKey,childKey=setting.data.key.children;if(!key||""==key||!sNodes)return[];if(tools.isArray(sNodes)){r=[];tmpMap=[];for(i=0,l=sNodes.length;l>i;i++)tmpMap[sNodes[i][key]]=sNodes[i];for(i=0,l=sNodes.length;l>i;i++)if(tmpMap[sNodes[i][parentKey]]&&sNodes[i][key]!=sNodes[i][parentKey]){tmpMap[sNodes[i][parentKey]][childKey]||(tmpMap[sNodes[i][parentKey]][childKey]=[]);tmpMap[sNodes[i][parentKey]][childKey].push(sNodes[i])}else r.push(sNodes[i]);return r}return[sNodes]}},event={"bindEvent":function(setting){for(var i=0,j=_init.bind.length;j>i;i++)_init.bind[i].apply(this,arguments)},"unbindEvent":function(setting){for(var i=0,j=_init.unbind.length;j>i;i++)_init.unbind[i].apply(this,arguments)},"bindTree":function(setting){var eventParam={"treeId":setting.treeId},o=setting.treeObj;setting.view.txtSelectedEnable||o.bind("selectstart",function(e){var n=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===n||"textarea"===n}).css({"-moz-user-select":"-moz-none"});o.bind("click",eventParam,event.proxy);o.bind("dblclick",eventParam,event.proxy);o.bind("mouseover",eventParam,event.proxy);o.bind("mouseout",eventParam,event.proxy);o.bind("mousedown",eventParam,event.proxy);o.bind("mouseup",eventParam,event.proxy);o.bind("contextmenu",eventParam,event.proxy)},"unbindTree":function(setting){var o=setting.treeObj;o.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},"doProxy":function(e){var i,j,proxyResult,results=[];for(i=0,j=_init.proxys.length;j>i;i++){proxyResult=_init.proxys[i].apply(this,arguments);results.push(proxyResult);if(proxyResult.stop)break}return results},"proxy":function(e){var results,r,x,i,l,proxyResult,setting=data.getSetting(e.data.treeId);if(!tools.uCanDo(setting,e))return!0;results=event.doProxy(e),r=!0,x=!1;for(i=0,l=results.length;l>i;i++){proxyResult=results[i];if(proxyResult.nodeEventCallback){x=!0;r=proxyResult.nodeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}if(proxyResult.treeEventCallback){x=!0;r=proxyResult.treeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}}return r}},handler={"onSwitchNode":function(event,node){if(null!=node&&node.disable)return;var setting=data.getSetting(event.data.treeId);if(node.open){if(0==tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],!0))return!0;data.getRoot(setting).expandTriggerFlag=!0;view.switchNode(setting,node)}else{if(0==tools.apply(setting.callback.beforeExpand,[setting.treeId,node],!0))return!0;data.getRoot(setting).expandTriggerFlag=!0;view.switchNode(setting,node)}return!0},"onClickNode":function(event,node){if(null!=node&&node.disable)return;var setting=data.getSetting(event.data.treeId),clickFlag=setting.view.autoCancelSelected&&(event.ctrlKey||event.metaKey)&&data.isSelectedNode(setting,node)?0:setting.view.autoCancelSelected&&(event.ctrlKey||event.metaKey)&&setting.view.selectedMulti?2:1;if(0==tools.apply(setting.callback.beforeClick,[setting.treeId,node,clickFlag],!0))return!0;0===clickFlag?view.cancelPreSelectedNode(setting,node):view.selectNode(setting,node,2===clickFlag);setting.treeObj.trigger(consts.event.CLICK,[event,setting.treeId,node,clickFlag]);return!0},"onZTreeMousedown":function(event,node){if(null!=node&&node.disable)return;var setting=data.getSetting(event.data.treeId);tools.apply(setting.callback.beforeMouseDown,[setting.treeId,node],!0)&&tools.apply(setting.callback.onMouseDown,[event,setting.treeId,node]);return!0},"onZTreeMouseup":function(event,node){if(null!=node&&node.disable)return;var setting=data.getSetting(event.data.treeId);tools.apply(setting.callback.beforeMouseUp,[setting.treeId,node],!0)&&tools.apply(setting.callback.onMouseUp,[event,setting.treeId,node]);return!0},"onZTreeDblclick":function(event,node){if(null!=node&&node.disable)return;var setting=data.getSetting(event.data.treeId);tools.apply(setting.callback.beforeDblClick,[setting.treeId,node],!0)&&tools.apply(setting.callback.onDblClick,[event,setting.treeId,node]);return!0},"onZTreeContextmenu":function(event,node){if(null!=node&&node.disable)return;var setting=data.getSetting(event.data.treeId);tools.apply(setting.callback.beforeRightClick,[setting.treeId,node],!0)&&tools.apply(setting.callback.onRightClick,[event,setting.treeId,node]);return"function"!=typeof setting.callback.onRightClick}},tools={"apply":function(fun,param,defaultValue){if("function"==typeof fun)return fun.apply(zt,param?param:[]);return defaultValue},"canAsync":function(setting,node){var childKey=setting.data.key.children;return setting.async.enable&&node&&node.isParent&&!(node.zAsync||node[childKey]&&node[childKey].length>0)},"clone":function(obj){var o,i;if(null===obj)return null;o=tools.isArray(obj)?[]:{};for(i in obj)o[i]=obj[i]instanceof Date?new Date(obj[i].getTime()):"object"==typeof obj[i]?arguments.callee(obj[i]):obj[i];return o},"eqs":function(str1,str2){return str1.toLowerCase()===str2.toLowerCase()},"isArray":function(arr){return"[object Array]"===Object.prototype.toString.apply(arr)},"$":function(node,exp,setting){if(exp&&"string"!=typeof exp){setting=exp;exp=""}return"string"==typeof node?$(node,setting?setting.treeObj.get(0).ownerDocument:null):$("#"+node.tId+exp,setting?setting.treeObj:null)},"getMDom":function(setting,curDom,targetExpr){if(!curDom)return null;for(;curDom&&curDom.id!==setting.treeId;){for(var i=0,l=targetExpr.length;curDom.tagName&&l>i;i++)if(tools.eqs(curDom.tagName,targetExpr[i].tagName)&&null!==curDom.getAttribute(targetExpr[i].attrName))return curDom;curDom=curDom.parentNode}return null},"getNodeMainDom":function(target){return $(target).parent("li").get(0)||$(target).parentsUntil("li").parent().get(0)},"isChildOrSelf":function(dom,parentId){return $(dom).closest("#"+parentId).length>0},"uCanDo":function(setting,e){return!0}},view={"addNodes":function(setting,parentNode,newNodes,isSilent){if(setting.data.keep.leaf&&parentNode&&!parentNode.isParent)return;tools.isArray(newNodes)||(newNodes=[newNodes]);setting.data.simpleData.enable&&(newNodes=data.transformTozTreeFormat(setting,newNodes));if(parentNode){var target_switchObj=$$(parentNode,consts.id.SWITCH,setting),target_icoObj=$$(parentNode,consts.id.ICON,setting),target_ulObj=$$(parentNode,consts.id.UL,setting);if(!parentNode.open){view.replaceSwitchClass(parentNode,target_switchObj,consts.folder.CLOSE);view.replaceIcoClass(parentNode,target_icoObj,consts.folder.CLOSE);parentNode.open=!1;target_ulObj.css({"display":"none"})}data.addNodesData(setting,parentNode,newNodes);view.createNodes(setting,parentNode.level+1,newNodes,parentNode);isSilent||view.expandCollapseParentNode(setting,parentNode,!0)}else{data.addNodesData(setting,data.getRoot(setting),newNodes);view.createNodes(setting,0,newNodes,null)}},"appendNodes":function(setting,level,nodes,parentNode,initFlag,openFlag){var html,childKey,i,l,node,tmpPNode,tmpPChild,isFirstNode,isLastNode,childHtml;if(!nodes)return[];html=[],childKey=setting.data.key.children;for(i=0,l=nodes.length;l>i;i++){node=nodes[i];if(initFlag){tmpPNode=parentNode?parentNode:data.getRoot(setting),tmpPChild=tmpPNode[childKey],isFirstNode=tmpPChild.length==nodes.length&&0==i,isLastNode=i==nodes.length-1;data.initNode(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag);data.addNodeCache(setting,node)}childHtml=[];node[childKey]&&node[childKey].length>0&&(childHtml=view.appendNodes(setting,level+1,node[childKey],node,initFlag,openFlag&&node.open));if(openFlag){view.makeDOMNodeMainBefore(html,setting,node);view.makeDOMNodeLine(html,setting,node);data.getBeforeA(setting,node,html);view.makeDOMNodeNameBefore(html,setting,node);data.getInnerBeforeA(setting,node,html);view.makeDOMNodeIcon(html,setting,node);data.getInnerAfterA(setting,node,html);view.makeDOMNodeNameAfter(html,setting,node);data.getAfterA(setting,node,html);node.isParent&&node.open&&view.makeUlHtml(setting,node,html,childHtml.join(""));view.makeDOMNodeMainAfter(html,setting,node);data.addCreatedNode(setting,node)}}return html},"appendParentULDom":function(setting,node){var ulObj,childKey,childHtml,html=[],nObj=$$(node,setting);if(!nObj.get(0)&&node.parentTId){view.appendParentULDom(setting,node.getParentNode());nObj=$$(node,setting)}ulObj=$$(node,consts.id.UL,setting);ulObj.get(0)&&ulObj.remove();childKey=setting.data.key.children,childHtml=view.appendNodes(setting,node.level+1,node[childKey],node,!1,!0);view.makeUlHtml(setting,node,html,childHtml.join(""));nObj.append(html.join(""))},"asyncNode":function(setting,node,isSilent,callback){var i,l,icoObj,tmpParam,pKey,spKey,p,_tmpV;if(node&&!node.isParent){tools.apply(callback);return!1}if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0)){tools.apply(callback);return!1}if(node){node.isAjaxing=!0;icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({"style":"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING})}tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&l>i;i++){pKey=setting.async.autoParam[i].split("="),spKey=pKey;if(pKey.length>1){spKey=pKey[1];pKey=pKey[0]}tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam))for(i=0,l=setting.async.otherParam.length;l>i;i+=2)tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1];else for(p in setting.async.otherParam)tmpParam[p]=setting.async.otherParam[p];_tmpV=data.getRoot(setting)._ver;$.ajax({"contentType":setting.async.contentType,"cache":!1,"type":setting.async.type,"url":tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),"data":tmpParam,"dataType":setting.async.dataType,"success":function(msg){if(_tmpV!=data.getRoot(setting)._ver)return;var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(err){newNodes=msg}if(node){node.isAjaxing=null;node.zAsync=!0}view.setNodeLineIcos(setting,node);if(newNodes&&""!==newNodes){newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes);view.addNodes(setting,node,newNodes?tools.clone(newNodes):[],!!isSilent)}else view.addNodes(setting,node,[],!!isSilent);setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]);tools.apply(callback)},"error":function(XMLHttpRequest,textStatus,errorThrown){if(_tmpV!=data.getRoot(setting)._ver)return;node&&(node.isAjaxing=null);view.setNodeLineIcos(setting,node);setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,XMLHttpRequest,textStatus,errorThrown])}});return!0},"cancelPreSelectedNode":function(setting,node){var i,j,list=data.getRoot(setting).curSelectedList;for(i=0,j=list.length-1;j>=i;j--)if(!node||node===list[j]){$$(list[j],consts.id.A,setting).removeClass(consts.node.CURSELECTED);if(node){data.removeSelectedNode(setting,node);break}}node||(data.getRoot(setting).curSelectedList=[])},"createNodeCallback":function(setting){var root,node;if(setting.callback.onNodeCreated||setting.view.addDiyDom){root=data.getRoot(setting);for(;root.createdNodes.length>0;){node=root.createdNodes.shift();tools.apply(setting.view.addDiyDom,[setting.treeId,node]);setting.callback.onNodeCreated&&setting.treeObj.trigger(consts.event.NODECREATED,[setting.treeId,node])}}},"createNodes":function(setting,level,nodes,parentNode){var root,childKey,openFlag,zTreeHtml,ulObj,results,disableResults,disabled,i,l,j;if(!nodes||0==nodes.length)return;root=data.getRoot(setting),childKey=setting.data.key.children,openFlag=!parentNode||parentNode.open||!!$$(parentNode[childKey][0],setting).get(0);root.createdNodes=[];zTreeHtml=view.appendNodes(setting,level,nodes,parentNode,!0,openFlag);if(parentNode){ulObj=$$(parentNode,consts.id.UL,setting);ulObj.get(0)&&ulObj.append(zTreeHtml.join(""))}else setting.treeObj.append(zTreeHtml.join(""));results=[],disableResults=[],disabled=!0;view.getTreeSelectedNodes(setting,nodes,!0,results);for(i=0,l=results.length;l>i;i++)view.selectNode(setting,results[i],!0);view.getTreeDisableNodes(setting,nodes,!0,disableResults);for(j=0,l=disableResults.length;l>j;j++)view.disableNode(setting,disableResults[j]);view.createNodeCallback(setting)},"getTreeSelectedNodes":function(setting,nodes,selected,results){var childKey,selectedKey,i,l;if(!nodes)return[];childKey=setting.data.key.children,selectedKey=setting.data.key.selected,results=results?results:[];for(i=0,l=nodes.length;l>i;i++){nodes[i][selectedKey]==selected&&results.push(nodes[i]);view.getTreeSelectedNodes(setting,nodes[i][childKey],selected,results)}return results},"getTreeDisableNodes":function(setting,nodes,disable,results){var childKey,disableKey,i,l;if(!nodes)return[];childKey=setting.data.key.children,disableKey=setting.data.key.disable,results=results?results:[];for(i=0,l=nodes.length;l>i;i++){nodes[i][disableKey]==disable&&results.push(nodes[i]);view.getTreeDisableNodes(setting,nodes[i][childKey],disable,results)}return results},"disableNode":function(setting,node){$$(node,consts.id.A,setting).addClass(consts.node.DISABLENODE);view.repairSonChkDisabled(setting,node,!0,!1);view.repairParentChkDisabled(setting,node.getParentNode(),!1,!1)},"destroy":function(setting){if(!setting)return;data.initCache(setting);data.initRoot(setting);event.unbindTree(setting);event.unbindEvent(setting);setting.treeObj.empty();delete settings[setting.treeId]},"expandCollapseNode":function(setting,node,expandFlag,animateFlag,callback){var _callback,ulObj,switchObj,icoObj,root=data.getRoot(setting),childKey=setting.data.key.children;if(!node){tools.apply(callback,[]);return}if(root.expandTriggerFlag){_callback=callback;callback=function(){_callback&&_callback();node.open?setting.treeObj.trigger(consts.event.EXPAND,[setting.treeId,node]):setting.treeObj.trigger(consts.event.COLLAPSE,[setting.treeId,node])};root.expandTriggerFlag=!1}if(!node.open&&node.isParent&&(!$$(node,consts.id.UL,setting).get(0)||node[childKey]&&node[childKey].length>0&&!$$(node[childKey][0],setting).get(0))){view.appendParentULDom(setting,node);view.createNodeCallback(setting)}if(node.open==expandFlag){tools.apply(callback,[]);return}ulObj=$$(node,consts.id.UL,setting),switchObj=$$(node,consts.id.SWITCH,setting),icoObj=$$(node,consts.id.ICON,setting);if(node.isParent){node.open=!node.open;node.iconOpen&&node.iconClose&&icoObj.attr("style",view.makeNodeIcoStyle(setting,node));if(node.open){view.replaceSwitchClass(node,switchObj,consts.folder.OPEN);view.replaceIcoClass(node,icoObj,consts.folder.OPEN);if(0==animateFlag||""==setting.view.expandSpeed){ulObj.show();tools.apply(callback,[])}else if(node[childKey]&&node[childKey].length>0)ulObj.slideDown(setting.view.expandSpeed,callback);else{ulObj.show();tools.apply(callback,[])}}else{view.replaceSwitchClass(node,switchObj,consts.folder.CLOSE);view.replaceIcoClass(node,icoObj,consts.folder.CLOSE);if(0!=animateFlag&&""!=setting.view.expandSpeed&&(node[childKey]&&node[childKey].length>0))ulObj.slideUp(setting.view.expandSpeed,callback);else{ulObj.hide();tools.apply(callback,[])}}}else tools.apply(callback,[])},"expandCollapseParentNode":function(setting,node,expandFlag,animateFlag,callback){if(!node)return;if(!node.parentTId){view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback);return}view.expandCollapseNode(setting,node,expandFlag,animateFlag);node.parentTId&&view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,animateFlag,callback)},"expandCollapseSonNode":function(setting,node,expandFlag,animateFlag,callback){var i,l,root=data.getRoot(setting),childKey=setting.data.key.children,treeNodes=node?node[childKey]:root[childKey],selfAnimateSign=node?!1:animateFlag,expandTriggerFlag=data.getRoot(setting).expandTriggerFlag;data.getRoot(setting).expandTriggerFlag=!1;if(treeNodes)for(i=0,l=treeNodes.length;l>i;i++)treeNodes[i]&&view.expandCollapseSonNode(setting,treeNodes[i],expandFlag,selfAnimateSign);data.getRoot(setting).expandTriggerFlag=expandTriggerFlag;view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback)},"makeDOMNodeIcon":function(html,setting,node){var nameStr=data.getNodeName(setting,node),name=setting.view.nameIsHTML?nameStr:nameStr.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");html.push("<span id='",node.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(setting,node),"' style='",view.makeNodeIcoStyle(setting,node),"'></span><span id='",node.tId,consts.id.SPAN,"'>",name,"</span>")},"makeDOMNodeLine":function(html,setting,node){html.push("<span id='",node.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(setting,node),"' treeNode",consts.id.SWITCH,"></span>")},"makeDOMNodeMainAfter":function(html,setting,node){html.push("</li>")},"makeDOMNodeMainBefore":function(html,setting,node){html.push("<li id='",node.tId,"' class='",consts.className.LEVEL,node.level,"' tabindex='0' hidefocus='true' treenode>")},"makeDOMNodeNameAfter":function(html,setting,node){html.push("</a>")},"makeDOMNodeNameBefore":function(html,setting,node){var f,title=data.getNodeTitle(setting,node),url=view.makeNodeUrl(setting,node),fontcss=view.makeNodeFontCss(setting,node),fontStyle=[];for(f in fontcss)fontStyle.push(f,":",fontcss[f],";");html.push("<a id='",node.tId,consts.id.A,"' class='",consts.className.LEVEL,node.level,"' treeNode",consts.id.A,' onclick="',node.click||"",'" ',null!=url&&url.length>0?"href='"+url+"'":""," target='",view.makeNodeTarget(node),"' style='",fontStyle.join(""),"'");tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&title&&html.push("title='",title.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'");html.push(">")},"makeNodeFontCss":function(setting,node){var fontCss=tools.apply(setting.view.fontCss,[setting.treeId,node],setting.view.fontCss);return fontCss&&"function"!=typeof fontCss?fontCss:{}},"makeNodeIcoClass":function(setting,node){var icoCss=["ico"];if(!node.isAjaxing){icoCss[0]=(node.iconSkin?node.iconSkin+"_":"")+icoCss[0];node.isParent?icoCss.push(node.open?consts.folder.OPEN:consts.folder.CLOSE):icoCss.push(consts.folder.DOCU)}return consts.className.BUTTON+" "+icoCss.join("_")},"makeNodeIcoStyle":function(setting,node){var icon,icoStyle=[];if(!node.isAjaxing){icon=node.isParent&&node.iconOpen&&node.iconClose?node.open?node.iconOpen:node.iconClose:node.icon;icon&&icoStyle.push("background:url(",icon,") 0 0 no-repeat;");0!=setting.view.showIcon&&tools.apply(setting.view.showIcon,[setting.treeId,node],!0)||icoStyle.push("width:0px;height:0px;")}return icoStyle.join("")},"makeNodeLineClass":function(setting,node){var lineClass=[];setting.view.showLine?0==node.level&&node.isFirstNode&&node.isLastNode?lineClass.push(consts.line.ROOT):0==node.level&&node.isFirstNode?lineClass.push(consts.line.ROOTS):node.isLastNode?lineClass.push(consts.line.BOTTOM):lineClass.push(consts.line.CENTER):lineClass.push(consts.line.NOLINE);node.isParent?lineClass.push(node.open?consts.folder.OPEN:consts.folder.CLOSE):lineClass.push(consts.folder.DOCU);return view.makeNodeLineClassEx(node)+lineClass.join("_")},"makeNodeLineClassEx":function(node){return consts.className.BUTTON+" "+consts.className.LEVEL+node.level+" "+consts.className.SWITCH+" "},"makeNodeTarget":function(node){return node.target||"_blank"},"makeNodeUrl":function(setting,node){var urlKey=setting.data.key.url;return node[urlKey]?node[urlKey]:null},"makeUlHtml":function(setting,node,html,content){html.push("<ul id='",node.tId,consts.id.UL,"' class='",consts.className.LEVEL,node.level," ",view.makeUlLineClass(setting,node),"' style='display:",node.open?"block":"none","'>");html.push(content);html.push("</ul>")},"makeUlLineClass":function(setting,node){return setting.view.showLine&&!node.isLastNode?consts.line.LINE:""},"removeChildNodes":function(setting,node){var childKey,nodes,i,l,tmp_switchObj,tmp_icoObj;if(!node)return;childKey=setting.data.key.children,nodes=node[childKey];if(!nodes)return;for(i=0,l=nodes.length;l>i;i++)data.removeNodeCache(setting,nodes[i]);data.removeSelectedNode(setting);delete node[childKey];if(setting.data.keep.parent)$$(node,consts.id.UL,setting).empty();else{node.isParent=!1;node.open=!1;tmp_switchObj=$$(node,consts.id.SWITCH,setting),tmp_icoObj=$$(node,consts.id.ICON,setting);view.replaceSwitchClass(node,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(node,tmp_icoObj,consts.folder.DOCU);$$(node,consts.id.UL,setting).remove()}},"setFirstNode":function(setting,parentNode){var childKey=setting.data.key.children,childLength=parentNode[childKey].length;childLength>0&&(parentNode[childKey][0].isFirstNode=!0)},"setLastNode":function(setting,parentNode){var childKey=setting.data.key.children,childLength=parentNode[childKey].length;childLength>0&&(parentNode[childKey][childLength-1].isLastNode=!0)},"removeNode":function(setting,node){var i,l,tmp_ulObj,tmp_switchObj,tmp_icoObj,childLength,newLast,tmp_first_switchObj,root=data.getRoot(setting),childKey=setting.data.key.children,parentNode=node.parentTId?node.getParentNode():root;node.isFirstNode=!1;node.isLastNode=!1;node.getPreNode=function(){return null};node.getNextNode=function(){return null};if(!data.getNodeCache(setting,node.tId))return;$$(node,setting).remove();data.removeNodeCache(setting,node);data.removeSelectedNode(setting,node);for(i=0,l=parentNode[childKey].length;l>i;i++)if(parentNode[childKey][i].tId==node.tId){parentNode[childKey].splice(i,1);break}view.setFirstNode(setting,parentNode);view.setLastNode(setting,parentNode);childLength=parentNode[childKey].length;if(setting.data.keep.parent||0!=childLength){if(setting.view.showLine&&childLength>0){newLast=parentNode[childKey][childLength-1];tmp_ulObj=$$(newLast,consts.id.UL,setting);tmp_switchObj=$$(newLast,consts.id.SWITCH,setting);tmp_icoObj=$$(newLast,consts.id.ICON,setting);if(parentNode==root)if(1==parentNode[childKey].length)view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.ROOT);else{tmp_first_switchObj=$$(parentNode[childKey][0],consts.id.SWITCH,setting);view.replaceSwitchClass(parentNode[childKey][0],tmp_first_switchObj,consts.line.ROOTS);view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}else view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM);tmp_ulObj.removeClass(consts.line.LINE)}}else{parentNode.isParent=!1;parentNode.open=!1;tmp_ulObj=$$(parentNode,consts.id.UL,setting);tmp_switchObj=$$(parentNode,consts.id.SWITCH,setting);tmp_icoObj=$$(parentNode,consts.id.ICON,setting);view.replaceSwitchClass(parentNode,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(parentNode,tmp_icoObj,consts.folder.DOCU);tmp_ulObj.css("display","none")}},"replaceIcoClass":function(node,obj,newName){var tmpName,tmpList;if(!obj||node.isAjaxing)return;tmpName=obj.attr("class");if(void 0==tmpName)return;tmpList=tmpName.split("_");switch(newName){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[tmpList.length-1]=newName;
}obj.attr("class",tmpList.join("_"))},"replaceSwitchClass":function(node,obj,newName){var tmpName,tmpList;if(!obj)return;tmpName=obj.attr("class");if(void 0==tmpName)return;tmpList=tmpName.split("_");switch(newName){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:tmpList[0]=view.makeNodeLineClassEx(node)+newName;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[1]=newName}obj.attr("class",tmpList.join("_"));newName!==consts.folder.DOCU?obj.removeAttr("disabled"):obj.attr("disabled","disabled")},"selectNode":function(setting,node,addFlag){addFlag||view.cancelPreSelectedNode(setting);$$(node,consts.id.A,setting).addClass(consts.node.CURSELECTED);data.addSelectedNode(setting,node)},"setNodeFontCss":function(setting,treeNode){var aObj=$$(treeNode,consts.id.A,setting),fontCss=view.makeNodeFontCss(setting,treeNode);fontCss&&aObj.css(fontCss)},"setNodeLineIcos":function(setting,node){if(!node)return;var switchObj=$$(node,consts.id.SWITCH,setting),ulObj=$$(node,consts.id.UL,setting),icoObj=$$(node,consts.id.ICON,setting),ulLine=view.makeUlLineClass(setting,node);0==ulLine.length?ulObj.removeClass(consts.line.LINE):ulObj.addClass(ulLine);switchObj.attr("class",view.makeNodeLineClass(setting,node));node.isParent?switchObj.removeAttr("disabled"):switchObj.attr("disabled","disabled");icoObj.removeAttr("style");icoObj.attr("style",view.makeNodeIcoStyle(setting,node));icoObj.attr("class",view.makeNodeIcoClass(setting,node))},"setNodeName":function(setting,node){var aObj,title=data.getNodeTitle(setting,node),nObj=$$(node,consts.id.SPAN,setting);nObj.empty();setting.view.nameIsHTML?nObj.html(data.getNodeName(setting,node)):nObj.text(data.getNodeName(setting,node));if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)){aObj=$$(node,consts.id.A,setting);aObj.attr("title",title?title:"")}},"setNodeTarget":function(setting,node){var aObj=$$(node,consts.id.A,setting);aObj.attr("target",view.makeNodeTarget(node))},"setNodeUrl":function(setting,node){var aObj=$$(node,consts.id.A,setting),url=view.makeNodeUrl(setting,node);null==url||0==url.length?aObj.removeAttr("href"):aObj.attr("href",url)},"switchNode":function(setting,node){if(node.open||!tools.canAsync(setting,node))view.expandCollapseNode(setting,node,!node.open);else if(setting.async.enable){if(!view.asyncNode(setting,node)){view.expandCollapseNode(setting,node,!node.open);return}}else node&&view.expandCollapseNode(setting,node,!node.open)}};$.fn.zTree={"consts":_consts,"_z":{"tools":tools,"view":view,"event":event,"data":data},"getZTreeObj":function(treeId){var o=data.getZTreeTools(treeId);return o?o:null},"destroy":function(treeId){if(treeId&&treeId.length>0)view.destroy(data.getSetting(treeId));else for(var s in settings)view.destroy(settings[s])},"init":function(obj,zSetting,zNodes){var root,childKey,zTreeTools,setting=tools.clone(_setting);$.extend(!0,setting,zSetting);setting.treeId=obj.attr("id");setting.treeObj=obj;setting.treeObj.empty();settings[setting.treeId]=setting;"undefined"==typeof document.body.style.maxHeight&&(setting.view.expandSpeed="");data.initRoot(setting);root=data.getRoot(setting),childKey=setting.data.key.children;zNodes=zNodes?tools.clone(tools.isArray(zNodes)?zNodes:[zNodes]):[];setting.data.simpleData.enable?root[childKey]=data.transformTozTreeFormat(setting,zNodes):root[childKey]=zNodes;data.initCache(setting);event.unbindTree(setting);event.bindTree(setting);event.unbindEvent(setting);event.bindEvent(setting);zTreeTools={"setting":setting,"addNodes":function(parentNode,newNodes,isSilent){function addCallback(){view.addNodes(setting,parentNode,xNewNodes,1==isSilent)}if(!newNodes)return null;parentNode||(parentNode=null);if(parentNode&&!parentNode.isParent&&setting.data.keep.leaf)return null;var xNewNodes=tools.clone(tools.isArray(newNodes)?newNodes:[newNodes]);tools.canAsync(setting,parentNode)?view.asyncNode(setting,parentNode,isSilent,addCallback):addCallback();return xNewNodes},"cancelSelectedNode":function(node){view.cancelPreSelectedNode(setting,node)},"destroy":function(){view.destroy(setting)},"expandAll":function(expandFlag){expandFlag=!!expandFlag;view.expandCollapseSonNode(setting,null,expandFlag,!0);return expandFlag},"expandNode":function(node,expandFlag,sonSign,focus,callbackFlag){if(!node||!node.isParent)return null;expandFlag!==!0&&expandFlag!==!1&&(expandFlag=!node.open);callbackFlag=!!callbackFlag;if(callbackFlag&&expandFlag&&0==tools.apply(setting.callback.beforeExpand,[setting.treeId,node],!0))return null;if(callbackFlag&&!expandFlag&&0==tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],!0))return null;expandFlag&&node.parentTId&&view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,!1);if(expandFlag===node.open&&!sonSign)return null;data.getRoot(setting).expandTriggerFlag=callbackFlag;if(!tools.canAsync(setting,node)&&sonSign)view.expandCollapseSonNode(setting,node,expandFlag,!0,function(){if(focus!==!1)try{$$(node,setting).focus().blur()}catch(e){}});else{node.open=!expandFlag;view.switchNode(this.setting,node);if(focus!==!1)try{$$(node,setting).focus().blur()}catch(e){}}return expandFlag},"getNodes":function(){return data.getNodes(setting)},"getNodeByParam":function(key,value,parentNode){if(!key)return null;return data.getNodeByParam(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),key,value)},"getNodeByTId":function(tId){return data.getNodeCache(setting,tId)},"getNodesByParam":function(key,value,parentNode){if(!key)return null;return data.getNodesByParam(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),key,value)},"getNodesByParamFuzzy":function(key,value,parentNode){if(!key)return null;return data.getNodesByParamFuzzy(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),key,value)},"getNodesByFilter":function(filter,isSingle,parentNode,invokeParam){isSingle=!!isSingle;if(!filter||"function"!=typeof filter)return isSingle?null:[];return data.getNodesByFilter(setting,parentNode?parentNode[setting.data.key.children]:data.getNodes(setting),filter,isSingle,invokeParam)},"getNodeIndex":function(node){var childKey,parentNode,i,l;if(!node)return null;childKey=setting.data.key.children,parentNode=node.parentTId?node.getParentNode():data.getRoot(setting);for(i=0,l=parentNode[childKey].length;l>i;i++)if(parentNode[childKey][i]==node)return i;return-1},"getSelectedNodes":function(){var i,l,r=[],list=data.getRoot(setting).curSelectedList;for(i=0,l=list.length;l>i;i++)r.push(list[i]);return r},"isSelectedNode":function(node){return data.isSelectedNode(setting,node)},"reAsyncChildNodes":function(parentNode,reloadType,isSilent){var isRoot,childKey,i,l,ulObj;if(!this.setting.async.enable)return;isRoot=!parentNode;isRoot&&(parentNode=data.getRoot(setting));if("refresh"==reloadType){childKey=this.setting.data.key.children;for(i=0,l=parentNode[childKey]?parentNode[childKey].length:0;l>i;i++)data.removeNodeCache(setting,parentNode[childKey][i]);data.removeSelectedNode(setting);parentNode[childKey]=[];if(isRoot)this.setting.treeObj.empty();else{ulObj=$$(parentNode,consts.id.UL,setting);ulObj.empty()}}view.asyncNode(this.setting,isRoot?null:parentNode,!!isSilent)},"refresh":function(){this.setting.treeObj.empty();var root=data.getRoot(setting),nodes=root[setting.data.key.children];data.initRoot(setting);root[setting.data.key.children]=nodes;data.initCache(setting);view.createNodes(setting,0,root[setting.data.key.children])},"removeChildNodes":function(node){if(!node)return null;var childKey=setting.data.key.children,nodes=node[childKey];view.removeChildNodes(setting,node);return nodes?nodes:null},"removeNode":function(node,callbackFlag){if(!node)return;callbackFlag=!!callbackFlag;if(callbackFlag&&0==tools.apply(setting.callback.beforeRemove,[setting.treeId,node],!0))return;view.removeNode(setting,node);callbackFlag&&this.setting.treeObj.trigger(consts.event.REMOVE,[setting.treeId,node])},"selectNode":function(node,addFlag){if(!node)return;if(tools.uCanDo(setting)){addFlag=setting.view.selectedMulti&&addFlag;if(node.parentTId)view.expandCollapseParentNode(setting,node.getParentNode(),!0,!1,function(){try{$$(node,setting).focus().blur()}catch(e){}});else try{$$(node,setting).focus().blur()}catch(e){}view.selectNode(setting,node,addFlag)}},"transformTozTreeNodes":function(simpleNodes){return data.transformTozTreeFormat(setting,simpleNodes)},"transformToArray":function(nodes){return data.transformToArrayFormat(setting,nodes)},"updateNode":function(node,checkTypeFlag){if(!node)return;var nObj=$$(node,setting);if(nObj.get(0)&&tools.uCanDo(setting)){view.setNodeName(setting,node);view.setNodeTarget(setting,node);view.setNodeUrl(setting,node);view.setNodeLineIcos(setting,node);view.setNodeFontCss(setting,node)}}};root.treeTools=zTreeTools;data.setZTreeTools(setting,zTreeTools);root[childKey]&&root[childKey].length>0?view.createNodes(setting,0,root[childKey]):setting.async.enable&&setting.async.url&&""!==setting.async.url&&view.asyncNode(setting);return zTreeTools}};zt=$.fn.zTree,$$=tools.$,consts=zt.consts})(jQuery);(function($){var zt,tools,consts,view,data,event,$$,_createNodes,_removeNode,_appendNodes,_consts={"event":{"CHECK":"ztree_check"},"id":{"CHECK":"_check"},"checkbox":{"STYLE":"checkbox","DEFAULT":"chk","DISABLED":"disable","FALSE":"false","TRUE":"true","FULL":"full","PART":"part","FOCUS":"focus"},"radio":{"STYLE":"radio","TYPE_ALL":"all","TYPE_LEVEL":"level"}},_setting={"check":{"enable":!1,"autoCheckTrigger":!1,"chkStyle":_consts.checkbox.STYLE,"nocheckInherit":!1,"chkDisabledInherit":!1,"radioType":_consts.radio.TYPE_LEVEL,"chkboxType":{"Y":"ps","N":"ps"}},"data":{"key":{"checked":"checked"}},"callback":{"beforeCheck":null,"onCheck":null}},_initRoot=function(setting){var r=data.getRoot(setting);r.radioCheckedList=[]},_initCache=function(treeId){},_bindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.bind(c.CHECK,function(event,srcEvent,treeId,node){event.srcEvent=srcEvent;tools.apply(setting.callback.onCheck,[event,treeId,node])})},_unbindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.unbind(c.CHECK)},_eventProxy=function(e){var proxyResult,target=e.target,setting=data.getSetting(e.data.treeId),tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null;if(tools.eqs(e.type,"mouseover")){if(setting.check.enable&&tools.eqs(target.tagName,"span")&&null!==target.getAttribute("treeNode"+consts.id.CHECK)){tId=tools.getNodeMainDom(target).id;nodeEventType="mouseoverCheck"}}else if(tools.eqs(e.type,"mouseout")){if(setting.check.enable&&tools.eqs(target.tagName,"span")&&null!==target.getAttribute("treeNode"+consts.id.CHECK)){tId=tools.getNodeMainDom(target).id;nodeEventType="mouseoutCheck"}}else if(tools.eqs(e.type,"click")&&setting.check.enable&&tools.eqs(target.tagName,"span")&&null!==target.getAttribute("treeNode"+consts.id.CHECK)){tId=tools.getNodeMainDom(target).id;nodeEventType="checkNode"}if(tId.length>0){node=data.getNodeCache(setting,tId);switch(nodeEventType){case"checkNode":nodeEventCallback=_handler.onCheckNode;break;case"mouseoverCheck":nodeEventCallback=_handler.onMouseoverCheck;break;case"mouseoutCheck":nodeEventCallback=_handler.onMouseoutCheck}}proxyResult={"stop":"checkNode"===nodeEventType,"node":node,"nodeEventType":nodeEventType,"nodeEventCallback":nodeEventCallback,"treeEventType":treeEventType,"treeEventCallback":treeEventCallback};return proxyResult},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){var checkedKey,r;if(!n)return;checkedKey=setting.data.key.checked;"string"==typeof n[checkedKey]&&(n[checkedKey]=tools.eqs(n[checkedKey],"true"));n[checkedKey]=!!n[checkedKey];n.checkedOld=n[checkedKey];"string"==typeof n.nocheck&&(n.nocheck=tools.eqs(n.nocheck,"true"));n.nocheck=!!n.nocheck||setting.check.nocheckInherit&&parentNode&&!!parentNode.nocheck;"string"==typeof n.chkDisabled&&(n.chkDisabled=tools.eqs(n.chkDisabled,"true"));n.chkDisabled=!!n.chkDisabled||setting.check.chkDisabledInherit&&parentNode&&!!parentNode.chkDisabled;"string"==typeof n.halfCheck&&(n.halfCheck=tools.eqs(n.halfCheck,"true"));n.halfCheck=!!n.halfCheck;n.check_Child_State=-1;n.check_Focus=!1;n.getCheckStatus=function(){return data.getCheckStatus(setting,n)};if(setting.check.chkStyle==consts.radio.STYLE&&setting.check.radioType==consts.radio.TYPE_ALL&&n[checkedKey]){r=data.getRoot(setting);r.radioCheckedList.push(n)}},_beforeA=function(setting,node,html){setting.data.key.checked;if(setting.check.enable){data.makeChkFlag(setting,node);html.push("<span ID='",node.tId,consts.id.CHECK,"' class='",view.makeChkClass(setting,node),"' treeNode",consts.id.CHECK,node.nocheck===!0?" style='display:none;'":"","></span>")}},_zTreeTools=function(setting,zTreeTools){zTreeTools.checkNode=function(node,checked,checkTypeFlag,callbackFlag){var checkObj,checkedKey=this.setting.data.key.checked;if(node.chkDisabled===!0)return;checked!==!0&&checked!==!1&&(checked=!node[checkedKey]);callbackFlag=!!callbackFlag;if(node[checkedKey]===checked&&!checkTypeFlag)return;if(callbackFlag&&0==tools.apply(this.setting.callback.beforeCheck,[this.setting.treeId,node],!0))return;if(tools.uCanDo(this.setting)&&this.setting.check.enable&&node.nocheck!==!0){node[checkedKey]=checked;checkObj=$$(node,consts.id.CHECK,this.setting);(checkTypeFlag||this.setting.check.chkStyle===consts.radio.STYLE)&&view.checkNodeRelation(this.setting,node);view.setChkClass(this.setting,checkObj,node);view.repairParentChkClassWithSelf(this.setting,node);callbackFlag&&this.setting.treeObj.trigger(consts.event.CHECK,[null,this.setting.treeId,node])}};zTreeTools.checkAllNodes=function(checked){view.repairAllChk(this.setting,!!checked)};zTreeTools.getCheckedNodes=function(checked){var childKey=this.setting.data.key.children;checked=checked!==!1;return data.getTreeCheckedNodes(this.setting,data.getRoot(this.setting)[childKey],checked)};zTreeTools.getChangeCheckedNodes=function(){var childKey=this.setting.data.key.children;return data.getTreeChangeCheckedNodes(this.setting,data.getRoot(this.setting)[childKey])};zTreeTools.setChkDisabled=function(node,disabled,inheritParent,inheritChildren){disabled=!!disabled;inheritParent=!!inheritParent;inheritChildren=!!inheritChildren;view.repairSonChkDisabled(this.setting,node,disabled,inheritChildren);view.repairParentChkDisabled(this.setting,node.getParentNode(),disabled,inheritParent)};var _updateNode=zTreeTools.updateNode;zTreeTools.updateNode=function(node,checkTypeFlag){var nObj,checkObj;_updateNode&&_updateNode.apply(zTreeTools,arguments);if(!node||!this.setting.check.enable)return;nObj=$$(node,this.setting);if(nObj.get(0)&&tools.uCanDo(this.setting)){checkObj=$$(node,consts.id.CHECK,this.setting);(1==checkTypeFlag||this.setting.check.chkStyle===consts.radio.STYLE)&&view.checkNodeRelation(this.setting,node);view.setChkClass(this.setting,checkObj,node);view.repairParentChkClassWithSelf(this.setting,node)}}},_data={"getRadioCheckedList":function(setting){var i,j,checkedList=data.getRoot(setting).radioCheckedList;for(i=0,j=checkedList.length;j>i;i++)if(!data.getNodeCache(setting,checkedList[i].tId)){checkedList.splice(i,1);i--;j--}return checkedList},"getCheckStatus":function(setting,node){if(!setting.check.enable||node.nocheck||node.chkDisabled)return null;var checkedKey=setting.data.key.checked,r={"checked":node[checkedKey],"half":node.halfCheck?node.halfCheck:setting.check.chkStyle==consts.radio.STYLE?2===node.check_Child_State:node[checkedKey]?node.check_Child_State>-1&&node.check_Child_State<2:node.check_Child_State>0};return r},"getTreeCheckedNodes":function(setting,nodes,checked,results){var childKey,checkedKey,onlyOne,i,l;if(!nodes)return[];childKey=setting.data.key.children,checkedKey=setting.data.key.checked,onlyOne=checked&&setting.check.chkStyle==consts.radio.STYLE&&setting.check.radioType==consts.radio.TYPE_ALL;results=results?results:[];for(i=0,l=nodes.length;l>i;i++){if(nodes[i].nocheck!==!0&&nodes[i].chkDisabled!==!0&&nodes[i][checkedKey]==checked){results.push(nodes[i]);if(onlyOne)break}data.getTreeCheckedNodes(setting,nodes[i][childKey],checked,results);if(onlyOne&&results.length>0)break}return results},"getTreeChangeCheckedNodes":function(setting,nodes,results){var childKey,checkedKey,i,l;if(!nodes)return[];childKey=setting.data.key.children,checkedKey=setting.data.key.checked;results=results?results:[];for(i=0,l=nodes.length;l>i;i++){nodes[i].nocheck!==!0&&nodes[i].chkDisabled!==!0&&nodes[i][checkedKey]!=nodes[i].checkedOld&&results.push(nodes[i]);data.getTreeChangeCheckedNodes(setting,nodes[i][childKey],results)}return results},"makeChkFlag":function(setting,node){var childKey,checkedKey,chkFlag,i,l,cNode,tmp;if(!node)return;childKey=setting.data.key.children,checkedKey=setting.data.key.checked,chkFlag=-1;if(node[childKey])for(i=0,l=node[childKey].length;l>i;i++){cNode=node[childKey][i];tmp=-1;if(setting.check.chkStyle==consts.radio.STYLE){tmp=cNode.nocheck===!0||cNode.chkDisabled===!0?cNode.check_Child_State:cNode.halfCheck===!0?2:cNode[checkedKey]?2:cNode.check_Child_State>0?2:0;if(2==tmp){chkFlag=2;break}0==tmp&&(chkFlag=0)}else if(setting.check.chkStyle==consts.checkbox.STYLE){tmp=cNode.nocheck===!0||cNode.chkDisabled===!0?cNode.check_Child_State:cNode.halfCheck===!0?1:cNode[checkedKey]?-1===cNode.check_Child_State||2===cNode.check_Child_State?2:1:cNode.check_Child_State>0?1:0;if(1===tmp){chkFlag=1;break}if(2===tmp&&chkFlag>-1&&i>0&&tmp!==chkFlag){chkFlag=1;break}if(2===chkFlag&&tmp>-1&&2>tmp){chkFlag=1;break}tmp>-1&&(chkFlag=tmp)}}node.check_Child_State=chkFlag}},_event={},_handler={"onCheckNode":function(event,node){var setting,checkedKey,checkObj;if(node.chkDisabled===!0)return!1;setting=data.getSetting(event.data.treeId),checkedKey=setting.data.key.checked;if(0==tools.apply(setting.callback.beforeCheck,[setting.treeId,node],!0))return!0;node[checkedKey]=!node[checkedKey];view.checkNodeRelation(setting,node);checkObj=$$(node,consts.id.CHECK,setting);view.setChkClass(setting,checkObj,node);view.repairParentChkClassWithSelf(setting,node);setting.treeObj.trigger(consts.event.CHECK,[event,setting.treeId,node]);return!0},"onMouseoverCheck":function(event,node){if(node.chkDisabled===!0)return!1;var setting=data.getSetting(event.data.treeId),checkObj=$$(node,consts.id.CHECK,setting);node.check_Focus=!0;view.setChkClass(setting,checkObj,node);return!0},"onMouseoutCheck":function(event,node){if(node.chkDisabled===!0)return!1;var setting=data.getSetting(event.data.treeId),checkObj=$$(node,consts.id.CHECK,setting);node.check_Focus=!1;view.setChkClass(setting,checkObj,node);return!0}},_tools={},_view={"checkNodeRelation":function(setting,node){var pNode,i,l,checkedList,parentNode,childKey=setting.data.key.children,checkedKey=setting.data.key.checked,r=consts.radio;if(setting.check.chkStyle==r.STYLE){checkedList=data.getRadioCheckedList(setting);if(node[checkedKey])if(setting.check.radioType==r.TYPE_ALL){for(i=checkedList.length-1;i>=0;i--){pNode=checkedList[i];if(pNode[checkedKey]&&pNode!=node){pNode[checkedKey]=!1;checkedList.splice(i,1);view.setChkClass(setting,$$(pNode,consts.id.CHECK,setting),pNode);pNode.parentTId!=node.parentTId&&view.repairParentChkClassWithSelf(setting,pNode)}}checkedList.push(node)}else{parentNode=node.parentTId?node.getParentNode():data.getRoot(setting);for(i=0,l=parentNode[childKey].length;l>i;i++){pNode=parentNode[childKey][i];if(pNode[checkedKey]&&pNode!=node){pNode[checkedKey]=!1;view.setChkClass(setting,$$(pNode,consts.id.CHECK,setting),pNode)}}}else if(setting.check.radioType==r.TYPE_ALL)for(i=0,l=checkedList.length;l>i;i++)if(node==checkedList[i]){checkedList.splice(i,1);break}}else{node[checkedKey]&&(!node[childKey]||0==node[childKey].length||setting.check.chkboxType.Y.indexOf("s")>-1)&&view.setSonNodeCheckBox(setting,node,!0);node[checkedKey]||node[childKey]&&0!=node[childKey].length&&!(setting.check.chkboxType.N.indexOf("s")>-1)||view.setSonNodeCheckBox(setting,node,!1);node[checkedKey]&&setting.check.chkboxType.Y.indexOf("p")>-1&&view.setParentNodeCheckBox(setting,node,!0);!node[checkedKey]&&setting.check.chkboxType.N.indexOf("p")>-1&&view.setParentNodeCheckBox(setting,node,!1)}},"makeChkClass":function(setting,node){var chkName,checkedKey=setting.data.key.checked,c=consts.checkbox,r=consts.radio,fullStyle="";fullStyle=node.chkDisabled===!0?c.DISABLED:node.halfCheck?c.PART:setting.check.chkStyle==r.STYLE?node.check_Child_State<1?c.FULL:c.PART:node[checkedKey]?2===node.check_Child_State||-1===node.check_Child_State?c.FULL:c.PART:node.check_Child_State<1?c.FULL:c.PART;chkName=setting.check.chkStyle+"_"+(node[checkedKey]?c.TRUE:c.FALSE)+"_"+fullStyle;chkName=node.check_Focus&&node.chkDisabled!==!0?chkName+"_"+c.FOCUS:chkName;return consts.className.BUTTON+" "+c.DEFAULT+" "+chkName},"repairAllChk":function(setting,checked){var checkedKey,childKey,root,i,l,node;if(setting.check.enable&&setting.check.chkStyle===consts.checkbox.STYLE){checkedKey=setting.data.key.checked,childKey=setting.data.key.children,root=data.getRoot(setting);for(i=0,l=root[childKey].length;l>i;i++){node=root[childKey][i];node.nocheck!==!0&&node.chkDisabled!==!0&&(node[checkedKey]=checked);view.setSonNodeCheckBox(setting,node,checked)}}},"repairChkClass":function(setting,node){if(!node)return;data.makeChkFlag(setting,node);if(node.nocheck!==!0){var checkObj=$$(node,consts.id.CHECK,setting);view.setChkClass(setting,checkObj,node)}},"repairParentChkClass":function(setting,node){if(!node||!node.parentTId)return;var pNode=node.getParentNode();view.repairChkClass(setting,pNode);view.repairParentChkClass(setting,pNode)},"repairParentChkClassWithSelf":function(setting,node){if(!node)return;var childKey=setting.data.key.children;node[childKey]&&node[childKey].length>0?view.repairParentChkClass(setting,node[childKey][0]):view.repairParentChkClass(setting,node)},"repairSonChkDisabled":function(setting,node,chkDisabled,inherit){var childKey,i,l,sNode;if(!node)return;childKey=setting.data.key.children;node.chkDisabled!=chkDisabled&&(node.chkDisabled=chkDisabled);view.repairChkClass(setting,node);if(node[childKey]&&inherit)for(i=0,l=node[childKey].length;l>i;i++){sNode=node[childKey][i];view.repairSonChkDisabled(setting,sNode,chkDisabled,inherit)}},"repairParentChkDisabled":function(setting,node,chkDisabled,inherit){if(!node)return;node.chkDisabled!=chkDisabled&&inherit&&(node.chkDisabled=chkDisabled);view.repairChkClass(setting,node);view.repairParentChkDisabled(setting,node.getParentNode(),chkDisabled,inherit)},"setChkClass":function(setting,obj,node){if(!obj)return;node.nocheck===!0?obj.hide():obj.show();obj.removeAttr("style");obj.attr("class",view.makeChkClass(setting,node))},"setParentNodeCheckBox":function(setting,node,value,srcNode){var pSign,pNodes,i,l,childKey=setting.data.key.children,checkedKey=setting.data.key.checked,checkObj=$$(node,consts.id.CHECK,setting);srcNode||(srcNode=node);data.makeChkFlag(setting,node);if(node.nocheck!==!0&&node.chkDisabled!==!0){node[checkedKey]=value;view.setChkClass(setting,checkObj,node);setting.check.autoCheckTrigger&&node!=srcNode&&setting.treeObj.trigger(consts.event.CHECK,[null,setting.treeId,node])}if(node.parentTId){pSign=!0;if(!value){pNodes=node.getParentNode()[childKey];for(i=0,l=pNodes.length;l>i;i++)if(pNodes[i].nocheck!==!0&&pNodes[i].chkDisabled!==!0&&pNodes[i][checkedKey]||(pNodes[i].nocheck===!0||pNodes[i].chkDisabled===!0)&&pNodes[i].check_Child_State>0){pSign=!1;break}}pSign&&view.setParentNodeCheckBox(setting,node.getParentNode(),value,srcNode)}},"setSonNodeCheckBox":function(setting,node,value,srcNode){var childKey,checkedKey,checkObj,hasDisable,i,l,sNode;if(!node)return;childKey=setting.data.key.children,checkedKey=setting.data.key.checked,checkObj=$$(node,consts.id.CHECK,setting);srcNode||(srcNode=node);hasDisable=!1;if(node[childKey])for(i=0,l=node[childKey].length;l>i&&node.chkDisabled!==!0;i++){sNode=node[childKey][i];view.setSonNodeCheckBox(setting,sNode,value,srcNode);sNode.chkDisabled===!0&&(hasDisable=!0)}if(node!=data.getRoot(setting)&&node.chkDisabled!==!0){hasDisable&&node.nocheck!==!0&&data.makeChkFlag(setting,node);if(node.nocheck!==!0&&node.chkDisabled!==!0){node[checkedKey]=value;hasDisable||(node.check_Child_State=node[childKey]&&node[childKey].length>0?value?2:0:-1)}else node.check_Child_State=-1;view.setChkClass(setting,checkObj,node);setting.check.autoCheckTrigger&&node!=srcNode&&node.nocheck!==!0&&node.chkDisabled!==!0&&setting.treeObj.trigger(consts.event.CHECK,[null,setting.treeId,node])}}},_z={"tools":_tools,"view":_view,"event":_event,"data":_data};$.extend(!0,$.fn.zTree.consts,_consts);$.extend(!0,$.fn.zTree._z,_z);zt=$.fn.zTree,tools=zt._z.tools,consts=zt.consts,view=zt._z.view,data=zt._z.data,event=zt._z.event,$$=tools.$;data.exSetting(_setting);data.addInitBind(_bindEvent);data.addInitUnBind(_unbindEvent);data.addInitCache(_initCache);data.addInitNode(_initNode);data.addInitProxy(_eventProxy,!0);data.addInitRoot(_initRoot);data.addBeforeA(_beforeA);data.addZTreeTools(_zTreeTools);_createNodes=view.createNodes;view.createNodes=function(setting,level,nodes,parentNode){_createNodes&&_createNodes.apply(view,arguments);if(!nodes)return;view.repairParentChkClassWithSelf(setting,parentNode)};_removeNode=view.removeNode;view.removeNode=function(setting,node){var parentNode=node.getParentNode();_removeNode&&_removeNode.apply(view,arguments);if(!node||!parentNode)return;view.repairChkClass(setting,parentNode);view.repairParentChkClass(setting,parentNode)};_appendNodes=view.appendNodes;view.appendNodes=function(setting,level,nodes,parentNode,initFlag,openFlag){var html="";_appendNodes&&(html=_appendNodes.apply(view,arguments));parentNode&&data.makeChkFlag(setting,parentNode);return html}})(jQuery);(function($){var zt,tools,consts,view,data,event,$$,_cancelPreSelectedNode,_createNodes,_makeNodeUrl,_removeNode,_selectNode,_uCanDo,_consts={"event":{"DRAG":"ztree_drag","DROP":"ztree_drop","RENAME":"ztree_rename","DRAGMOVE":"ztree_dragmove"},"id":{"EDIT":"_edit","INPUT":"_input","REMOVE":"_remove"},"move":{"TYPE_INNER":"inner","TYPE_PREV":"prev","TYPE_NEXT":"next"},"node":{"CURSELECTED_EDIT":"curSelectedNode_Edit","TMPTARGET_TREE":"tmpTargetzTree","TMPTARGET_NODE":"tmpTargetNode"}},_setting={"edit":{"enable":!1,"editNameSelectAll":!1,"showRemoveBtn":!0,"showRenameBtn":!0,"removeTitle":"remove","renameTitle":"rename","drag":{"autoExpandTrigger":!1,"isCopy":!0,"isMove":!0,"prev":!0,"next":!0,"inner":!0,"minMoveSize":5,"borderMax":10,"borderMin":-5,"maxShowNodeNum":5,"autoOpenTime":500}},"view":{"addHoverDom":null,"removeHoverDom":null},"callback":{"beforeDrag":null,"beforeDragOpen":null,"beforeDrop":null,"beforeEditName":null,"beforeRename":null,"onDrag":null,"onDragMove":null,"onDrop":null,"onRename":null}},_initRoot=function(setting){var r=data.getRoot(setting),rs=data.getRoots();r.curEditNode=null;r.curEditInput=null;r.curHoverNode=null;r.dragFlag=0;r.dragNodeShowBefore=[];r.dragMaskList=new Array;rs.showHoverDom=!0},_initCache=function(treeId){},_bindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.bind(c.RENAME,function(event,treeId,treeNode,isCancel){tools.apply(setting.callback.onRename,[event,treeId,treeNode,isCancel])});o.bind(c.DRAG,function(event,srcEvent,treeId,treeNodes){tools.apply(setting.callback.onDrag,[srcEvent,treeId,treeNodes])});o.bind(c.DRAGMOVE,function(event,srcEvent,treeId,treeNodes){tools.apply(setting.callback.onDragMove,[srcEvent,treeId,treeNodes])});o.bind(c.DROP,function(event,srcEvent,treeId,treeNodes,targetNode,moveType,isCopy){tools.apply(setting.callback.onDrop,[srcEvent,treeId,treeNodes,targetNode,moveType,isCopy])})},_unbindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.unbind(c.RENAME);o.unbind(c.DRAG);o.unbind(c.DRAGMOVE);o.unbind(c.DROP)},_eventProxy=function(e){var proxyResult,target=e.target,setting=data.getSetting(e.data.treeId),relatedTarget=e.relatedTarget,tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null,tmp=null;if(tools.eqs(e.type,"mouseover")){tmp=tools.getMDom(setting,target,[{"tagName":"a","attrName":"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="hoverOverNode"}}else if(tools.eqs(e.type,"mouseout")){tmp=tools.getMDom(setting,relatedTarget,[{"tagName":"a","attrName":"treeNode"+consts.id.A}]);if(!tmp){tId="remove";nodeEventType="hoverOutNode"}}else if(tools.eqs(e.type,"mousedown")){tmp=tools.getMDom(setting,target,[{"tagName":"a","attrName":"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="mousedownNode"}}if(tId.length>0){node=data.getNodeCache(setting,tId);switch(nodeEventType){case"mousedownNode":nodeEventCallback=_handler.onMousedownNode;break;case"hoverOverNode":nodeEventCallback=_handler.onHoverOverNode;break;case"hoverOutNode":nodeEventCallback=_handler.onHoverOutNode}}proxyResult={"stop":!1,"node":node,"nodeEventType":nodeEventType,"nodeEventCallback":nodeEventCallback,"treeEventType":treeEventType,"treeEventCallback":treeEventCallback};return proxyResult},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){if(!n)return;n.isHover=!1;n.editNameFlag=!1},_zTreeTools=function(setting,zTreeTools){zTreeTools.cancelEditName=function(newName){var root=data.getRoot(this.setting);if(!root.curEditNode)return;view.cancelCurEditNode(this.setting,newName?newName:null,!0)};zTreeTools.copyNode=function(targetNode,node,moveType,isSilent){function copyCallback(){view.addNodes(_this.setting,targetNode,[newNode],isSilent)}if(!node)return null;if(targetNode&&!targetNode.isParent&&this.setting.data.keep.leaf&&moveType===consts.move.TYPE_INNER)return null;var _this=this,newNode=tools.clone(node);if(!targetNode){targetNode=null;moveType=consts.move.TYPE_INNER}if(moveType==consts.move.TYPE_INNER)tools.canAsync(this.setting,targetNode)?view.asyncNode(this.setting,targetNode,isSilent,copyCallback):copyCallback();else{view.addNodes(this.setting,targetNode.parentNode,[newNode],isSilent);view.moveNode(this.setting,targetNode,newNode,moveType,!1,isSilent)}return newNode};zTreeTools.editName=function(node){if(!node||!node.tId||node!==data.getNodeCache(this.setting,node.tId))return;node.parentTId&&view.expandCollapseParentNode(this.setting,node.getParentNode(),!0);view.editNode(this.setting,node)};zTreeTools.moveNode=function(targetNode,node,moveType,isSilent){function moveCallback(){view.moveNode(_this.setting,targetNode,node,moveType,!1,isSilent)}if(!node)return node;if(targetNode&&!targetNode.isParent&&this.setting.data.keep.leaf&&moveType===consts.move.TYPE_INNER)return null;if(targetNode&&(node.parentTId==targetNode.tId&&moveType==consts.move.TYPE_INNER||$$(node,this.setting).find("#"+targetNode.tId).length>0))return null;targetNode||(targetNode=null);var _this=this;tools.canAsync(this.setting,targetNode)&&moveType===consts.move.TYPE_INNER?view.asyncNode(this.setting,targetNode,isSilent,moveCallback):moveCallback();return node};zTreeTools.setEditable=function(editable){this.setting.edit.enable=editable;return this.refresh()}},_data={"setSonNodeLevel":function(setting,parentNode,node){var childKey,i,l;if(!node)return;childKey=setting.data.key.children;node.level=parentNode?parentNode.level+1:0;if(!node[childKey])return;for(i=0,l=node[childKey].length;l>i;i++)node[childKey][i]&&data.setSonNodeLevel(setting,node,node[childKey][i])}},_event={},_handler={"onHoverOverNode":function(event,node){var setting=data.getSetting(event.data.treeId),root=data.getRoot(setting);root.curHoverNode!=node&&_handler.onHoverOutNode(event);root.curHoverNode=node;view.addHoverDom(setting,node)},"onHoverOutNode":function(event,node){var setting=data.getSetting(event.data.treeId),root=data.getRoot(setting);if(root.curHoverNode&&!data.isSelectedNode(setting,root.curHoverNode)){view.removeTreeDom(setting,root.curHoverNode);root.curHoverNode=null}},"onMousedownNode":function(eventMouseDown,_node){
function _docMouseMove(event){var i,l,tmpNode,tmpDom,tmpNodes,childKey,isOrder,lastIndex,pNodes,xT,settings,s,docScrollTop,docScrollLeft,treeOffset,scrollHeight,scrollWidth,dTop,dBottom,dLeft,dRight,isTop,isBottom,isLeft,isRight,isTreeInner,isTreeTop,isTreeBottom,isTreeLeft,isTreeRight,targetObj,canMove,dX,dY,tmpTargetNode,isCopy,isPrev,isNext,isInner,canPrev,canNext,canInner,tmpTargetA,tmpNextA,tmpTop,tmpLeft,prevPercent,nextPercent,dY_percent,startTimer;if(0==root.dragFlag&&Math.abs(mouseDownX-event.clientX)<setting.edit.drag.minMoveSize&&Math.abs(mouseDownY-event.clientY)<setting.edit.drag.minMoveSize)return!0;childKey=setting.data.key.children;body.css("cursor","pointer");if(0==root.dragFlag){if(0==tools.apply(setting.callback.beforeDrag,[setting.treeId,nodes],!0)){_docMouseUp(event);return!0}for(i=0,l=nodes.length;l>i;i++){0==i&&(root.dragNodeShowBefore=[]);tmpNode=nodes[i];if(tmpNode.isParent&&tmpNode.open){view.expandCollapseNode(setting,tmpNode,!tmpNode.open);root.dragNodeShowBefore[tmpNode.tId]=!0}else root.dragNodeShowBefore[tmpNode.tId]=!1}root.dragFlag=1;roots.showHoverDom=!1;tools.showIfameMask(setting,!0);isOrder=!0,lastIndex=-1;if(nodes.length>1){pNodes=nodes[0].parentTId?nodes[0].getParentNode()[childKey]:data.getNodes(setting);tmpNodes=[];for(i=0,l=pNodes.length;l>i;i++){if(void 0!==root.dragNodeShowBefore[pNodes[i].tId]){isOrder&&lastIndex>-1&&lastIndex+1!==i&&(isOrder=!1);tmpNodes.push(pNodes[i]);lastIndex=i}if(nodes.length===tmpNodes.length){nodes=tmpNodes;break}}}if(isOrder){preNode=nodes[0].getPreNode();nextNode=nodes[nodes.length-1].getNextNode()}curNode=$$("<ul class='zTreeDragUL'></ul>",setting);for(i=0,l=nodes.length;l>i;i++){tmpNode=nodes[i];tmpNode.editNameFlag=!1;view.selectNode(setting,tmpNode,i>0);view.removeTreeDom(setting,tmpNode);if(i>setting.edit.drag.maxShowNodeNum-1)continue;tmpDom=$$("<li id='"+tmpNode.tId+"_tmp'></li>",setting);tmpDom.append($$(tmpNode,consts.id.A,setting).clone());tmpDom.css("padding","0");tmpDom.children("#"+tmpNode.tId+consts.id.A).removeClass(consts.node.CURSELECTED);curNode.append(tmpDom);if(i==setting.edit.drag.maxShowNodeNum-1){tmpDom=$$("<li id='"+tmpNode.tId+"_moretmp'><a>  ...  </a></li>",setting);curNode.append(tmpDom)}}curNode.attr("id",nodes[0].tId+consts.id.UL+"_tmp");curNode.addClass(setting.treeObj.attr("class"));curNode.appendTo(body);tmpArrow=$$("<span class='tmpzTreeMove_arrow'></span>",setting);tmpArrow.attr("id","zTreeMove_arrow_tmp");tmpArrow.appendTo(body);setting.treeObj.trigger(consts.event.DRAG,[event,setting.treeId,nodes])}if(1==root.dragFlag){if(tmpTarget&&tmpArrow.attr("id")==event.target.id&&tmpTargetNodeId&&event.clientX+doc.scrollLeft()+2>$("#"+tmpTargetNodeId+consts.id.A,tmpTarget).offset().left){xT=$("#"+tmpTargetNodeId+consts.id.A,tmpTarget);event.target=xT.length>0?xT.get(0):event.target}else if(tmpTarget){tmpTarget.removeClass(consts.node.TMPTARGET_TREE);tmpTargetNodeId&&$("#"+tmpTargetNodeId+consts.id.A,tmpTarget).removeClass(consts.node.TMPTARGET_NODE+"_"+consts.move.TYPE_PREV).removeClass(consts.node.TMPTARGET_NODE+"_"+_consts.move.TYPE_NEXT).removeClass(consts.node.TMPTARGET_NODE+"_"+_consts.move.TYPE_INNER)}tmpTarget=null;tmpTargetNodeId=null;isOtherTree=!1;targetSetting=setting;settings=data.getSettings();for(s in settings)if(settings[s].treeId&&settings[s].edit.enable&&settings[s].treeId!=setting.treeId&&(event.target.id==settings[s].treeId||$(event.target).parents("#"+settings[s].treeId).length>0)){isOtherTree=!0;targetSetting=settings[s]}docScrollTop=doc.scrollTop(),docScrollLeft=doc.scrollLeft(),treeOffset=targetSetting.treeObj.offset(),scrollHeight=targetSetting.treeObj.get(0).scrollHeight,scrollWidth=targetSetting.treeObj.get(0).scrollWidth,dTop=event.clientY+docScrollTop-treeOffset.top,dBottom=targetSetting.treeObj.height()+treeOffset.top-event.clientY-docScrollTop,dLeft=event.clientX+docScrollLeft-treeOffset.left,dRight=targetSetting.treeObj.width()+treeOffset.left-event.clientX-docScrollLeft,isTop=dTop<setting.edit.drag.borderMax&&dTop>setting.edit.drag.borderMin,isBottom=dBottom<setting.edit.drag.borderMax&&dBottom>setting.edit.drag.borderMin,isLeft=dLeft<setting.edit.drag.borderMax&&dLeft>setting.edit.drag.borderMin,isRight=dRight<setting.edit.drag.borderMax&&dRight>setting.edit.drag.borderMin,isTreeInner=dTop>setting.edit.drag.borderMin&&dBottom>setting.edit.drag.borderMin&&dLeft>setting.edit.drag.borderMin&&dRight>setting.edit.drag.borderMin,isTreeTop=isTop&&targetSetting.treeObj.scrollTop()<=0,isTreeBottom=isBottom&&targetSetting.treeObj.scrollTop()+targetSetting.treeObj.height()+10>=scrollHeight,isTreeLeft=isLeft&&targetSetting.treeObj.scrollLeft()<=0,isTreeRight=isRight&&targetSetting.treeObj.scrollLeft()+targetSetting.treeObj.width()+10>=scrollWidth;if(event.target&&tools.isChildOrSelf(event.target,targetSetting.treeId)){targetObj=event.target;for(;targetObj&&targetObj.tagName&&!tools.eqs(targetObj.tagName,"li")&&targetObj.id!=targetSetting.treeId;)targetObj=targetObj.parentNode;canMove=!0;for(i=0,l=nodes.length;l>i;i++){tmpNode=nodes[i];if(targetObj.id===tmpNode.tId){canMove=!1;break}if($$(tmpNode,setting).find("#"+targetObj.id).length>0){canMove=!1;break}}if(canMove&&event.target&&tools.isChildOrSelf(event.target,targetObj.id+consts.id.A)){tmpTarget=$(targetObj);tmpTargetNodeId=targetObj.id}}tmpNode=nodes[0];if(isTreeInner&&tools.isChildOrSelf(event.target,targetSetting.treeId)){!tmpTarget&&(event.target.id==targetSetting.treeId||isTreeTop||isTreeBottom||isTreeLeft||isTreeRight)&&(isOtherTree||!isOtherTree&&tmpNode.parentTId)&&(tmpTarget=targetSetting.treeObj);isTop?targetSetting.treeObj.scrollTop(targetSetting.treeObj.scrollTop()-10):isBottom&&targetSetting.treeObj.scrollTop(targetSetting.treeObj.scrollTop()+10);isLeft?targetSetting.treeObj.scrollLeft(targetSetting.treeObj.scrollLeft()-10):isRight&&targetSetting.treeObj.scrollLeft(targetSetting.treeObj.scrollLeft()+10);tmpTarget&&tmpTarget!=targetSetting.treeObj&&tmpTarget.offset().left<targetSetting.treeObj.offset().left&&targetSetting.treeObj.scrollLeft(targetSetting.treeObj.scrollLeft()+tmpTarget.offset().left-targetSetting.treeObj.offset().left)}curNode.css({"top":event.clientY+docScrollTop+3+"px","left":event.clientX+docScrollLeft+3+"px"});dX=0;dY=0;if(tmpTarget&&tmpTarget.attr("id")!=targetSetting.treeId){tmpTargetNode=null==tmpTargetNodeId?null:data.getNodeCache(targetSetting,tmpTargetNodeId),isCopy=(event.ctrlKey||event.metaKey)&&setting.edit.drag.isMove&&setting.edit.drag.isCopy||!setting.edit.drag.isMove&&setting.edit.drag.isCopy,isPrev=!(!preNode||tmpTargetNodeId!==preNode.tId),isNext=!(!nextNode||tmpTargetNodeId!==nextNode.tId),isInner=tmpNode.parentTId&&tmpNode.parentTId==tmpTargetNodeId,canPrev=(isCopy||!isNext)&&tools.apply(targetSetting.edit.drag.prev,[targetSetting.treeId,nodes,tmpTargetNode],!!targetSetting.edit.drag.prev),canNext=(isCopy||!isPrev)&&tools.apply(targetSetting.edit.drag.next,[targetSetting.treeId,nodes,tmpTargetNode],!!targetSetting.edit.drag.next),canInner=(isCopy||!isInner)&&!(targetSetting.data.keep.leaf&&!tmpTargetNode.isParent)&&tools.apply(targetSetting.edit.drag.inner,[targetSetting.treeId,nodes,tmpTargetNode],!!targetSetting.edit.drag.inner);if(canPrev||canNext||canInner){tmpTargetA=$("#"+tmpTargetNodeId+consts.id.A,tmpTarget),tmpNextA=tmpTargetNode.isLastNode?null:$("#"+tmpTargetNode.getNextNode().tId+consts.id.A,tmpTarget.next()),tmpTop=tmpTargetA.offset().top,tmpLeft=tmpTargetA.offset().left,prevPercent=canPrev?canInner?.25:canNext?.5:1:-1,nextPercent=canNext?canInner?.75:canPrev?.5:0:-1,dY_percent=(event.clientY+docScrollTop-tmpTop)/tmpTargetA.height();if((1==prevPercent||prevPercent>=dY_percent&&dY_percent>=-.2)&&canPrev){dX=1-tmpArrow.width();dY=tmpTop-tmpArrow.height()/2;moveType=consts.move.TYPE_PREV}else if((0==nextPercent||dY_percent>=nextPercent&&1.2>=dY_percent)&&canNext){dX=1-tmpArrow.width();dY=null==tmpNextA||tmpTargetNode.isParent&&tmpTargetNode.open?tmpTop+tmpTargetA.height()-tmpArrow.height()/2:tmpNextA.offset().top-tmpArrow.height()/2;moveType=consts.move.TYPE_NEXT}else{dX=5-tmpArrow.width();dY=tmpTop;moveType=consts.move.TYPE_INNER}tmpArrow.css({"display":"block","top":dY+"px","left":tmpLeft+dX+"px"});tmpTargetA.addClass(consts.node.TMPTARGET_NODE+"_"+moveType);(preTmpTargetNodeId!=tmpTargetNodeId||preTmpMoveType!=moveType)&&(startTime=(new Date).getTime());if(tmpTargetNode&&tmpTargetNode.isParent&&moveType==consts.move.TYPE_INNER){startTimer=!0;if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==tmpTargetNode.tId){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}else window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===tmpTargetNode.tId&&(startTimer=!1);if(startTimer){window.zTreeMoveTimer=setTimeout(function(){if(moveType!=consts.move.TYPE_INNER)return;if(tmpTargetNode&&tmpTargetNode.isParent&&!tmpTargetNode.open&&(new Date).getTime()-startTime>targetSetting.edit.drag.autoOpenTime&&tools.apply(targetSetting.callback.beforeDragOpen,[targetSetting.treeId,tmpTargetNode],!0)){view.switchNode(targetSetting,tmpTargetNode);targetSetting.edit.drag.autoExpandTrigger&&targetSetting.treeObj.trigger(consts.event.EXPAND,[targetSetting.treeId,tmpTargetNode])}},targetSetting.edit.drag.autoOpenTime+50);window.zTreeMoveTargetNodeTId=tmpTargetNode.tId}}}else{tmpTarget=null;tmpTargetNodeId="";moveType=consts.move.TYPE_INNER;tmpArrow.css({"display":"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}}else{moveType=consts.move.TYPE_INNER;tmpTarget&&tools.apply(targetSetting.edit.drag.inner,[targetSetting.treeId,nodes,null],!!targetSetting.edit.drag.inner)?tmpTarget.addClass(consts.node.TMPTARGET_TREE):tmpTarget=null;tmpArrow.css({"display":"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}preTmpTargetNodeId=tmpTargetNodeId;preTmpMoveType=moveType;setting.treeObj.trigger(consts.event.DRAGMOVE,[event,setting.treeId,nodes])}return!1}function _docMouseUp(event){function dropCallback(){if(isOtherTree){if(!isCopy)for(var i=0,l=nodes.length;l>i;i++)view.removeNode(setting,nodes[i]);if(moveType==consts.move.TYPE_INNER)view.addNodes(targetSetting,dragTargetNode,newNodes);else{view.addNodes(targetSetting,dragTargetNode.getParentNode(),newNodes);if(moveType==consts.move.TYPE_PREV)for(i=0,l=newNodes.length;l>i;i++)view.moveNode(targetSetting,dragTargetNode,newNodes[i],moveType,!1);else for(i=-1,l=newNodes.length-1;l>i;l--)view.moveNode(targetSetting,dragTargetNode,newNodes[l],moveType,!1)}}else if(isCopy&&moveType==consts.move.TYPE_INNER)view.addNodes(targetSetting,dragTargetNode,newNodes);else{isCopy&&view.addNodes(targetSetting,dragTargetNode.getParentNode(),newNodes);if(moveType!=consts.move.TYPE_NEXT)for(i=0,l=newNodes.length;l>i;i++)view.moveNode(targetSetting,dragTargetNode,newNodes[i],moveType,!1);else for(i=-1,l=newNodes.length-1;l>i;l--)view.moveNode(targetSetting,dragTargetNode,newNodes[l],moveType,!1)}view.selectNodes(targetSetting,newNodes);$$(newNodes[0],setting).focus().blur();setting.treeObj.trigger(consts.event.DROP,[event,targetSetting.treeId,newNodes,dragTargetNode,moveType,isCopy])}var i,l,tmpNode,isCopy,dragTargetNode,newNodes;if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}preTmpTargetNodeId=null;preTmpMoveType=null;doc.unbind("mousemove",_docMouseMove);doc.unbind("mouseup",_docMouseUp);doc.unbind("selectstart",_docSelect);body.css("cursor","auto");if(tmpTarget){tmpTarget.removeClass(consts.node.TMPTARGET_TREE);tmpTargetNodeId&&$("#"+tmpTargetNodeId+consts.id.A,tmpTarget).removeClass(consts.node.TMPTARGET_NODE+"_"+consts.move.TYPE_PREV).removeClass(consts.node.TMPTARGET_NODE+"_"+_consts.move.TYPE_NEXT).removeClass(consts.node.TMPTARGET_NODE+"_"+_consts.move.TYPE_INNER)}tools.showIfameMask(setting,!1);roots.showHoverDom=!0;if(0==root.dragFlag)return;root.dragFlag=0;for(i=0,l=nodes.length;l>i;i++){tmpNode=nodes[i];if(tmpNode.isParent&&root.dragNodeShowBefore[tmpNode.tId]&&!tmpNode.open){view.expandCollapseNode(setting,tmpNode,!tmpNode.open);delete root.dragNodeShowBefore[tmpNode.tId]}}curNode&&curNode.remove();tmpArrow&&tmpArrow.remove();isCopy=(event.ctrlKey||event.metaKey)&&setting.edit.drag.isMove&&setting.edit.drag.isCopy||!setting.edit.drag.isMove&&setting.edit.drag.isCopy;!isCopy&&tmpTarget&&tmpTargetNodeId&&nodes[0].parentTId&&tmpTargetNodeId==nodes[0].parentTId&&moveType==consts.move.TYPE_INNER&&(tmpTarget=null);if(tmpTarget){dragTargetNode=null==tmpTargetNodeId?null:data.getNodeCache(targetSetting,tmpTargetNodeId);if(0==tools.apply(setting.callback.beforeDrop,[targetSetting.treeId,nodes,dragTargetNode,moveType,isCopy],!0)){view.selectNodes(sourceSetting,nodes);return}newNodes=isCopy?tools.clone(nodes):nodes;moveType==consts.move.TYPE_INNER&&tools.canAsync(targetSetting,dragTargetNode)?view.asyncNode(targetSetting,dragTargetNode,!1,dropCallback):dropCallback()}else{view.selectNodes(sourceSetting,nodes);setting.treeObj.trigger(consts.event.DROP,[event,setting.treeId,nodes,null,null,null])}}function _docSelect(){return!1}var i,l,target,_nodes,nodes,doc,body,curNode,tmpArrow,tmpTarget,isOtherTree,targetSetting,sourceSetting,preNode,nextNode,preTmpTargetNodeId,preTmpMoveType,tmpTargetNodeId,moveType,mouseDownX,mouseDownY,startTime,setting=data.getSetting(eventMouseDown.data.treeId),root=data.getRoot(setting),roots=data.getRoots();if(2==eventMouseDown.button||!setting.edit.enable||!setting.edit.drag.isCopy&&!setting.edit.drag.isMove)return!0;target=eventMouseDown.target,_nodes=data.getRoot(setting).curSelectedList,nodes=[];if(data.isSelectedNode(setting,_node))for(i=0,l=_nodes.length;l>i;i++){if(_nodes[i].editNameFlag&&tools.eqs(target.tagName,"input")&&null!==target.getAttribute("treeNode"+consts.id.INPUT))return!0;nodes.push(_nodes[i]);if(nodes[0].parentTId!==_nodes[i].parentTId){nodes=[_node];break}}else nodes=[_node];view.editNodeBlur=!0;view.cancelCurEditNode(setting);doc=$(setting.treeObj.get(0).ownerDocument),body=$(setting.treeObj.get(0).ownerDocument.body),isOtherTree=!1,targetSetting=setting,sourceSetting=setting,preTmpTargetNodeId=null,preTmpMoveType=null,tmpTargetNodeId=null,moveType=consts.move.TYPE_INNER,mouseDownX=eventMouseDown.clientX,mouseDownY=eventMouseDown.clientY,startTime=(new Date).getTime();tools.uCanDo(setting)&&doc.bind("mousemove",_docMouseMove);doc.bind("mouseup",_docMouseUp);doc.bind("selectstart",_docSelect);eventMouseDown.preventDefault&&eventMouseDown.preventDefault();return!0}},_tools={"getAbs":function(obj){var oRect=obj.getBoundingClientRect(),scrollTop=document.body.scrollTop+document.documentElement.scrollTop,scrollLeft=document.body.scrollLeft+document.documentElement.scrollLeft;return[oRect.left+scrollLeft,oRect.top+scrollTop]},"inputFocus":function(inputObj){if(inputObj.get(0)){inputObj.focus();tools.setCursorPosition(inputObj.get(0),inputObj.val().length)}},"inputSelect":function(inputObj){if(inputObj.get(0)){inputObj.focus();inputObj.select()}},"setCursorPosition":function(obj,pos){if(obj.setSelectionRange){obj.focus();obj.setSelectionRange(pos,pos)}else if(obj.createTextRange){var range=obj.createTextRange();range.collapse(!0);range.moveEnd("character",pos);range.moveStart("character",pos);range.select()}},"showIfameMask":function(setting,showSign){var iframeList,i,l,obj,r,dragMask,root=data.getRoot(setting);for(;root.dragMaskList.length>0;){root.dragMaskList[0].remove();root.dragMaskList.shift()}if(showSign){iframeList=$$("iframe",setting);for(i=0,l=iframeList.length;l>i;i++){obj=iframeList.get(i),r=tools.getAbs(obj),dragMask=$$("<div id='zTreeMask_"+i+"' class='zTreeMask' style='top:"+r[1]+"px; left:"+r[0]+"px; width:"+obj.offsetWidth+"px; height:"+obj.offsetHeight+"px;'></div>",setting);dragMask.appendTo($$("body",setting));root.dragMaskList.push(dragMask)}}}},_view={"addEditBtn":function(setting,node){if(node.editNameFlag||$$(node,consts.id.EDIT,setting).length>0)return;if(!tools.apply(setting.edit.showRenameBtn,[setting.treeId,node],setting.edit.showRenameBtn))return;var aObj=$$(node,consts.id.A,setting),editStr="<span class='"+consts.className.BUTTON+" edit' id='"+node.tId+consts.id.EDIT+"' title='"+tools.apply(setting.edit.renameTitle,[setting.treeId,node],setting.edit.renameTitle)+"' treeNode"+consts.id.EDIT+" style='display:none;'></span>";aObj.append(editStr);$$(node,consts.id.EDIT,setting).bind("click",function(){if(!tools.uCanDo(setting)||0==tools.apply(setting.callback.beforeEditName,[setting.treeId,node],!0))return!1;view.editNode(setting,node);return!1}).show()},"addRemoveBtn":function(setting,node){if(node.editNameFlag||$$(node,consts.id.REMOVE,setting).length>0)return;if(!tools.apply(setting.edit.showRemoveBtn,[setting.treeId,node],setting.edit.showRemoveBtn))return;var aObj=$$(node,consts.id.A,setting),removeStr="<span class='"+consts.className.BUTTON+" remove' id='"+node.tId+consts.id.REMOVE+"' title='"+tools.apply(setting.edit.removeTitle,[setting.treeId,node],setting.edit.removeTitle)+"' treeNode"+consts.id.REMOVE+" style='display:none;'></span>";aObj.append(removeStr);$$(node,consts.id.REMOVE,setting).bind("click",function(){if(!tools.uCanDo(setting)||0==tools.apply(setting.callback.beforeRemove,[setting.treeId,node],!0))return!1;view.removeNode(setting,node);setting.treeObj.trigger(consts.event.REMOVE,[setting.treeId,node]);return!1}).bind("mousedown",function(eventMouseDown){return!0}).show()},"addHoverDom":function(setting,node){if(data.getRoots().showHoverDom){node.isHover=!0;if(setting.edit.enable){view.addEditBtn(setting,node);view.addRemoveBtn(setting,node)}tools.apply(setting.view.addHoverDom,[setting.treeId,node])}},"cancelCurEditNode":function(setting,forceName,isCancel){var inputObj,newName,aObj,root=data.getRoot(setting),nameKey=setting.data.key.name,node=root.curEditNode;if(node){inputObj=root.curEditInput,newName=forceName?forceName:isCancel?node[nameKey]:inputObj.val();if(tools.apply(setting.callback.beforeRename,[setting.treeId,node,newName,isCancel],!0)===!1)return!1;node[nameKey]=newName;setting.treeObj.trigger(consts.event.RENAME,[setting.treeId,node,isCancel]);aObj=$$(node,consts.id.A,setting);aObj.removeClass(consts.node.CURSELECTED_EDIT);inputObj.unbind();view.setNodeName(setting,node);node.editNameFlag=!1;root.curEditNode=null;root.curEditInput=null;view.selectNode(setting,node,!1)}root.noSelection=!0;return!0},"editNode":function(setting,node){var nameKey,inputObj,root=data.getRoot(setting);view.editNodeBlur=!1;if(data.isSelectedNode(setting,node)&&root.curEditNode==node&&node.editNameFlag){setTimeout(function(){tools.inputFocus(root.curEditInput)},0);return}nameKey=setting.data.key.name;node.editNameFlag=!0;view.removeTreeDom(setting,node);view.cancelCurEditNode(setting);view.selectNode(setting,node,!1);$$(node,consts.id.SPAN,setting).html("<input type=text class='rename' id='"+node.tId+consts.id.INPUT+"' treeNode"+consts.id.INPUT+" >");inputObj=$$(node,consts.id.INPUT,setting);inputObj.attr("value",node[nameKey]);setting.edit.editNameSelectAll?tools.inputSelect(inputObj):tools.inputFocus(inputObj);inputObj.bind("blur",function(event){view.editNodeBlur||view.cancelCurEditNode(setting)}).bind("keydown",function(event){if("13"==event.keyCode){view.editNodeBlur=!0;view.cancelCurEditNode(setting)}else"27"==event.keyCode&&view.cancelCurEditNode(setting,null,!0)}).bind("click",function(event){return!1}).bind("dblclick",function(event){return!1});$$(node,consts.id.A,setting).addClass(consts.node.CURSELECTED_EDIT);root.curEditInput=inputObj;root.noSelection=!1;root.curEditNode=node},"moveNode":function(setting,targetNode,node,moveType,animateFlag,isSilent){var oldParentNode,targetNodeIsRoot,targetParentNode,targetObj,target_ulObj,ulstr,nodeDom,i,l,tmpSrcIndex,tmpTargetIndex,oldNeighbor,newNeighbor,oldLevel,tmp_ulObj,tmp_switchObj,tmp_icoObj,root=data.getRoot(setting),childKey=setting.data.key.children;if(targetNode==node)return;if(setting.data.keep.leaf&&targetNode&&!targetNode.isParent&&moveType==consts.move.TYPE_INNER)return;oldParentNode=node.parentTId?node.getParentNode():root,targetNodeIsRoot=null===targetNode||targetNode==root;targetNodeIsRoot&&null===targetNode&&(targetNode=root);targetNodeIsRoot&&(moveType=consts.move.TYPE_INNER);targetParentNode=targetNode.parentTId?targetNode.getParentNode():root;moveType!=consts.move.TYPE_PREV&&moveType!=consts.move.TYPE_NEXT&&(moveType=consts.move.TYPE_INNER);if(moveType==consts.move.TYPE_INNER)if(targetNodeIsRoot)node.parentTId=null;else{if(!targetNode.isParent){targetNode.isParent=!0;targetNode.open=!!targetNode.open;view.setNodeLineIcos(setting,targetNode)}node.parentTId=targetNode.tId}if(targetNodeIsRoot){targetObj=setting.treeObj;target_ulObj=targetObj}else{isSilent||moveType!=consts.move.TYPE_INNER?isSilent||view.expandCollapseNode(setting,targetNode.getParentNode(),!0,!1):view.expandCollapseNode(setting,targetNode,!0,!1);targetObj=$$(targetNode,setting);target_ulObj=$$(targetNode,consts.id.UL,setting);if(targetObj.get(0)&&!target_ulObj.get(0)){ulstr=[];view.makeUlHtml(setting,targetNode,ulstr,"");targetObj.append(ulstr.join(""))}target_ulObj=$$(targetNode,consts.id.UL,setting)}nodeDom=$$(node,setting);nodeDom.get(0)?targetObj.get(0)||nodeDom.remove():nodeDom=view.appendNodes(setting,node.level,[node],null,!1,!0).join("");target_ulObj.get(0)&&moveType==consts.move.TYPE_INNER?target_ulObj.append(nodeDom):targetObj.get(0)&&moveType==consts.move.TYPE_PREV?targetObj.before(nodeDom):targetObj.get(0)&&moveType==consts.move.TYPE_NEXT&&targetObj.after(nodeDom);tmpSrcIndex=-1,tmpTargetIndex=0,oldNeighbor=null,newNeighbor=null,oldLevel=node.level;if(node.isFirstNode){tmpSrcIndex=0;if(oldParentNode[childKey].length>1){oldNeighbor=oldParentNode[childKey][1];oldNeighbor.isFirstNode=!0}}else if(node.isLastNode){tmpSrcIndex=oldParentNode[childKey].length-1;oldNeighbor=oldParentNode[childKey][tmpSrcIndex-1];oldNeighbor.isLastNode=!0}else for(i=0,l=oldParentNode[childKey].length;l>i;i++)if(oldParentNode[childKey][i].tId==node.tId){tmpSrcIndex=i;break}tmpSrcIndex>=0&&oldParentNode[childKey].splice(tmpSrcIndex,1);if(moveType!=consts.move.TYPE_INNER)for(i=0,l=targetParentNode[childKey].length;l>i;i++)targetParentNode[childKey][i].tId==targetNode.tId&&(tmpTargetIndex=i);if(moveType==consts.move.TYPE_INNER){targetNode[childKey]||(targetNode[childKey]=new Array);if(targetNode[childKey].length>0){newNeighbor=targetNode[childKey][targetNode[childKey].length-1];newNeighbor.isLastNode=!1}targetNode[childKey].splice(targetNode[childKey].length,0,node);node.isLastNode=!0;node.isFirstNode=1==targetNode[childKey].length}else if(targetNode.isFirstNode&&moveType==consts.move.TYPE_PREV){targetParentNode[childKey].splice(tmpTargetIndex,0,node);newNeighbor=targetNode;newNeighbor.isFirstNode=!1;node.parentTId=targetNode.parentTId;node.isFirstNode=!0;node.isLastNode=!1}else if(targetNode.isLastNode&&moveType==consts.move.TYPE_NEXT){targetParentNode[childKey].splice(tmpTargetIndex+1,0,node);newNeighbor=targetNode;newNeighbor.isLastNode=!1;node.parentTId=targetNode.parentTId;node.isFirstNode=!1;node.isLastNode=!0}else{moveType==consts.move.TYPE_PREV?targetParentNode[childKey].splice(tmpTargetIndex,0,node):targetParentNode[childKey].splice(tmpTargetIndex+1,0,node);node.parentTId=targetNode.parentTId;node.isFirstNode=!1;node.isLastNode=!1}data.fixPIdKeyValue(setting,node);data.setSonNodeLevel(setting,node.getParentNode(),node);view.setNodeLineIcos(setting,node);view.repairNodeLevelClass(setting,node,oldLevel);if(!setting.data.keep.parent&&oldParentNode[childKey].length<1){oldParentNode.isParent=!1;oldParentNode.open=!1;tmp_ulObj=$$(oldParentNode,consts.id.UL,setting),tmp_switchObj=$$(oldParentNode,consts.id.SWITCH,setting),tmp_icoObj=$$(oldParentNode,consts.id.ICON,setting);view.replaceSwitchClass(oldParentNode,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(oldParentNode,tmp_icoObj,consts.folder.DOCU);tmp_ulObj.css("display","none")}else oldNeighbor&&view.setNodeLineIcos(setting,oldNeighbor);newNeighbor&&view.setNodeLineIcos(setting,newNeighbor);if(setting.check&&setting.check.enable&&view.repairChkClass){view.repairChkClass(setting,oldParentNode);view.repairParentChkClassWithSelf(setting,oldParentNode);oldParentNode!=node.parent&&view.repairParentChkClassWithSelf(setting,node)}isSilent||view.expandCollapseParentNode(setting,node.getParentNode(),!0,animateFlag)},"removeEditBtn":function(setting,node){$$(node,consts.id.EDIT,setting).unbind().remove()},"removeRemoveBtn":function(setting,node){$$(node,consts.id.REMOVE,setting).unbind().remove()},"removeTreeDom":function(setting,node){node.isHover=!1;view.removeEditBtn(setting,node);view.removeRemoveBtn(setting,node);tools.apply(setting.view.removeHoverDom,[setting.treeId,node])},"repairNodeLevelClass":function(setting,node,oldLevel){if(oldLevel===node.level)return;var liObj=$$(node,setting),aObj=$$(node,consts.id.A,setting),ulObj=$$(node,consts.id.UL,setting),oldClass=consts.className.LEVEL+oldLevel,newClass=consts.className.LEVEL+node.level;liObj.removeClass(oldClass);liObj.addClass(newClass);aObj.removeClass(oldClass);aObj.addClass(newClass);ulObj.removeClass(oldClass);ulObj.addClass(newClass)},"selectNodes":function(setting,nodes){for(var i=0,l=nodes.length;l>i;i++)view.selectNode(setting,nodes[i],i>0)}},_z={"tools":_tools,"view":_view,"event":_event,"data":_data};$.extend(!0,$.fn.zTree.consts,_consts);$.extend(!0,$.fn.zTree._z,_z);zt=$.fn.zTree,tools=zt._z.tools,consts=zt.consts,view=zt._z.view,data=zt._z.data,event=zt._z.event,$$=tools.$;data.exSetting(_setting);data.addInitBind(_bindEvent);data.addInitUnBind(_unbindEvent);data.addInitCache(_initCache);data.addInitNode(_initNode);data.addInitProxy(_eventProxy);data.addInitRoot(_initRoot);data.addZTreeTools(_zTreeTools);_cancelPreSelectedNode=view.cancelPreSelectedNode;view.cancelPreSelectedNode=function(setting,node){var i,j,list=data.getRoot(setting).curSelectedList;for(i=0,j=list.length;j>i;i++)if(!node||node===list[i]){view.removeTreeDom(setting,list[i]);if(node)break}_cancelPreSelectedNode&&_cancelPreSelectedNode.apply(view,arguments)};_createNodes=view.createNodes;view.createNodes=function(setting,level,nodes,parentNode){_createNodes&&_createNodes.apply(view,arguments);if(!nodes)return;view.repairParentChkClassWithSelf&&view.repairParentChkClassWithSelf(setting,parentNode)};_makeNodeUrl=view.makeNodeUrl;view.makeNodeUrl=function(setting,node){return setting.edit.enable?null:_makeNodeUrl.apply(view,arguments)};_removeNode=view.removeNode;view.removeNode=function(setting,node){var root=data.getRoot(setting);root.curEditNode===node&&(root.curEditNode=null);_removeNode&&_removeNode.apply(view,arguments)};_selectNode=view.selectNode;view.selectNode=function(setting,node,addFlag){var root=data.getRoot(setting);if(data.isSelectedNode(setting,node)&&root.curEditNode==node&&node.editNameFlag)return!1;_selectNode&&_selectNode.apply(view,arguments);view.addHoverDom(setting,node);return!0};_uCanDo=tools.uCanDo;tools.uCanDo=function(setting,e){var root=data.getRoot(setting);if(e&&(tools.eqs(e.type,"mouseover")||tools.eqs(e.type,"mouseout")||tools.eqs(e.type,"mousedown")||tools.eqs(e.type,"mouseup")))return!0;if(root.curEditNode){view.editNodeBlur=!1;root.curEditInput.focus()}return!root.curEditNode&&(_uCanDo?_uCanDo.apply(view,arguments):!0)}})(jQuery);define("tiny-lib/jquery.ztree.all",["tiny-lib/jquery"],function(global){return function(){var ret;return ret||global.zTreeAll}}(this));(function($){var zt,tools,consts,view,data,event,$$,_dInitNode,_makeChkFlag,_getTreeCheckedNodes,_getTreeChangeCheckedNodes,_expandCollapseSonNode,_setSonNodeCheckBox,_repairParentChkClassWithSelf,_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){"string"==typeof n.isHidden&&(n.isHidden=tools.eqs(n.isHidden,"true"));n.isHidden=!!n.isHidden;data.initHideForExCheck(setting,n)},_beforeA=function(setting,node,html){},_zTreeTools=function(setting,zTreeTools){zTreeTools.showNodes=function(nodes,options){view.showNodes(setting,nodes,options)};zTreeTools.showNode=function(node,options){if(!node)return;view.showNodes(setting,[node],options)};zTreeTools.hideNodes=function(nodes,options){view.hideNodes(setting,nodes,options)};zTreeTools.hideNode=function(node,options){if(!node)return;view.hideNodes(setting,[node],options)};var _checkNode=zTreeTools.checkNode;_checkNode&&(zTreeTools.checkNode=function(node,checked,checkTypeFlag,callbackFlag){if(node&&node.isHidden)return;_checkNode.apply(zTreeTools,arguments)})},_data={"initHideForExCheck":function(setting,n){if(n.isHidden&&setting.check&&setting.check.enable){if("undefined"==typeof n._nocheck){n._nocheck=!!n.nocheck;n.nocheck=!0}n.check_Child_State=-1;view.repairParentChkClassWithSelf&&view.repairParentChkClassWithSelf(setting,n)}},"initShowForExCheck":function(setting,n){if(!n.isHidden&&setting.check&&setting.check.enable){if("undefined"!=typeof n._nocheck){n.nocheck=n._nocheck;delete n._nocheck}if(view.setChkClass){var checkObj=$$(n,consts.id.CHECK,setting);view.setChkClass(setting,checkObj,n)}view.repairParentChkClassWithSelf&&view.repairParentChkClassWithSelf(setting,n)}}},_view={"clearOldFirstNode":function(setting,node){var n=node.getNextNode();for(;n;){if(n.isFirstNode){n.isFirstNode=!1;view.setNodeLineIcos(setting,n);break}if(n.isLastNode)break;n=n.getNextNode()}},"clearOldLastNode":function(setting,node,openFlag){var n=node.getPreNode();for(;n;){if(n.isLastNode){n.isLastNode=!1;openFlag&&view.setNodeLineIcos(setting,n);break}if(n.isFirstNode)break;n=n.getPreNode()}},"makeDOMNodeMainBefore":function(html,setting,node){html.push("<li ",node.isHidden?"style='display:none;' ":"","id='",node.tId,"' class='",consts.className.LEVEL,node.level,"' tabindex='0' hidefocus='true' treenode>")},"showNode":function(setting,node,options){node.isHidden=!1;data.initShowForExCheck(setting,node);$$(node,setting).show()},"showNodes":function(setting,nodes,options){var pList,i,j,n,pn,tId,children;if(!nodes||0==nodes.length)return;pList={};for(i=0,j=nodes.length;j>i;i++){n=nodes[i];if(!pList[n.parentTId]){pn=n.getParentNode();pList[n.parentTId]=null===pn?data.getRoot(setting):n.getParentNode()}view.showNode(setting,n,options)}for(tId in pList){children=pList[tId][setting.data.key.children];view.setFirstNodeForShow(setting,children);view.setLastNodeForShow(setting,children)}},"hideNode":function(setting,node,options){node.isHidden=!0;node.isFirstNode=!1;node.isLastNode=!1;data.initHideForExCheck(setting,node);view.cancelPreSelectedNode(setting,node);$$(node,setting).hide()},"hideNodes":function(setting,nodes,options){var pList,i,j,n,pn,tId,children;if(!nodes||0==nodes.length)return;pList={};for(i=0,j=nodes.length;j>i;i++){n=nodes[i];if((n.isFirstNode||n.isLastNode)&&!pList[n.parentTId]){pn=n.getParentNode();pList[n.parentTId]=null===pn?data.getRoot(setting):n.getParentNode()}view.hideNode(setting,n,options)}for(tId in pList){children=pList[tId][setting.data.key.children];view.setFirstNodeForHide(setting,children);view.setLastNodeForHide(setting,children)}},"setFirstNode":function(setting,parentNode){var childKey=setting.data.key.children,childLength=parentNode[childKey].length;childLength>0&&!parentNode[childKey][0].isHidden?parentNode[childKey][0].isFirstNode=!0:childLength>0&&view.setFirstNodeForHide(setting,parentNode[childKey])},"setLastNode":function(setting,parentNode){var childKey=setting.data.key.children,childLength=parentNode[childKey].length;childLength>0&&!parentNode[childKey][0].isHidden?parentNode[childKey][childLength-1].isLastNode=!0:childLength>0&&view.setLastNodeForHide(setting,parentNode[childKey])},"setFirstNodeForHide":function(setting,nodes){var n,i,j;for(i=0,j=nodes.length;j>i;i++){n=nodes[i];if(n.isFirstNode)break;if(!n.isHidden&&!n.isFirstNode){n.isFirstNode=!0;view.setNodeLineIcos(setting,n);break}n=null}return n},"setFirstNodeForShow":function(setting,nodes){var n,i,j,first,old;for(i=0,j=nodes.length;j>i;i++){n=nodes[i];if(!first&&!n.isHidden&&n.isFirstNode){first=n;break}if(first||n.isHidden||n.isFirstNode){if(first&&n.isFirstNode){
n.isFirstNode=!1;old=n;view.setNodeLineIcos(setting,n);break}n=null}else{n.isFirstNode=!0;first=n;view.setNodeLineIcos(setting,n)}}return{"new":first,"old":old}},"setLastNodeForHide":function(setting,nodes){var n,i;for(i=nodes.length-1;i>=0;i--){n=nodes[i];if(n.isLastNode)break;if(!n.isHidden&&!n.isLastNode){n.isLastNode=!0;view.setNodeLineIcos(setting,n);break}n=null}return n},"setLastNodeForShow":function(setting,nodes){var n,i,last,old;for(i=nodes.length-1;i>=0;i--){n=nodes[i];if(!last&&!n.isHidden&&n.isLastNode){last=n;break}if(last||n.isHidden||n.isLastNode){if(last&&n.isLastNode){n.isLastNode=!1;old=n;view.setNodeLineIcos(setting,n);break}n=null}else{n.isLastNode=!0;last=n;view.setNodeLineIcos(setting,n)}}return{"new":last,"old":old}}},_z={"view":_view,"data":_data};$.extend(!0,$.fn.zTree._z,_z);zt=$.fn.zTree,tools=zt._z.tools,consts=zt.consts,view=zt._z.view,data=zt._z.data,event=zt._z.event,$$=tools.$;data.addInitNode(_initNode);data.addBeforeA(_beforeA);data.addZTreeTools(_zTreeTools);_dInitNode=data.initNode;data.initNode=function(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag){var tmpPNode=parentNode?parentNode:data.getRoot(setting),children=tmpPNode[setting.data.key.children];data.tmpHideFirstNode=view.setFirstNodeForHide(setting,children);data.tmpHideLastNode=view.setLastNodeForHide(setting,children);if(openFlag){view.setNodeLineIcos(setting,data.tmpHideFirstNode);view.setNodeLineIcos(setting,data.tmpHideLastNode)}isFirstNode=data.tmpHideFirstNode===node;isLastNode=data.tmpHideLastNode===node;_dInitNode&&_dInitNode.apply(data,arguments);openFlag&&isLastNode&&view.clearOldLastNode(setting,node,openFlag)};_makeChkFlag=data.makeChkFlag;_makeChkFlag&&(data.makeChkFlag=function(setting,node){if(node&&node.isHidden)return;_makeChkFlag.apply(data,arguments)});_getTreeCheckedNodes=data.getTreeCheckedNodes;_getTreeCheckedNodes&&(data.getTreeCheckedNodes=function(setting,nodes,checked,results){if(nodes&&nodes.length>0){var p=nodes[0].getParentNode();if(p&&p.isHidden)return[]}return _getTreeCheckedNodes.apply(data,arguments)});_getTreeChangeCheckedNodes=data.getTreeChangeCheckedNodes;_getTreeChangeCheckedNodes&&(data.getTreeChangeCheckedNodes=function(setting,nodes,results){if(nodes&&nodes.length>0){var p=nodes[0].getParentNode();if(p&&p.isHidden)return[]}return _getTreeChangeCheckedNodes.apply(data,arguments)});_expandCollapseSonNode=view.expandCollapseSonNode;_expandCollapseSonNode&&(view.expandCollapseSonNode=function(setting,node,expandFlag,animateFlag,callback){if(node&&node.isHidden)return;_expandCollapseSonNode.apply(view,arguments)});_setSonNodeCheckBox=view.setSonNodeCheckBox;_setSonNodeCheckBox&&(view.setSonNodeCheckBox=function(setting,node,value,srcNode){if(node&&node.isHidden)return;_setSonNodeCheckBox.apply(view,arguments)});_repairParentChkClassWithSelf=view.repairParentChkClassWithSelf;_repairParentChkClassWithSelf&&(view.repairParentChkClassWithSelf=function(setting,node){if(node&&node.isHidden)return;_repairParentChkClassWithSelf.apply(view,arguments)})})(jQuery);define("tiny-lib/jquery.ztree.exhide",["tiny-lib/jquery","tiny-lib/jquery.ztree.all"],function(global){return function(){var ret;return ret||global.zTreeExhide}}(this));define("tiny-widgets/Tree",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-lib/jquery.ztree.all","tiny-lib/jquery.ztree.exhide","tiny-widgets/Widget"],function(angular,$,Class,zTreeAll,zTreeExhide,Widget){var DEFAULT_CONFIG={"template":'<ul class="ztree"></ul>',"display":!0,"values":[]},CONST_VALUES={"DECIMAL":10},Tree=Widget.extend({"init":function(options){var treeThis=this;options=_.extend({},DEFAULT_CONFIG,options);treeThis._super(options);treeThis._propInit();treeThis._setOptions(treeThis.options);$("#"+options.id).append(treeThis._element)},"_propInit":function(){var treeThis=this;treeThis.zSetting={"async":{"autoParam":[],"contentType":"application/x-www-form-urlencoded","dataFilter":null,"dataType":"text","enable":!1,"otherParam":[],"type":"post","url":""},"callback":{"beforeAsync":null,"beforeCheck":null,"beforeClick":null,"beforeCollapse":null,"beforeDblClick":null,"beforeDrag":null,"beforeDragOpen":null,"beforeDrop":null,"beforeEditName":null,"beforeExpand":null,"beforeMouseDown":null,"beforeMouseUp":null,"beforeRemove":null,"beforeRename":null,"beforeRightClick":null,"onAsyncError":null,"onAsyncSuccess":null,"onCheck":null,"onClick":null,"onCollapse":null,"onDblClick":null,"onDrag":null,"onDrop":null,"onExpand":null,"onMouseDown":null,"onMouseUp":null,"onNodeCreated":null,"onRemove":null,"onRename":null,"onRightClick":null},"check":{"autoCheckTrigger":!1,"chkboxType":{"Y":"ps","N":"ps"},"chkStyle":"checkbox","enable":!1,"nocheckInherit":!1,"chkDisabledInherit":!1,"radioType":"level"},"data":{"keep":{"leaf":!1,"parent":!1},"key":{"checked":"checked","children":"children","name":"name","title":"","url":"url"},"simpleData":{"enable":!0,"idKey":"id","pIdKey":"pId","rootPId":null}},"edit":{"drag":{"autoExpandTrigger":!0,"isCopy":!0,"isMove":!0,"prev":!0,"next":!0,"inner":!0,"borderMax":10,"borderMin":-5,"minMoveSize":5,"maxShowNodeNum":5,"autoOpenTime":500},"editNameSelectAll":!1,"enable":!1,"removeTitle":"remove","renameTitle":"rename","showRemoveBtn":!0,"showRenameBtn":!0},"view":{"addDiyDom":null,"addHoverDom":null,"autoCancelSelected":!0,"dblClickExpand":!0,"expandSpeed":"fast","fontCss":{},"nameIsHTML":!1,"removeHoverDom":null,"selectedMulti":!0,"showIcon":!0,"showLine":!1,"showTitle":!0}};treeThis.zNodes=[]},"_setOptions":function(options){var key,isNeed,isNeedCreate=!1;for(key in options){isNeed=this._setOption(key,options[key]);isNeed&&(isNeedCreate=!0)}isNeedCreate&&this._initZTree();return this},"_initZTree":function(){var treeThis=this;treeThis.zTreeObj&&treeThis.zTreeObj.destroy();"undefined"==typeof treeThis.options.id?treeThis.zTreeId=_.uniqueId("tiny-tree-"):treeThis.zTreeId=treeThis.options.id;treeThis._element.attr("id",treeThis.zTreeId);$.fn.zTree.init(treeThis._element,treeThis.zSetting,treeThis.zNodes);treeThis.zTreeObj=$.fn.zTree.getZTreeObj(treeThis.zTreeId)},"_setOption":function(key,value){var isNeedCreate,treeThis=this;treeThis._super(key,value);isNeedCreate=!1;switch(key){case"id":treeThis._updateId(value);break;case"display":treeThis._updateDisplay();break;case"width":treeThis._updateWidth();break;case"height":treeThis._updateHeight();break;case"cls":treeThis._updateCls();break;case"setting":treeThis._updateSetting();isNeedCreate=!0;break;case"values":treeThis._updateValues();isNeedCreate=!0}return isNeedCreate},"_updateDisplay":function(){var treeThis=this,options=treeThis.options;options.display?treeThis._element.show():treeThis._element.hide()},"_updateWidth":function(){var treeThis=this,options=treeThis.options,width=parseInt(options.width,CONST_VALUES.DECIMAL);treeThis._element.css("width",width)},"_updateHeight":function(){var treeThis=this,options=treeThis.options,height=parseInt(options.height,CONST_VALUES.DECIMAL);treeThis._element.css("height",height)},"_updateCls":function(){var currCls,treeThis=this,options=treeThis.options;if(_.isString(options.cls)){currCls=treeThis._element.attr("class");currCls=currCls.replace("ztree","");treeThis._element.removeClass(currCls).addClass(options.cls)}_.isObject(options.cls)&&treeThis._element.css(options.cls)},"_updateSetting":function(){var treeThis=this,options=treeThis.options;_.isObject(options.setting)&&_.extend(treeThis.zSetting,options.setting)},"_updateValues":function(){var treeThis=this,options=treeThis.options;treeThis.zNodes=_.isArray(options.values)?options.values:[]},"getZTreeObj":function(){return this.zTreeObj}});window.tinyWidget.Tree=Tree;return Tree});define("tiny-directives/Tree",["tiny-directives/Directive","tiny-widgets/Tree"],function(Directive,TreeWidget){var DEFAULT_CONFIG={"directiveName":"tinyTree","widgetClass":TreeWidget,"scope":{"id":"=","display":"=","width":"=","height":"=","cls":"=","values":"=","setting":"="},"constantProperties":[],"template":"<span></span>","replace":"true"},Tree=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var treeThis=this;treeThis=new treeThis.widgetClass;element.append(treeThis._element);scope.$watch("id",function(newValues,oldValues){treeThis.option("id",newValues)});scope.$watch("display",function(newValues,oldValues){treeThis.option("display",newValues)});scope.$watch("width",function(newValues,oldValues){treeThis.option("width",newValues)});scope.$watch("height",function(newValues,oldValues){treeThis.option("height",newValues)});scope.$watch("cls",function(newValues,oldValues){treeThis.option("cls",newValues)});scope.$watch("values",function(newValues,oldValues){treeThis.option("values",newValues)});scope.$watch("setting",function(newValues,oldValues){treeThis.option("setting",newValues)})}});(new Tree).toAngularDirective();return Tree});(function(){var $;$=jQuery;$.widget("ui.dialogExtend",{"version":"2.0.0","modes":{},"options":{"closable":!0,"dblclick":!1,"titlebar":!1,"icons":{"close":"ui-icon-closethick","restore":"ui-icon-newwin"},"load":null,"beforeRestore":null,"restore":null},"_create":function(){this._state="normal";$(this.element[0]).data("ui-dialog")||$.error("jQuery.dialogExtend Error : Only jQuery UI Dialog element is accepted");this._verifyOptions();this._initStyles();this._initButtons();this._initTitleBar();this._setState("normal");this._on("load",function(e){return void 0});return this._trigger("load")},"_setState":function(state){$(this.element[0]).removeClass("ui-dialog-"+this._state).addClass("ui-dialog-"+state);return this._state=state},"_verifyOptions":function(){var name,_ref,_results;if(this.options.dblclick&&!(this.options.dblclick in this.modes)){$.error("jQuery.dialogExtend Error : Invalid <dblclick> value '"+this.options.dblclick+"'");this.options.dblclick=!1}if(this.options.titlebar&&"none"!==(_ref=this.options.titlebar)&&"transparent"!==_ref){$.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+this.options.titlebar+"'");this.options.titlebar=!1}_results=[];for(name in this.modes)this["_verifyOptions_"+name]?_results.push(this["_verifyOptions_"+name]()):_results.push(void 0);return _results},"_initStyles":function(){var name,style,_results;if(!$(".dialog-extend-css").length){style="";style+='<style class="dialog-extend-css" type="text/css">';style+=".ui-dialog .ui-dialog-titlebar-buttonpane>a { float: right; }";style+=".ui-dialog .ui-dialog-titlebar-restore { width: 19px; height: 18px; }";style+=".ui-dialog .ui-dialog-titlebar-restore span { display: block; margin: 1px; }";style+=".ui-dialog .ui-dialog-titlebar-restore:hover,";style+=".ui-dialog .ui-dialog-titlebar-restore:focus { padding: 0; }";style+=".ui-dialog .ui-dialog-titlebar ::selection { background-color: transparent; }";style+="</style>";$(style).appendTo("body")}_results=[];for(name in this.modes)_results.push(this["_initStyles_"+name]());return _results},"_initButtons":function(){var buttonPane,mode,name,titlebar,_ref,_this=this;titlebar=$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar");buttonPane=$('<div class="ui-dialog-titlebar-buttonpane"></div>').appendTo(titlebar);buttonPane.css({"position":"absolute","top":"50%","right":"0.3em","margin-top":"-10px","height":"18px"});titlebar.find(".ui-dialog-titlebar-close").css({"position":"relative","float":"right","top":"auto","right":"auto","margin":0}).find(".ui-icon").removeClass("ui-icon-closethick").addClass(this.options.icons.close).end().appendTo(buttonPane).end();buttonPane.append('<a class="ui-dialog-titlebar-restore ui-corner-all ui-state-default" href="#"><span class="ui-icon '+this.options.icons.restore+'">restore</span></a>').find(".ui-dialog-titlebar-restore").attr("role","button").mouseover(function(){return $(this).addClass("ui-state-hover")}).mouseout(function(){return $(this).removeClass("ui-state-hover")}).focus(function(){return $(this).addClass("ui-state-focus")}).blur(function(){return $(this).removeClass("ui-state-focus")}).end().find(".ui-dialog-titlebar-close").toggle(this.options.closable).end().find(".ui-dialog-titlebar-restore").hide().click(function(e){e.preventDefault();return _this.restore()}).end();_ref=this.modes;for(name in _ref){mode=_ref[name];this._initModuleButton(name,mode)}return titlebar.dblclick(function(evt){if(_this.options.dblclick)return"normal"!==_this._state?_this.restore():_this[_this.options.dblclick]()}).select(function(){return!1})},"_initModuleButton":function(name,mode){var buttonPane,_this=this;buttonPane=$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-buttonpane");return buttonPane.append('<a class="ui-dialog-titlebar-'+name+' ui-corner-all ui-state-default" href="#"><span class="ui-icon '+this.options.icons[name]+'">'+name+"</span></a>").find(".ui-dialog-titlebar-"+name).attr("role","button").mouseover(function(){return $(this).addClass("ui-state-hover")}).mouseout(function(){return $(this).removeClass("ui-state-hover")}).focus(function(){return $(this).addClass("ui-state-focus")}).blur(function(){return $(this).removeClass("ui-state-focus")}).end().find(".ui-dialog-titlebar-"+name).toggle(this.options[mode.option]).click(function(e){e.preventDefault();return _this[name]()}).end()},"_initTitleBar":function(){var handle;switch(this.options.titlebar){case!1:return 0;case"none":if($(this.element[0]).dialog("option","draggable")){handle=$("<div />").addClass("ui-dialog-draggable-handle").css("cursor","move").height(5);$(this.element[0]).dialog("widget").prepend(handle).draggable("option","handle",handle)}return $(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").find(".ui-dialog-title").html("&nbsp;").end().css({"background-color":"transparent","background-image":"none","border":0,"position":"absolute","right":0,"top":0,"z-index":9999}).end();case"transparent":return $(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").css({"background-color":"transparent","background-image":"none","border":0});default:return $.error("jQuery.dialogExtend Error : Invalid <titlebar> value '"+this.options.titlebar+"'")}},"state":function(){return this._state},"restore":function(){this._trigger("beforeRestore");this._restore();this._setState("normal");this._toggleButtons();return this._trigger("restore")},"_restore":function(){if("normal"!==this._state)return this["_restore_"+this._state]()},"_saveSnapshot":function(){if("normal"===this._state){this.original_config_resizable=$(this.element[0]).dialog("option","resizable");this.original_config_draggable=$(this.element[0]).dialog("option","draggable");this.original_size_height=$(this.element[0]).dialog("widget").outerHeight();this.original_size_width=$(this.element[0]).dialog("option","width");this.original_size_maxHeight=$(this.element[0]).dialog("option","maxHeight");this.original_position_mode=$(this.element[0]).dialog("widget").css("position");this.original_position_left=$(this.element[0]).dialog("widget").offset().left-$("body").scrollLeft();this.original_position_top=$(this.element[0]).dialog("widget").offset().top-$("body").scrollTop();return this.original_titlebar_wrap=$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").css("white-space")}},"_loadSnapshot":function(){return{"config":{"resizable":this.original_config_resizable,"draggable":this.original_config_draggable},"size":{"height":this.original_size_height,"width":this.original_size_width,"maxHeight":this.original_size_maxHeight},"position":{"mode":this.original_position_mode,"left":this.original_position_left,"top":this.original_position_top},"titlebar":{"wrap":this.original_titlebar_wrap}}},"_toggleButtons":function(){var mode,name,_ref,_results;$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-restore").toggle("normal"!==this._state).css({"right":"1.4em"}).end();_ref=this.modes;_results=[];for(name in _ref){mode=_ref[name];_results.push($(this.element[0]).dialog("widget").find(".ui-dialog-titlebar-"+name).toggle(this._state!==mode.state&&this.options[mode.option]))}return _results}})}).call(this);(function(){var $;$=jQuery;$.extend(!0,$.ui.dialogExtend.prototype,{"modes":{"collapse":{"option":"collapsable","state":"collapsed"}},"options":{"collapsable":!1,"icons":{"collapse":"ui-icon-triangle-1-s"},"beforeCollapse":null,"collapse":null},"collapse":function(){var newHeight;newHeight=$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").height()+15;this._trigger("beforeCollapse");"normal"!==this._state&&this._restore();this._saveSnapshot();$(this.element[0]).dialog("option",{"resizable":!1,"height":newHeight,"maxHeight":newHeight}).on("dialogclose",this._collapse_restore).hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content");this._setState("collapsed");this._toggleButtons();return this._trigger("collapse")},"_restore_collapsed":function(){var original;original=this._loadSnapshot();return $(this.element[0]).show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",original.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{"resizable":original.config.resizable,"height":original.size.height,"maxHeight":original.size.maxHeight}).off("dialogclose",this._collapse_restore)},"_initStyles_collapse":function(){var style;if(!$(".dialog-extend-collapse-css").length){style="";style+='<style class="dialog-extend-collapse-css" type="text/css">';style+=".ui-dialog .ui-dialog-titlebar-collapse { width: 19px; height: 18px; }";style+=".ui-dialog .ui-dialog-titlebar-collapse span { display: block; margin: 1px; }";style+=".ui-dialog .ui-dialog-titlebar-collapse:hover,";style+=".ui-dialog .ui-dialog-titlebar-collapse:focus { padding: 0; }";style+="</style>";return $(style).appendTo("body")}},"_collapse_restore":function(){return $(this).dialogExtend("restore")}})}).call(this);(function(){var $;$=jQuery;$.extend(!0,$.ui.dialogExtend.prototype,{"modes":{"maximize":{"option":"maximizable","state":"maximized"}},"options":{"maximizable":!1,"icons":{"maximize":"ui-icon-extlink"},"beforeMaximize":null,"maximize":null},"maximize":function(){var newHeight,newWidth;newHeight=$(window).height()-11;newWidth=$(window).width()-11;this._trigger("beforeMaximize");"normal"!==this._state&&this._restore();this._saveSnapshot();$(this.element[0]).dialog("option","draggable")&&$(this.element[0]).dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end();$(this.element[0]).dialog("widget").css("position","fixed").find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane").show().end().find(".ui-dialog-content").dialog("option",{"resizable":!1,"draggable":!1,"height":newHeight,"width":newWidth,"position":{"my":"left top","at":"left top"}});this._setState("maximized");this._toggleButtons();$(document).trigger("tipRelocation");return this._trigger("maximize")},"_restore_maximized":function(){var original;original=this._loadSnapshot();$(this.element[0]).dialog("widget").css("position",original.position.mode).find(".ui-dialog-titlebar").css("white-space",original.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{"resizable":original.config.resizable,"draggable":original.config.draggable,"height":original.size.height,"width":original.size.width,"maxHeight":original.size.maxHeight,"position":{"my":"left top","at":"left+"+original.position.left+" top+"+original.position.top}});if($(this.element[0]).dialog("option","draggable"))return $(this.element[0]).dialog("widget").draggable("option","handle",$(this.element[0]).dialog("widget").find(".ui-dialog-draggable-handle").length?$(this.element[0]).dialog("widget").find(".ui-dialog-draggable-handle"):".ui-dialog-titlebar").find(".ui-dialog-draggable-handle").css("cursor","move")},"_initStyles_maximize":function(){var style;if(!$(".dialog-extend-maximize-css").length){style="";style+='<style class="dialog-extend-maximize-css" type="text/css">';style+=".ui-dialog .ui-dialog-titlebar-maximize { width: 19px; height: 18px; }";style+=".ui-dialog .ui-dialog-titlebar-maximize span { display: block; margin: 1px; }";style+=".ui-dialog .ui-dialog-titlebar-maximize:hover,";style+=".ui-dialog .ui-dialog-titlebar-maximize:focus { padding: 0; }";style+="</style>";return $(style).appendTo("body")}}})}).call(this);(function(){var $;$=jQuery;$.extend(!0,$.ui.dialogExtend.prototype,{"modes":{"minimize":{"option":"minimizable","state":"minimized"}},"options":{"minimizable":!1,"minimizeLocation":"left","icons":{"minimize":"ui-icon-minus"},"beforeMinimize":null,"minimize":null},"minimize":function(){var fixedContainer,newHeight,newWidth,overlay;newHeight=$(this.element[0]).dialog("widget").find(".ui-dialog-titlebar").height()+15;newWidth=200;fixedContainer=$("#dialog-extend-fixed-container").length?$("#dialog-extend-fixed-container"):$('<div id="dialog-extend-fixed-container"></div>').appendTo("body");fixedContainer.css({"position":"fixed","bottom":1,"left":1,"right":1,"z-index":9999});overlay=$("<div/>").css({"float":this.options.minimizeLocation,"margin":1});fixedContainer.append(overlay);$(this.element[0]).data("dialog-extend-minimize-overlay",overlay);this._trigger("beforeMinimize");this._saveSnapshot();$(this.element[0]).dialog("option","draggable")&&$(this.element[0]).dialog("widget").draggable("option","handle",null).find(".ui-dialog-draggable-handle").css("cursor","text").end();$(this.element[0]).dialog("option",{"resizable":!1,"draggable":!1,"height":newHeight,"width":newWidth}).on("dialogclose",this._minimize_removeOverlay).dialog("widget").css("position","static").appendTo(overlay).find(".ui-dialog-content").dialog("widget").find(".ui-dialog-titlebar").each(function(){var buttonPane,titleText,titlebar;titlebar=$(this);buttonPane=titlebar.find(".ui-dialog-titlebar-buttonpane");titleText=titlebar.find(".ui-dialog-title");return titleText.css({"overflow":"hidden","width":titlebar.width()-buttonPane.width()+10})}).end().find(".ui-dialog-content").hide().dialog("widget").find(".ui-dialog-buttonpane:visible").hide().end().find(".ui-dialog-titlebar").css("white-space","nowrap").end().find(".ui-dialog-content");this._setState("minimized");this._toggleButtons();return this._trigger("minimize")},"_restore_minimized":function(){var original;original=this._loadSnapshot();$(this.element[0]).dialog("widget").appendTo("body").css({"float":"none","margin":0,"position":original.position.mode}).find(".ui-dialog-content").dialog("widget").find(".ui-dialog-title").css("width","auto").end().find(".ui-dialog-content").show().dialog("widget").find(".ui-dialog-buttonpane:hidden").show().end().find(".ui-dialog-titlebar").css("white-space",original.titlebar.wrap).end().find(".ui-dialog-content").dialog("option",{"resizable":original.config.resizable,"draggable":original.config.draggable,"height":original.size.height,"width":original.size.width,"maxHeight":original.size.maxHeight,"position":{"my":"left top","at":"left+"+original.position.left+" top+"+original.position.top}}).off("dialogclose",this._minimize_removeOverlay);$(this.element[0]).dialog("option","draggable")&&$(this.element[0]).dialog("widget").draggable("option","handle",$(this.element[0]).dialog("widget").find(".ui-dialog-draggable-handle").length?$(this.element[0]).dialog("widget").find(".ui-dialog-draggable-handle"):".ui-dialog-titlebar").find(".ui-dialog-draggable-handle").css("cursor","move");$(this.element[0]).data("dialog-extend-minimize-overlay").remove();return $(this.element[0]).removeData("dialog-extend-overlay")},"_initStyles_minimize":function(){var style;if(!$(".dialog-extend-minimize-css").length){style="";style+='<style class="dialog-extend-minimize-css" type="text/css">';style+=".ui-dialog .ui-dialog-titlebar-minimize { width: 19px; height: 18px; }";style+=".ui-dialog .ui-dialog-titlebar-minimize span { display: block; margin: 1px; }";style+=".ui-dialog .ui-dialog-titlebar-minimize:hover,";style+=".ui-dialog .ui-dialog-titlebar-minimize:focus { padding: 0; }";style+="</style>";return $(style).appendTo("body")}},"_verifyOptions_minimize":function(){var _ref;if(!this.options.minimizeLocation||"left"!==(_ref=this.options.minimizeLocation)&&"right"!==_ref){$.error("jQuery.dialogExtend Error : Invalid <minimizeLocation> value '"+this.options.minimizeLocation+"'");return this.options.minimizeLocation="left"}},"_minimize_removeOverlay":function(){$(this).dialogExtend("restore");$(this).dialog("widget").appendTo($("body"));$(this).data("dialog-extend-minimize-overlay").remove();return $(this).removeData("dialog-extend-overlay")}})}).call(this);define("tiny-lib/jquery.dialogextend",["tiny-lib/jquery","tiny-lib/jquery-ui.custom.min"],function(){});define("tiny-widgets/Window",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-common/util","tiny-lib/jquery-ui.custom.min","tiny-lib/jquery.ui.dialog","tiny-lib/jquery.dialogextend","tiny-lib/encoder"],function(angular,$,Class,Widget,util,jqueryui,jqueryuidialog,jquerydialogextend,encoder){var widgetsLanguage=tinyLanguage.language,DEFAULT_CONFIG={"template":"","id":null,"modal":!0,"title":"","content":"","content-type":"simple","draggable":!0,"width":"500px","height":"375px","closeable":!0,"icon":"","buttons":[],"position":"auto","resizable":!1,"type":"prompt","frame-border":0,"append-to":"body","zIndexDelta":0},CONSTANT_CONFIG={"Z_INDEX_DEFAULT":1e4},Window=Widget.extend({"init":function(options){var widgetThis=this;widgetThis._varInit(options);widgetThis._super(_.extend({},DEFAULT_CONFIG,options));if($("#"+widgetThis.options.winId).length>=1)return;widgetThis._init();widgetThis._createDialogInstance();widgetThis._applyJQueryCSSStyles(widgetThis.window)},"_varInit":function(options){var widgetThis=this;widgetThis.wId="tinywindow_"+(new Date).getTime();widgetThis.wWidth=500},"_setOption":function(key,value){var isOpen,widgetThis=this;widgetThis._super(key,value);switch(key){case"position":case"draggable":case"resizable":widgetThis.window.dialog("option",key,value);break;case"buttons":widgetThis._createWindowButtons();widgetThis.window.dialog("option",key,widgetThis.dialogButtons);break;case"width":case"height":case"content":case"icon":case"title":case"closeable":case"id":isOpen=!1;widgetThis.window.dialog("isOpen")&&(isOpen=!0);widgetThis.destroy();widgetThis._init();widgetThis._createDialogInstance();isOpen&&widgetThis.show()}},"rendTo":function(elementId){var widgetThis=this;widgetThis._setOption("id",elementId);return widgetThis},"show":function(){var widgetThis=this;if(!widgetThis.window)return;widgetThis.window.dialog("open");widgetThis._applyJQueryCSSStyles(widgetThis.window)},"destroy":function(){var widgetThis=this;widgetThis.window.dialog("close");"Microsoft Internet Explorer"!=navigator.appName||"9."!=navigator.appVersion.match(/9./)&&"8."!=navigator.appVersion.match(/8./)?window.removeEventListener("popstate",widgetThis.historyOperate):window.detachEvent("onhashchange",widgetThis.historyOperate);$("#"+widgetThis.wId).parent().remove()},"_addBehavior":function(){var widgetThis=this,options=widgetThis.options;"function"==typeof options.open&&widgetThis.on("open",options.open);"function"==typeof options.close&&widgetThis.on("close",options.close);"function"==typeof options.drag&&widgetThis.on("drag",options.drag);"function"==typeof options.resize&&widgetThis.on("resize",options.resize);"function"==typeof options.minimize&&widgetThis.on("minimize",options.minimize);"function"==typeof options.maximize&&widgetThis.on("maximize",options.maximize);"function"==typeof options.restore&&widgetThis.on("restore",options.restore);widgetThis.historyOperate=function(event){widgetThis.destroy()};"Microsoft Internet Explorer"!=navigator.appName||"9."!=navigator.appVersion.match(/9./)&&"8."!=navigator.appVersion.match(/8./)?window.addEventListener("popstate",widgetThis.historyOperate):window.attachEvent("onhashchange",widgetThis.historyOperate)},"_dragHandler":function(evt){$(this).widget().trigger("drag",[evt])},"_closeHandler":function(evt){var widgetThis=$(this).widget();widgetThis.trigger("close",[evt]);"Microsoft Internet Explorer"!=navigator.appName||"9."!=navigator.appVersion.match(/9./)&&"8."!=navigator.appVersion.match(/8./)?window.removeEventListener("popstate",widgetThis.historyOperate):window.detachEvent("onhashchange",widgetThis.historyOperate);$("#dialog-extend-fixed-container").remove();$("#"+widgetThis.wId).parent().remove()},"_beforeCloseHandler":function(evt){var beforeCloseFn=$(this).widget().options.beforeClose;if("function"==typeof beforeCloseFn)return beforeCloseFn(evt)},"_openHandler":function(evt){var widgetThis=$(this).widget();widgetThis.trigger("open",[evt])},"_resizeHandler":function(evt){var widgetThis=$(this).widget();widgetThis.trigger("resize",[evt])},"_restoreHandler":function(evt){var widgetThis=$(this).widget();widgetThis.trigger("restore",[evt])},"_minimizeHandler":function(evt){var widgetThis=$(this).widget();$("#dialog-extend-fixed-container").css("z-index",1e4);widgetThis.trigger("minimize",[evt])},"_maximizeHandler":function(evt){var widgetThis=$(this).widget();widgetThis.trigger("maximize",[evt])},"_init":function(){var title,titleText,tempObj,actwid,zIndexDelta,wOptions,wExtendOptions,widgetThis=this,options=widgetThis.options;widgetThis.dialogButtons=[];widgetThis.focus=0;if(options){widgetThis.wIcon=options.icon;options["content-type"]=options["content-type"]&&"url"===options["content-type"]?"url":"simple";options.content=options.content;options.modal=util.isFalse(options.modal)?!1:!0;options.draggable=util.isFalse(options.draggable)?!1:!0;options.resizable=util.isFalse(options.resizable)?!1:!0;options.minimizable=util.isTrue(options.minimizable)?!0:!1;options.maximizable=util.isTrue(options.maximizable)?!0:!1;options.closeable=util.isFalse(options.closeable)?!1:!0;widgetThis.wHeight=options.height&&!isNaN(parseInt(options.height,10))&&parseInt(options.height,10)>0?parseInt(options.height,10):widgetThis.wHeight;widgetThis.wWidth=options.width&&!isNaN(parseInt(options.width,10))&&parseInt(options.width,10)>0?parseInt(options.width,10):widgetThis.wWidth;options["frame-border"]=options["frame-border"]&&!isNaN(parseInt(options["frame-border"],10))&&parseInt(options["frame-border"],10)>=0?parseInt(options["frame-border"],10):0}title=options.title,titleText=options.title;options.icon&&(title='<span id="title_icon_'+widgetThis.wId+'" class="tinyWindow_window_title_icon" style="background-image : url('+$.encoder.encodeForCSS("background-image",options.icon,!0)+');"></span>'+title);if("auto"===widgetThis.wWidth&&"simple"===options["content-type"]){tempObj=$('<span style="visibility:hidden;"></span>');$("body").append(tempObj);tempObj.html(options.content);actwid=tempObj.width();tempObj.remove();tempObj=null;widgetThis.wWidth=actwid}widgetThis._createWindowButtons();zIndexDelta=+options.zIndexDelta;zIndexDelta=isNaN(zIndexDelta)?0:zIndexDelta;wOptions={"autoOpen":!1,"title":title,"titleText":titleText,"height":widgetThis.wHeight,"width":widgetThis.wWidth,"minHeight":isNaN(parseInt(options.minHeight,10))?60:parseInt(options.minHeight,10),"maxHeight":isNaN(parseInt(options.maxHeight,10))?"none":parseInt(options.maxHeight,10),"draggable":options.draggable,"modal":options.modal,"closeOnEscape":!1,"drag":widgetThis._dragHandler,"beforeClose":widgetThis._beforeCloseHandler,"close":widgetThis._closeHandler,"open":widgetThis._openHandler,"resize":widgetThis._resizeHandler,"buttons":widgetThis.dialogButtons,"appendTo":options.id?"#"+options.id:options["append-to"],"resizable":options.resizable,"closeable":options.closeable,"zIndex":CONSTANT_CONFIG.Z_INDEX_DEFAULT+zIndexDelta};options.position&&(wOptions.position=options.position);widgetThis.wOptions=wOptions;wExtendOptions=wExtendOptions?wExtendOptions:{};if(options.minimizable){
wExtendOptions=wExtendOptions?wExtendOptions:{};wExtendOptions.minimizable=options.minimizable;wExtendOptions.minimize=widgetThis._minimizeHandler}if(options.maximizable){wExtendOptions=wExtendOptions?wExtendOptions:{};wExtendOptions.maximizable=options.maximizable;wExtendOptions.maximize=widgetThis._maximizeHandler}wExtendOptions.restore=widgetThis._restoreHandler;widgetThis.wExtendOptions=wExtendOptions},"_createWindowButtons":function(){var i,j,widgetThis=this,options=widgetThis.options,okBtnTitile=widgetsLanguage.okBtnTitile,cancelBtnTitile=widgetsLanguage.cancelBtnTitile,tempMinWidth=(widgetsLanguage.yesBtnTitile,widgetsLanguage.noBtnTitile,""),minWidth="",label=null,key=null,accessKeyValue=null,defaultFocus=!1,buttonHandler=null,buttonDetails=null;if(null==options.buttons){widgetThis.dialogButtons=[];return}if(options.buttons.length>0){for(i=0;i<options.buttons.length;i++)if(options.buttons[i]){buttonHandler=null;label=options.buttons[i].label?options.buttons[i].label:"";key=options.buttons[i].key?options.buttons[i].key:"btn"+i;accessKeyValue=options.buttons[i].accessKey?options.buttons[i].accessKey:"";defaultFocus=options.buttons[i].focused?options.buttons[i].focused:!1;minWidth=isNaN(tempMinWidth=parseInt(options.buttons[i].minWidth,10))?80:tempMinWidth;buttonDetails={"accessKey":accessKeyValue,"text":label,"key":key,"focused":defaultFocus,"minWidth":minWidth,"click":function(e){var btnLabel,k;evt=window.event?event:e;btnLabel=null;for(k=0;k<options.buttons.length;k++){if(13==evt.keyCode&&"function"==typeof options.buttons[k].handler&&options.buttons[k].focused){options.buttons[k].handler(evt);break}btnLabel=evt.target?evt.target.textContent:evt.srcElement.innerText;if(options.buttons[k].label===btnLabel){buttonHandler=options.buttons[k].handler;break}}buttonHandler&&buttonHandler({"type":"button","value":btnLabel})}};widgetThis.dialogButtons[i]=buttonDetails;buttonDetails=[]}}else widgetThis.dialogButtons=[widgetThis._oBtn(okBtnTitile,!0),widgetThis._oBtn(cancelBtnTitile)];for(j=0;j<widgetThis.dialogButtons.length;j++)if(widgetThis.dialogButtons[j].focused===!0){widgetThis.focus=j;break}},"setButton":function(key,clickfn,text){var i,btn,widgetThis=this,options=widgetThis.options;if(options.buttons.length>0)for(i=0;i<options.buttons.length;i++){btn=options.buttons[i];if(btn.key==key){btn.label=text||btn.label;"function"==typeof clickfn&&(btn.handler=clickfn)}}widgetThis.option("buttons",options.buttons)},"_oBtn":function(title,focused){var widgetThis=this,oBtn={"text":title,"focused":focused,"minWidth":80,"click":function(){widgetThis.window.dialog("close");widgetThis.options.callback&&widgetThis.options.callback({"type":"button","value":title})}};return oBtn},"_createDialogInstance":function(){var iframeWindow,widgetThis=this,options=widgetThis.options;widgetThis.wBaseDiv=$('<div id="baseDiv_'+widgetThis.wId+' " style="height:100%;width:100%" ><div class="viewport" style="height:100%;width:100%"><div class="overview"></div></div></div>');"url"===options["content-type"]?widgetThis.wBaseDiv.find(".overview").load(options.content,function(){"function"==typeof options.completeFn&&options.completeFn()}):widgetThis.wBaseDiv.find(".overview").html(options.content);widgetThis.windowElement=$("<div id="+widgetThis.wId+"></div>").html(widgetThis.wBaseDiv);widgetThis.windowElement.widget(widgetThis);widgetThis.window=widgetThis.windowElement.dialog(widgetThis.wOptions);widgetThis.wExtendOptions&&widgetThis.window.dialogExtend(widgetThis.wExtendOptions);widgetThis.window.bind("drag",widgetThis._dragHandler);widgetThis.complexIFrameId&&(iframeWindow=$("#"+widgetThis.complexIFrameId)[0].contentWindow);widgetThis.window.parent().keydown(function(e){e.keyCode===$.ui.keyCode.ESCAPE&&widgetThis.wOptions.closeable&&widgetThis.destroy();return});widgetThis._element=widgetThis.windowElement.parent();widgetThis._element.widget(widgetThis);widgetThis.wOptions.closeable||widgetThis._element.find(".ui-dialog-titlebar-close").hide()},"_applyJQueryCSSStyles":function(element){var widgetThis=this,dialogElement=element.parent(),id=widgetThis.options.winId||element[0].id;dialogElement.attr("id",widgetThis.options.winId);$("#"+id+" .ui-dialog-titlebar-close").addClass("window-titlebar-close");$("#"+id+" .ui-dialog-title").addClass("window_title");$("#"+id+" .ui-icon").addClass("window_icon");$("#"+id+" .ui-widget-header").addClass("window_widget_header");$("#"+id+" .ui-dialog-content").addClass("window_dialog_content");$("#"+id+" .ui-corner-all,.ui-corner-bottom,.ui-corner-right,.ui-corner-br").addClass("window_corner_right_style");$("#"+id+" .ui-corner-all,.ui-corner-bottom,.ui-corner-left,.ui-corner-bl").addClass("window_corner_left_style");$("#"+id+" .ui-icon.ui-icon-minus").addClass("window-icon-minus");$("#"+id+" .ui-icon.ui-icon-extlink").addClass("window-icon-extlink");$("#"+id+" .ui-icon.ui-icon-newwin").addClass("window-icon-newwin");$("#"+id+" .ui-icon.ui-icon-closethick").addClass("window-icon-closethick");$("#"+id+" .ui-dialog").addClass("window_main")}});window.tinyWidget.Window=Window;return Window});define("tiny-widgets/Wizard",["tiny-lib/angular","tiny-lib/jquery","tiny-lib/Class","tiny-widgets/Widget","tiny-lib/underscore","tiny-common/util","tiny-lib/encoder","tiny-widgets/Button"],function(angular,$,Class,Widget,_,util,encoder,Button){var widgetsLanguage=tinyLanguage.language,WIZARD_STEP_STATE={"finished":"wizard-finished","current":"wizard-current","unfinished":"wizard-unfinished"},DEFAULT_CONFIG={"template":'<div class="tiny-wizard"><div class="tiny-wizard-main"><div class="tiny-wizard-row"><div class="tiny-wizard-main-left"><div class="tiny-wizard-step"><div class="wizard-x-title"><% _.each(options.steps, function(step, index) { %><div class="wizard-unfinished" <%=$.encoder.encodeForHTMLAttribute("stepid", ""+step.id)%>><%=$.encoder.encodeForHTML((index+1)+"."+step.title)%></div><% }); %></div><div class="wizard-progress"><div class="wizard-unfinished"></div><div class="wizard-finished" style="width:0%;"></div></div></div><% _.each(options.steps, function(step, index) { %><div class="tiny-wizard-card" style="display:none;" <%=$.encoder.encodeForHTMLAttribute("id", options.id+"_card_"+step.id)%>></div><% }); %></div><div class="tiny-wizard-main-right"><div class="tiny-wizard-preview"><div class="tiny-wizard-preview-title">'+widgetsLanguage.preview+'</div></div></div></div><div class="tiny-wizard-row"><div class="tiny-wizard-buttons"></div></div></div></div>',"steps":[],"exclude":[],"preview":!0},Wizard=Widget.extend({"buttonSets":{"pre":null,"next":null,"finish":null,"cancel":null},"currentStepIndex":-1,"realSteps":[],"init":function(options){var currStepIndex,_parentDiv,widgetThis=this;widgetThis._super(_.extend({},DEFAULT_CONFIG,options));widgetThis._updateRealSteps();if(widgetThis.options.curStepId){currStepIndex=widgetThis._getStepIndexById(widgetThis.options.curStepId);currStepIndex>=0&&(widgetThis.currentStepIndex=currStepIndex)}_parentDiv=$("#"+options.id);if(_parentDiv.length>0){_parentDiv.append(widgetThis._element);widgetThis._initButtons();widgetThis._initPreview();widgetThis._update(!0)}else widgetThis._element.attr("id",widgetThis.options.id)},"_getState":function(stepId,currentAsFinished){var i,widgetThis=this;for(i=0;i<widgetThis.realSteps.length;i++)if(widgetThis.realSteps[i].id==stepId)return i==widgetThis.currentStepIndex?currentAsFinished?WIZARD_STEP_STATE.finished:WIZARD_STEP_STATE.current:i<widgetThis.currentStepIndex?WIZARD_STEP_STATE.finished:WIZARD_STEP_STATE.unfinished},"_updateButtons":function(){var widgetThis=this;widgetThis.buttonSets.pre.option("display",widgetThis.currentStepIndex>0&&widgetThis.currentStepIndex<widgetThis.realSteps.length);widgetThis.buttonSets.next.option("display",widgetThis.currentStepIndex<widgetThis.realSteps.length-1);widgetThis.buttonSets.finish.option("display",widgetThis.currentStepIndex==widgetThis.realSteps.length-1)},"_updateStep":function(updateAll){var everageWidth,percent,widgetThis=this,options=widgetThis.options;updateAll&&_.each(options.steps,function(step){var $step=widgetThis._element.find(".tiny-wizard-step  div[stepid='"+step.id+"']");_.indexOf(options.exclude,step.id)<0?$step.show():$step.hide()});_.each(widgetThis.realSteps,function(step,index){widgetThis._element.find(".tiny-wizard-step div[stepid='"+step.id+"'] ").removeClass().addClass(widgetThis._getState(step.id,!0)).text(index+1+". "+step.title)});everageWidth=100/widgetThis.realSteps.length;percent=(widgetThis.currentStepIndex+1)*everageWidth;widgetThis._element.find(".tiny-wizard-step .wizard-progress .wizard-finished").width(percent+"%");widgetThis._element.find(".wizard-x-title").children().width(everageWidth+"%")},"_updatePreview":function(updateAll){var widgetThis=this,options=widgetThis.options;if(options.preview){updateAll&&_.each(options.steps,function(step){var $previewStep=$("#"+options.id+"_preview_step_"+step.id);_.indexOf(options.exclude,step.id)<0?$previewStep.show():$previewStep.hide()});_.each(widgetThis.realSteps,function(step){$("#"+options.id+"_preview_step_"+step.id+" .wizard-x-title").removeClass().addClass("wizard-x-title "+widgetThis._getState(step.id))})}},"_updateCard":function(){var widgetThis=this,currentStep=widgetThis.realSteps[widgetThis.currentStepIndex],$currentCard=widgetThis._element.find("#"+widgetThis.options.id+"_card_"+currentStep.id);if($currentCard.is(":visible"))return;widgetThis._element.find(".tiny-wizard-card").hide();if(currentStep.loaded){$currentCard.show();widgetThis.options.isDirective?widgetThis.trigger("activeEvt",[currentStep]):widgetThis.options.active&&widgetThis.options.active(currentStep)}else $currentCard.load(currentStep.templateUrl,function(){currentStep.loaded=!0;$(".tiny-wizard-card-title > span:first",this).text(currentStep.title);if(widgetThis.options.isDirective){widgetThis.trigger("loadEvt",[this,currentStep]);widgetThis.trigger("activeEvt",[currentStep])}else{widgetThis.options.load&&widgetThis.options.load(currentStep);widgetThis.options.active&&widgetThis.options.active(currentStep)}widgetThis._element.find("#"+widgetThis.options.id+"_preview_step_"+currentStep.id+" .wizard-preview-content").empty().append($(".custom-preview-content",this).remove())}).show()},"_getStepIndexById":function(stepId){var i,len,widgetThis=this,steps=widgetThis.realSteps,stepIndex=-1;for(i=0,len=steps.length;len>i;i++)if(steps[i].id===stepId){stepIndex=i;break}return stepIndex},"_updateRealSteps":function(){var widgetThis=this,_steps=_.reject(widgetThis.options.steps,function(step){return _.indexOf(widgetThis.options.exclude,step.id)>=0});if(_steps){widgetThis.realSteps=_steps;widgetThis.currentStepIndex<0&&_steps.length>0&&(widgetThis.currentStepIndex=0)}},"_initPreview":function(){var widgetThis=this,options=widgetThis.options,$preview=widgetThis._element.find(".tiny-wizard-preview"),previewItemTemplate='<div class="tiny-wizard-preview-step" <%=$.encoder.encodeForHTMLAttribute("id", o.id+"_preview_step_"+o.step.id)%>><div class="wizard-x-title"><%=$.encoder.encodeForHTML(o.step.previewTitle?o.step.previewTitle:o.step.title)%></div><div class="wizard-preview-content"><p class="wizard-preview-description"><%=$.encoder.encodeForHTML(o.step.previewDescr?o.step.previewDescr:"")%></p></div></div>';options.preview?_.each(options.steps,function(step){$preview.append(_.template(previewItemTemplate,{"id":options.id,"step":step},{"variable":"o"}))}):widgetThis._element.find(".tiny-wizard-main-right").hide()},"_initButtons":function(){var widgetThis=this,widgetId=widgetThis.options.id,buttonsDom=widgetThis._element.find(".tiny-wizard-buttons").get();widgetThis.buttonSets.pre=new Button({"id":widgetId+"_btnpre","display":!1,"text":widgetsLanguage.previousBtnTitle,"click":function(){widgetThis._onPrevious()}}).rendTo(buttonsDom);widgetThis.buttonSets.next=new Button({"id":widgetId+"_btnnext","text":widgetsLanguage.nextBtnTitle,"click":function(){widgetThis._onNext()}}).rendTo(buttonsDom);widgetThis.buttonSets.finish=new Button({"id":widgetId+"_btnfinish","display":!1,"text":widgetsLanguage.finishBtnTitle,"click":function(){widgetThis._onFinish()}}).rendTo(buttonsDom);widgetThis.buttonSets.cancel=new Button({"id":widgetId+"_btncancel","text":widgetsLanguage.cancelBtnTitile,"click":function(){widgetThis._onCancel()}}).rendTo(buttonsDom);widgetThis._element.find("#"+widgetId+"_btncancel").css("margin-left","5px")},"_onPrevious":function(){var widgetThis=this,param={"from":widgetThis.realSteps[widgetThis.currentStepIndex],"to":widgetThis.realSteps[widgetThis.currentStepIndex-1]};if(widgetThis.options.isDirective)widgetThis.trigger("previousEvt",[param]);else{if(widgetThis.options.previous&&util.isFalse(widgetThis.options.previous(param)))return;widgetThis.currentStepIndex--;widgetThis._update()}},"_onNext":function(){var widgetThis=this,param={"from":widgetThis.realSteps[widgetThis.currentStepIndex],"to":widgetThis.realSteps[widgetThis.currentStepIndex+1]};if(widgetThis.options.isDirective)widgetThis.trigger("nextEvt",[param]);else{if(widgetThis.options.next&&util.isFalse(widgetThis.options.next(param)))return;widgetThis.currentStepIndex++;widgetThis._update()}},"_onStep":function(value){var widgetThis=this,param={"from":widgetThis.realSteps[widgetThis.currentStepIndex],"to":widgetThis.realSteps[value]};widgetThis.options.isDirective?widgetThis.trigger("stepEvt",[param]):widgetThis.options.curStepIdChange&&widgetThis.options.curStepIdChange(param);widgetThis.currentStepIndex=value;widgetThis._update()},"_onFinish":function(){var widgetThis=this;widgetThis.options.isDirective?widgetThis.trigger("finishEvt"):widgetThis.options.finish&&widgetThis.options.finish()},"_onCancel":function(){var widgetThis=this;widgetThis.options.isDirective?widgetThis.trigger("cancelEvt"):widgetThis.options.cancel&&widgetThis.options.cancel()},"_setOption":function(key,value){var widgetThis=this;widgetThis._super(key,value);switch(key){case"exclude":widgetThis.options.exclude=value;widgetThis._updateRealSteps();widgetThis._update(!0);break;case"previous":if(widgetThis.currentStepIndex>0){widgetThis.currentStepIndex--;widgetThis._update()}break;case"next":if(widgetThis.currentStepIndex<widgetThis.realSteps.length-1){widgetThis.currentStepIndex++;widgetThis._update()}break;case"curStepId":value=widgetThis._getStepIndexById(value);value>=0&&widgetThis._onStep(value)}},"_update":function(updateAll){this.options.curStepId=this.realSteps[this.currentStepIndex].id;this._updateCard();this._updatePreview(updateAll);this._updateStep(updateAll);this._updateButtons(updateAll)}});window.tinyWidget.Wizard=Wizard;return Wizard});define("tiny-directives/Wizard",["tiny-common/util","tiny-directives/Directive","tiny-widgets/Wizard"],function(util,Directive,WizardWidget){var DEFAULT_CONFIG={"directiveName":"tinyWizard","widgetClass":WizardWidget,"constantProperties":["id","steps","exclude","preview","curStepId"],"template":"<div></div>","replace":!0},Wizard=Directive.extend({"init":function(options){var directiveThis=this;directiveThis._super(_.extend({},DEFAULT_CONFIG,options))},"compile":function(){var directiveThis=this;return directiveThis.link},"link":function(scope,element,attrMap){var _option,isUpdateCurStepId,directiveThis=this,configOptions=scope.$eval(attrMap.options)||{},constants=_.pick(configOptions,directiveThis.constantProperties),validProperName=[];_.filter(constants,function(value,key){void 0!==value&&validProperName.push(key);return void 0!==value});_option=_.pick(constants,validProperName);_option.isDirective=!0;directiveThis=new directiveThis.widgetClass(_option);directiveThis.$compile=this.$compile;element.append(directiveThis._element);directiveThis._initButtons();directiveThis._initPreview();isUpdateCurStepId=!0;scope.$watchCollection(attrMap.options+".curStepId",function(newValue,oldValue){if(!isUpdateCurStepId){isUpdateCurStepId=!0;return}directiveThis.option("curStepId",newValue)});scope.$watchCollection(attrMap.options+".exclude",function(newValue,oldValue){directiveThis.option("exclude",newValue||[])});directiveThis.on("loadEvt",function(templateDom,currentStep){configOptions.curStepId=directiveThis.options.curStepId;isUpdateCurStepId=!1;directiveThis.$compile($(templateDom))(scope);configOptions.load&&configOptions.load(currentStep);scope.$apply()});configOptions.active&&directiveThis.on("activeEvt",function(currentStep){configOptions.active(currentStep);scope.$apply()});directiveThis.on("stepEvt",function(param){configOptions.curStepIdChange&&configOptions.curStepIdChange(param)});directiveThis.on("previousEvt",function(param){var canChange=!0;if(configOptions.previous){canChange=configOptions.previous(param);scope.$apply()}util.isFalse(canChange)||directiveThis.option("previous",!0)});directiveThis.on("nextEvt",function(param){var canChange=!0;if(configOptions.next){canChange=configOptions.next(param);scope.$apply()}util.isFalse(canChange)||directiveThis.option("next",!0)});configOptions.finish&&directiveThis.on("finishEvt",function(param){configOptions.finish(param);scope.$apply()});configOptions.cancel&&directiveThis.on("cancelEvt",function(param){configOptions.cancel(param);scope.$apply()})},"toAngularDirective":function(){var directiveThis=this,module=angular.module(directiveThis.moduleName);module.directive(directiveThis.directiveName,["$compile",function($compile){var directiveConfig=directiveThis;delete directiveConfig.scope;directiveConfig.$compile=$compile;return directiveConfig}])}});(new Wizard).toAngularDirective();return Wizard});require(["tiny-directives/AngularGauge","tiny-directives/Button","tiny-directives/Charts","tiny-directives/Checkbox","tiny-directives/CheckboxGroup","tiny-directives/CirqueChart","tiny-directives/Columnchart","tiny-directives/Combobox","tiny-directives/DateTime","tiny-directives/FileUpload","tiny-directives/FormField","tiny-directives/IP","tiny-directives/Layout","tiny-directives/Lineplot","tiny-directives/Menu","tiny-directives/Menubutton","tiny-widgets/Message","tiny-directives/MultiselectGroup","tiny-directives/Pagination","tiny-directives/Portlets","tiny-directives/Progressbar","tiny-directives/Radio","tiny-directives/RadioGroup","tiny-directives/Scrollbar","tiny-directives/Searchbox","tiny-directives/Select","tiny-directives/SelectSearchbox","tiny-directives/Slider","tiny-directives/Spinner","tiny-directives/Stellar","tiny-directives/Step","tiny-directives/Switch","tiny-directives/Table","tiny-directives/Tabs","tiny-directives/Textbox","tiny-directives/Timeline","tiny-directives/Tip","tiny-directives/Tree","tiny-widgets/Window","tiny-directives/Wizard"],function(){});define("tiny-1.39.0-all",function(){});